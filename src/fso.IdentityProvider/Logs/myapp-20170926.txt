2017-09-26T13:28:30.6852827+03:00 0HL837TQH7KF8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:28:33.4786375+03:00 0HL837TQH7KF9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T13:28:41.6338762+03:00 0HL837TQH7KFA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjA0ZjRlM2MzNTA3NTFiN2E5OGRkZTEyYmJhMGEyNzdmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYzNjU0MTEsImV4cCI6MTUwNjM2NTcxMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjA1NDQ4NzM4MzM3NzQ0Mzk2NTE1MDYzNjU0MTExMzEiLCJpYXQiOjE1MDYzNjU0MTEsImF0X2hhc2giOiJjdVoyaWR3YkgwX2ZJcXVRekYtNUlBIiwic2lkIjoiNmNmNDdlMzg2M2IzZjYxNGJiNzkxN2ZiYzUwMzM2MjQiLCJzdWIiOiIzYzdjY2E2NC0wMGNkLTQ5Y2MtOTQwNy0zMTI4ZWFlODMwOTgiLCJhdXRoX3RpbWUiOjE1MDYzNjAwMDMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.LoX5wzaJTfR-g6PFObTsMKVo0c7ZKUdKook_KnWhm2q1MArazcLpZyRRt06Tquxb8Uo01E3h8SIOdvUwnK2R8iTYqf0nzIx7BGMYakizeyEkybba3L-dI_Eew2qAjJd5f5BSOqrwNu34NTNeKdKtHCEqExvni0j4YnS56_LbDGJaO6WgFxMrpvGDtWBwlN6MLewSrAZgYfbfXA80RK8UnJuoY_fiMO1DjQI9cI2yaJs2EIdtqbzhOXyjQpc_ld97QNCJM3EsgpY5hwoNzxleic529Bg2hBkGEK-9z-VmRMGH8qsBOi5IEyElqRwkOQv33EHzAFxUCNPBNf1tM8BJ8g&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T13:28:42.0058226+03:00 0HL837TQH7KFB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.415107196959848551506421721979&state=15064217219790.06005741961059208   (e5be5b71)
2017-09-26T13:28:47.8363949+03:00 0HL837TQH7KFA [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:47.8524055+03:00 0HL837TQH7KF9 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:47.8524055+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:47.8529061+03:00 0HL837TQH7KFB [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:47.8544069+03:00 0HL837TQH7KF9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T13:28:47.8639134+03:00 0HL837TQH7KF9 [INF] Request finished in 14380.8153ms 200 application/json (15c52c40)
2017-09-26T13:28:48.0255205+03:00 0HL837TQH7KFC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:28:48.0305238+03:00 0HL837TQH7KFC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:48.0305238+03:00 0HL837TQH7KFC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:28:48.0340259+03:00 0HL837TQH7KFC [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"1ab14dfa62ff29ff5002c054044e6d0755b53401ae5632c155c46189090df267\"
}" (c9724191)
2017-09-26T13:28:48.0340259+03:00 0HL837TQH7KFC [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:28:48.0350266+03:00 0HL837TQH7KFC [INF] Request finished in 18.4544ms 200 application/json (15c52c40)
2017-09-26T13:28:48.2006367+03:00 0HL837TQH7KFA [INF] Executed DbCommand (334ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:28:48.2156463+03:00 0HL837TQH7KFB [INF] Executed DbCommand (330ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:28:48.2256541+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (330ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:28:48.3202163+03:00 0HL837TQH7KFA [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:48.3372276+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:48.3467341+03:00 0HL837TQH7KFB [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:48.3497357+03:00 0HL837TQH7KFA [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:28:48.3717503+03:00 0HL837TQH7KFB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:28:48.3752532+03:00 0HL837TQH7KFA [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:28:48.3782548+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:28:48.4533043+03:00 0HL837TQH7KFB [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:28:48.4538044+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:28:48.4543049+03:00 0HL837TQH7KFA [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:28:48.4553056+03:00 0HL837TQH7KFA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:28:48.4558061+03:00 0HL837TQH7KFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:48.4568072+03:00 0HL837TQH7KFA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T13:28:48.4573073+03:00 0HL837TQH7KFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:48.7264856+03:00 0HL837TQH7KFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:48.7279868+03:00 0HL837TQH7KF8 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:28:48.7284870+03:00 0HL837TQH7KFB [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:28:48.7284870+03:00 0HL837TQH7KF8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:28:48.7289875+03:00 0HL837TQH7KF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:48.7289875+03:00 0HL837TQH7KF8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:28:48.7304883+03:00 0HL837TQH7KFA [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjA0ZjRlM2MzNTA3NTFiN2E5OGRkZTEyYmJhMGEyNzdmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYzNjU0MTEsImV4cCI6MTUwNjM2NTcxMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjA1NDQ4NzM4MzM3NzQ0Mzk2NTE1MDYzNjU0MTExMzEiLCJpYXQiOjE1MDYzNjU0MTEsImF0X2hhc2giOiJjdVoyaWR3YkgwX2ZJcXVRekYtNUlBIiwic2lkIjoiNmNmNDdlMzg2M2IzZjYxNGJiNzkxN2ZiYzUwMzM2MjQiLCJzdWIiOiIzYzdjY2E2NC0wMGNkLTQ5Y2MtOTQwNy0zMTI4ZWFlODMwOTgiLCJhdXRoX3RpbWUiOjE1MDYzNjAwMDMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.LoX5wzaJTfR-g6PFObTsMKVo0c7ZKUdKook_KnWhm2q1MArazcLpZyRRt06Tquxb8Uo01E3h8SIOdvUwnK2R8iTYqf0nzIx7BGMYakizeyEkybba3L-dI_Eew2qAjJd5f5BSOqrwNu34NTNeKdKtHCEqExvni0j4YnS56_LbDGJaO6WgFxMrpvGDtWBwlN6MLewSrAZgYfbfXA80RK8UnJuoY_fiMO1DjQI9cI2yaJs2EIdtqbzhOXyjQpc_ld97QNCJM3EsgpY5hwoNzxleic529Bg2hBkGEK-9z-VmRMGH8qsBOi5IEyElqRwkOQv33EHzAFxUCNPBNf1tM8BJ8g\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-26T13:28:48.7304883+03:00 0HL837TQH7KF8 [INF] Request finished in 18049.76ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:28:49.1512679+03:00 0HL837TQH7KFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:49.4634751+03:00 0HL837TQH7KFB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:28:49.6751154+03:00 0HL837TQH7KFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:49.6751154+03:00 0HL837TQH7KFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:49.6756156+03:00 0HL837TQH7KFB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T13:28:49.7031340+03:00 0HL837TQH7KFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:49.7041347+03:00 0HL837TQH7KFA [INF] Request finished in 8053.4544ms 302  (15c52c40)
2017-09-26T13:28:49.7041347+03:00 0HL837TQH7KFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:49.7046356+03:00 0HL837TQH7KFB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064217219790.06005741961059208\",
  \"Nonce\": \"N0.415107196959848551506421721979\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.415107196959848551506421721979\",
    \"state\": \"15064217219790.06005741961059208\"
  }
}" (9a175e33)
2017-09-26T13:28:49.7621736+03:00 0HL837TQH7KFB [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:50.2094722+03:00 0HL837TQH7KFB [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:28:50.5546998+03:00 0HL837TQH7KFB [INF] Executed DbCommand (55ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:28:50.6082355+03:00 0HL837TQH7KFB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:28:50.6147397+03:00 0HL837TQH7KFB [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:50.7052996+03:00 0HL837TQH7KFB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T13:28:50.7323179+03:00 0HL837TQH7KFB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064217219790.06005741961059208\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T13:28:50.8078679+03:00 0HL837TQH7KFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:50.8148717+03:00 0HL837TQH7KFB [INF] Request finished in 8818.6093ms 302  (15c52c40)
2017-09-26T13:28:53.7301216+03:00 0HL837TQH7KFD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56435542739251221506421733716&state=15064217337160.7175394494782947   (e5be5b71)
2017-09-26T13:28:53.7356239+03:00 0HL837TQH7KFD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:28:53.7361244+03:00 0HL837TQH7KFD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:28:53.7371247+03:00 0HL837TQH7KFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:53.7376256+03:00 0HL837TQH7KFD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T13:28:53.7381253+03:00 0HL837TQH7KFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:53.7396269+03:00 0HL837TQH7KFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:53.7401274+03:00 0HL837TQH7KFD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064217337160.7175394494782947\",
  \"Nonce\": \"N0.56435542739251221506421733716\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56435542739251221506421733716\",
    \"state\": \"15064217337160.7175394494782947\"
  }
}" (9a175e33)
2017-09-26T13:28:53.7511344+03:00 0HL837TQH7KFD [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:28:53.7741504+03:00 0HL837TQH7KFD [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:53.7886587+03:00 0HL837TQH7KFD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:28:53.7911609+03:00 0HL837TQH7KFD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:28:53.8011676+03:00 0HL837TQH7KFD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:28:53.8131755+03:00 0HL837TQH7KFD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:28:53.8216806+03:00 0HL837TQH7KFD [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T13:28:53.8421944+03:00 0HL837TQH7KFD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064217337160.7175394494782947\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T13:28:53.8512016+03:00 0HL837TQH7KFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:28:53.8647100+03:00 0HL837TQH7KFD [INF] Request finished in 128.4481ms 302  (15c52c40)
2017-09-26T13:29:06.5827535+03:00 0HL837TQH7KFE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:29:06.5857528+03:00 0HL837TQH7KFE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:06.5867542+03:00 0HL837TQH7KFE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:29:06.5867542+03:00 0HL837TQH7KFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:06.5872543+03:00 0HL837TQH7KFE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:29:06.5877565+03:00 0HL837TQH7KFE [INF] Request finished in 5.6933ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:29:06.6092698+03:00 0HL837TQH7KFF [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T13:29:06.6132732+03:00 0HL837TQH7KFF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:06.6132732+03:00 0HL837TQH7KFF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T13:29:06.6147728+03:00 0HL837TQH7KFF [INF] Request finished in 5.0246ms 200 application/json (15c52c40)
2017-09-26T13:29:16.4271745+03:00 0HL837TQH7KFG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.831123509695821506421756414&state=15064217564140.9773763106706299   (e5be5b71)
2017-09-26T13:29:16.4316741+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:16.4326760+03:00 0HL837TQH7KFG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:29:16.4331761+03:00 0HL837TQH7KFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:16.4336774+03:00 0HL837TQH7KFG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T13:29:16.4336774+03:00 0HL837TQH7KFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:16.4346765+03:00 0HL837TQH7KFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:16.4346765+03:00 0HL837TQH7KFG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064217564140.9773763106706299\",
  \"Nonce\": \"N0.831123509695821506421756414\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.831123509695821506421756414\",
    \"state\": \"15064217564140.9773763106706299\"
  }
}" (9a175e33)
2017-09-26T13:29:16.4371784+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:16.4456846+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:29:16.4491864+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:29:16.4506872+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:29:16.4536888+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:29:16.4556901+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:29:16.4581919+03:00 0HL837TQH7KFG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T13:29:16.4737024+03:00 0HL837TQH7KFG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064217564140.9773763106706299\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T13:29:16.4747027+03:00 0HL837TQH7KFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:16.4757046+03:00 0HL837TQH7KFG [INF] Request finished in 49.1975ms 302  (15c52c40)
2017-09-26T13:29:19.7234296+03:00 0HL837TQH7KFH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:29:19.7274318+03:00 0HL837TQH7KFH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:19.7279320+03:00 0HL837TQH7KFH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:29:19.7284325+03:00 0HL837TQH7KFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:29:19.7289334+03:00 0HL837TQH7KFH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:29:19.7299372+03:00 0HL837TQH7KFH [INF] Request finished in 6.6304ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:29:19.7484462+03:00 0HL837TQH7KFI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T13:29:19.7534487+03:00 0HL837TQH7KFI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:19.7534487+03:00 0HL837TQH7KFI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T13:29:19.7544502+03:00 0HL837TQH7KFI [INF] Request finished in 5.9953ms 200 application/json (15c52c40)
2017-09-26T13:29:19.9020480+03:00 0HL837TQH7KFJ [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T13:29:19.9030482+03:00 0HL837TQH7KFJ [INF] Request finished in 1.425ms 204  (15c52c40)
2017-09-26T13:29:20.0391390+03:00 0HL837TQH7KFK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T13:29:20.0501463+03:00 0HL837TQH7KFK [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:20.0506468+03:00 0HL837TQH7KFK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T13:29:20.0506468+03:00 0HL837TQH7KFK [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T13:29:20.0771638+03:00 0HL837TQH7KFK [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:20.1251957+03:00 0HL837TQH7KFK [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:29:20.1672236+03:00 0HL837TQH7KFK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T13:29:20.1697255+03:00 0HL837TQH7KFK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T13:29:20.1737277+03:00 0HL837TQH7KFK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T13:29:20.1772303+03:00 0HL837TQH7KFK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T13:29:20.1822340+03:00 0HL837TQH7KFK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T13:29:20.1827357+03:00 0HL837TQH7KFK [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T13:29:20.1927411+03:00 0HL837TQH7KFK [INF] Request finished in 214.1228ms 200 application/json (15c52c40)
2017-09-26T13:29:20.2322672+03:00 0HL837TQH7KFL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:29:20.2367700+03:00 0HL837TQH7KFL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:20.2372709+03:00 0HL837TQH7KFL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:29:20.2652903+03:00 0HL837TQH7KFL [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:20.2657896+03:00 0HL837TQH7KFL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:29:20.2672901+03:00 0HL837TQH7KFL [INF] Request finished in 40.1378ms 200 application/json (15c52c40)
2017-09-26T13:29:26.4601483+03:00 0HL837TQH7KFM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:29:26.4636516+03:00 0HL837TQH7KFM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:26.4641513+03:00 0HL837TQH7KFM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:29:26.4836637+03:00 0HL837TQH7KFM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:26.4846643+03:00 0HL837TQH7KFM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:29:26.4856646+03:00 0HL837TQH7KFM [INF] Request finished in 26.2691ms 200 application/json (15c52c40)
2017-09-26T13:29:27.8126028+03:00 0HL837TQH7KFN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:29:27.8156040+03:00 0HL837TQH7KFN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:27.8161049+03:00 0HL837TQH7KFN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:29:27.8336155+03:00 0HL837TQH7KFN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:27.8341161+03:00 0HL837TQH7KFN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:29:27.8346158+03:00 0HL837TQH7KFN [INF] Request finished in 22.2273ms 200 application/json (15c52c40)
2017-09-26T13:29:30.6034541+03:00 0HL837TQH7KFO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:29:30.6064564+03:00 0HL837TQH7KFO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:29:30.6069566+03:00 0HL837TQH7KFO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:29:30.6309725+03:00 0HL837TQH7KFO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:29:30.6314735+03:00 0HL837TQH7KFO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:29:30.6324745+03:00 0HL837TQH7KFO [INF] Request finished in 28.9588ms 200 application/json (15c52c40)
2017-09-26T13:30:41.5648320+03:00 0HL837TQH7KFP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:30:41.5763394+03:00 0HL837TQH7KFP [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:30:41.5763394+03:00 0HL837TQH7KFP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:30:41.9075589+03:00 0HL837TQH7KFP [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:30:41.9085600+03:00 0HL837TQH7KFP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:30:42.0561574+03:00 0HL837TQH7KFP [INF] Request finished in 368.5492ms 200 application/json (15c52c40)
2017-09-26T13:30:47.8911409+03:00 0HL837TQH7KFQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:30:47.8946430+03:00 0HL837TQH7KFQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:30:47.8951432+03:00 0HL837TQH7KFQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:30:47.9186590+03:00 0HL837TQH7KFQ [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:30:47.9191595+03:00 0HL837TQH7KFQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:30:47.9231618+03:00 0HL837TQH7KFQ [INF] Request finished in 29.0109ms 200 application/json (15c52c40)
2017-09-26T13:30:51.2213519+03:00 0HL837TQH7KFR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:30:51.2411788+03:00 0HL837TQH7KFR [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:30:51.2416790+03:00 0HL837TQH7KFR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:30:51.3937792+03:00 0HL837TQH7KFR [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:30:51.3942805+03:00 0HL837TQH7KFR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:30:51.3977822+03:00 0HL837TQH7KFR [INF] Request finished in 185.0104ms 200 application/json (15c52c40)
2017-09-26T13:31:14.5697256+03:00 0HL837TQH7KFS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:31:14.5727256+03:00 0HL837TQH7KFS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:31:14.5732253+03:00 0HL837TQH7KFS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:31:14.5997431+03:00 0HL837TQH7KFS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:31:14.6002440+03:00 0HL837TQH7KFS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:31:14.6007442+03:00 0HL837TQH7KFS [INF] Request finished in 32.3974ms 200 application/json (15c52c40)
2017-09-26T13:31:27.5980331+03:00 0HL837TQH7KFT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:31:27.6010355+03:00 0HL837TQH7KFT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:31:27.6060396+03:00 0HL837TQH7KFT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:31:27.6095413+03:00 0HL837TQH7KFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:31:27.6100415+03:00 0HL837TQH7KFT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:31:27.6115427+03:00 0HL837TQH7KFT [INF] Request finished in 12.7638ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:31:28.9997148+03:00 0HL837TQH7KFU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:31:29.0022174+03:00 0HL837TQH7KFU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:31:29.0027172+03:00 0HL837TQH7KFU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:31:29.0262326+03:00 0HL837TQH7KFU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:31:29.0267335+03:00 0HL837TQH7KFU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:31:29.0272344+03:00 0HL837TQH7KFU [INF] Request finished in 27.9949ms 200 application/json (15c52c40)
2017-09-26T13:32:52.7779241+03:00 0HL837TQH7KFV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:32:52.7814263+03:00 0HL837TQH7KFV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:32:52.7819268+03:00 0HL837TQH7KFV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:32:52.7824277+03:00 0HL837TQH7KFV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:32:52.7824277+03:00 0HL837TQH7KFV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:32:52.7834276+03:00 0HL837TQH7KFV [INF] Request finished in 5.4252ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:32:53.6064738+03:00 0HL837TQH7KG0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:32:53.6214838+03:00 0HL837TQH7KG0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:32:53.6214838+03:00 0HL837TQH7KG0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:32:53.6485029+03:00 0HL837TQH7KG0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:32:53.6490026+03:00 0HL837TQH7KG0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:32:53.6520042+03:00 0HL837TQH7KG0 [INF] Request finished in 44.0387ms 200 application/json (15c52c40)
2017-09-26T13:32:56.0161805+03:00 0HL837TQH7KG1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:32:56.0196831+03:00 0HL837TQH7KG1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:32:56.0196831+03:00 0HL837TQH7KG1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:32:56.0482018+03:00 0HL837TQH7KG1 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:32:56.0482018+03:00 0HL837TQH7KG1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:32:56.0502031+03:00 0HL837TQH7KG1 [INF] Request finished in 42.286ms 200 application/json (15c52c40)
2017-09-26T13:42:31.1025843+03:00 0HL837TQH7KG2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:42:31.4968460+03:00 0HL837TQH7KG2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:42:31.4968460+03:00 0HL837TQH7KG2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:42:31.5533845+03:00 0HL837TQH7KG2 [INF] Executed DbCommand (36ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:42:31.5538843+03:00 0HL837TQH7KG2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:42:31.5548845+03:00 0HL837TQH7KG2 [INF] Request finished in 472.0755ms 200 application/json (15c52c40)
2017-09-26T13:43:13.8530186+03:00 0HL837TQH7KG3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:43:13.8565203+03:00 0HL837TQH7KG3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:43:13.8565203+03:00 0HL837TQH7KG3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:43:13.8765336+03:00 0HL837TQH7KG3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:43:13.8770345+03:00 0HL837TQH7KG3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:43:13.8810376+03:00 0HL837TQH7KG3 [INF] Request finished in 25.1389ms 200 application/json (15c52c40)
2017-09-26T13:44:34.8454814+03:00 0HL837TQH7KG4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:44:34.8519863+03:00 0HL837TQH7KG4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:44:34.8519863+03:00 0HL837TQH7KG4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:44:34.8724993+03:00 0HL837TQH7KG4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:44:34.8729999+03:00 0HL837TQH7KG4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:44:34.8735008+03:00 0HL837TQH7KG4 [INF] Request finished in 28.7271ms 200 application/json (15c52c40)
2017-09-26T13:45:16.3066160+03:00 0HL837TQH7KG5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:45:16.3176233+03:00 0HL837TQH7KG5 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:16.3206249+03:00 0HL837TQH7KG5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:45:16.3226270+03:00 0HL837TQH7KG5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:45:16.3226270+03:00 0HL837TQH7KG5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:45:16.3441407+03:00 0HL837TQH7KG5 [INF] Request finished in 510.5156ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:45:17.2192218+03:00 0HL837TQH7KG6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:45:17.2362331+03:00 0HL837TQH7KG6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:17.2362331+03:00 0HL837TQH7KG6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:45:17.3267935+03:00 0HL837TQH7KG6 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:45:17.3272936+03:00 0HL837TQH7KG6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:45:17.3332976+03:00 0HL837TQH7KG6 [INF] Request finished in 113.5167ms 200 application/json (15c52c40)
2017-09-26T13:45:27.1296531+03:00 0HL837TQH7KG7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:45:27.1721815+03:00 0HL837TQH7KG7 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:27.1736823+03:00 0HL837TQH7KG7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:45:27.1746834+03:00 0HL837TQH7KG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:45:27.1746834+03:00 0HL837TQH7KG7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:45:27.1786861+03:00 0HL837TQH7KG7 [INF] Request finished in 95.309ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:45:27.7525669+03:00 0HL837TQH7KG8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:45:27.7580703+03:00 0HL837TQH7KG8 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:27.7580703+03:00 0HL837TQH7KG8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:45:27.8726466+03:00 0HL837TQH7KG8 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:45:27.8736472+03:00 0HL837TQH7KG8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:45:27.9516991+03:00 0HL837TQH7KG8 [INF] Request finished in 126.8123ms 200 application/json (15c52c40)
2017-09-26T13:45:36.7088755+03:00 0HL837TQH7KG9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T13:45:36.7118775+03:00 0HL837TQH7KG9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:36.7138785+03:00 0HL837TQH7KG9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T13:45:36.7148791+03:00 0HL837TQH7KG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T13:45:36.7153796+03:00 0HL837TQH7KG9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T13:45:36.7163807+03:00 0HL837TQH7KG9 [INF] Request finished in 7.7021ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T13:45:37.3638098+03:00 0HL837TQH7KGA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T13:45:37.3708148+03:00 0HL837TQH7KGA [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T13:45:37.3708148+03:00 0HL837TQH7KGA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T13:45:37.4633761+03:00 0HL837TQH7KGA [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T13:45:37.4633761+03:00 0HL837TQH7KGA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T13:45:37.4643767+03:00 0HL837TQH7KGA [INF] Request finished in 101.054ms 200 application/json (15c52c40)
2017-09-26T14:58:38.2734614+03:00 0HL837TQH7KGB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T14:58:38.5641720+03:00 0HL837TQH7KGC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T14:58:45.8406624+03:00 0HL837TQH7KGB [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T14:58:45.8506691+03:00 0HL837TQH7KGC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T14:58:45.8506691+03:00 0HL837TQH7KGC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T14:58:45.8546709+03:00 0HL837TQH7KGC [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"503fecb5f23f8833ca30c8d7240703510184cd4e8aac327f64b8963f0fba36c0\"
}" (c9724191)
2017-09-26T14:58:45.8546709+03:00 0HL837TQH7KGC [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-26T14:58:45.8566723+03:00 0HL837TQH7KGC [INF] Request finished in 7293.1366ms 200 application/json (15c52c40)
2017-09-26T14:58:45.9137137+03:00 0HL837TQH7KGB [INF] Executed DbCommand (60ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T14:58:45.9402311+03:00 0HL837TQH7KGB [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T14:58:45.9557428+03:00 0HL837TQH7KGB [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T14:58:45.9647480+03:00 0HL837TQH7KGB [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T14:58:45.9847605+03:00 0HL837TQH7KGB [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T14:58:45.9887635+03:00 0HL837TQH7KGB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T14:58:45.9902643+03:00 0HL837TQH7KGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T14:58:45.9907648+03:00 0HL837TQH7KGB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T14:58:46.0087764+03:00 0HL837TQH7KGB [INF] Request finished in 7725.8933ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T16:21:15.2531343+03:00 0HL837TQH7KGD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.169735313803212721506432075234&state=15064320752340.45695123780290325   (e5be5b71)
2017-09-26T16:21:18.9643560+03:00 0HL837TQH7KGD [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:21:19.0073877+03:00 0HL837TQH7KGD [INF] Executed DbCommand (32ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:21:19.0253997+03:00 0HL837TQH7KGD [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:21:19.0314037+03:00 0HL837TQH7KGD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:21:19.0414107+03:00 0HL837TQH7KGD [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:21:19.0454130+03:00 0HL837TQH7KGD [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:21:19.0474143+03:00 0HL837TQH7KGD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:21:19.0484150+03:00 0HL837TQH7KGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:21:19.0494156+03:00 0HL837TQH7KGD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:21:19.0504167+03:00 0HL837TQH7KGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:21:19.0524180+03:00 0HL837TQH7KGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:21:19.0534187+03:00 0HL837TQH7KGD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064320752340.45695123780290325\",
  \"Nonce\": \"N0.169735313803212721506432075234\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.169735313803212721506432075234\",
    \"state\": \"15064320752340.45695123780290325\"
  }
}" (9a175e33)
2017-09-26T16:21:19.0729362+03:00 0HL837TQH7KGD [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:21:19.0759382+03:00 0HL837TQH7KGD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:21:19.0834469+03:00 0HL837TQH7KGD [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:21:19.0884514+03:00 0HL837TQH7KGD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:21:19.0914526+03:00 0HL837TQH7KGD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:21:19.0964555+03:00 0HL837TQH7KGD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:21:19.1194708+03:00 0HL837TQH7KGD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064320752340.45695123780290325\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:21:19.1204719+03:00 0HL837TQH7KGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:21:19.1224732+03:00 0HL837TQH7KGD [INF] Request finished in 3873.8811ms 302  (15c52c40)
2017-09-26T16:21:25.1648422+03:00 0HL837TQH7KGE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T16:21:25.1678445+03:00 0HL837TQH7KGE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:21:25.1678445+03:00 0HL837TQH7KGE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:21:25.1688444+03:00 0HL837TQH7KGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:21:25.1688444+03:00 0HL837TQH7KGE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T16:21:25.1698451+03:00 0HL837TQH7KGE [INF] Request finished in 4.757ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T16:21:25.1903621+03:00 0HL837TQH7KGF [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T16:21:25.1938693+03:00 0HL837TQH7KGF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:21:25.1938693+03:00 0HL837TQH7KGF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T16:21:25.1948696+03:00 0HL837TQH7KGF [INF] Request finished in 5.3309ms 200 application/json (15c52c40)
2017-09-26T16:21:25.3049513+03:00 0HL837TQH7KGG [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T16:21:25.3089520+03:00 0HL837TQH7KGG [INF] Request finished in 4.5509ms 204  (15c52c40)
2017-09-26T16:21:25.3489782+03:00 0HL837TQH7KGH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T16:21:25.3519802+03:00 0HL837TQH7KGH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:21:25.3529809+03:00 0HL837TQH7KGH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T16:21:25.3529809+03:00 0HL837TQH7KGH [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T16:21:25.4000216+03:00 0HL837TQH7KGH [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:21:25.4080273+03:00 0HL837TQH7KGH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:21:25.4120295+03:00 0HL837TQH7KGH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:21:25.4140313+03:00 0HL837TQH7KGH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:21:25.4170325+03:00 0HL837TQH7KGH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:21:25.4200349+03:00 0HL837TQH7KGH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:21:25.4240379+03:00 0HL837TQH7KGH [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:21:25.4240379+03:00 0HL837TQH7KGH [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T16:21:25.4260388+03:00 0HL837TQH7KGH [INF] Request finished in 77.1415ms 200 application/json (15c52c40)
2017-09-26T16:21:25.5201080+03:00 0HL837TQH7KGI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T16:21:25.5241107+03:00 0HL837TQH7KGI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:21:25.5241107+03:00 0HL837TQH7KGI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T16:21:25.5461257+03:00 0HL837TQH7KGI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:21:25.5471259+03:00 0HL837TQH7KGI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T16:21:25.5481270+03:00 0HL837TQH7KGI [INF] Request finished in 29.048ms 200 application/json (15c52c40)
2017-09-26T16:24:08.7565111+03:00 0HL837TQH7KGJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T16:24:08.7595119+03:00 0HL837TQH7KGJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:24:08.7595119+03:00 0HL837TQH7KGJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T16:24:08.7780236+03:00 0HL837TQH7KGJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:24:08.7790243+03:00 0HL837TQH7KGJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T16:24:08.7800277+03:00 0HL837TQH7KGJ [INF] Request finished in 24.7537ms 200 application/json (15c52c40)
2017-09-26T16:24:12.3181656+03:00 0HL837TQH7KGK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T16:24:12.3211672+03:00 0HL837TQH7KGK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:24:12.3211672+03:00 0HL837TQH7KGK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T16:24:12.3396825+03:00 0HL837TQH7KGK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:24:12.3396825+03:00 0HL837TQH7KGK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T16:24:12.3406946+03:00 0HL837TQH7KGK [INF] Request finished in 22.6339ms 200 application/json (15c52c40)
2017-09-26T16:25:38.5292537+03:00 0HL837TQH7KGL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T16:25:38.5362584+03:00 0HL837TQH7KGL [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:25:38.5377592+03:00 0HL837TQH7KGL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:25:38.5382593+03:00 0HL837TQH7KGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:25:38.5387594+03:00 0HL837TQH7KGL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T16:25:38.5392627+03:00 0HL837TQH7KGL [INF] Request finished in 11.0341ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T16:26:23.0046751+03:00 0HL837TQH7KGM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86037405425625681506432382996&state=15064323829960.8071550426932979   (e5be5b71)
2017-09-26T16:26:23.0081776+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:23.0091783+03:00 0HL837TQH7KGM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:23.0096780+03:00 0HL837TQH7KGM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:23.0096780+03:00 0HL837TQH7KGM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:23.0101785+03:00 0HL837TQH7KGM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:23.0106787+03:00 0HL837TQH7KGM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:23.0111792+03:00 0HL837TQH7KGM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064323829960.8071550426932979\",
  \"Nonce\": \"N0.86037405425625681506432382996\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86037405425625681506432382996\",
    \"state\": \"15064323829960.8071550426932979\"
  }
}" (9a175e33)
2017-09-26T16:26:23.0146813+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:23.0386992+03:00 0HL837TQH7KGM [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:23.0406986+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:23.0422002+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:23.0462040+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:23.0547103+03:00 0HL837TQH7KGM [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:23.0572097+03:00 0HL837TQH7KGM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:23.0722197+03:00 0HL837TQH7KGM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064323829960.8071550426932979\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:23.0732204+03:00 0HL837TQH7KGM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:23.0737209+03:00 0HL837TQH7KGM [INF] Request finished in 69.5076ms 302  (15c52c40)
2017-09-26T16:26:28.1821140+03:00 0HL837TQH7KGN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97749925719312141506432388162&state=15064323881620.7980261296624802   (e5be5b71)
2017-09-26T16:26:28.1856149+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:28.1871165+03:00 0HL837TQH7KGN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:28.1876166+03:00 0HL837TQH7KGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:28.1881168+03:00 0HL837TQH7KGN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:28.1886189+03:00 0HL837TQH7KGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:28.1896176+03:00 0HL837TQH7KGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:28.1901177+03:00 0HL837TQH7KGN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064323881620.7980261296624802\",
  \"Nonce\": \"N0.97749925719312141506432388162\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97749925719312141506432388162\",
    \"state\": \"15064323881620.7980261296624802\"
  }
}" (9a175e33)
2017-09-26T16:26:28.1981234+03:00 0HL837TQH7KGN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:28.2146342+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:28.2171356+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:28.2196371+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:28.2241403+03:00 0HL837TQH7KGN [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:28.2291440+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:28.2316455+03:00 0HL837TQH7KGN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:28.2526594+03:00 0HL837TQH7KGN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064323881620.7980261296624802\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:28.2541610+03:00 0HL837TQH7KGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:28.2566621+03:00 0HL837TQH7KGN [INF] Request finished in 74.6373ms 302  (15c52c40)
2017-09-26T16:26:32.9602846+03:00 0HL837TQH7KGO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76449154867605151506432392919&state=15064323929190.21485641323581084   (e5be5b71)
2017-09-26T16:26:32.9642873+03:00 0HL837TQH7KGO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:32.9647878+03:00 0HL837TQH7KGO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:32.9657885+03:00 0HL837TQH7KGO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:32.9657885+03:00 0HL837TQH7KGO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:32.9662886+03:00 0HL837TQH7KGO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:32.9672893+03:00 0HL837TQH7KGO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:32.9672893+03:00 0HL837TQH7KGO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064323929190.21485641323581084\",
  \"Nonce\": \"N0.76449154867605151506432392919\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76449154867605151506432392919\",
    \"state\": \"15064323929190.21485641323581084\"
  }
}" (9a175e33)
2017-09-26T16:26:32.9777961+03:00 0HL837TQH7KGO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:32.9953083+03:00 0HL837TQH7KGO [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:32.9978102+03:00 0HL837TQH7KGO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:32.9998111+03:00 0HL837TQH7KGO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:33.0013119+03:00 0HL837TQH7KGO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:33.0953747+03:00 0HL837TQH7KGO [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:33.1023790+03:00 0HL837TQH7KGO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:33.1288968+03:00 0HL837TQH7KGO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064323929190.21485641323581084\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:33.1529123+03:00 0HL837TQH7KGO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:33.1589163+03:00 0HL837TQH7KGO [INF] Request finished in 200.7178ms 302  (15c52c40)
2017-09-26T16:26:36.2034382+03:00 0HL837TQH7KGP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29098866107794511506432396166&state=15064323961660.31602278581071874   (e5be5b71)
2017-09-26T16:26:36.2284548+03:00 0HL837TQH7KGP [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:36.2294551+03:00 0HL837TQH7KGP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:36.2299556+03:00 0HL837TQH7KGP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:36.2299556+03:00 0HL837TQH7KGP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:36.2304561+03:00 0HL837TQH7KGP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:36.2314568+03:00 0HL837TQH7KGP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:36.2314568+03:00 0HL837TQH7KGP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064323961660.31602278581071874\",
  \"Nonce\": \"N0.29098866107794511506432396166\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29098866107794511506432396166\",
    \"state\": \"15064323961660.31602278581071874\"
  }
}" (9a175e33)
2017-09-26T16:26:36.2889948+03:00 0HL837TQH7KGP [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:36.3110098+03:00 0HL837TQH7KGP [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:36.3135113+03:00 0HL837TQH7KGP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:36.3295235+03:00 0HL837TQH7KGP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:36.3335246+03:00 0HL837TQH7KGP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:36.3425309+03:00 0HL837TQH7KGP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:36.3450324+03:00 0HL837TQH7KGP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:36.3670462+03:00 0HL837TQH7KGP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064323961660.31602278581071874\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:36.3685474+03:00 0HL837TQH7KGP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:36.3695485+03:00 0HL837TQH7KGP [INF] Request finished in 185.9329ms 302  (15c52c40)
2017-09-26T16:26:48.3704362+03:00 0HL837TQH7KGQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97647558615325351506432406578&state=15064324065780.47212591074006705   (e5be5b71)
2017-09-26T16:26:48.3739384+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:48.3749390+03:00 0HL837TQH7KGQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:48.3754392+03:00 0HL837TQH7KGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:48.3759393+03:00 0HL837TQH7KGQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:48.3764394+03:00 0HL837TQH7KGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:48.3774405+03:00 0HL837TQH7KGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:48.3774405+03:00 0HL837TQH7KGQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324065780.47212591074006705\",
  \"Nonce\": \"N0.97647558615325351506432406578\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97647558615325351506432406578\",
    \"state\": \"15064324065780.47212591074006705\"
  }
}" (9a175e33)
2017-09-26T16:26:48.3809426+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:48.3939521+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:48.3959526+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:48.3979539+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:48.3999552+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:48.4029576+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:48.4064602+03:00 0HL837TQH7KGQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:48.4589948+03:00 0HL837TQH7KGQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324065780.47212591074006705\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:48.4599955+03:00 0HL837TQH7KGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:48.4604956+03:00 0HL837TQH7KGQ [INF] Request finished in 91.2609ms 302  (15c52c40)
2017-09-26T16:26:49.8454155+03:00 0HL837TQH7KGR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70751128074851221506432409833&state=15064324098330.24900889889038536   (e5be5b71)
2017-09-26T16:26:49.8484179+03:00 0HL837TQH7KGR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:49.8489180+03:00 0HL837TQH7KGR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:49.8494181+03:00 0HL837TQH7KGR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:49.8494181+03:00 0HL837TQH7KGR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:49.8504188+03:00 0HL837TQH7KGR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:49.8509197+03:00 0HL837TQH7KGR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:49.8514195+03:00 0HL837TQH7KGR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324098330.24900889889038536\",
  \"Nonce\": \"N0.70751128074851221506432409833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70751128074851221506432409833\",
    \"state\": \"15064324098330.24900889889038536\"
  }
}" (9a175e33)
2017-09-26T16:26:49.8949478+03:00 0HL837TQH7KGR [INF] Executed DbCommand (22ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:49.9114585+03:00 0HL837TQH7KGR [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:49.9169628+03:00 0HL837TQH7KGR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:49.9209654+03:00 0HL837TQH7KGR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:49.9239670+03:00 0HL837TQH7KGR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:49.9309717+03:00 0HL837TQH7KGR [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:49.9329734+03:00 0HL837TQH7KGR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:49.9534864+03:00 0HL837TQH7KGR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324098330.24900889889038536\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:49.9634935+03:00 0HL837TQH7KGR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:49.9644942+03:00 0HL837TQH7KGR [INF] Request finished in 119.9616ms 302  (15c52c40)
2017-09-26T16:26:53.3982733+03:00 0HL837TQH7KGS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.038217247921864541506432413219&state=15064324132190.18229002313089993   (e5be5b71)
2017-09-26T16:26:53.4007755+03:00 0HL837TQH7KGS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:53.4012757+03:00 0HL837TQH7KGS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:53.4017766+03:00 0HL837TQH7KGS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:53.4017766+03:00 0HL837TQH7KGS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:53.4027768+03:00 0HL837TQH7KGS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:53.4032770+03:00 0HL837TQH7KGS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:53.4032770+03:00 0HL837TQH7KGS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324132190.18229002313089993\",
  \"Nonce\": \"N0.038217247921864541506432413219\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.038217247921864541506432413219\",
    \"state\": \"15064324132190.18229002313089993\"
  }
}" (9a175e33)
2017-09-26T16:26:53.4142843+03:00 0HL837TQH7KGS [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:53.4418035+03:00 0HL837TQH7KGS [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:53.4953381+03:00 0HL837TQH7KGS [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:53.4978396+03:00 0HL837TQH7KGS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:53.5023427+03:00 0HL837TQH7KGS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:53.5123490+03:00 0HL837TQH7KGS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:53.5588809+03:00 0HL837TQH7KGS [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:53.5899011+03:00 0HL837TQH7KGS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324132190.18229002313089993\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:53.5934036+03:00 0HL837TQH7KGS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:53.6014089+03:00 0HL837TQH7KGS [INF] Request finished in 221.984ms 302  (15c52c40)
2017-09-26T16:26:59.6362087+03:00 0HL837TQH7KGT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39487233996264171506432419262&state=15064324192620.891814518668149   (e5be5b71)
2017-09-26T16:26:59.6512191+03:00 0HL837TQH7KGT [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:26:59.6517192+03:00 0HL837TQH7KGT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:26:59.6522194+03:00 0HL837TQH7KGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:59.6522194+03:00 0HL837TQH7KGT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:26:59.6532196+03:00 0HL837TQH7KGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:59.6537202+03:00 0HL837TQH7KGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:59.6542203+03:00 0HL837TQH7KGT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324192620.891814518668149\",
  \"Nonce\": \"N0.39487233996264171506432419262\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39487233996264171506432419262\",
    \"state\": \"15064324192620.891814518668149\"
  }
}" (9a175e33)
2017-09-26T16:26:59.6787372+03:00 0HL837TQH7KGT [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:26:59.6902446+03:00 0HL837TQH7KGT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:59.6922459+03:00 0HL837TQH7KGT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:26:59.7107588+03:00 0HL837TQH7KGT [INF] Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:26:59.7127594+03:00 0HL837TQH7KGT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:26:59.7152616+03:00 0HL837TQH7KGT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:26:59.7167628+03:00 0HL837TQH7KGT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:26:59.7392776+03:00 0HL837TQH7KGT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324192620.891814518668149\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:26:59.7402782+03:00 0HL837TQH7KGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:26:59.7417798+03:00 0HL837TQH7KGT [INF] Request finished in 106.0131ms 302  (15c52c40)
2017-09-26T16:27:02.9529113+03:00 0HL837TQH7KGU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.71884211807512231506432422883&state=15064324228830.4128831145864398   (e5be5b71)
2017-09-26T16:27:02.9564138+03:00 0HL837TQH7KGU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:27:02.9574145+03:00 0HL837TQH7KGU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:27:02.9579142+03:00 0HL837TQH7KGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:02.9579142+03:00 0HL837TQH7KGU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:27:02.9584144+03:00 0HL837TQH7KGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:02.9589149+03:00 0HL837TQH7KGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:02.9594150+03:00 0HL837TQH7KGU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324228830.4128831145864398\",
  \"Nonce\": \"N0.71884211807512231506432422883\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.71884211807512231506432422883\",
    \"state\": \"15064324228830.4128831145864398\"
  }
}" (9a175e33)
2017-09-26T16:27:02.9624170+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:27:02.9734243+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:02.9754257+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:27:02.9779271+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:27:02.9799285+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:27:02.9819298+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:02.9849318+03:00 0HL837TQH7KGU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:27:03.0039444+03:00 0HL837TQH7KGU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324228830.4128831145864398\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:27:03.0054456+03:00 0HL837TQH7KGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:03.0069468+03:00 0HL837TQH7KGU [INF] Request finished in 53.6304ms 302  (15c52c40)
2017-09-26T16:27:06.6904341+03:00 0HL837TQH7KGV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.276829189843280641506432426581&state=15064324265810.46145282739871196   (e5be5b71)
2017-09-26T16:27:06.6929363+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:27:06.6949369+03:00 0HL837TQH7KGV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:27:06.6954374+03:00 0HL837TQH7KGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:06.6954374+03:00 0HL837TQH7KGV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:27:06.6959379+03:00 0HL837TQH7KGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:06.6964381+03:00 0HL837TQH7KGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:06.6969386+03:00 0HL837TQH7KGV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324265810.46145282739871196\",
  \"Nonce\": \"N0.276829189843280641506432426581\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.276829189843280641506432426581\",
    \"state\": \"15064324265810.46145282739871196\"
  }
}" (9a175e33)
2017-09-26T16:27:06.7134513+03:00 0HL837TQH7KGV [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:27:06.7259583+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:06.7359645+03:00 0HL837TQH7KGV [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:27:06.7379658+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:27:06.7564783+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:27:06.7594807+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:06.7609811+03:00 0HL837TQH7KGV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:27:06.7794936+03:00 0HL837TQH7KGV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324265810.46145282739871196\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:27:06.7814945+03:00 0HL837TQH7KGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:06.7829961+03:00 0HL837TQH7KGV [INF] Request finished in 92.204ms 302  (15c52c40)
2017-09-26T16:27:10.4339198+03:00 0HL837TQH7KH0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.271298152458228751506432430001&state=15064324300010.25059460857552995   (e5be5b71)
2017-09-26T16:27:10.4384230+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:27:10.4509315+03:00 0HL837TQH7KH0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:27:10.4529328+03:00 0HL837TQH7KH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:10.4529328+03:00 0HL837TQH7KH0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:27:10.4589364+03:00 0HL837TQH7KH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:10.4599375+03:00 0HL837TQH7KH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:10.4604376+03:00 0HL837TQH7KH0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064324300010.25059460857552995\",
  \"Nonce\": \"N0.271298152458228751506432430001\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.271298152458228751506432430001\",
    \"state\": \"15064324300010.25059460857552995\"
  }
}" (9a175e33)
2017-09-26T16:27:10.4639397+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:27:10.4764482+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:10.4784496+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:27:10.4949603+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:27:10.5039667+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:27:10.5104708+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:27:10.5139730+03:00 0HL837TQH7KH0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:27:10.5339870+03:00 0HL837TQH7KH0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064324300010.25059460857552995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:27:10.5414914+03:00 0HL837TQH7KH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:27:10.5439933+03:00 0HL837TQH7KH0 [INF] Request finished in 110.2175ms 302  (15c52c40)
2017-09-26T16:27:15.5883419+03:00 0HL837TQH7KH1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T16:27:15.5913438+03:00 0HL837TQH7KH1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:27:15.5913438+03:00 0HL837TQH7KH1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T16:27:15.5928450+03:00 0HL837TQH7KH1 [INF] Request finished in 4.5521ms 200 application/json (15c52c40)
2017-09-26T16:32:11.8451940+03:00 0HL837TQH7KH2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.142222560542781821506432731831&state=15064327318310.6912442337677793   (e5be5b71)
2017-09-26T16:32:12.1492046+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:32:12.1497055+03:00 0HL837TQH7KH2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:32:12.1497055+03:00 0HL837TQH7KH2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:12.1497055+03:00 0HL837TQH7KH2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:32:12.1502060+03:00 0HL837TQH7KH2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:12.1507050+03:00 0HL837TQH7KH2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:12.1512051+03:00 0HL837TQH7KH2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064327318310.6912442337677793\",
  \"Nonce\": \"N0.142222560542781821506432731831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.142222560542781821506432731831\",
    \"state\": \"15064327318310.6912442337677793\"
  }
}" (9a175e33)
2017-09-26T16:32:12.2234602+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (68ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:32:12.2373183+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:32:12.2418215+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:32:12.2458237+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:32:12.2508267+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:32:12.2533297+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:32:12.2578313+03:00 0HL837TQH7KH2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:32:12.2758437+03:00 0HL837TQH7KH2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064327318310.6912442337677793\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:32:12.2768439+03:00 0HL837TQH7KH2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:12.2778450+03:00 0HL837TQH7KH2 [INF] Request finished in 433.7139ms 302  (15c52c40)
2017-09-26T16:32:15.9299750+03:00 0HL837TQH7KH3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.245878511985877071506432735835&state=15064327358350.27090344855972615   (e5be5b71)
2017-09-26T16:32:15.9334775+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:32:15.9339776+03:00 0HL837TQH7KH3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T16:32:15.9349783+03:00 0HL837TQH7KH3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:15.9349783+03:00 0HL837TQH7KH3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T16:32:15.9354780+03:00 0HL837TQH7KH3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:15.9364787+03:00 0HL837TQH7KH3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:15.9364787+03:00 0HL837TQH7KH3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064327358350.27090344855972615\",
  \"Nonce\": \"N0.245878511985877071506432735835\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.245878511985877071506432735835\",
    \"state\": \"15064327358350.27090344855972615\"
  }
}" (9a175e33)
2017-09-26T16:32:15.9534908+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T16:32:15.9700016+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:32:15.9795077+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T16:32:15.9970191+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T16:32:16.0005216+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T16:32:16.0090271+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T16:32:16.0170324+03:00 0HL837TQH7KH3 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T16:32:16.0390470+03:00 0HL837TQH7KH3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064327358350.27090344855972615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T16:32:16.0400477+03:00 0HL837TQH7KH3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T16:32:16.0440503+03:00 0HL837TQH7KH3 [INF] Request finished in 111.9567ms 302  (15c52c40)
2017-09-26T16:32:20.3463374+03:00 0HL837TQH7KH4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T16:32:20.3488389+03:00 0HL837TQH7KH4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T16:32:20.3493394+03:00 0HL837TQH7KH4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T16:32:20.3498399+03:00 0HL837TQH7KH4 [INF] Request finished in 4.0038ms 200 application/json (15c52c40)
2017-09-26T17:05:35.2331163+03:00  [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation. (553c312b)
2017-09-26T17:05:35.8826015+03:00  [INF] Executed DbCommand (424ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0 (6438bdd5)
2017-09-26T17:05:36.6036708+03:00  [INF] Executed DbCommand (153ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:05:36.7152454+03:00  [WRN] Role "07e41690-726f-45cd-b938-a1fa34afd4f9" validation failed: "DuplicateRoleName". (60d773c7)
2017-09-26T17:05:36.8173124+03:00  [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-26T17:05:36.8468322+03:00  [WRN] User "8cb74f2e-d94b-4d76-b90d-c018aa6004bb" validation failed: "DuplicateUserName". (5dc28e15)
2017-09-26T17:05:36.8578399+03:00  [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-26T17:05:36.8928632+03:00  [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:05:36.9478997+03:00  [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1) (6438bdd5)
2017-09-26T17:05:36.9989340+03:00  [WRN] User "3c7cca64-00cd-49cc-9407-3128eae83098" is already in role "fso.api.user". (337e5c15)
2017-09-26T17:05:37.0084397+03:00 0HL84SUKNKO7R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41516958193086871506434735830&state=15064347358300.752999734829179   (e5be5b71)
2017-09-26T17:05:37.3464819+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:37.4540515+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (57ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:37.7292342+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:05:37.7382406+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:05:37.7787673+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:05:37.8167921+03:00 0HL84SUKNKO7R [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:05:37.8323030+03:00 0HL84SUKNKO7R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:37.8803345+03:00 0HL84SUKNKO7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:37.9143583+03:00 0HL84SUKNKO7R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:37.9528829+03:00 0HL84SUKNKO7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:38.0404408+03:00 0HL84SUKNKO7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:38.3566519+03:00 0HL84SUKNKO7R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347358300.752999734829179\",
  \"Nonce\": \"N0.41516958193086871506434735830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.41516958193086871506434735830\",
    \"state\": \"15064347358300.752999734829179\"
  }
}" (9a175e33)
2017-09-26T17:05:38.3876714+03:00 0HL84SUKNKO7R [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:38.5517803+03:00 0HL84SUKNKO7R [INF] Request finished in 1560.655ms 302  (15c52c40)
2017-09-26T17:05:38.6008133+03:00 0HL84SUKNKO7S [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.41516958193086871506434735830%26state%3D15064347358300.752999734829179   (e5be5b71)
2017-09-26T17:05:38.6038152+03:00 0HL84SUKNKO7S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:38.6043154+03:00 0HL84SUKNKO7S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:38.6048155+03:00 0HL84SUKNKO7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.1431733+03:00 0HL84SUKNKO7S [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41516958193086871506434735830&state=15064347358300.752999734829179"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:39.1601854+03:00 0HL84SUKNKO7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.1606848+03:00 0HL84SUKNKO7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.8491418+03:00 0HL84SUKNKO7T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76521665920768771506434739831&state=15064347398310.5434711531010341   (e5be5b71)
2017-09-26T17:05:39.8526444+03:00 0HL84SUKNKO7T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:39.8531445+03:00 0HL84SUKNKO7T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:39.8536454+03:00 0HL84SUKNKO7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.8541455+03:00 0HL84SUKNKO7T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:39.8546457+03:00 0HL84SUKNKO7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.8556483+03:00 0HL84SUKNKO7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.8561465+03:00 0HL84SUKNKO7T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347398310.5434711531010341\",
  \"Nonce\": \"N0.76521665920768771506434739831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76521665920768771506434739831\",
    \"state\": \"15064347398310.5434711531010341\"
  }
}" (9a175e33)
2017-09-26T17:05:39.8746586+03:00 0HL84SUKNKO7T [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:39.8751591+03:00 0HL84SUKNKO7T [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:39.8876676+03:00 0HL84SUKNKO7T [INF] Request finished in 28.0979ms 302  (15c52c40)
2017-09-26T17:05:39.8951728+03:00 0HL84SUKNKO7U [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.76521665920768771506434739831%26state%3D15064347398310.5434711531010341   (e5be5b71)
2017-09-26T17:05:39.9086816+03:00 0HL84SUKNKO7U [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:39.9091817+03:00 0HL84SUKNKO7U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:39.9096822+03:00 0HL84SUKNKO7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.9146855+03:00 0HL84SUKNKO7U [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76521665920768771506434739831&state=15064347398310.5434711531010341"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:39.9156858+03:00 0HL84SUKNKO7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:39.9221903+03:00 0HL84SUKNKO7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:41.9769150+03:00 0HL84SUKNKO7U [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:41.9774148+03:00 0HL84SUKNKO7S [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:42.8695064+03:00 0HL84SUKNKO7V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61057283448805991506434742852&state=15064347428520.26737721654283586   (e5be5b71)
2017-09-26T17:05:42.8730105+03:00 0HL84SUKNKO7V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:42.8735095+03:00 0HL84SUKNKO7V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:42.8745098+03:00 0HL84SUKNKO7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8745098+03:00 0HL84SUKNKO7V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:42.8750107+03:00 0HL84SUKNKO7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8760109+03:00 0HL84SUKNKO7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8760109+03:00 0HL84SUKNKO7V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347428520.26737721654283586\",
  \"Nonce\": \"N0.61057283448805991506434742852\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61057283448805991506434742852\",
    \"state\": \"15064347428520.26737721654283586\"
  }
}" (9a175e33)
2017-09-26T17:05:42.8800140+03:00 0HL84SUKNKO7V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:42.8805141+03:00 0HL84SUKNKO7V [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:42.8815148+03:00 0HL84SUKNKO7V [INF] Request finished in 12.4713ms 302  (15c52c40)
2017-09-26T17:05:42.8905208+03:00 0HL84SUKNKO80 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.61057283448805991506434742852%26state%3D15064347428520.26737721654283586   (e5be5b71)
2017-09-26T17:05:42.8945230+03:00 0HL84SUKNKO80 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:42.8955237+03:00 0HL84SUKNKO80 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:42.8955237+03:00 0HL84SUKNKO80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8965248+03:00 0HL84SUKNKO80 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61057283448805991506434742852&state=15064347428520.26737721654283586"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:42.8970245+03:00 0HL84SUKNKO80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8975254+03:00 0HL84SUKNKO80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:42.8980256+03:00 0HL84SUKNKO80 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:43.0551303+03:00  [INF] Connection id ""0HL84SUKM6ASD"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-26T17:05:43.0621345+03:00  [INF] Connection id ""0HL84SUKM6ASE"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-26T17:05:43.0816481+03:00 0HL84SUKNKO7U [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3161.4294ms (afa2e885)
2017-09-26T17:05:43.0816481+03:00 0HL84SUKNKO80 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 177.1854ms (afa2e885)
2017-09-26T17:05:43.0816481+03:00 0HL84SUKNKO7S [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4129.3154ms (afa2e885)
2017-09-26T17:05:43.0881518+03:00 0HL84SUKNKO7S [INF] Request finished in 4488.2807ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:43.0901531+03:00 0HL84SUKNKO7U [INF] Request finished in 3193.7633ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:43.0911542+03:00 0HL84SUKNKO80 [INF] Request finished in 200.5212ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:46.8427324+03:00 0HL84SUKNKO81 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.132986250981443451506434746830&state=15064347468300.24543623948262794   (e5be5b71)
2017-09-26T17:05:46.8457325+03:00 0HL84SUKNKO81 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:46.8462338+03:00 0HL84SUKNKO81 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:46.8467327+03:00 0HL84SUKNKO81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8467327+03:00 0HL84SUKNKO81 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:46.8472333+03:00 0HL84SUKNKO81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8477334+03:00 0HL84SUKNKO81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8477334+03:00 0HL84SUKNKO81 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347468300.24543623948262794\",
  \"Nonce\": \"N0.132986250981443451506434746830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.132986250981443451506434746830\",
    \"state\": \"15064347468300.24543623948262794\"
  }
}" (9a175e33)
2017-09-26T17:05:46.8512359+03:00 0HL84SUKNKO81 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:46.8517361+03:00 0HL84SUKNKO81 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:46.8522366+03:00 0HL84SUKNKO81 [INF] Request finished in 10.5549ms 302  (15c52c40)
2017-09-26T17:05:46.8552382+03:00 0HL84SUKNKO82 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.132986250981443451506434746830%26state%3D15064347468300.24543623948262794   (e5be5b71)
2017-09-26T17:05:46.8577412+03:00 0HL84SUKNKO82 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:46.8582414+03:00 0HL84SUKNKO82 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:46.8587411+03:00 0HL84SUKNKO82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8607428+03:00 0HL84SUKNKO82 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.132986250981443451506434746830&state=15064347468300.24543623948262794"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:46.8612430+03:00 0HL84SUKNKO82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8622432+03:00 0HL84SUKNKO82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:46.8627438+03:00 0HL84SUKNKO82 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:46.8662467+03:00 0HL84SUKNKO82 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.5278ms (afa2e885)
2017-09-26T17:05:46.8672465+03:00 0HL84SUKNKO82 [INF] Request finished in 12.2479ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:50.8533987+03:00 0HL84SUKNKO83 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.289014972627355871506434750831&state=15064347508310.5488724080685283   (e5be5b71)
2017-09-26T17:05:50.8574010+03:00 0HL84SUKNKO83 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:50.8579019+03:00 0HL84SUKNKO83 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:50.8584024+03:00 0HL84SUKNKO83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8589022+03:00 0HL84SUKNKO83 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:50.8594027+03:00 0HL84SUKNKO83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8599032+03:00 0HL84SUKNKO83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8604033+03:00 0HL84SUKNKO83 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347508310.5488724080685283\",
  \"Nonce\": \"N0.289014972627355871506434750831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.289014972627355871506434750831\",
    \"state\": \"15064347508310.5488724080685283\"
  }
}" (9a175e33)
2017-09-26T17:05:50.8659072+03:00 0HL84SUKNKO83 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:50.8669079+03:00 0HL84SUKNKO83 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:50.8694093+03:00 0HL84SUKNKO83 [INF] Request finished in 15.8914ms 302  (15c52c40)
2017-09-26T17:05:50.8769141+03:00 0HL84SUKNKO84 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.289014972627355871506434750831%26state%3D15064347508310.5488724080685283   (e5be5b71)
2017-09-26T17:05:50.8819178+03:00 0HL84SUKNKO84 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:50.8829224+03:00 0HL84SUKNKO84 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:50.8834182+03:00 0HL84SUKNKO84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8849194+03:00 0HL84SUKNKO84 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.289014972627355871506434750831&state=15064347508310.5488724080685283"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:50.8859213+03:00 0HL84SUKNKO84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8869208+03:00 0HL84SUKNKO84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:50.8879214+03:00 0HL84SUKNKO84 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:50.8904233+03:00 0HL84SUKNKO84 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.3221ms (afa2e885)
2017-09-26T17:05:50.8914239+03:00 0HL84SUKNKO84 [INF] Request finished in 15.1899ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:54.8480677+03:00 0HL84SUKNKO85 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.216869474160945371506434754831&state=15064347548310.5613351053722473   (e5be5b71)
2017-09-26T17:05:54.8505696+03:00 0HL84SUKNKO85 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:54.8510689+03:00 0HL84SUKNKO85 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:54.8515695+03:00 0HL84SUKNKO85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8520700+03:00 0HL84SUKNKO85 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:54.8520700+03:00 0HL84SUKNKO85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8525697+03:00 0HL84SUKNKO85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8530699+03:00 0HL84SUKNKO85 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347548310.5613351053722473\",
  \"Nonce\": \"N0.216869474160945371506434754831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.216869474160945371506434754831\",
    \"state\": \"15064347548310.5613351053722473\"
  }
}" (9a175e33)
2017-09-26T17:05:54.8585745+03:00 0HL84SUKNKO85 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:54.8590747+03:00 0HL84SUKNKO85 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:54.8600749+03:00 0HL84SUKNKO85 [INF] Request finished in 11.7391ms 302  (15c52c40)
2017-09-26T17:05:54.8625768+03:00 0HL84SUKNKO86 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.216869474160945371506434754831%26state%3D15064347548310.5613351053722473   (e5be5b71)
2017-09-26T17:05:54.8655784+03:00 0HL84SUKNKO86 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:54.8670796+03:00 0HL84SUKNKO86 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:54.8675801+03:00 0HL84SUKNKO86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8690813+03:00 0HL84SUKNKO86 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.216869474160945371506434754831&state=15064347548310.5613351053722473"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:54.8695818+03:00 0HL84SUKNKO86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8700820+03:00 0HL84SUKNKO86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:54.8710818+03:00 0HL84SUKNKO86 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:54.8725834+03:00 0HL84SUKNKO86 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.2687ms (afa2e885)
2017-09-26T17:05:54.8730840+03:00 0HL84SUKNKO86 [INF] Request finished in 10.7499ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:05:58.8500924+03:00 0HL84SUKNKO87 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59654954268957571506434758831&state=15064347588310.07255769219311414   (e5be5b71)
2017-09-26T17:05:58.8535945+03:00 0HL84SUKNKO87 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:58.8540950+03:00 0HL84SUKNKO87 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:58.8545955+03:00 0HL84SUKNKO87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8545955+03:00 0HL84SUKNKO87 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:05:58.8550957+03:00 0HL84SUKNKO87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8560960+03:00 0HL84SUKNKO87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8560960+03:00 0HL84SUKNKO87 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347588310.07255769219311414\",
  \"Nonce\": \"N0.59654954268957571506434758831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59654954268957571506434758831\",
    \"state\": \"15064347588310.07255769219311414\"
  }
}" (9a175e33)
2017-09-26T17:05:58.8595989+03:00 0HL84SUKNKO87 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:05:58.8595989+03:00 0HL84SUKNKO87 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:05:58.8600986+03:00 0HL84SUKNKO87 [INF] Request finished in 10.9342ms 302  (15c52c40)
2017-09-26T17:05:58.8631006+03:00 0HL84SUKNKO88 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.59654954268957571506434758831%26state%3D15064347588310.07255769219311414   (e5be5b71)
2017-09-26T17:05:58.8661030+03:00 0HL84SUKNKO88 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:05:58.8666039+03:00 0HL84SUKNKO88 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:05:58.8671037+03:00 0HL84SUKNKO88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8691050+03:00 0HL84SUKNKO88 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59654954268957571506434758831&state=15064347588310.07255769219311414"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:05:58.8696051+03:00 0HL84SUKNKO88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8701056+03:00 0HL84SUKNKO88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:05:58.8706058+03:00 0HL84SUKNKO88 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:05:58.8721070+03:00 0HL84SUKNKO88 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.6891ms (afa2e885)
2017-09-26T17:05:58.8731076+03:00 0HL84SUKNKO88 [INF] Request finished in 10.0516ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:02.8441756+03:00 0HL84SUKNKO89 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36649285231666731506434762831&state=15064347628310.612534692355581   (e5be5b71)
2017-09-26T17:06:02.8471764+03:00 0HL84SUKNKO89 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:02.8476762+03:00 0HL84SUKNKO89 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:02.8481775+03:00 0HL84SUKNKO89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8486768+03:00 0HL84SUKNKO89 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:02.8486768+03:00 0HL84SUKNKO89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8496791+03:00 0HL84SUKNKO89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8496791+03:00 0HL84SUKNKO89 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347628310.612534692355581\",
  \"Nonce\": \"N0.36649285231666731506434762831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36649285231666731506434762831\",
    \"state\": \"15064347628310.612534692355581\"
  }
}" (9a175e33)
2017-09-26T17:06:02.8526799+03:00 0HL84SUKNKO89 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:02.8531804+03:00 0HL84SUKNKO89 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:02.8566853+03:00 0HL84SUKNKO89 [INF] Request finished in 9.5811ms 302  (15c52c40)
2017-09-26T17:06:02.8596841+03:00 0HL84SUKNKO8A [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.36649285231666731506434762831%26state%3D15064347628310.612534692355581   (e5be5b71)
2017-09-26T17:06:02.8626865+03:00 0HL84SUKNKO8A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:02.8631882+03:00 0HL84SUKNKO8A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:02.8641877+03:00 0HL84SUKNKO8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8651919+03:00 0HL84SUKNKO8A [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36649285231666731506434762831&state=15064347628310.612534692355581"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:02.8656885+03:00 0HL84SUKNKO8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8666892+03:00 0HL84SUKNKO8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:02.8671897+03:00 0HL84SUKNKO8A [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:02.8691946+03:00 0HL84SUKNKO8A [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.3456ms (afa2e885)
2017-09-26T17:06:02.8701917+03:00 0HL84SUKNKO8A [INF] Request finished in 10.6567ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:06.8505621+03:00 0HL84SUKNKO8B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57613139554053381506434766831&state=15064347668310.14926698527586657   (e5be5b71)
2017-09-26T17:06:06.8545648+03:00 0HL84SUKNKO8B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:06.8550649+03:00 0HL84SUKNKO8B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:06.8555650+03:00 0HL84SUKNKO8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8555650+03:00 0HL84SUKNKO8B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:06.8565657+03:00 0HL84SUKNKO8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8570658+03:00 0HL84SUKNKO8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8570658+03:00 0HL84SUKNKO8B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347668310.14926698527586657\",
  \"Nonce\": \"N0.57613139554053381506434766831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57613139554053381506434766831\",
    \"state\": \"15064347668310.14926698527586657\"
  }
}" (9a175e33)
2017-09-26T17:06:06.8605687+03:00 0HL84SUKNKO8B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:06.8610689+03:00 0HL84SUKNKO8B [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:06.8615690+03:00 0HL84SUKNKO8B [INF] Request finished in 14.7443ms 302  (15c52c40)
2017-09-26T17:06:06.8815823+03:00 0HL84SUKNKO8C [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.57613139554053381506434766831%26state%3D15064347668310.14926698527586657   (e5be5b71)
2017-09-26T17:06:06.8850848+03:00 0HL84SUKNKO8C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:06.8860886+03:00 0HL84SUKNKO8C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:06.8865856+03:00 0HL84SUKNKO8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8875863+03:00 0HL84SUKNKO8C [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57613139554053381506434766831&state=15064347668310.14926698527586657"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:06.8885870+03:00 0HL84SUKNKO8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8890875+03:00 0HL84SUKNKO8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:06.8910884+03:00 0HL84SUKNKO8C [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:06.8935903+03:00 0HL84SUKNKO8C [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.9325ms (afa2e885)
2017-09-26T17:06:06.8940912+03:00 0HL84SUKNKO8C [INF] Request finished in 13.0011ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:10.8466640+03:00 0HL84SUKNKO8D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49883342564504021506434770830&state=15064347708300.7842531625089377   (e5be5b71)
2017-09-26T17:06:10.8491659+03:00 0HL84SUKNKO8D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:10.8501670+03:00 0HL84SUKNKO8D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:10.8501670+03:00 0HL84SUKNKO8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8506671+03:00 0HL84SUKNKO8D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:10.8511672+03:00 0HL84SUKNKO8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8516674+03:00 0HL84SUKNKO8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8521679+03:00 0HL84SUKNKO8D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347708300.7842531625089377\",
  \"Nonce\": \"N0.49883342564504021506434770830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49883342564504021506434770830\",
    \"state\": \"15064347708300.7842531625089377\"
  }
}" (9a175e33)
2017-09-26T17:06:10.8571712+03:00 0HL84SUKNKO8D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:10.8576718+03:00 0HL84SUKNKO8D [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:10.8586728+03:00 0HL84SUKNKO8D [INF] Request finished in 12.3123ms 302  (15c52c40)
2017-09-26T17:06:10.8616744+03:00 0HL84SUKNKO8E [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.49883342564504021506434770830%26state%3D15064347708300.7842531625089377   (e5be5b71)
2017-09-26T17:06:10.8641759+03:00 0HL84SUKNKO8E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:10.8661772+03:00 0HL84SUKNKO8E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:10.8666781+03:00 0HL84SUKNKO8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8676780+03:00 0HL84SUKNKO8E [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49883342564504021506434770830&state=15064347708300.7842531625089377"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:10.8681781+03:00 0HL84SUKNKO8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8691816+03:00 0HL84SUKNKO8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:10.8701799+03:00 0HL84SUKNKO8E [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:10.8716811+03:00 0HL84SUKNKO8E [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.6871ms (afa2e885)
2017-09-26T17:06:10.8726813+03:00 0HL84SUKNKO8E [INF] Request finished in 11.0558ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:14.8426720+03:00 0HL84SUKNKO8F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74510018960052361506434774831&state=15064347748310.8251345941725403   (e5be5b71)
2017-09-26T17:06:14.8451735+03:00 0HL84SUKNKO8F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:14.8456744+03:00 0HL84SUKNKO8F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:14.8466783+03:00 0HL84SUKNKO8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8466783+03:00 0HL84SUKNKO8F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:14.8471756+03:00 0HL84SUKNKO8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8476754+03:00 0HL84SUKNKO8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8476754+03:00 0HL84SUKNKO8F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347748310.8251345941725403\",
  \"Nonce\": \"N0.74510018960052361506434774831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74510018960052361506434774831\",
    \"state\": \"15064347748310.8251345941725403\"
  }
}" (9a175e33)
2017-09-26T17:06:14.8521782+03:00 0HL84SUKNKO8F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:14.8526787+03:00 0HL84SUKNKO8F [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:14.8536801+03:00 0HL84SUKNKO8F [INF] Request finished in 11.1359ms 302  (15c52c40)
2017-09-26T17:06:14.8571827+03:00 0HL84SUKNKO8G [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.74510018960052361506434774831%26state%3D15064347748310.8251345941725403   (e5be5b71)
2017-09-26T17:06:14.8596845+03:00 0HL84SUKNKO8G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:14.8601843+03:00 0HL84SUKNKO8G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:14.8621852+03:00 0HL84SUKNKO8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8631863+03:00 0HL84SUKNKO8G [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74510018960052361506434774831&state=15064347748310.8251345941725403"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:14.8636860+03:00 0HL84SUKNKO8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8646871+03:00 0HL84SUKNKO8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:14.8656877+03:00 0HL84SUKNKO8G [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:14.8671889+03:00 0HL84SUKNKO8G [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.1281ms (afa2e885)
2017-09-26T17:06:14.8676894+03:00 0HL84SUKNKO8G [INF] Request finished in 10.8166ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:18.8491083+03:00 0HL84SUKNKO8H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76159759624316831506434778831&state=15064347788310.2953081338059236   (e5be5b71)
2017-09-26T17:06:18.8521095+03:00 0HL84SUKNKO8H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:18.8541108+03:00 0HL84SUKNKO8H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:18.8576129+03:00 0HL84SUKNKO8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8581131+03:00 0HL84SUKNKO8H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:18.8586136+03:00 0HL84SUKNKO8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8596143+03:00 0HL84SUKNKO8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8601148+03:00 0HL84SUKNKO8H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347788310.2953081338059236\",
  \"Nonce\": \"N0.76159759624316831506434778831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76159759624316831506434778831\",
    \"state\": \"15064347788310.2953081338059236\"
  }
}" (9a175e33)
2017-09-26T17:06:18.8681197+03:00 0HL84SUKNKO8H [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:18.8686206+03:00 0HL84SUKNKO8H [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:18.8826303+03:00 0HL84SUKNKO8H [INF] Request finished in 20.7763ms 302  (15c52c40)
2017-09-26T17:06:18.8891341+03:00 0HL84SUKNKO8I [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.76159759624316831506434778831%26state%3D15064347788310.2953081338059236   (e5be5b71)
2017-09-26T17:06:18.8926362+03:00 0HL84SUKNKO8I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:18.8941370+03:00 0HL84SUKNKO8I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:18.8946387+03:00 0HL84SUKNKO8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8961387+03:00 0HL84SUKNKO8I [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76159759624316831506434778831&state=15064347788310.2953081338059236"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:18.8971390+03:00 0HL84SUKNKO8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8976399+03:00 0HL84SUKNKO8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:18.8986402+03:00 0HL84SUKNKO8I [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:18.9006415+03:00 0HL84SUKNKO8I [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.1371ms (afa2e885)
2017-09-26T17:06:18.9016422+03:00 0HL84SUKNKO8I [INF] Request finished in 12.7792ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:22.8537966+03:00 0HL84SUKNKO8J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9434174345997331506434782838&state=15064347828380.6019936700616075   (e5be5b71)
2017-09-26T17:06:22.8577996+03:00 0HL84SUKNKO8J [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:22.8588007+03:00 0HL84SUKNKO8J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:22.8588007+03:00 0HL84SUKNKO8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.8593008+03:00 0HL84SUKNKO8J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:22.8638040+03:00 0HL84SUKNKO8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.8653048+03:00 0HL84SUKNKO8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.8653048+03:00 0HL84SUKNKO8J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347828380.6019936700616075\",
  \"Nonce\": \"N0.9434174345997331506434782838\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9434174345997331506434782838\",
    \"state\": \"15064347828380.6019936700616075\"
  }
}" (9a175e33)
2017-09-26T17:06:22.8683064+03:00 0HL84SUKNKO8J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:22.8688070+03:00 0HL84SUKNKO8J [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:22.8698076+03:00 0HL84SUKNKO8J [INF] Request finished in 16.202ms 302  (15c52c40)
2017-09-26T17:06:22.9153376+03:00 0HL84SUKNKO8K [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.9434174345997331506434782838%26state%3D15064347828380.6019936700616075   (e5be5b71)
2017-09-26T17:06:22.9193407+03:00 0HL84SUKNKO8K [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:22.9203418+03:00 0HL84SUKNKO8K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:22.9208411+03:00 0HL84SUKNKO8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.9218418+03:00 0HL84SUKNKO8K [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9434174345997331506434782838&state=15064347828380.6019936700616075"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:22.9228428+03:00 0HL84SUKNKO8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.9243436+03:00 0HL84SUKNKO8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:22.9248442+03:00 0HL84SUKNKO8K [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:22.9268455+03:00 0HL84SUKNKO8K [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.2835ms (afa2e885)
2017-09-26T17:06:22.9273460+03:00 0HL84SUKNKO8K [INF] Request finished in 12.4781ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:26.8504922+03:00 0HL84SUKNKO8L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.074154837351083861506434786833&state=15064347868330.34880452048113075   (e5be5b71)
2017-09-26T17:06:26.8524932+03:00 0HL84SUKNKO8L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:26.8534942+03:00 0HL84SUKNKO8L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:26.8539948+03:00 0HL84SUKNKO8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8539948+03:00 0HL84SUKNKO8L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:26.8544949+03:00 0HL84SUKNKO8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8549954+03:00 0HL84SUKNKO8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8554959+03:00 0HL84SUKNKO8L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347868330.34880452048113075\",
  \"Nonce\": \"N0.074154837351083861506434786833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.074154837351083861506434786833\",
    \"state\": \"15064347868330.34880452048113075\"
  }
}" (9a175e33)
2017-09-26T17:06:26.8599999+03:00 0HL84SUKNKO8L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:26.8605001+03:00 0HL84SUKNKO8L [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:26.8609994+03:00 0HL84SUKNKO8L [INF] Request finished in 10.9267ms 302  (15c52c40)
2017-09-26T17:06:26.8635017+03:00 0HL84SUKNKO8M [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.074154837351083861506434786833%26state%3D15064347868330.34880452048113075   (e5be5b71)
2017-09-26T17:06:26.8660023+03:00 0HL84SUKNKO8M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:26.8670034+03:00 0HL84SUKNKO8M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:26.8675031+03:00 0HL84SUKNKO8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8715062+03:00 0HL84SUKNKO8M [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.074154837351083861506434786833&state=15064347868330.34880452048113075"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:26.8725072+03:00 0HL84SUKNKO8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8735079+03:00 0HL84SUKNKO8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:26.8740084+03:00 0HL84SUKNKO8M [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:26.8760094+03:00 0HL84SUKNKO8M [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 7.7672ms (afa2e885)
2017-09-26T17:06:26.8770100+03:00 0HL84SUKNKO8M [INF] Request finished in 13.4775ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:30.8449272+03:00 0HL84SUKNKO8N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37163568959647411506434790831&state=15064347908310.25783553577165264   (e5be5b71)
2017-09-26T17:06:30.8484309+03:00 0HL84SUKNKO8N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:30.8489314+03:00 0HL84SUKNKO8N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:30.8494316+03:00 0HL84SUKNKO8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8494316+03:00 0HL84SUKNKO8N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:30.8499325+03:00 0HL84SUKNKO8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8504322+03:00 0HL84SUKNKO8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8509328+03:00 0HL84SUKNKO8N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347908310.25783553577165264\",
  \"Nonce\": \"N0.37163568959647411506434790831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37163568959647411506434790831\",
    \"state\": \"15064347908310.25783553577165264\"
  }
}" (9a175e33)
2017-09-26T17:06:30.8544333+03:00 0HL84SUKNKO8N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:30.8549338+03:00 0HL84SUKNKO8N [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:30.8554344+03:00 0HL84SUKNKO8N [INF] Request finished in 11.0629ms 302  (15c52c40)
2017-09-26T17:06:30.8589373+03:00 0HL84SUKNKO8O [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.37163568959647411506434790831%26state%3D15064347908310.25783553577165264   (e5be5b71)
2017-09-26T17:06:30.8634397+03:00 0HL84SUKNKO8O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:30.8639398+03:00 0HL84SUKNKO8O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:30.8644403+03:00 0HL84SUKNKO8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8654410+03:00 0HL84SUKNKO8O [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37163568959647411506434790831&state=15064347908310.25783553577165264"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:30.8659415+03:00 0HL84SUKNKO8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8674423+03:00 0HL84SUKNKO8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:30.8679429+03:00 0HL84SUKNKO8O [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:30.8729458+03:00 0HL84SUKNKO8O [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.5175ms (afa2e885)
2017-09-26T17:06:30.8739465+03:00 0HL84SUKNKO8O [INF] Request finished in 15.231ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:34.8476781+03:00 0HL84SUKNKO8P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.149431377940722371506434794833&state=15064347948330.010480538358435432   (e5be5b71)
2017-09-26T17:06:34.8506801+03:00 0HL84SUKNKO8P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:34.8516808+03:00 0HL84SUKNKO8P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:34.8521809+03:00 0HL84SUKNKO8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8521809+03:00 0HL84SUKNKO8P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:34.8526819+03:00 0HL84SUKNKO8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8536821+03:00 0HL84SUKNKO8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8536821+03:00 0HL84SUKNKO8P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347948330.010480538358435432\",
  \"Nonce\": \"N0.149431377940722371506434794833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.149431377940722371506434794833\",
    \"state\": \"15064347948330.010480538358435432\"
  }
}" (9a175e33)
2017-09-26T17:06:34.8606868+03:00 0HL84SUKNKO8P [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:34.8611873+03:00 0HL84SUKNKO8P [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:34.8631886+03:00 0HL84SUKNKO8P [INF] Request finished in 14.9681ms 302  (15c52c40)
2017-09-26T17:06:34.8756967+03:00 0HL84SUKNKO8Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.149431377940722371506434794833%26state%3D15064347948330.010480538358435432   (e5be5b71)
2017-09-26T17:06:34.8791993+03:00 0HL84SUKNKO8Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:34.8802019+03:00 0HL84SUKNKO8Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:34.8812006+03:00 0HL84SUKNKO8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8822048+03:00 0HL84SUKNKO8Q [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.149431377940722371506434794833&state=15064347948330.010480538358435432"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:34.8837028+03:00 0HL84SUKNKO8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8847031+03:00 0HL84SUKNKO8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:34.8852032+03:00 0HL84SUKNKO8Q [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:34.8892059+03:00 0HL84SUKNKO8Q [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.8621ms (afa2e885)
2017-09-26T17:06:34.8902066+03:00 0HL84SUKNKO8Q [INF] Request finished in 15.302ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:38.8503478+03:00 0HL84SUKNKO8R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46401445731763061506434798837&state=15064347988370.20261171625572838   (e5be5b71)
2017-09-26T17:06:38.8623557+03:00 0HL84SUKNKO8R [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:38.8633568+03:00 0HL84SUKNKO8R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:38.8673587+03:00 0HL84SUKNKO8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8678592+03:00 0HL84SUKNKO8R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:38.8683597+03:00 0HL84SUKNKO8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8688602+03:00 0HL84SUKNKO8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8688602+03:00 0HL84SUKNKO8R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064347988370.20261171625572838\",
  \"Nonce\": \"N0.46401445731763061506434798837\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46401445731763061506434798837\",
    \"state\": \"15064347988370.20261171625572838\"
  }
}" (9a175e33)
2017-09-26T17:06:38.8733634+03:00 0HL84SUKNKO8R [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:38.8733634+03:00 0HL84SUKNKO8R [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:38.8743637+03:00 0HL84SUKNKO8R [INF] Request finished in 24.4347ms 302  (15c52c40)
2017-09-26T17:06:38.8838702+03:00 0HL84SUKNKO8S [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.46401445731763061506434798837%26state%3D15064347988370.20261171625572838   (e5be5b71)
2017-09-26T17:06:38.8868718+03:00 0HL84SUKNKO8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:38.8883730+03:00 0HL84SUKNKO8S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:38.8898738+03:00 0HL84SUKNKO8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8908745+03:00 0HL84SUKNKO8S [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46401445731763061506434798837&state=15064347988370.20261171625572838"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:38.8918755+03:00 0HL84SUKNKO8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8923757+03:00 0HL84SUKNKO8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:38.8933763+03:00 0HL84SUKNKO8S [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:38.8968792+03:00 0HL84SUKNKO8S [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.5705ms (afa2e885)
2017-09-26T17:06:38.8973790+03:00 0HL84SUKNKO8S [INF] Request finished in 13.7779ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:42.8548999+03:00 0HL84SUKNKO8T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.379432008466712661506434802832&state=15064348028320.8583713555805961   (e5be5b71)
2017-09-26T17:06:42.8584016+03:00 0HL84SUKNKO8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:42.8589022+03:00 0HL84SUKNKO8T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:42.8594035+03:00 0HL84SUKNKO8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8594035+03:00 0HL84SUKNKO8T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:42.8599024+03:00 0HL84SUKNKO8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8609035+03:00 0HL84SUKNKO8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8614040+03:00 0HL84SUKNKO8T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348028320.8583713555805961\",
  \"Nonce\": \"N0.379432008466712661506434802832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.379432008466712661506434802832\",
    \"state\": \"15064348028320.8583713555805961\"
  }
}" (9a175e33)
2017-09-26T17:06:42.8654059+03:00 0HL84SUKNKO8T [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:42.8659076+03:00 0HL84SUKNKO8T [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:42.8664073+03:00 0HL84SUKNKO8T [INF] Request finished in 14.0468ms 302  (15c52c40)
2017-09-26T17:06:42.8699091+03:00 0HL84SUKNKO8U [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.379432008466712661506434802832%26state%3D15064348028320.8583713555805961   (e5be5b71)
2017-09-26T17:06:42.8739117+03:00 0HL84SUKNKO8U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:42.8744126+03:00 0HL84SUKNKO8U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:42.8749124+03:00 0HL84SUKNKO8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8759142+03:00 0HL84SUKNKO8U [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.379432008466712661506434802832&state=15064348028320.8583713555805961"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:42.8769145+03:00 0HL84SUKNKO8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8774146+03:00 0HL84SUKNKO8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:42.8779144+03:00 0HL84SUKNKO8U [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:42.8794152+03:00 0HL84SUKNKO8U [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.8976ms (afa2e885)
2017-09-26T17:06:42.8799161+03:00 0HL84SUKNKO8U [INF] Request finished in 10.2048ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:46.8461158+03:00 0HL84SUKNKO8V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83893672965474141506434806833&state=15064348068330.9928976296464689   (e5be5b71)
2017-09-26T17:06:46.8496179+03:00 0HL84SUKNKO8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:46.8501176+03:00 0HL84SUKNKO8V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:46.8506182+03:00 0HL84SUKNKO8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8506182+03:00 0HL84SUKNKO8V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:46.8511183+03:00 0HL84SUKNKO8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8521190+03:00 0HL84SUKNKO8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8521190+03:00 0HL84SUKNKO8V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348068330.9928976296464689\",
  \"Nonce\": \"N0.83893672965474141506434806833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83893672965474141506434806833\",
    \"state\": \"15064348068330.9928976296464689\"
  }
}" (9a175e33)
2017-09-26T17:06:46.8576224+03:00 0HL84SUKNKO8V [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:46.8581233+03:00 0HL84SUKNKO8V [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:46.8586231+03:00 0HL84SUKNKO8V [INF] Request finished in 13.4195ms 302  (15c52c40)
2017-09-26T17:06:46.8621256+03:00 0HL84SUKNKO90 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.83893672965474141506434806833%26state%3D15064348068330.9928976296464689   (e5be5b71)
2017-09-26T17:06:46.8676298+03:00 0HL84SUKNKO90 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:46.8686301+03:00 0HL84SUKNKO90 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:46.8691306+03:00 0HL84SUKNKO90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8696304+03:00 0HL84SUKNKO90 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83893672965474141506434806833&state=15064348068330.9928976296464689"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:46.8701309+03:00 0HL84SUKNKO90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8711316+03:00 0HL84SUKNKO90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:46.8721322+03:00 0HL84SUKNKO90 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:46.8736334+03:00 0HL84SUKNKO90 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.0231ms (afa2e885)
2017-09-26T17:06:46.8766354+03:00 0HL84SUKNKO90 [INF] Request finished in 12.9063ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:50.8475956+03:00 0HL84SUKNKO91 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57494433106056311506434810832&state=15064348108320.7690164091592995   (e5be5b71)
2017-09-26T17:06:50.8515983+03:00 0HL84SUKNKO91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:50.8525994+03:00 0HL84SUKNKO91 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:50.8541001+03:00 0HL84SUKNKO91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8561019+03:00 0HL84SUKNKO91 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:50.8641064+03:00 0HL84SUKNKO91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8651086+03:00 0HL84SUKNKO91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8651086+03:00 0HL84SUKNKO91 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348108320.7690164091592995\",
  \"Nonce\": \"N0.57494433106056311506434810832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57494433106056311506434810832\",
    \"state\": \"15064348108320.7690164091592995\"
  }
}" (9a175e33)
2017-09-26T17:06:50.8691101+03:00 0HL84SUKNKO91 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:50.8696106+03:00 0HL84SUKNKO91 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:50.8711110+03:00 0HL84SUKNKO91 [INF] Request finished in 23.106ms 302  (15c52c40)
2017-09-26T17:06:50.8756142+03:00 0HL84SUKNKO92 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.57494433106056311506434810832%26state%3D15064348108320.7690164091592995   (e5be5b71)
2017-09-26T17:06:50.8791164+03:00 0HL84SUKNKO92 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:50.8796165+03:00 0HL84SUKNKO92 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:50.8801170+03:00 0HL84SUKNKO92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8811181+03:00 0HL84SUKNKO92 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57494433106056311506434810832&state=15064348108320.7690164091592995"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:50.8821223+03:00 0HL84SUKNKO92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8836199+03:00 0HL84SUKNKO92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:50.8841197+03:00 0HL84SUKNKO92 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:50.8866211+03:00 0HL84SUKNKO92 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.593ms (afa2e885)
2017-09-26T17:06:50.8871217+03:00 0HL84SUKNKO92 [INF] Request finished in 11.8109ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:54.8568464+03:00 0HL84SUKNKO93 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96353873281210341506434814843&state=15064348148430.5193816805418177   (e5be5b71)
2017-09-26T17:06:54.8603469+03:00 0HL84SUKNKO93 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:54.8608474+03:00 0HL84SUKNKO93 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:54.8613472+03:00 0HL84SUKNKO93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8613472+03:00 0HL84SUKNKO93 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:54.8618481+03:00 0HL84SUKNKO93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8628480+03:00 0HL84SUKNKO93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8628480+03:00 0HL84SUKNKO93 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348148430.5193816805418177\",
  \"Nonce\": \"N0.96353873281210341506434814843\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96353873281210341506434814843\",
    \"state\": \"15064348148430.5193816805418177\"
  }
}" (9a175e33)
2017-09-26T17:06:54.8663505+03:00 0HL84SUKNKO93 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:54.8668506+03:00 0HL84SUKNKO93 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:54.8673516+03:00 0HL84SUKNKO93 [INF] Request finished in 10.9461ms 302  (15c52c40)
2017-09-26T17:06:54.8703531+03:00 0HL84SUKNKO94 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.96353873281210341506434814843%26state%3D15064348148430.5193816805418177   (e5be5b71)
2017-09-26T17:06:54.8753569+03:00 0HL84SUKNKO94 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:54.8763571+03:00 0HL84SUKNKO94 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:54.8768577+03:00 0HL84SUKNKO94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8778583+03:00 0HL84SUKNKO94 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96353873281210341506434814843&state=15064348148430.5193816805418177"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:54.8778583+03:00 0HL84SUKNKO94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8783585+03:00 0HL84SUKNKO94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:54.8788586+03:00 0HL84SUKNKO94 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:54.8803606+03:00 0HL84SUKNKO94 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.1393ms (afa2e885)
2017-09-26T17:06:54.8808603+03:00 0HL84SUKNKO94 [INF] Request finished in 11.2117ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:06:58.8444425+03:00 0HL84SUKNKO95 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81626782056554981506434818834&state=15064348188340.32384574144412626   (e5be5b71)
2017-09-26T17:06:58.8479442+03:00 0HL84SUKNKO95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:58.8484455+03:00 0HL84SUKNKO95 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:58.8489456+03:00 0HL84SUKNKO95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8494454+03:00 0HL84SUKNKO95 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:06:58.8494454+03:00 0HL84SUKNKO95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8504460+03:00 0HL84SUKNKO95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8504460+03:00 0HL84SUKNKO95 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348188340.32384574144412626\",
  \"Nonce\": \"N0.81626782056554981506434818834\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81626782056554981506434818834\",
    \"state\": \"15064348188340.32384574144412626\"
  }
}" (9a175e33)
2017-09-26T17:06:58.8564500+03:00 0HL84SUKNKO95 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:06:58.8564500+03:00 0HL84SUKNKO95 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:06:58.8574507+03:00 0HL84SUKNKO95 [INF] Request finished in 13.4199ms 302  (15c52c40)
2017-09-26T17:06:58.8604527+03:00 0HL84SUKNKO96 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.81626782056554981506434818834%26state%3D15064348188340.32384574144412626   (e5be5b71)
2017-09-26T17:06:58.8629542+03:00 0HL84SUKNKO96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:06:58.8634543+03:00 0HL84SUKNKO96 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:06:58.8639552+03:00 0HL84SUKNKO96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8649555+03:00 0HL84SUKNKO96 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81626782056554981506434818834&state=15064348188340.32384574144412626"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:06:58.8649555+03:00 0HL84SUKNKO96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8659561+03:00 0HL84SUKNKO96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:06:58.8669580+03:00 0HL84SUKNKO96 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:06:58.8689585+03:00 0HL84SUKNKO96 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.1625ms (afa2e885)
2017-09-26T17:06:58.8699592+03:00 0HL84SUKNKO96 [INF] Request finished in 9.0794ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:02.8478108+03:00 0HL84SUKNKO97 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41339204784812411506434822830&state=15064348228300.06818091419567729   (e5be5b71)
2017-09-26T17:07:02.8518134+03:00 0HL84SUKNKO97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:02.8523140+03:00 0HL84SUKNKO97 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:02.8533146+03:00 0HL84SUKNKO97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8533146+03:00 0HL84SUKNKO97 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:02.8538144+03:00 0HL84SUKNKO97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8543145+03:00 0HL84SUKNKO97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8548150+03:00 0HL84SUKNKO97 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348228300.06818091419567729\",
  \"Nonce\": \"N0.41339204784812411506434822830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.41339204784812411506434822830\",
    \"state\": \"15064348228300.06818091419567729\"
  }
}" (9a175e33)
2017-09-26T17:07:02.8598183+03:00 0HL84SUKNKO97 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:02.8603193+03:00 0HL84SUKNKO97 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:02.8608190+03:00 0HL84SUKNKO97 [INF] Request finished in 13.6366ms 302  (15c52c40)
2017-09-26T17:07:02.8638206+03:00 0HL84SUKNKO98 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.41339204784812411506434822830%26state%3D15064348228300.06818091419567729   (e5be5b71)
2017-09-26T17:07:02.8668234+03:00 0HL84SUKNKO98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:02.8678241+03:00 0HL84SUKNKO98 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:02.8733279+03:00 0HL84SUKNKO98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8753288+03:00 0HL84SUKNKO98 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41339204784812411506434822830&state=15064348228300.06818091419567729"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:02.8768340+03:00 0HL84SUKNKO98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8778303+03:00 0HL84SUKNKO98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:02.8783304+03:00 0HL84SUKNKO98 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:02.8803318+03:00 0HL84SUKNKO98 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.3418ms (afa2e885)
2017-09-26T17:07:02.8813324+03:00 0HL84SUKNKO98 [INF] Request finished in 17.8165ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:06.8495685+03:00 0HL84SUKNKO99 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86947484808035691506434826830&state=15064348268300.09445645822589244   (e5be5b71)
2017-09-26T17:07:06.8535708+03:00 0HL84SUKNKO99 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:06.8540713+03:00 0HL84SUKNKO99 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:06.8545715+03:00 0HL84SUKNKO99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8545715+03:00 0HL84SUKNKO99 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:06.8555721+03:00 0HL84SUKNKO99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8565728+03:00 0HL84SUKNKO99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8565728+03:00 0HL84SUKNKO99 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348268300.09445645822589244\",
  \"Nonce\": \"N0.86947484808035691506434826830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86947484808035691506434826830\",
    \"state\": \"15064348268300.09445645822589244\"
  }
}" (9a175e33)
2017-09-26T17:07:06.8605755+03:00 0HL84SUKNKO99 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:06.8610764+03:00 0HL84SUKNKO99 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:06.8625764+03:00 0HL84SUKNKO99 [INF] Request finished in 13.9054ms 302  (15c52c40)
2017-09-26T17:07:06.8700816+03:00 0HL84SUKNKO9A [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.86947484808035691506434826830%26state%3D15064348268300.09445645822589244   (e5be5b71)
2017-09-26T17:07:06.8740854+03:00 0HL84SUKNKO9A [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:06.8745848+03:00 0HL84SUKNKO9A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:06.8745848+03:00 0HL84SUKNKO9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8760856+03:00 0HL84SUKNKO9A [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86947484808035691506434826830&state=15064348268300.09445645822589244"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:06.8765861+03:00 0HL84SUKNKO9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8770862+03:00 0HL84SUKNKO9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:06.8775867+03:00 0HL84SUKNKO9A [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:06.8795881+03:00 0HL84SUKNKO9A [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.3038ms (afa2e885)
2017-09-26T17:07:06.8805887+03:00 0HL84SUKNKO9A [INF] Request finished in 10.6729ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:10.8641972+03:00 0HL84SUKNKO9B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.192684176923903161506434830841&state=15064348308410.2615895642970223   (e5be5b71)
2017-09-26T17:07:10.8676966+03:00 0HL84SUKNKO9B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:10.8681967+03:00 0HL84SUKNKO9B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:10.8686968+03:00 0HL84SUKNKO9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8686968+03:00 0HL84SUKNKO9B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:10.8691977+03:00 0HL84SUKNKO9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8701980+03:00 0HL84SUKNKO9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8701980+03:00 0HL84SUKNKO9B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348308410.2615895642970223\",
  \"Nonce\": \"N0.192684176923903161506434830841\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.192684176923903161506434830841\",
    \"state\": \"15064348308410.2615895642970223\"
  }
}" (9a175e33)
2017-09-26T17:07:10.8747012+03:00 0HL84SUKNKO9B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:10.8752021+03:00 0HL84SUKNKO9B [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:10.8762024+03:00 0HL84SUKNKO9B [INF] Request finished in 12.9604ms 302  (15c52c40)
2017-09-26T17:07:10.8832070+03:00 0HL84SUKNKO9C [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.192684176923903161506434830841%26state%3D15064348308410.2615895642970223   (e5be5b71)
2017-09-26T17:07:10.8857085+03:00 0HL84SUKNKO9C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:10.8867092+03:00 0HL84SUKNKO9C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:10.8872093+03:00 0HL84SUKNKO9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8882104+03:00 0HL84SUKNKO9C [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.192684176923903161506434830841&state=15064348308410.2615895642970223"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:10.8887105+03:00 0HL84SUKNKO9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8897116+03:00 0HL84SUKNKO9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:10.8917129+03:00 0HL84SUKNKO9C [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:10.8937138+03:00 0HL84SUKNKO9C [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.8753ms (afa2e885)
2017-09-26T17:07:10.8942144+03:00 0HL84SUKNKO9C [INF] Request finished in 11.6558ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:14.8459255+03:00 0HL84SUKNKO9D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.248275542732338651506434834832&state=15064348348320.26587697813161326   (e5be5b71)
2017-09-26T17:07:14.8489275+03:00 0HL84SUKNKO9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:14.8494280+03:00 0HL84SUKNKO9D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:14.8499281+03:00 0HL84SUKNKO9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8499281+03:00 0HL84SUKNKO9D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:14.8504303+03:00 0HL84SUKNKO9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8509292+03:00 0HL84SUKNKO9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8509292+03:00 0HL84SUKNKO9D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348348320.26587697813161326\",
  \"Nonce\": \"N0.248275542732338651506434834832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.248275542732338651506434834832\",
    \"state\": \"15064348348320.26587697813161326\"
  }
}" (9a175e33)
2017-09-26T17:07:14.8534307+03:00 0HL84SUKNKO9D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:14.8539308+03:00 0HL84SUKNKO9D [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:14.8554320+03:00 0HL84SUKNKO9D [INF] Request finished in 8.6629ms 302  (15c52c40)
2017-09-26T17:07:14.8574333+03:00 0HL84SUKNKO9E [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.248275542732338651506434834832%26state%3D15064348348320.26587697813161326   (e5be5b71)
2017-09-26T17:07:14.8614356+03:00 0HL84SUKNKO9E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:14.8624367+03:00 0HL84SUKNKO9E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:14.8624367+03:00 0HL84SUKNKO9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8644380+03:00 0HL84SUKNKO9E [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.248275542732338651506434834832&state=15064348348320.26587697813161326"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:14.8649385+03:00 0HL84SUKNKO9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8654398+03:00 0HL84SUKNKO9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:14.8661042+03:00 0HL84SUKNKO9E [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:14.8676058+03:00 0HL84SUKNKO9E [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.2481ms (afa2e885)
2017-09-26T17:07:14.8681059+03:00 0HL84SUKNKO9E [INF] Request finished in 10.9934ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:18.8473888+03:00 0HL84SUKNKO9F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27187874964872761506434838832&state=15064348388320.8297018609032167   (e5be5b71)
2017-09-26T17:07:18.8513911+03:00 0HL84SUKNKO9F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:18.8523917+03:00 0HL84SUKNKO9F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:18.8523917+03:00 0HL84SUKNKO9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8533924+03:00 0HL84SUKNKO9F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:18.8533924+03:00 0HL84SUKNKO9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8543930+03:00 0HL84SUKNKO9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8543930+03:00 0HL84SUKNKO9F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348388320.8297018609032167\",
  \"Nonce\": \"N0.27187874964872761506434838832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27187874964872761506434838832\",
    \"state\": \"15064348388320.8297018609032167\"
  }
}" (9a175e33)
2017-09-26T17:07:18.8583961+03:00 0HL84SUKNKO9F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:18.8593964+03:00 0HL84SUKNKO9F [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:18.8593964+03:00 0HL84SUKNKO9F [INF] Request finished in 13.607ms 302  (15c52c40)
2017-09-26T17:07:18.8714043+03:00 0HL84SUKNKO9G [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.27187874964872761506434838832%26state%3D15064348388320.8297018609032167   (e5be5b71)
2017-09-26T17:07:18.8744063+03:00 0HL84SUKNKO9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:18.8754070+03:00 0HL84SUKNKO9G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:18.8764088+03:00 0HL84SUKNKO9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8774083+03:00 0HL84SUKNKO9G [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27187874964872761506434838832&state=15064348388320.8297018609032167"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:18.8774083+03:00 0HL84SUKNKO9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8784082+03:00 0HL84SUKNKO9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:18.8784082+03:00 0HL84SUKNKO9G [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:18.8804099+03:00 0HL84SUKNKO9G [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.2984ms (afa2e885)
2017-09-26T17:07:18.8804099+03:00 0HL84SUKNKO9G [INF] Request finished in 9.5901ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:22.8409743+03:00 0HL84SUKNKO9H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56705772884070281506434842829&state=15064348428290.6168810290920483   (e5be5b71)
2017-09-26T17:07:22.8439798+03:00 0HL84SUKNKO9H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:22.8444772+03:00 0HL84SUKNKO9H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:22.8449769+03:00 0HL84SUKNKO9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8449769+03:00 0HL84SUKNKO9H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:22.8454771+03:00 0HL84SUKNKO9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8459780+03:00 0HL84SUKNKO9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8459780+03:00 0HL84SUKNKO9H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348428290.6168810290920483\",
  \"Nonce\": \"N0.56705772884070281506434842829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56705772884070281506434842829\",
    \"state\": \"15064348428290.6168810290920483\"
  }
}" (9a175e33)
2017-09-26T17:07:22.8479987+03:00 0HL84SUKNKO9H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:22.8479987+03:00 0HL84SUKNKO9H [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:22.8500012+03:00 0HL84SUKNKO9H [INF] Request finished in 9.0347ms 302  (15c52c40)
2017-09-26T17:07:22.8510018+03:00 0HL84SUKNKO9I [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.56705772884070281506434842829%26state%3D15064348428290.6168810290920483   (e5be5b71)
2017-09-26T17:07:22.8540038+03:00 0HL84SUKNKO9I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:22.8540038+03:00 0HL84SUKNKO9I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:22.8540038+03:00 0HL84SUKNKO9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8550041+03:00 0HL84SUKNKO9I [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56705772884070281506434842829&state=15064348428290.6168810290920483"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:22.8560044+03:00 0HL84SUKNKO9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8560044+03:00 0HL84SUKNKO9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:22.8570058+03:00 0HL84SUKNKO9I [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:22.8590064+03:00 0HL84SUKNKO9I [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.6442ms (afa2e885)
2017-09-26T17:07:22.8590064+03:00 0HL84SUKNKO9I [INF] Request finished in 8.2713ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:26.8631776+03:00 0HL84SUKNKO9J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48546818619740221506434846830&state=15064348468300.11627945140044704   (e5be5b71)
2017-09-26T17:07:26.8681805+03:00 0HL84SUKNKO9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:26.8691812+03:00 0HL84SUKNKO9J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:26.8701818+03:00 0HL84SUKNKO9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8701818+03:00 0HL84SUKNKO9J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:26.8711825+03:00 0HL84SUKNKO9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8741849+03:00 0HL84SUKNKO9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8741849+03:00 0HL84SUKNKO9J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348468300.11627945140044704\",
  \"Nonce\": \"N0.48546818619740221506434846830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48546818619740221506434846830\",
    \"state\": \"15064348468300.11627945140044704\"
  }
}" (9a175e33)
2017-09-26T17:07:26.8801889+03:00 0HL84SUKNKO9J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:26.8801889+03:00 0HL84SUKNKO9J [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:26.8821898+03:00 0HL84SUKNKO9J [INF] Request finished in 18.7094ms 302  (15c52c40)
2017-09-26T17:07:26.8881954+03:00 0HL84SUKNKO9K [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.48546818619740221506434846830%26state%3D15064348468300.11627945140044704   (e5be5b71)
2017-09-26T17:07:26.8921980+03:00 0HL84SUKNKO9K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:26.8931975+03:00 0HL84SUKNKO9K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:26.8931975+03:00 0HL84SUKNKO9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8941982+03:00 0HL84SUKNKO9K [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48546818619740221506434846830&state=15064348468300.11627945140044704"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:26.8941982+03:00 0HL84SUKNKO9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8951984+03:00 0HL84SUKNKO9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:26.8951984+03:00 0HL84SUKNKO9K [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:26.8972006+03:00 0HL84SUKNKO9K [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.2013ms (afa2e885)
2017-09-26T17:07:26.8982008+03:00 0HL84SUKNKO9K [INF] Request finished in 9.7528ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:30.8601858+03:00 0HL84SUKNKO9L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.419916859644484661506434850831&state=15064348508310.594274966077226   (e5be5b71)
2017-09-26T17:07:30.8641885+03:00 0HL84SUKNKO9L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:30.8651892+03:00 0HL84SUKNKO9L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:30.8651892+03:00 0HL84SUKNKO9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8661898+03:00 0HL84SUKNKO9L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:30.8661898+03:00 0HL84SUKNKO9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8671913+03:00 0HL84SUKNKO9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8671913+03:00 0HL84SUKNKO9L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348508310.594274966077226\",
  \"Nonce\": \"N0.419916859644484661506434850831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.419916859644484661506434850831\",
    \"state\": \"15064348508310.594274966077226\"
  }
}" (9a175e33)
2017-09-26T17:07:30.8701933+03:00 0HL84SUKNKO9L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:30.8711939+03:00 0HL84SUKNKO9L [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:30.8711939+03:00 0HL84SUKNKO9L [INF] Request finished in 12.0024ms 302  (15c52c40)
2017-09-26T17:07:30.8741959+03:00 0HL84SUKNKO9M [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.419916859644484661506434850831%26state%3D15064348508310.594274966077226   (e5be5b71)
2017-09-26T17:07:30.8781978+03:00 0HL84SUKNKO9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:30.8781978+03:00 0HL84SUKNKO9M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:30.8791989+03:00 0HL84SUKNKO9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8811994+03:00 0HL84SUKNKO9M [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.419916859644484661506434850831&state=15064348508310.594274966077226"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:30.8811994+03:00 0HL84SUKNKO9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8811994+03:00 0HL84SUKNKO9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:30.8822001+03:00 0HL84SUKNKO9M [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:30.8842018+03:00 0HL84SUKNKO9M [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.7322ms (afa2e885)
2017-09-26T17:07:30.8842018+03:00 0HL84SUKNKO9M [INF] Request finished in 10.4065ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:34.8550550+03:00 0HL84SUKNKO9N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56015531725638581506434854829&state=15064348548290.7272244991408163   (e5be5b71)
2017-09-26T17:07:34.8620597+03:00 0HL84SUKNKO9N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:34.8650613+03:00 0HL84SUKNKO9N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:34.8660619+03:00 0HL84SUKNKO9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8660619+03:00 0HL84SUKNKO9N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:34.8670626+03:00 0HL84SUKNKO9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8690643+03:00 0HL84SUKNKO9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8690643+03:00 0HL84SUKNKO9N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348548290.7272244991408163\",
  \"Nonce\": \"N0.56015531725638581506434854829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56015531725638581506434854829\",
    \"state\": \"15064348548290.7272244991408163\"
  }
}" (9a175e33)
2017-09-26T17:07:34.8750675+03:00 0HL84SUKNKO9N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:34.8750675+03:00 0HL84SUKNKO9N [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:34.8760698+03:00 0HL84SUKNKO9N [INF] Request finished in 22.9596ms 302  (15c52c40)
2017-09-26T17:07:34.8800712+03:00 0HL84SUKNKO9O [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.56015531725638581506434854829%26state%3D15064348548290.7272244991408163   (e5be5b71)
2017-09-26T17:07:34.8840743+03:00 0HL84SUKNKO9O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:34.8850750+03:00 0HL84SUKNKO9O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:34.8860780+03:00 0HL84SUKNKO9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8870779+03:00 0HL84SUKNKO9O [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56015531725638581506434854829&state=15064348548290.7272244991408163"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:34.8880773+03:00 0HL84SUKNKO9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8880773+03:00 0HL84SUKNKO9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:34.8890768+03:00 0HL84SUKNKO9O [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:34.8960842+03:00 0HL84SUKNKO9O [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.7889ms (afa2e885)
2017-09-26T17:07:34.8980832+03:00 0HL84SUKNKO9O [INF] Request finished in 17.4415ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:38.8614226+03:00 0HL84SUKNKO9P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.42267182314597341506434858830&state=15064348588300.7746367540442745   (e5be5b71)
2017-09-26T17:07:38.8654248+03:00 0HL84SUKNKO9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:38.8664263+03:00 0HL84SUKNKO9P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:38.8664263+03:00 0HL84SUKNKO9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8664263+03:00 0HL84SUKNKO9P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:38.8674273+03:00 0HL84SUKNKO9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8674273+03:00 0HL84SUKNKO9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8674273+03:00 0HL84SUKNKO9P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348588300.7746367540442745\",
  \"Nonce\": \"N0.42267182314597341506434858830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.42267182314597341506434858830\",
    \"state\": \"15064348588300.7746367540442745\"
  }
}" (9a175e33)
2017-09-26T17:07:38.8714292+03:00 0HL84SUKNKO9P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:38.8714292+03:00 0HL84SUKNKO9P [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:38.8724291+03:00 0HL84SUKNKO9P [INF] Request finished in 11.7036ms 302  (15c52c40)
2017-09-26T17:07:38.8754315+03:00 0HL84SUKNKO9Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.42267182314597341506434858830%26state%3D15064348588300.7746367540442745   (e5be5b71)
2017-09-26T17:07:38.8804356+03:00 0HL84SUKNKO9Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:38.8804356+03:00 0HL84SUKNKO9Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:38.8814359+03:00 0HL84SUKNKO9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8824361+03:00 0HL84SUKNKO9Q [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.42267182314597341506434858830&state=15064348588300.7746367540442745"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:38.8824361+03:00 0HL84SUKNKO9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8834372+03:00 0HL84SUKNKO9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:38.8834372+03:00 0HL84SUKNKO9Q [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:38.8864388+03:00 0HL84SUKNKO9Q [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.9762ms (afa2e885)
2017-09-26T17:07:38.8864388+03:00 0HL84SUKNKO9Q [INF] Request finished in 11.3929ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:42.8441559+03:00 0HL84SUKNKO9R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37475348073804041506434862829&state=15064348628290.17675860709921176   (e5be5b71)
2017-09-26T17:07:42.8471594+03:00 0HL84SUKNKO9R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:42.8471594+03:00 0HL84SUKNKO9R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:42.8481597+03:00 0HL84SUKNKO9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8481597+03:00 0HL84SUKNKO9R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:42.8491596+03:00 0HL84SUKNKO9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8491596+03:00 0HL84SUKNKO9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8491596+03:00 0HL84SUKNKO9R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348628290.17675860709921176\",
  \"Nonce\": \"N0.37475348073804041506434862829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37475348073804041506434862829\",
    \"state\": \"15064348628290.17675860709921176\"
  }
}" (9a175e33)
2017-09-26T17:07:42.8541629+03:00 0HL84SUKNKO9R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:42.8541629+03:00 0HL84SUKNKO9R [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:42.8551636+03:00 0HL84SUKNKO9R [INF] Request finished in 11.5421ms 302  (15c52c40)
2017-09-26T17:07:42.8591662+03:00 0HL84SUKNKO9S [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.37475348073804041506434862829%26state%3D15064348628290.17675860709921176   (e5be5b71)
2017-09-26T17:07:42.8621690+03:00 0HL84SUKNKO9S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:42.8631689+03:00 0HL84SUKNKO9S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:42.8631689+03:00 0HL84SUKNKO9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8641696+03:00 0HL84SUKNKO9S [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37475348073804041506434862829&state=15064348628290.17675860709921176"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:42.8641696+03:00 0HL84SUKNKO9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8651702+03:00 0HL84SUKNKO9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:42.8651702+03:00 0HL84SUKNKO9S [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:42.8711754+03:00 0HL84SUKNKO9S [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.3016ms (afa2e885)
2017-09-26T17:07:42.8721749+03:00 0HL84SUKNKO9S [INF] Request finished in 13.3429ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:46.8495626+03:00 0HL84SUKNKO9T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57444177394252671506434866832&state=15064348668320.49693372521831414   (e5be5b71)
2017-09-26T17:07:46.8535657+03:00 0HL84SUKNKO9T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:46.8535657+03:00 0HL84SUKNKO9T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:46.8545655+03:00 0HL84SUKNKO9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8545655+03:00 0HL84SUKNKO9T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:46.8545655+03:00 0HL84SUKNKO9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8555658+03:00 0HL84SUKNKO9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8555658+03:00 0HL84SUKNKO9T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348668320.49693372521831414\",
  \"Nonce\": \"N0.57444177394252671506434866832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57444177394252671506434866832\",
    \"state\": \"15064348668320.49693372521831414\"
  }
}" (9a175e33)
2017-09-26T17:07:46.8595704+03:00 0HL84SUKNKO9T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:46.8605703+03:00 0HL84SUKNKO9T [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:46.8605703+03:00 0HL84SUKNKO9T [INF] Request finished in 11.6487ms 302  (15c52c40)
2017-09-26T17:07:46.8635723+03:00 0HL84SUKNKO9U [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.57444177394252671506434866832%26state%3D15064348668320.49693372521831414   (e5be5b71)
2017-09-26T17:07:46.8665735+03:00 0HL84SUKNKO9U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:46.8665735+03:00 0HL84SUKNKO9U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:46.8665735+03:00 0HL84SUKNKO9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8675746+03:00 0HL84SUKNKO9U [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57444177394252671506434866832&state=15064348668320.49693372521831414"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:46.8695775+03:00 0HL84SUKNKO9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8695775+03:00 0HL84SUKNKO9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:46.8705766+03:00 0HL84SUKNKO9U [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:46.8725779+03:00 0HL84SUKNKO9U [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.7617ms (afa2e885)
2017-09-26T17:07:46.8725779+03:00 0HL84SUKNKO9U [INF] Request finished in 9.6415ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:50.8654746+03:00 0HL84SUKNKO9V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46241979943022991506434870831&state=15064348708310.31908817725319705   (e5be5b71)
2017-09-26T17:07:50.8694776+03:00 0HL84SUKNKO9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:50.8694776+03:00 0HL84SUKNKO9V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:50.8694776+03:00 0HL84SUKNKO9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8694776+03:00 0HL84SUKNKO9V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:50.8704787+03:00 0HL84SUKNKO9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8704787+03:00 0HL84SUKNKO9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8704787+03:00 0HL84SUKNKO9V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348708310.31908817725319705\",
  \"Nonce\": \"N0.46241979943022991506434870831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46241979943022991506434870831\",
    \"state\": \"15064348708310.31908817725319705\"
  }
}" (9a175e33)
2017-09-26T17:07:50.8734807+03:00 0HL84SUKNKO9V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:50.8734807+03:00 0HL84SUKNKO9V [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:50.8754824+03:00 0HL84SUKNKO9V [INF] Request finished in 9.0103ms 302  (15c52c40)
2017-09-26T17:07:50.8774833+03:00 0HL84SUKNKOA0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.46241979943022991506434870831%26state%3D15064348708310.31908817725319705   (e5be5b71)
2017-09-26T17:07:50.8794850+03:00 0HL84SUKNKOA0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:50.8804857+03:00 0HL84SUKNKOA0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:50.8804857+03:00 0HL84SUKNKOA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8814860+03:00 0HL84SUKNKOA0 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46241979943022991506434870831&state=15064348708310.31908817725319705"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:50.8824859+03:00 0HL84SUKNKOA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8824859+03:00 0HL84SUKNKOA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:50.8824859+03:00 0HL84SUKNKOA0 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:50.8864881+03:00 0HL84SUKNKOA0 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 2.8397ms (afa2e885)
2017-09-26T17:07:50.8864881+03:00 0HL84SUKNKOA0 [INF] Request finished in 9.4879ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:54.8567090+03:00 0HL84SUKNKOA1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.041269264666119021506434874830&state=15064348748300.2621232911290159   (e5be5b71)
2017-09-26T17:07:54.8637188+03:00 0HL84SUKNKOA1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:54.8667176+03:00 0HL84SUKNKOA1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:54.8677167+03:00 0HL84SUKNKOA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8677167+03:00 0HL84SUKNKOA1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:54.8687181+03:00 0HL84SUKNKOA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8697180+03:00 0HL84SUKNKOA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8697180+03:00 0HL84SUKNKOA1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348748300.2621232911290159\",
  \"Nonce\": \"N0.041269264666119021506434874830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.041269264666119021506434874830\",
    \"state\": \"15064348748300.2621232911290159\"
  }
}" (9a175e33)
2017-09-26T17:07:54.8777249+03:00 0HL84SUKNKOA1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:54.8787256+03:00 0HL84SUKNKOA1 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:54.8797235+03:00 0HL84SUKNKOA1 [INF] Request finished in 24.1027ms 302  (15c52c40)
2017-09-26T17:07:54.8837249+03:00 0HL84SUKNKOA2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.041269264666119021506434874830%26state%3D15064348748300.2621232911290159   (e5be5b71)
2017-09-26T17:07:54.8867269+03:00 0HL84SUKNKOA2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:54.8867269+03:00 0HL84SUKNKOA2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:54.8877272+03:00 0HL84SUKNKOA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8887283+03:00 0HL84SUKNKOA2 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.041269264666119021506434874830&state=15064348748300.2621232911290159"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:54.8887283+03:00 0HL84SUKNKOA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8897317+03:00 0HL84SUKNKOA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:54.8907320+03:00 0HL84SUKNKOA2 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:54.8927317+03:00 0HL84SUKNKOA2 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.7964ms (afa2e885)
2017-09-26T17:07:54.8957333+03:00 0HL84SUKNKOA2 [INF] Request finished in 10.9449ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:07:58.8444188+03:00 0HL84SUKNKOA3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41071434823424281506434878830&state=15064348788300.395907847147551   (e5be5b71)
2017-09-26T17:07:58.8474204+03:00 0HL84SUKNKOA3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:58.8484198+03:00 0HL84SUKNKOA3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:58.8484198+03:00 0HL84SUKNKOA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8484198+03:00 0HL84SUKNKOA3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:07:58.8494209+03:00 0HL84SUKNKOA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8494209+03:00 0HL84SUKNKOA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8504216+03:00 0HL84SUKNKOA3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348788300.395907847147551\",
  \"Nonce\": \"N0.41071434823424281506434878830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.41071434823424281506434878830\",
    \"state\": \"15064348788300.395907847147551\"
  }
}" (9a175e33)
2017-09-26T17:07:58.8534240+03:00 0HL84SUKNKOA3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:07:58.8534240+03:00 0HL84SUKNKOA3 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:07:58.8544246+03:00 0HL84SUKNKOA3 [INF] Request finished in 10.8095ms 302  (15c52c40)
2017-09-26T17:07:58.8574262+03:00 0HL84SUKNKOA4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.41071434823424281506434878830%26state%3D15064348788300.395907847147551   (e5be5b71)
2017-09-26T17:07:58.8604286+03:00 0HL84SUKNKOA4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:07:58.8624299+03:00 0HL84SUKNKOA4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:07:58.8624299+03:00 0HL84SUKNKOA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8634310+03:00 0HL84SUKNKOA4 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41071434823424281506434878830&state=15064348788300.395907847147551"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:07:58.8644305+03:00 0HL84SUKNKOA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8644305+03:00 0HL84SUKNKOA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:07:58.8654323+03:00 0HL84SUKNKOA4 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:07:58.8684335+03:00 0HL84SUKNKOA4 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.2422ms (afa2e885)
2017-09-26T17:07:58.8694342+03:00 0HL84SUKNKOA4 [INF] Request finished in 11.9337ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:02.8479055+03:00 0HL84SUKNKOA5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.378770302942271506434882832&state=15064348828320.9961754105242109   (e5be5b71)
2017-09-26T17:08:02.8509083+03:00 0HL84SUKNKOA5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:02.8519090+03:00 0HL84SUKNKOA5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:02.8519090+03:00 0HL84SUKNKOA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8519090+03:00 0HL84SUKNKOA5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:02.8529092+03:00 0HL84SUKNKOA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8539095+03:00 0HL84SUKNKOA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8539095+03:00 0HL84SUKNKOA5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348828320.9961754105242109\",
  \"Nonce\": \"N0.378770302942271506434882832\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.378770302942271506434882832\",
    \"state\": \"15064348828320.9961754105242109\"
  }
}" (9a175e33)
2017-09-26T17:08:02.8589136+03:00 0HL84SUKNKOA5 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:02.8589136+03:00 0HL84SUKNKOA5 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:02.8599139+03:00 0HL84SUKNKOA5 [INF] Request finished in 13.2695ms 302  (15c52c40)
2017-09-26T17:08:02.8679188+03:00 0HL84SUKNKOA6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.378770302942271506434882832%26state%3D15064348828320.9961754105242109   (e5be5b71)
2017-09-26T17:08:02.8709212+03:00 0HL84SUKNKOA6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:02.8719218+03:00 0HL84SUKNKOA6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:02.8719218+03:00 0HL84SUKNKOA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8749234+03:00 0HL84SUKNKOA6 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.378770302942271506434882832&state=15064348828320.9961754105242109"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:02.8749234+03:00 0HL84SUKNKOA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8769252+03:00 0HL84SUKNKOA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:02.8769252+03:00 0HL84SUKNKOA6 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:02.8789261+03:00 0HL84SUKNKOA6 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.7706ms (afa2e885)
2017-09-26T17:08:02.8799272+03:00 0HL84SUKNKOA6 [INF] Request finished in 12.81ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:06.8449323+03:00 0HL84SUKNKOA7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79745994408806251506434886833&state=15064348868330.047695905700019914   (e5be5b71)
2017-09-26T17:08:06.8474334+03:00 0HL84SUKNKOA7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:06.8488781+03:00 0HL84SUKNKOA7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:06.8488781+03:00 0HL84SUKNKOA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8488781+03:00 0HL84SUKNKOA7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:06.8488781+03:00 0HL84SUKNKOA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8498784+03:00 0HL84SUKNKOA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8498784+03:00 0HL84SUKNKOA7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348868330.047695905700019914\",
  \"Nonce\": \"N0.79745994408806251506434886833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79745994408806251506434886833\",
    \"state\": \"15064348868330.047695905700019914\"
  }
}" (9a175e33)
2017-09-26T17:08:06.8528832+03:00 0HL84SUKNKOA7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:06.8538811+03:00 0HL84SUKNKOA7 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:06.8538811+03:00 0HL84SUKNKOA7 [INF] Request finished in 10.0504ms 302  (15c52c40)
2017-09-26T17:08:06.8568842+03:00 0HL84SUKNKOA8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.79745994408806251506434886833%26state%3D15064348868330.047695905700019914   (e5be5b71)
2017-09-26T17:08:06.8598858+03:00 0HL84SUKNKOA8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:06.8598858+03:00 0HL84SUKNKOA8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:06.8608865+03:00 0HL84SUKNKOA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8618884+03:00 0HL84SUKNKOA8 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79745994408806251506434886833&state=15064348868330.047695905700019914"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:06.8628894+03:00 0HL84SUKNKOA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8628894+03:00 0HL84SUKNKOA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:06.8638897+03:00 0HL84SUKNKOA8 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:06.8658894+03:00 0HL84SUKNKOA8 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.9856ms (afa2e885)
2017-09-26T17:08:06.8658894+03:00 0HL84SUKNKOA8 [INF] Request finished in 9.6667ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:10.8461205+03:00 0HL84SUKNKOA9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0252578582082378931506434890830&state=15064348908300.8544528612824203   (e5be5b71)
2017-09-26T17:08:10.8491225+03:00 0HL84SUKNKOA9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:10.8501228+03:00 0HL84SUKNKOA9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:10.8506229+03:00 0HL84SUKNKOA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8506229+03:00 0HL84SUKNKOA9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:10.8506229+03:00 0HL84SUKNKOA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8516429+03:00 0HL84SUKNKOA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8516429+03:00 0HL84SUKNKOA9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348908300.8544528612824203\",
  \"Nonce\": \"N0.0252578582082378931506434890830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0252578582082378931506434890830\",
    \"state\": \"15064348908300.8544528612824203\"
  }
}" (9a175e33)
2017-09-26T17:08:10.8556463+03:00 0HL84SUKNKOA9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:10.8556463+03:00 0HL84SUKNKOA9 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:10.8566466+03:00 0HL84SUKNKOA9 [INF] Request finished in 11.3637ms 302  (15c52c40)
2017-09-26T17:08:10.8596486+03:00 0HL84SUKNKOAA [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.0252578582082378931506434890830%26state%3D15064348908300.8544528612824203   (e5be5b71)
2017-09-26T17:08:10.8626502+03:00 0HL84SUKNKOAA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:10.8626502+03:00 0HL84SUKNKOAA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:10.8636509+03:00 0HL84SUKNKOAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8646519+03:00 0HL84SUKNKOAA [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0252578582082378931506434890830&state=15064348908300.8544528612824203"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:10.8646519+03:00 0HL84SUKNKOAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8656522+03:00 0HL84SUKNKOAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:10.8656522+03:00 0HL84SUKNKOAA [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:10.8676535+03:00 0HL84SUKNKOAA [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.6316ms (afa2e885)
2017-09-26T17:08:10.8686542+03:00 0HL84SUKNKOAA [INF] Request finished in 9.3667ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:14.8391766+03:00 0HL84SUKNKOAB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9337365481669691506434894829&state=15064348948290.18462647213134575   (e5be5b71)
2017-09-26T17:08:14.8426799+03:00 0HL84SUKNKOAB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:14.8434331+03:00 0HL84SUKNKOAB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:14.8436325+03:00 0HL84SUKNKOAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8436325+03:00 0HL84SUKNKOAB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:14.8441357+03:00 0HL84SUKNKOAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8446351+03:00 0HL84SUKNKOAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8446351+03:00 0HL84SUKNKOAB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348948290.18462647213134575\",
  \"Nonce\": \"N0.9337365481669691506434894829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9337365481669691506434894829\",
    \"state\": \"15064348948290.18462647213134575\"
  }
}" (9a175e33)
2017-09-26T17:08:14.8476371+03:00 0HL84SUKNKOAB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:14.8476371+03:00 0HL84SUKNKOAB [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:14.8486374+03:00 0HL84SUKNKOAB [INF] Request finished in 9.6146ms 302  (15c52c40)
2017-09-26T17:08:14.8506383+03:00 0HL84SUKNKOAC [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.9337365481669691506434894829%26state%3D15064348948290.18462647213134575   (e5be5b71)
2017-09-26T17:08:14.8531397+03:00 0HL84SUKNKOAC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:14.8536415+03:00 0HL84SUKNKOAC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:14.8536415+03:00 0HL84SUKNKOAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8546559+03:00 0HL84SUKNKOAC [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9337365481669691506434894829&state=15064348948290.18462647213134575"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:14.8546559+03:00 0HL84SUKNKOAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8556558+03:00 0HL84SUKNKOAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:14.8556558+03:00 0HL84SUKNKOAC [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:14.8576579+03:00 0HL84SUKNKOAC [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 2.7244ms (afa2e885)
2017-09-26T17:08:14.8576579+03:00 0HL84SUKNKOAC [INF] Request finished in 7.9239ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:18.8451822+03:00 0HL84SUKNKOAD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.284115375976874641506434898830&state=15064348988300.736259057953488   (e5be5b71)
2017-09-26T17:08:18.8486843+03:00 0HL84SUKNKOAD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:18.8491852+03:00 0HL84SUKNKOAD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:18.8496858+03:00 0HL84SUKNKOAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8501855+03:00 0HL84SUKNKOAD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:18.8506857+03:00 0HL84SUKNKOAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8516863+03:00 0HL84SUKNKOAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8516863+03:00 0HL84SUKNKOAD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064348988300.736259057953488\",
  \"Nonce\": \"N0.284115375976874641506434898830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.284115375976874641506434898830\",
    \"state\": \"15064348988300.736259057953488\"
  }
}" (9a175e33)
2017-09-26T17:08:18.8576903+03:00 0HL84SUKNKOAD [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:18.8586949+03:00 0HL84SUKNKOAD [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:18.8606955+03:00 0HL84SUKNKOAD [INF] Request finished in 14.6073ms 302  (15c52c40)
2017-09-26T17:08:18.8707033+03:00 0HL84SUKNKOAE [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.284115375976874641506434898830%26state%3D15064348988300.736259057953488   (e5be5b71)
2017-09-26T17:08:18.8747052+03:00 0HL84SUKNKOAE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:18.8767085+03:00 0HL84SUKNKOAE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:18.8777075+03:00 0HL84SUKNKOAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8787082+03:00 0HL84SUKNKOAE [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.284115375976874641506434898830&state=15064348988300.736259057953488"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:18.8797089+03:00 0HL84SUKNKOAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8807103+03:00 0HL84SUKNKOAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:18.8817094+03:00 0HL84SUKNKOAE [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:18.8837107+03:00 0HL84SUKNKOAE [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.4585ms (afa2e885)
2017-09-26T17:08:18.8837107+03:00 0HL84SUKNKOAE [INF] Request finished in 13.8166ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:22.8545691+03:00 0HL84SUKNKOAF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.234148042511981961506434902835&state=15064349028350.5266645427309851   (e5be5b71)
2017-09-26T17:08:22.8575707+03:00 0HL84SUKNKOAF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:22.8580732+03:00 0HL84SUKNKOAF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:22.8585714+03:00 0HL84SUKNKOAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8590715+03:00 0HL84SUKNKOAF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:22.8595724+03:00 0HL84SUKNKOAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8600730+03:00 0HL84SUKNKOAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8605731+03:00 0HL84SUKNKOAF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349028350.5266645427309851\",
  \"Nonce\": \"N0.234148042511981961506434902835\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.234148042511981961506434902835\",
    \"state\": \"15064349028350.5266645427309851\"
  }
}" (9a175e33)
2017-09-26T17:08:22.8635790+03:00 0HL84SUKNKOAF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:22.8635790+03:00 0HL84SUKNKOAF [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:22.8645789+03:00 0HL84SUKNKOAF [INF] Request finished in 11.4209ms 302  (15c52c40)
2017-09-26T17:08:22.8685820+03:00 0HL84SUKNKOAG [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.234148042511981961506434902835%26state%3D15064349028350.5266645427309851   (e5be5b71)
2017-09-26T17:08:22.8725850+03:00 0HL84SUKNKOAG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:22.8725850+03:00 0HL84SUKNKOAG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:22.8735853+03:00 0HL84SUKNKOAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8735853+03:00 0HL84SUKNKOAG [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.234148042511981961506434902835&state=15064349028350.5266645427309851"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:22.8745859+03:00 0HL84SUKNKOAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8755870+03:00 0HL84SUKNKOAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:22.8755870+03:00 0HL84SUKNKOAG [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:22.8775879+03:00 0HL84SUKNKOAG [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.202ms (afa2e885)
2017-09-26T17:08:22.8785890+03:00 0HL84SUKNKOAG [INF] Request finished in 10.6449ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:26.8529254+03:00 0HL84SUKNKOAH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.336988690082547171506434906830&state=15064349068300.02009352832478495   (e5be5b71)
2017-09-26T17:08:26.8569292+03:00 0HL84SUKNKOAH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:26.8579327+03:00 0HL84SUKNKOAH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:26.8584289+03:00 0HL84SUKNKOAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8589294+03:00 0HL84SUKNKOAH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:26.8594291+03:00 0HL84SUKNKOAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8599293+03:00 0HL84SUKNKOAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8604306+03:00 0HL84SUKNKOAH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349068300.02009352832478495\",
  \"Nonce\": \"N0.336988690082547171506434906830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.336988690082547171506434906830\",
    \"state\": \"15064349068300.02009352832478495\"
  }
}" (9a175e33)
2017-09-26T17:08:26.8639331+03:00 0HL84SUKNKOAH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:26.8639331+03:00 0HL84SUKNKOAH [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:26.8649330+03:00 0HL84SUKNKOAH [INF] Request finished in 12.6087ms 302  (15c52c40)
2017-09-26T17:08:26.8669671+03:00 0HL84SUKNKOAI [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.336988690082547171506434906830%26state%3D15064349068300.02009352832478495   (e5be5b71)
2017-09-26T17:08:26.8689684+03:00 0HL84SUKNKOAI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:26.8709693+03:00 0HL84SUKNKOAI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:26.8719704+03:00 0HL84SUKNKOAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8729703+03:00 0HL84SUKNKOAI [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.336988690082547171506434906830&state=15064349068300.02009352832478495"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:26.8739713+03:00 0HL84SUKNKOAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8739713+03:00 0HL84SUKNKOAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:26.8749708+03:00 0HL84SUKNKOAI [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:26.8769725+03:00 0HL84SUKNKOAI [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.1001ms (afa2e885)
2017-09-26T17:08:26.8779732+03:00 0HL84SUKNKOAI [INF] Request finished in 11.5899ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:30.8568953+03:00 0HL84SUKNKOAJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99617059130604261506434910830&state=15064349108300.9767160444386618   (e5be5b71)
2017-09-26T17:08:30.8603970+03:00 0HL84SUKNKOAJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:30.8608976+03:00 0HL84SUKNKOAJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:30.8613981+03:00 0HL84SUKNKOAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8613981+03:00 0HL84SUKNKOAJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:30.8618986+03:00 0HL84SUKNKOAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8623988+03:00 0HL84SUKNKOAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8628993+03:00 0HL84SUKNKOAJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349108300.9767160444386618\",
  \"Nonce\": \"N0.99617059130604261506434910830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99617059130604261506434910830\",
    \"state\": \"15064349108300.9767160444386618\"
  }
}" (9a175e33)
2017-09-26T17:08:30.8679026+03:00 0HL84SUKNKOAJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:30.8684027+03:00 0HL84SUKNKOAJ [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:30.8694034+03:00 0HL84SUKNKOAJ [INF] Request finished in 13.0315ms 302  (15c52c40)
2017-09-26T17:08:30.8714083+03:00 0HL84SUKNKOAK [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.99617059130604261506434910830%26state%3D15064349108300.9767160444386618   (e5be5b71)
2017-09-26T17:08:30.8744111+03:00 0HL84SUKNKOAK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:30.8744111+03:00 0HL84SUKNKOAK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:30.8754105+03:00 0HL84SUKNKOAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8774174+03:00 0HL84SUKNKOAK [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99617059130604261506434910830&state=15064349108300.9767160444386618"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:30.8784129+03:00 0HL84SUKNKOAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8794140+03:00 0HL84SUKNKOAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:30.8804147+03:00 0HL84SUKNKOAK [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:30.8844173+03:00 0HL84SUKNKOAK [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6.4859ms (afa2e885)
2017-09-26T17:08:30.8854176+03:00 0HL84SUKNKOAK [INF] Request finished in 13.9895ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:34.8465401+03:00 0HL84SUKNKOAL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.164688221823671821506434914830&state=15064349148300.9186238442198336   (e5be5b71)
2017-09-26T17:08:34.8505420+03:00 0HL84SUKNKOAL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:34.8515430+03:00 0HL84SUKNKOAL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:34.8515430+03:00 0HL84SUKNKOAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8515430+03:00 0HL84SUKNKOAL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:34.8525433+03:00 0HL84SUKNKOAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8525433+03:00 0HL84SUKNKOAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8535451+03:00 0HL84SUKNKOAL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349148300.9186238442198336\",
  \"Nonce\": \"N0.164688221823671821506434914830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.164688221823671821506434914830\",
    \"state\": \"15064349148300.9186238442198336\"
  }
}" (9a175e33)
2017-09-26T17:08:34.8565460+03:00 0HL84SUKNKOAL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:34.8565460+03:00 0HL84SUKNKOAL [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:34.8575474+03:00 0HL84SUKNKOAL [INF] Request finished in 11.2958ms 302  (15c52c40)
2017-09-26T17:08:34.8605530+03:00 0HL84SUKNKOAM [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.164688221823671821506434914830%26state%3D15064349148300.9186238442198336   (e5be5b71)
2017-09-26T17:08:34.8630584+03:00 0HL84SUKNKOAM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:34.8635553+03:00 0HL84SUKNKOAM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:34.8650648+03:00 0HL84SUKNKOAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8660576+03:00 0HL84SUKNKOAM [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.164688221823671821506434914830&state=15064349148300.9186238442198336"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:34.8660576+03:00 0HL84SUKNKOAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8670575+03:00 0HL84SUKNKOAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:34.8675580+03:00 0HL84SUKNKOAM [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:34.8690588+03:00 0HL84SUKNKOAM [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.3043ms (afa2e885)
2017-09-26T17:08:34.8695593+03:00 0HL84SUKNKOAM [INF] Request finished in 9.4642ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:38.8698210+03:00 0HL84SUKNKOAN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88188232386822941506434918834&state=15064349188340.29262175215716457   (e5be5b71)
2017-09-26T17:08:38.8733232+03:00 0HL84SUKNKOAN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:38.8738233+03:00 0HL84SUKNKOAN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:38.8743238+03:00 0HL84SUKNKOAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8743238+03:00 0HL84SUKNKOAN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:38.8748244+03:00 0HL84SUKNKOAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8753245+03:00 0HL84SUKNKOAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8753245+03:00 0HL84SUKNKOAN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349188340.29262175215716457\",
  \"Nonce\": \"N0.88188232386822941506434918834\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88188232386822941506434918834\",
    \"state\": \"15064349188340.29262175215716457\"
  }
}" (9a175e33)
2017-09-26T17:08:38.8780668+03:00 0HL84SUKNKOAN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:38.8780668+03:00 0HL84SUKNKOAN [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:38.8790674+03:00 0HL84SUKNKOAN [INF] Request finished in 9.9576ms 302  (15c52c40)
2017-09-26T17:08:38.8810683+03:00 0HL84SUKNKOAO [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.88188232386822941506434918834%26state%3D15064349188340.29262175215716457   (e5be5b71)
2017-09-26T17:08:38.8830713+03:00 0HL84SUKNKOAO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:38.8830713+03:00 0HL84SUKNKOAO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:38.8840703+03:00 0HL84SUKNKOAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8850718+03:00 0HL84SUKNKOAO [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88188232386822941506434918834&state=15064349188340.29262175215716457"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:38.8850718+03:00 0HL84SUKNKOAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8860721+03:00 0HL84SUKNKOAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:38.8860721+03:00 0HL84SUKNKOAO [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:38.8890748+03:00 0HL84SUKNKOAO [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.3935ms (afa2e885)
2017-09-26T17:08:38.8890748+03:00 0HL84SUKNKOAO [INF] Request finished in 8.5425ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:42.8454479+03:00 0HL84SUKNKOAP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33914982364915791506434922830&state=15064349228300.9357699593667899   (e5be5b71)
2017-09-26T17:08:42.8484495+03:00 0HL84SUKNKOAP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:42.8484495+03:00 0HL84SUKNKOAP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:42.8494501+03:00 0HL84SUKNKOAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8494501+03:00 0HL84SUKNKOAP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:42.8504504+03:00 0HL84SUKNKOAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8504504+03:00 0HL84SUKNKOAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8504504+03:00 0HL84SUKNKOAP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349228300.9357699593667899\",
  \"Nonce\": \"N0.33914982364915791506434922830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.33914982364915791506434922830\",
    \"state\": \"15064349228300.9357699593667899\"
  }
}" (9a175e33)
2017-09-26T17:08:42.8544542+03:00 0HL84SUKNKOAP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:42.8544542+03:00 0HL84SUKNKOAP [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:42.8554537+03:00 0HL84SUKNKOAP [INF] Request finished in 10.6232ms 302  (15c52c40)
2017-09-26T17:08:42.8584557+03:00 0HL84SUKNKOAQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.33914982364915791506434922830%26state%3D15064349228300.9357699593667899   (e5be5b71)
2017-09-26T17:08:42.8614597+03:00 0HL84SUKNKOAQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:42.8614597+03:00 0HL84SUKNKOAQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:42.8634598+03:00 0HL84SUKNKOAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8644601+03:00 0HL84SUKNKOAQ [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33914982364915791506434922830&state=15064349228300.9357699593667899"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:42.8654604+03:00 0HL84SUKNKOAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8659640+03:00 0HL84SUKNKOAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:42.8664650+03:00 0HL84SUKNKOAQ [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:42.8684655+03:00 0HL84SUKNKOAQ [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.8356ms (afa2e885)
2017-09-26T17:08:42.8689660+03:00 0HL84SUKNKOAQ [INF] Request finished in 11.2109ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:46.8517234+03:00 0HL84SUKNKOAR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82368120930774571506434926837&state=15064349268370.9192640876515543   (e5be5b71)
2017-09-26T17:08:46.8547250+03:00 0HL84SUKNKOAR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:46.8547250+03:00 0HL84SUKNKOAR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:46.8547250+03:00 0HL84SUKNKOAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8547250+03:00 0HL84SUKNKOAR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:46.8557265+03:00 0HL84SUKNKOAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8557265+03:00 0HL84SUKNKOAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8557265+03:00 0HL84SUKNKOAR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349268370.9192640876515543\",
  \"Nonce\": \"N0.82368120930774571506434926837\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82368120930774571506434926837\",
    \"state\": \"15064349268370.9192640876515543\"
  }
}" (9a175e33)
2017-09-26T17:08:46.8587285+03:00 0HL84SUKNKOAR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:46.8587285+03:00 0HL84SUKNKOAR [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:46.8587285+03:00 0HL84SUKNKOAR [INF] Request finished in 8.7924ms 302  (15c52c40)
2017-09-26T17:08:46.8617301+03:00 0HL84SUKNKOAS [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.82368120930774571506434926837%26state%3D15064349268370.9192640876515543   (e5be5b71)
2017-09-26T17:08:46.8647317+03:00 0HL84SUKNKOAS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:46.8647317+03:00 0HL84SUKNKOAS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:46.8647317+03:00 0HL84SUKNKOAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8657323+03:00 0HL84SUKNKOAS [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82368120930774571506434926837&state=15064349268370.9192640876515543"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:46.8667334+03:00 0HL84SUKNKOAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8667334+03:00 0HL84SUKNKOAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:46.8677341+03:00 0HL84SUKNKOAS [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:46.8697354+03:00 0HL84SUKNKOAS [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 2.9755ms (afa2e885)
2017-09-26T17:08:46.8702395+03:00 0HL84SUKNKOAS [INF] Request finished in 8.1655ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:50.8737700+03:00 0HL84SUKNKOAT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.472660259050329271506434930831&state=15064349308310.08961063047809392   (e5be5b71)
2017-09-26T17:08:50.8777774+03:00 0HL84SUKNKOAT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:50.8782775+03:00 0HL84SUKNKOAT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:50.8787777+03:00 0HL84SUKNKOAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8787777+03:00 0HL84SUKNKOAT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:50.8792782+03:00 0HL84SUKNKOAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8797783+03:00 0HL84SUKNKOAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8802789+03:00 0HL84SUKNKOAT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349308310.08961063047809392\",
  \"Nonce\": \"N0.472660259050329271506434930831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.472660259050329271506434930831\",
    \"state\": \"15064349308310.08961063047809392\"
  }
}" (9a175e33)
2017-09-26T17:08:50.8842811+03:00 0HL84SUKNKOAT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:50.8847821+03:00 0HL84SUKNKOAT [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:50.8852822+03:00 0HL84SUKNKOAT [INF] Request finished in 11.5488ms 302  (15c52c40)
2017-09-26T17:08:50.8882842+03:00 0HL84SUKNKOAU [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.472660259050329271506434930831%26state%3D15064349308310.08961063047809392   (e5be5b71)
2017-09-26T17:08:50.8912901+03:00 0HL84SUKNKOAU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:50.8912901+03:00 0HL84SUKNKOAU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:50.8932922+03:00 0HL84SUKNKOAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8942921+03:00 0HL84SUKNKOAU [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.472660259050329271506434930831&state=15064349308310.08961063047809392"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:50.8952932+03:00 0HL84SUKNKOAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8952932+03:00 0HL84SUKNKOAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:50.8962938+03:00 0HL84SUKNKOAU [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:50.8972941+03:00 0HL84SUKNKOAU [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.9375ms (afa2e885)
2017-09-26T17:08:50.8982948+03:00 0HL84SUKNKOAU [INF] Request finished in 10.5415ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:54.8565538+03:00 0HL84SUKNKOAV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.214805735239703921506434934833&state=15064349348330.31004867648239687   (e5be5b71)
2017-09-26T17:08:54.8605561+03:00 0HL84SUKNKOAV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:54.8615568+03:00 0HL84SUKNKOAV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:54.8625428+03:00 0HL84SUKNKOAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8625428+03:00 0HL84SUKNKOAV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:54.8625428+03:00 0HL84SUKNKOAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8635463+03:00 0HL84SUKNKOAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8635463+03:00 0HL84SUKNKOAV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349348330.31004867648239687\",
  \"Nonce\": \"N0.214805735239703921506434934833\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.214805735239703921506434934833\",
    \"state\": \"15064349348330.31004867648239687\"
  }
}" (9a175e33)
2017-09-26T17:08:54.8665471+03:00 0HL84SUKNKOAV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:54.8675481+03:00 0HL84SUKNKOAV [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:54.8675481+03:00 0HL84SUKNKOAV [INF] Request finished in 11.3984ms 302  (15c52c40)
2017-09-26T17:08:54.8705513+03:00 0HL84SUKNKOB0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.214805735239703921506434934833%26state%3D15064349348330.31004867648239687   (e5be5b71)
2017-09-26T17:08:54.8735533+03:00 0HL84SUKNKOB0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:54.8755542+03:00 0HL84SUKNKOB0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:54.8755542+03:00 0HL84SUKNKOB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8765533+03:00 0HL84SUKNKOB0 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.214805735239703921506434934833&state=15064349348330.31004867648239687"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:54.8765533+03:00 0HL84SUKNKOB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8775552+03:00 0HL84SUKNKOB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:54.8775552+03:00 0HL84SUKNKOB0 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:54.8805627+03:00 0HL84SUKNKOB0 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.1593ms (afa2e885)
2017-09-26T17:08:54.8815630+03:00 0HL84SUKNKOB0 [INF] Request finished in 10.6417ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:08:58.8502001+03:00 0HL84SUKNKOB1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.260521558756086071506434938829&state=15064349388290.1977950653594014   (e5be5b71)
2017-09-26T17:08:58.8532045+03:00 0HL84SUKNKOB1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:58.8532045+03:00 0HL84SUKNKOB1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:58.8542036+03:00 0HL84SUKNKOB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8542036+03:00 0HL84SUKNKOB1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:08:58.8542036+03:00 0HL84SUKNKOB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8552042+03:00 0HL84SUKNKOB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8552042+03:00 0HL84SUKNKOB1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349388290.1977950653594014\",
  \"Nonce\": \"N0.260521558756086071506434938829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.260521558756086071506434938829\",
    \"state\": \"15064349388290.1977950653594014\"
  }
}" (9a175e33)
2017-09-26T17:08:58.8572056+03:00 0HL84SUKNKOB1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:08:58.8572056+03:00 0HL84SUKNKOB1 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:08:58.8592057+03:00 0HL84SUKNKOB1 [INF] Request finished in 8.8599ms 302  (15c52c40)
2017-09-26T17:08:58.8602080+03:00 0HL84SUKNKOB2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.260521558756086071506434938829%26state%3D15064349388290.1977950653594014   (e5be5b71)
2017-09-26T17:08:58.8632107+03:00 0HL84SUKNKOB2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:08:58.8642106+03:00 0HL84SUKNKOB2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:08:58.8642106+03:00 0HL84SUKNKOB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8652117+03:00 0HL84SUKNKOB2 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.260521558756086071506434938829&state=15064349388290.1977950653594014"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:08:58.8662119+03:00 0HL84SUKNKOB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8662119+03:00 0HL84SUKNKOB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:08:58.8672126+03:00 0HL84SUKNKOB2 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:08:58.8692124+03:00 0HL84SUKNKOB2 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.0223ms (afa2e885)
2017-09-26T17:08:58.8692124+03:00 0HL84SUKNKOB2 [INF] Request finished in 9.2361ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:02.8473667+03:00 0HL84SUKNKOB3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80223223997462091506434942830&state=15064349428300.4017955241244353   (e5be5b71)
2017-09-26T17:09:02.8503683+03:00 0HL84SUKNKOB3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:02.8513689+03:00 0HL84SUKNKOB3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:02.8513689+03:00 0HL84SUKNKOB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8513689+03:00 0HL84SUKNKOB3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:02.8523696+03:00 0HL84SUKNKOB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8523696+03:00 0HL84SUKNKOB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8533703+03:00 0HL84SUKNKOB3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349428300.4017955241244353\",
  \"Nonce\": \"N0.80223223997462091506434942830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80223223997462091506434942830\",
    \"state\": \"15064349428300.4017955241244353\"
  }
}" (9a175e33)
2017-09-26T17:09:02.8563723+03:00 0HL84SUKNKOB3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:02.8573729+03:00 0HL84SUKNKOB3 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:02.8573729+03:00 0HL84SUKNKOB3 [INF] Request finished in 10.92ms 302  (15c52c40)
2017-09-26T17:09:02.8603749+03:00 0HL84SUKNKOB4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.80223223997462091506434942830%26state%3D15064349428300.4017955241244353   (e5be5b71)
2017-09-26T17:09:02.8643776+03:00 0HL84SUKNKOB4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:02.8653786+03:00 0HL84SUKNKOB4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:02.8653786+03:00 0HL84SUKNKOB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8663785+03:00 0HL84SUKNKOB4 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80223223997462091506434942830&state=15064349428300.4017955241244353"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:02.8673796+03:00 0HL84SUKNKOB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8683798+03:00 0HL84SUKNKOB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:02.8683798+03:00 0HL84SUKNKOB4 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:02.8703812+03:00 0HL84SUKNKOB4 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.2284ms (afa2e885)
2017-09-26T17:09:02.8713826+03:00 0HL84SUKNKOB4 [INF] Request finished in 10.8269ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:06.8447132+03:00 0HL84SUKNKOB5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.320034773140333241506434946830&state=15064349468300.8361958059653389   (e5be5b71)
2017-09-26T17:09:06.8487163+03:00 0HL84SUKNKOB5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:06.8497154+03:00 0HL84SUKNKOB5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:06.8497154+03:00 0HL84SUKNKOB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8507164+03:00 0HL84SUKNKOB5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:06.8507164+03:00 0HL84SUKNKOB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8517163+03:00 0HL84SUKNKOB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8517163+03:00 0HL84SUKNKOB5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349468300.8361958059653389\",
  \"Nonce\": \"N0.320034773140333241506434946830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.320034773140333241506434946830\",
    \"state\": \"15064349468300.8361958059653389\"
  }
}" (9a175e33)
2017-09-26T17:09:06.8547183+03:00 0HL84SUKNKOB5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:06.8547183+03:00 0HL84SUKNKOB5 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:06.8557182+03:00 0HL84SUKNKOB5 [INF] Request finished in 11.5453ms 302  (15c52c40)
2017-09-26T17:09:06.8577207+03:00 0HL84SUKNKOB6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.320034773140333241506434946830%26state%3D15064349468300.8361958059653389   (e5be5b71)
2017-09-26T17:09:06.8607243+03:00 0HL84SUKNKOB6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:06.8637282+03:00 0HL84SUKNKOB6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:06.8647269+03:00 0HL84SUKNKOB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8657260+03:00 0HL84SUKNKOB6 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.320034773140333241506434946830&state=15064349468300.8361958059653389"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:06.8667267+03:00 0HL84SUKNKOB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8677266+03:00 0HL84SUKNKOB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:06.8677266+03:00 0HL84SUKNKOB6 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:06.8697287+03:00 0HL84SUKNKOB6 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.5916ms (afa2e885)
2017-09-26T17:09:06.8707289+03:00 0HL84SUKNKOB6 [INF] Request finished in 13.1933ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:10.8521975+03:00 0HL84SUKNKOB7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47689580125682231506434950829&state=15064349508290.6440255634781424   (e5be5b71)
2017-09-26T17:09:10.8592026+03:00 0HL84SUKNKOB7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:10.8612102+03:00 0HL84SUKNKOB7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:10.8632048+03:00 0HL84SUKNKOB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8632048+03:00 0HL84SUKNKOB7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:10.8642055+03:00 0HL84SUKNKOB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8662060+03:00 0HL84SUKNKOB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8662060+03:00 0HL84SUKNKOB7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349508290.6440255634781424\",
  \"Nonce\": \"N0.47689580125682231506434950829\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47689580125682231506434950829\",
    \"state\": \"15064349508290.6440255634781424\"
  }
}" (9a175e33)
2017-09-26T17:09:10.8722096+03:00 0HL84SUKNKOB7 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:10.8722096+03:00 0HL84SUKNKOB7 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:10.8732111+03:00 0HL84SUKNKOB7 [INF] Request finished in 22.4551ms 302  (15c52c40)
2017-09-26T17:09:10.8762127+03:00 0HL84SUKNKOB8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.47689580125682231506434950829%26state%3D15064349508290.6440255634781424   (e5be5b71)
2017-09-26T17:09:10.8802264+03:00 0HL84SUKNKOB8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:10.8812156+03:00 0HL84SUKNKOB8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:10.8812156+03:00 0HL84SUKNKOB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8822159+03:00 0HL84SUKNKOB8 [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47689580125682231506434950829&state=15064349508290.6440255634781424"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:10.8832169+03:00 0HL84SUKNKOB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8842176+03:00 0HL84SUKNKOB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:10.8842176+03:00 0HL84SUKNKOB8 [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:10.8862185+03:00 0HL84SUKNKOB8 [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 3.9339ms (afa2e885)
2017-09-26T17:09:10.8872196+03:00 0HL84SUKNKOB8 [INF] Request finished in 10.6698ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:14.8523503+03:00 0HL84SUKNKOB9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0155749216601925871506434954830&state=15064349548300.5053572512294193   (e5be5b71)
2017-09-26T17:09:14.8593526+03:00 0HL84SUKNKOB9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:14.8613535+03:00 0HL84SUKNKOB9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:14.8623545+03:00 0HL84SUKNKOB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8623545+03:00 0HL84SUKNKOB9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:14.8623545+03:00 0HL84SUKNKOB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8633536+03:00 0HL84SUKNKOB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8643563+03:00 0HL84SUKNKOB9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349548300.5053572512294193\",
  \"Nonce\": \"N0.0155749216601925871506434954830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0155749216601925871506434954830\",
    \"state\": \"15064349548300.5053572512294193\"
  }
}" (9a175e33)
2017-09-26T17:09:14.8683581+03:00 0HL84SUKNKOB9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:14.8683581+03:00 0HL84SUKNKOB9 [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:14.8693576+03:00 0HL84SUKNKOB9 [INF] Request finished in 18.6297ms 302  (15c52c40)
2017-09-26T17:09:14.8733599+03:00 0HL84SUKNKOBA [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.0155749216601925871506434954830%26state%3D15064349548300.5053572512294193   (e5be5b71)
2017-09-26T17:09:14.8763638+03:00 0HL84SUKNKOBA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:14.8763638+03:00 0HL84SUKNKOBA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:14.8773641+03:00 0HL84SUKNKOBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8773641+03:00 0HL84SUKNKOBA [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0155749216601925871506434954830&state=15064349548300.5053572512294193"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:14.8783648+03:00 0HL84SUKNKOBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8793647+03:00 0HL84SUKNKOBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:14.8803649+03:00 0HL84SUKNKOBA [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:14.8823686+03:00 0HL84SUKNKOBA [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.453ms (afa2e885)
2017-09-26T17:09:14.8833669+03:00 0HL84SUKNKOBA [INF] Request finished in 10.4096ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:18.8426065+03:00 0HL84SUKNKOBB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53271495906388421506434958830&state=15064349588300.40305204615826895   (e5be5b71)
2017-09-26T17:09:18.8446079+03:00 0HL84SUKNKOBB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:18.8456085+03:00 0HL84SUKNKOBB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:18.8456085+03:00 0HL84SUKNKOBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8466096+03:00 0HL84SUKNKOBB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:18.8466096+03:00 0HL84SUKNKOBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8476106+03:00 0HL84SUKNKOBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8476106+03:00 0HL84SUKNKOBB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349588300.40305204615826895\",
  \"Nonce\": \"N0.53271495906388421506434958830\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53271495906388421506434958830\",
    \"state\": \"15064349588300.40305204615826895\"
  }
}" (9a175e33)
2017-09-26T17:09:18.8516117+03:00 0HL84SUKNKOBB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:18.8516117+03:00 0HL84SUKNKOBB [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:18.8526128+03:00 0HL84SUKNKOBB [INF] Request finished in 10.5067ms 302  (15c52c40)
2017-09-26T17:09:18.8556152+03:00 0HL84SUKNKOBC [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.53271495906388421506434958830%26state%3D15064349588300.40305204615826895   (e5be5b71)
2017-09-26T17:09:18.8576165+03:00 0HL84SUKNKOBC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:18.8586172+03:00 0HL84SUKNKOBC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:18.8586172+03:00 0HL84SUKNKOBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8616180+03:00 0HL84SUKNKOBC [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53271495906388421506434958830&state=15064349588300.40305204615826895"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:18.8616180+03:00 0HL84SUKNKOBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8626194+03:00 0HL84SUKNKOBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:18.8636209+03:00 0HL84SUKNKOBC [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:18.8656214+03:00 0HL84SUKNKOBC [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.6617ms (afa2e885)
2017-09-26T17:09:18.8656214+03:00 0HL84SUKNKOBC [INF] Request finished in 10.8695ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:22.8676287+03:00 0HL84SUKNKOBD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50564248608435511506434962849&state=15064349628490.9036197872055645   (e5be5b71)
2017-09-26T17:09:22.8716321+03:00 0HL84SUKNKOBD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:22.8716321+03:00 0HL84SUKNKOBD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:22.8726320+03:00 0HL84SUKNKOBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8726320+03:00 0HL84SUKNKOBD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:22.8726320+03:00 0HL84SUKNKOBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8736326+03:00 0HL84SUKNKOBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8736326+03:00 0HL84SUKNKOBD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349628490.9036197872055645\",
  \"Nonce\": \"N0.50564248608435511506434962849\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50564248608435511506434962849\",
    \"state\": \"15064349628490.9036197872055645\"
  }
}" (9a175e33)
2017-09-26T17:09:22.8776365+03:00 0HL84SUKNKOBD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:22.8776365+03:00 0HL84SUKNKOBD [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:22.8786356+03:00 0HL84SUKNKOBD [INF] Request finished in 10.978ms 302  (15c52c40)
2017-09-26T17:09:22.8806377+03:00 0HL84SUKNKOBE [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.50564248608435511506434962849%26state%3D15064349628490.9036197872055645   (e5be5b71)
2017-09-26T17:09:22.8836393+03:00 0HL84SUKNKOBE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:22.8846403+03:00 0HL84SUKNKOBE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:22.8846403+03:00 0HL84SUKNKOBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8866413+03:00 0HL84SUKNKOBE [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50564248608435511506434962849&state=15064349628490.9036197872055645"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:22.8876423+03:00 0HL84SUKNKOBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8886426+03:00 0HL84SUKNKOBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:22.8886426+03:00 0HL84SUKNKOBE [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:22.8906439+03:00 0HL84SUKNKOBE [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 4.9468ms (afa2e885)
2017-09-26T17:09:22.8916446+03:00 0HL84SUKNKOBE [INF] Request finished in 10.369ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:26.8556692+03:00 0HL84SUKNKOBF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.433638322491274541506434966831&state=15064349668310.37275943430469227   (e5be5b71)
2017-09-26T17:09:26.8616724+03:00 0HL84SUKNKOBF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:26.8616724+03:00 0HL84SUKNKOBF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:26.8626723+03:00 0HL84SUKNKOBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8636746+03:00 0HL84SUKNKOBF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:26.8646764+03:00 0HL84SUKNKOBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8656747+03:00 0HL84SUKNKOBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8656747+03:00 0HL84SUKNKOBF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349668310.37275943430469227\",
  \"Nonce\": \"N0.433638322491274541506434966831\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.433638322491274541506434966831\",
    \"state\": \"15064349668310.37275943430469227\"
  }
}" (9a175e33)
2017-09-26T17:09:26.8686763+03:00 0HL84SUKNKOBF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:26.8696766+03:00 0HL84SUKNKOBF [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:26.8706776+03:00 0HL84SUKNKOBF [INF] Request finished in 16.6141ms 302  (15c52c40)
2017-09-26T17:09:26.8746803+03:00 0HL84SUKNKOBG [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.433638322491274541506434966831%26state%3D15064349668310.37275943430469227   (e5be5b71)
2017-09-26T17:09:26.8776823+03:00 0HL84SUKNKOBG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:26.8786841+03:00 0HL84SUKNKOBG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:26.8796852+03:00 0HL84SUKNKOBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8816857+03:00 0HL84SUKNKOBG [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.433638322491274541506434966831&state=15064349668310.37275943430469227"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:26.8826860+03:00 0HL84SUKNKOBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8836867+03:00 0HL84SUKNKOBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:26.8836867+03:00 0HL84SUKNKOBG [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:26.8866886+03:00 0HL84SUKNKOBG [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.9925ms (afa2e885)
2017-09-26T17:09:26.8866886+03:00 0HL84SUKNKOBG [INF] Request finished in 13.9118ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:27.9675092+03:00 0HL84SUKNKOBH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjA0ZjRlM2MzNTA3NTFiN2E5OGRkZTEyYmJhMGEyNzdmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0MzI3MzYsImV4cCI6MTUwNjQzMzAzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjI0NTg3ODUxMTk4NTg3NzA3MTUwNjQzMjczNTgzNSIsImlhdCI6MTUwNjQzMjczNiwiYXRfaGFzaCI6IjBERDliVmdxZW9rb0gyZUJGNFhXbFEiLCJzaWQiOiI2Y2Y0N2UzODYzYjNmNjE0YmI3OTE3ZmJjNTAzMzYyNCIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNjM2MDAwMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.kXIviMf_pfUCcXO8WpymAZ34C2Zm6gO6TiUkkEMTeIObshQEzu6d2UD0ox8aGGpvuaHhPJT03s7djVcjS6_SRikcZe0D0iaPa5dyUF98dezkAXVM7IMnNTUgUdcf1nSbB1U9I_jPr1narGoQ8pyxESn5vSbv_n249ewfOZD0UPayTsg9NDY21AUvMvjWz-WKcFAaKNxSVcHhTGWTT_lxdhRaBeh2dBXui9sBQ5Zz3fAEYg5OSlApCRj57cMNLL-DD68p1Pc2jeLaAxNRnZyxuf5NexITQRKKeGRLHKda-HxQA2CZAFfLCAEviGLtF0AGIem3w3G0RvsyGgNUzn3ONA&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T17:09:27.9745138+03:00 0HL84SUKNKOBH [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:27.9755157+03:00 0HL84SUKNKOBH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:27.9755157+03:00 0HL84SUKNKOBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:27.9785177+03:00 0HL84SUKNKOBH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T17:09:28.0065351+03:00 0HL84SUKNKOBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2246921+03:00 0HL84SUKNKOBI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30447095952385731506434968215&state=15064349682150.43491397315567326   (e5be5b71)
2017-09-26T17:09:28.2326967+03:00 0HL84SUKNKOBI [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:28.2366997+03:00 0HL84SUKNKOBI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:28.2397013+03:00 0HL84SUKNKOBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2412033+03:00 0HL84SUKNKOBI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:09:28.2432038+03:00 0HL84SUKNKOBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2442045+03:00 0HL84SUKNKOBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2442045+03:00 0HL84SUKNKOBI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349682150.43491397315567326\",
  \"Nonce\": \"N0.30447095952385731506434968215\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30447095952385731506434968215\",
    \"state\": \"15064349682150.43491397315567326\"
  }
}" (9a175e33)
2017-09-26T17:09:28.2497084+03:00 0HL84SUKNKOBI [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:28.2502089+03:00 0HL84SUKNKOBI [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-26T17:09:28.2667200+03:00 0HL84SUKNKOBI [INF] Request finished in 27.5962ms 302  (15c52c40)
2017-09-26T17:09:28.2677203+03:00 0HL84SUKNKOBJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.30447095952385731506434968215%26state%3D15064349682150.43491397315567326   (e5be5b71)
2017-09-26T17:09:28.2707227+03:00 0HL84SUKNKOBJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:28.2712232+03:00 0HL84SUKNKOBJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:28.2717230+03:00 0HL84SUKNKOBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2727236+03:00 0HL84SUKNKOBJ [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30447095952385731506434968215&state=15064349682150.43491397315567326"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:28.2732238+03:00 0HL84SUKNKOBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2737239+03:00 0HL84SUKNKOBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.2757256+03:00 0HL84SUKNKOBJ [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-26T17:09:28.2777270+03:00 0HL84SUKNKOBJ [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 5.1134ms (afa2e885)
2017-09-26T17:09:28.2787276+03:00 0HL84SUKNKOBJ [INF] Request finished in 10.9007ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:09:28.3077473+03:00 0HL84SUKNKOBK [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo   (e5be5b71)
2017-09-26T17:09:28.3127502+03:00 0HL84SUKNKOBK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:28.3132507+03:00 0HL84SUKNKOBK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:28.3147531+03:00 0HL84SUKNKOBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.3417703+03:00 0HL84SUKNKOBK [INF] Sending file. Request path: '"/js/site.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.js"' (27b0a520)
2017-09-26T17:09:28.3622845+03:00 0HL84SUKNKOBK [INF] Request finished in 53.765ms 200 application/javascript (15c52c40)
2017-09-26T17:09:28.5249021+03:00 0HL84SUKNKOBL [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (e5be5b71)
2017-09-26T17:09:28.5279037+03:00 0HL84SUKNKOBL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:28.5279037+03:00 0HL84SUKNKOBL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:28.5349091+03:00 0HL84SUKNKOBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:28.5379103+03:00 0HL84SUKNKOBL [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2017-09-26T17:09:28.5569234+03:00 0HL84SUKNKOBL [INF] Request finished in 30.8753ms 200 application/font-woff2 (15c52c40)
2017-09-26T17:09:28.8221211+03:00 0HL84SUKNKOBH [ERR] JWT token validation error: "Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match 'kid': '04f4e3c350751b7a98dde12bba0a277f', 
token: '{\"alg\":\"RS256\",\"typ\":\"JWT\",\"kid\":\"04f4e3c350751b7a98dde12bba0a277f\"}.{\"nbf\":1506432736,\"exp\":1506433036,\"iss\":\"http://localhost:5000\",\"aud\":\"fso.AngularClient\",\"nonce\":\"N0.245878511985877071506432735835\",\"iat\":1506432736,\"at_hash\":\"0DD9bVgqeokoH2eBF4XWlQ\",\"sid\":\"6cf47e3863b3f614bb7917fbc5033624\",\"sub\":\"3c7cca64-00cd-49cc-9407-3128eae83098\",\"auth_time\":1506360003,\"idp\":\"local\",\"amr\":[\"pwd\"]}'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.<ValidateJwtAsync>d__11.MoveNext()" (2ea1dafb)
2017-09-26T17:09:28.8291258+03:00 0HL84SUKNKOBH [ERR] Error validating JWT
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"ValidateLifetime\": false
}" (e9d09ef7)
2017-09-26T17:09:28.8361308+03:00 0HL84SUKNKOBH [INF] End session request validation failure: Error validating id token hint
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjA0ZjRlM2MzNTA3NTFiN2E5OGRkZTEyYmJhMGEyNzdmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0MzI3MzYsImV4cCI6MTUwNjQzMzAzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjI0NTg3ODUxMTk4NTg3NzA3MTUwNjQzMjczNTgzNSIsImlhdCI6MTUwNjQzMjczNiwiYXRfaGFzaCI6IjBERDliVmdxZW9rb0gyZUJGNFhXbFEiLCJzaWQiOiI2Y2Y0N2UzODYzYjNmNjE0YmI3OTE3ZmJjNTAzMzYyNCIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNjM2MDAwMywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.kXIviMf_pfUCcXO8WpymAZ34C2Zm6gO6TiUkkEMTeIObshQEzu6d2UD0ox8aGGpvuaHhPJT03s7djVcjS6_SRikcZe0D0iaPa5dyUF98dezkAXVM7IMnNTUgUdcf1nSbB1U9I_jPr1narGoQ8pyxESn5vSbv_n249ewfOZD0UPayTsg9NDY21AUvMvjWz-WKcFAaKNxSVcHhTGWTT_lxdhRaBeh2dBXui9sBQ5Zz3fAEYg5OSlApCRj57cMNLL-DD68p1Pc2jeLaAxNRnZyxuf5NexITQRKKeGRLHKda-HxQA2CZAFfLCAEviGLtF0AGIem3w3G0RvsyGgNUzn3ONA\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (a48d87f5)
2017-09-26T17:09:28.8361308+03:00 0HL84SUKNKOBH [ERR] Error processing end session request "Invalid request" (7af74809)
2017-09-26T17:09:28.8431351+03:00 0HL84SUKNKOBH [INF] Request finished in 890.819ms 302  (15c52c40)
2017-09-26T17:09:30.5235075+03:00 0HL84SUKNKOBM [INF] Request starting HTTP/1.1 POST http://localhost:5000/consent application/x-www-form-urlencoded 677 (e5be5b71)
2017-09-26T17:09:30.5265103+03:00 0HL84SUKNKOBM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:30.5275109+03:00 0HL84SUKNKOBM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:30.5275109+03:00 0HL84SUKNKOBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.6515992+03:00 0HL84SUKNKOBM [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.ConsentInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:09:30.6546012+03:00 0HL84SUKNKOBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.6556015+03:00 0HL84SUKNKOBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.6586047+03:00 0HL84SUKNKOBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.6896245+03:00 0HL84SUKNKOBM [INF] Executing RedirectResult, redirecting to "/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30447095952385731506434968215&state=15064349682150.43491397315567326". (d98d540e)
2017-09-26T17:09:30.6916262+03:00 0HL84SUKNKOBM [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 161.6007ms (afa2e885)
2017-09-26T17:09:30.6926265+03:00 0HL84SUKNKOBM [INF] Request finished in 169.1462ms 302  (15c52c40)
2017-09-26T17:09:30.6956289+03:00 0HL84SUKNKOBN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30447095952385731506434968215&state=15064349682150.43491397315567326   (e5be5b71)
2017-09-26T17:09:30.6996303+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:30.7006318+03:00 0HL84SUKNKOBN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:30.7016317+03:00 0HL84SUKNKOBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.7016317+03:00 0HL84SUKNKOBN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/consent" (f7642de5)
2017-09-26T17:09:30.7096397+03:00 0HL84SUKNKOBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.7716841+03:00 0HL84SUKNKOBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.7716841+03:00 0HL84SUKNKOBN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064349682150.43491397315567326\",
  \"Nonce\": \"N0.30447095952385731506434968215\",
  \"SessionId\": \"6cf47e3863b3f614bb7917fbc5033624\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30447095952385731506434968215\",
    \"state\": \"15064349682150.43491397315567326\"
  }
}" (9a175e33)
2017-09-26T17:09:30.7756864+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:30.7906971+03:00 0HL84SUKNKOBN [INF] User consented to scopes: ["openid", "email", "profile", "fso.Api"] (0f706f38)
2017-09-26T17:09:30.8597508+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:09:30.8607511+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:09:30.8637539+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:09:30.8677558+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:09:30.8697571+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:09:30.8767625+03:00 0HL84SUKNKOBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:09:30.9613970+03:00 0HL84SUKNKOBN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064349682150.43491397315567326\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:09:30.9764066+03:00 0HL84SUKNKOBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:30.9864136+03:00 0HL84SUKNKOBN [INF] Request finished in 289.5156ms 302  (15c52c40)
2017-09-26T17:09:37.3104102+03:00 0HL84SUKNKOBO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:09:37.3134126+03:00 0HL84SUKNKOBO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:37.3134126+03:00 0HL84SUKNKOBO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:09:37.3144125+03:00 0HL84SUKNKOBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:09:37.3144125+03:00 0HL84SUKNKOBO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:09:37.3244195+03:00 0HL84SUKNKOBO [INF] Request finished in 14.0732ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:09:37.3534388+03:00 0HL84SUKNKOBP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T17:09:37.3754534+03:00 0HL84SUKNKOBP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:37.3764540+03:00 0HL84SUKNKOBP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T17:09:37.4194929+03:00 0HL84SUKNKOBP [INF] Request finished in 60.0986ms 200 application/json (15c52c40)
2017-09-26T17:09:37.4825379+03:00 0HL84SUKNKOBQ [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T17:09:37.5005530+03:00 0HL84SUKNKOBQ [INF] Request finished in 17.4609ms 204  (15c52c40)
2017-09-26T17:09:37.5095641+03:00 0HL84SUKNKOBR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T17:09:37.5165680+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:09:37.5185693+03:00 0HL84SUKNKOBR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T17:09:37.5345795+03:00 0HL84SUKNKOBR [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T17:09:37.6546636+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:09:37.6936891+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:09:37.7112009+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:09:37.7162043+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:09:37.7207074+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:09:37.7242100+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:09:37.7257112+03:00 0HL84SUKNKOBR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:09:37.7267122+03:00 0HL84SUKNKOBR [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T17:09:37.7337157+03:00 0HL84SUKNKOBR [INF] Request finished in 223.7631ms 200 application/json (15c52c40)
2017-09-26T17:10:09.7201931+03:00 0HL84SUKNKOBS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T17:10:09.7231951+03:00 0HL84SUKNKOBS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:09.7231951+03:00 0HL84SUKNKOBS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:09.7241950+03:00 0HL84SUKNKOBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:09.7241950+03:00 0HL84SUKNKOBS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T17:10:09.7552167+03:00 0HL84SUKNKOBS [INF] Request finished in 34.8049ms 200 application/json (15c52c40)
2017-09-26T17:10:24.7043175+03:00 0HL84SUKNKOBT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:10:24.7073199+03:00 0HL84SUKNKOBT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:24.7083201+03:00 0HL84SUKNKOBT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:24.7083201+03:00 0HL84SUKNKOBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:24.7083201+03:00 0HL84SUKNKOBT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:10:24.7103219+03:00 0HL84SUKNKOBT [INF] Request finished in 6.1306ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:10:48.7247516+03:00 0HL84SUKNKOBU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0MzQ5NzAsImV4cCI6MTUwNjQzNTI3MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjMwNDQ3MDk1OTUyMzg1NzMxNTA2NDM0OTY4MjE1IiwiaWF0IjoxNTA2NDM0OTcwLCJhdF9oYXNoIjoiUHRkUnZxRVBYRXlwalhEMFBkY3RCdyIsInNpZCI6IjZjZjQ3ZTM4NjNiM2Y2MTRiYjc5MTdmYmM1MDMzNjI0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2MzYwMDAzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.ES3rjsW-MyX_W14ScKIAm7h9ZbEGShRbM__96ZCaYWXpefjx2tWL9XzJbBTU1yGqbwlWNuQPpb8o0OSe7t1-QuiMzAf0JzqXjGI2cxFnpeWjmsyWeu4g5ppHvOmn5BNhCZXoXzreBYqTMV8P6aFN8zK39SPSgIXRuvpociLndB1b-o3sXd8Dog3bphxiZ-mywu24pijjY3yDOiXURUqJI011JDqsDYf9PG76RRLLmJilybEZVTotfPhGrUH1PCvmu9MZy2A70Mu2zEJ1tYNvJwQllrJlBcGZF40aLU5NeZFJfjyJ-M-JSPYlIR5DOAYxO-BN24491JUNZbExCnqIlg&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T17:10:48.7297545+03:00 0HL84SUKNKOBU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:48.7297545+03:00 0HL84SUKNKOBU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:48.7307544+03:00 0HL84SUKNKOBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.7307544+03:00 0HL84SUKNKOBU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T17:10:48.7307544+03:00 0HL84SUKNKOBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.7617749+03:00 0HL84SUKNKOBU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:10:48.7637771+03:00 0HL84SUKNKOBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.7647765+03:00 0HL84SUKNKOBU [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0MzQ5NzAsImV4cCI6MTUwNjQzNTI3MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjMwNDQ3MDk1OTUyMzg1NzMxNTA2NDM0OTY4MjE1IiwiaWF0IjoxNTA2NDM0OTcwLCJhdF9oYXNoIjoiUHRkUnZxRVBYRXlwalhEMFBkY3RCdyIsInNpZCI6IjZjZjQ3ZTM4NjNiM2Y2MTRiYjc5MTdmYmM1MDMzNjI0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2MzYwMDAzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.ES3rjsW-MyX_W14ScKIAm7h9ZbEGShRbM__96ZCaYWXpefjx2tWL9XzJbBTU1yGqbwlWNuQPpb8o0OSe7t1-QuiMzAf0JzqXjGI2cxFnpeWjmsyWeu4g5ppHvOmn5BNhCZXoXzreBYqTMV8P6aFN8zK39SPSgIXRuvpociLndB1b-o3sXd8Dog3bphxiZ-mywu24pijjY3yDOiXURUqJI011JDqsDYf9PG76RRLLmJilybEZVTotfPhGrUH1PCvmu9MZy2A70Mu2zEJ1tYNvJwQllrJlBcGZF40aLU5NeZFJfjyJ-M-JSPYlIR5DOAYxO-BN24491JUNZbExCnqIlg\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-26T17:10:48.7822907+03:00 0HL84SUKNKOBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.7827917+03:00 0HL84SUKNKOBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.7847926+03:00 0HL84SUKNKOBU [INF] Request finished in 62.2468ms 302  (15c52c40)
2017-09-26T17:10:48.7872949+03:00 0HL84SUKNKOBV [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=83f95f0f799f4c4f152fe6274f1ec403   (e5be5b71)
2017-09-26T17:10:48.7897967+03:00 0HL84SUKNKOBV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:48.7902968+03:00 0HL84SUKNKOBV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:48.7907966+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.8197278+03:00 0HL84SUKNKOBV [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["83f95f0f799f4c4f152fe6274f1ec403"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:10:48.8307336+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.8307336+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.8627552+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-26T17:10:48.8637571+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-26T17:10:48.8637571+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-26T17:10:48.8647565+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.8647565+03:00 0HL84SUKNKOBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:48.9347655+03:00 0HL84SUKNKOBV [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-26T17:10:48.9427705+03:00 0HL84SUKNKOBV [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 150.1043ms (afa2e885)
2017-09-26T17:10:48.9427705+03:00 0HL84SUKNKOBV [INF] Request finished in 155.7148ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:10:48.9727908+03:00 0HL84SUKNKOC0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=6cf47e3863b3f614bb7917fbc5033624&logoutId=83f95f0f799f4c4f152fe6274f1ec403   (e5be5b71)
2017-09-26T17:10:48.9767946+03:00 0HL84SUKNKOC0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:48.9767946+03:00 0HL84SUKNKOC0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-26T17:10:48.9863059+03:00 0HL84SUKNKOC0 [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-26T17:10:48.9958088+03:00 0HL84SUKNKOC0 [INF] Request finished in 22.1575ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:10:50.7165812+03:00 0HL84SUKNKOC1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-26T17:10:50.7245869+03:00 0HL84SUKNKOC1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:50.7265883+03:00 0HL84SUKNKOC1 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:10:51.0907267+03:00 0HL84SUKNKOC1 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-26T17:10:51.3025679+03:00 0HL84SUKNKOC1 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 581.6859ms (afa2e885)
2017-09-26T17:10:51.3035686+03:00 0HL84SUKNKOC1 [INF] Request finished in 598.9897ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:10:51.3205787+03:00 0HL84SUKNKOC2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js   (e5be5b71)
2017-09-26T17:10:51.3215793+03:00 0HL84SUKNKOC2 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2017-09-26T17:10:51.3235803+03:00 0HL84SUKNKOC3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (e5be5b71)
2017-09-26T17:10:51.3245809+03:00 0HL84SUKNKOC3 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js"' (27b0a520)
2017-09-26T17:10:51.3475958+03:00 0HL84SUKNKOC2 [INF] Request finished in 26.7463ms 200 application/javascript (15c52c40)
2017-09-26T17:10:51.3606053+03:00 0HL84SUKNKOC3 [INF] Request finished in 34.319ms 200 application/javascript (15c52c40)
2017-09-26T17:10:56.0560891+03:00 0HL84SUKNKOC4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-26T17:10:56.0640944+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.0741014+03:00 0HL84SUKNKOC4 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:10:56.0861114+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-26T17:10:56.1711785+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:10:56.1731802+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:10:56.1751816+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:10:56.1771829+03:00 0HL84SUKNKOC4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:10:56.2002045+03:00 0HL84SUKNKOC4 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-26T17:10:56.2007050+03:00 0HL84SUKNKOC4 [INF] User logged in. (fdce0db4)
2017-09-26T17:10:56.2072151+03:00 0HL84SUKNKOC4 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-26T17:10:56.2082145+03:00 0HL84SUKNKOC4 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 149.9441ms (afa2e885)
2017-09-26T17:10:56.2102159+03:00 0HL84SUKNKOC4 [INF] Request finished in 155.2083ms 302  (15c52c40)
2017-09-26T17:10:56.2122176+03:00 0HL84SUKNKOC5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-26T17:10:56.2152192+03:00 0HL84SUKNKOC5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.2162202+03:00 0HL84SUKNKOC5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:56.2162202+03:00 0HL84SUKNKOC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:56.2192226+03:00 0HL84SUKNKOC5 [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-26T17:10:56.3152939+03:00 0HL84SUKNKOC5 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-26T17:10:56.3263012+03:00 0HL84SUKNKOC5 [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 108.6579ms (afa2e885)
2017-09-26T17:10:56.3273023+03:00 0HL84SUKNKOC5 [INF] Request finished in 114.6303ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T17:10:56.3433129+03:00 0HL84SUKNKOC6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-26T17:10:56.3503172+03:00 0HL84SUKNKOC6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.3503172+03:00 0HL84SUKNKOC6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:56.3513182+03:00 0HL84SUKNKOC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:56.3523197+03:00 0HL84SUKNKOC6 [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-26T17:10:56.3653271+03:00 0HL84SUKNKOC7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-26T17:10:56.3673285+03:00 0HL84SUKNKOC8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-26T17:10:56.3753338+03:00 0HL84SUKNKOC9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-26T17:10:56.3753338+03:00 0HL84SUKNKOC6 [INF] Request finished in 22.3209ms 200 image/svg+xml (15c52c40)
2017-09-26T17:10:56.3763344+03:00 0HL84SUKNKOC7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.3763344+03:00 0HL84SUKNKOC7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:56.3773355+03:00 0HL84SUKNKOC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:56.3783366+03:00 0HL84SUKNKOC7 [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-26T17:10:56.3793372+03:00 0HL84SUKNKOC9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.3793372+03:00 0HL84SUKNKOC9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:56.3803375+03:00 0HL84SUKNKOC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:56.3803375+03:00 0HL84SUKNKOC9 [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-26T17:10:56.3813382+03:00 0HL84SUKNKOC8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:10:56.3813382+03:00 0HL84SUKNKOC8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:10:56.3823388+03:00 0HL84SUKNKOC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:10:56.3833395+03:00 0HL84SUKNKOC8 [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-26T17:10:56.3893494+03:00 0HL84SUKNKOC7 [INF] Request finished in 23.5904ms 200 image/svg+xml (15c52c40)
2017-09-26T17:10:56.3933528+03:00 0HL84SUKNKOC9 [INF] Request finished in 25.287ms 200 image/svg+xml (15c52c40)
2017-09-26T17:10:56.4053683+03:00 0HL84SUKNKOC8 [INF] Request finished in 38.0986ms 200 image/svg+xml (15c52c40)
2017-09-26T17:11:02.8647186+03:00 0HL84SUKNKOCA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:11:02.8667200+03:00 0HL84SUKNKOCA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:11:02.8677218+03:00 0HL84SUKNKOCA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:11:02.8677218+03:00 0HL84SUKNKOCA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:02.8677218+03:00 0HL84SUKNKOCA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:11:02.8687197+03:00 0HL84SUKNKOCA [INF] Request finished in 4.4562ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:11:04.1927696+03:00 0HL84SUKNKOCB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.340695512404112671506435064180&state=15064350641800.06700693252588352   (e5be5b71)
2017-09-26T17:11:04.1957720+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:11:04.1967718+03:00 0HL84SUKNKOCB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:11:04.1967718+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:04.1967718+03:00 0HL84SUKNKOCB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:11:04.1977729+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:04.1977729+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:04.1977729+03:00 0HL84SUKNKOCB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064350641800.06700693252588352\",
  \"Nonce\": \"N0.340695512404112671506435064180\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.340695512404112671506435064180\",
    \"state\": \"15064350641800.06700693252588352\"
  }
}" (9a175e33)
2017-09-26T17:11:04.2012790+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:11:04.2112872+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:11:04.2132877+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:11:04.2147897+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:11:04.2162917+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:11:04.2192933+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:11:04.2212954+03:00 0HL84SUKNKOCB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:11:04.2393062+03:00 0HL84SUKNKOCB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064350641800.06700693252588352\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:11:04.2403080+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:04.2453114+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:04.2483133+03:00 0HL84SUKNKOCB [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-26T17:11:04.2493136+03:00 0HL84SUKNKOCB [INF] Request finished in 62.4296ms 302  (15c52c40)
2017-09-26T17:11:07.3833482+03:00 0HL84SUKNKOCC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:11:07.3853503+03:00 0HL84SUKNKOCC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:11:07.3863509+03:00 0HL84SUKNKOCC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:11:07.3863509+03:00 0HL84SUKNKOCC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:11:07.3873516+03:00 0HL84SUKNKOCC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:11:07.3873516+03:00 0HL84SUKNKOCC [INF] Request finished in 4.9729ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:11:07.4063627+03:00 0HL84SUKNKOCD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T17:11:07.4083640+03:00 0HL84SUKNKOCD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:11:07.4083640+03:00 0HL84SUKNKOCD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T17:11:07.4103657+03:00 0HL84SUKNKOCD [INF] Request finished in 3.8408ms 200 application/json (15c52c40)
2017-09-26T17:11:07.5104456+03:00 0HL84SUKNKOCE [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T17:11:07.5244549+03:00 0HL84SUKNKOCE [INF] Request finished in 7.3974ms 204  (15c52c40)
2017-09-26T17:11:07.5629846+03:00 0HL84SUKNKOCF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T17:11:07.5734910+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:11:07.5734910+03:00 0HL84SUKNKOCF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T17:11:07.5734910+03:00 0HL84SUKNKOCF [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T17:11:07.6115162+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:11:07.6340310+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:11:07.6390343+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:11:07.6425368+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:11:07.6465387+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:11:07.6510419+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:11:07.6540443+03:00 0HL84SUKNKOCF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:11:07.6560460+03:00 0HL84SUKNKOCF [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T17:11:07.7065793+03:00 0HL84SUKNKOCF [INF] Request finished in 128.3972ms 200 application/json (15c52c40)
2017-09-26T17:13:17.6666645+03:00 0HL84SUKNKOCG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:13:17.6701705+03:00 0HL84SUKNKOCG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:13:17.6706711+03:00 0HL84SUKNKOCG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:13:17.6711712+03:00 0HL84SUKNKOCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:13:17.6711712+03:00 0HL84SUKNKOCG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:13:17.6716717+03:00 0HL84SUKNKOCG [INF] Request finished in 5.2512ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:13:17.9949108+03:00 0HL84SUKNKOCH [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T17:13:17.9969133+03:00 0HL84SUKNKOCH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:13:17.9969133+03:00 0HL84SUKNKOCH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T17:13:17.9979128+03:00 0HL84SUKNKOCH [INF] Request finished in 3.808ms 200 application/json (15c52c40)
2017-09-26T17:13:18.1349470+03:00 0HL84SUKNKOCI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:13:18.1399507+03:00 0HL84SUKNKOCI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:13:18.1409517+03:00 0HL84SUKNKOCI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:13:18.2320201+03:00 0HL84SUKNKOCI [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:13:18.2430270+03:00 0HL84SUKNKOCI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:13:18.2490318+03:00 0HL84SUKNKOCI [INF] Request finished in 115.6949ms 200 application/json (15c52c40)
2017-09-26T17:16:07.8493317+03:00 0HL84SUKNKOCJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84344466202010421506435367831&state=15064353678310.3965188402616624   (e5be5b71)
2017-09-26T17:16:07.8573354+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:07.8593376+03:00 0HL84SUKNKOCJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:16:07.8613377+03:00 0HL84SUKNKOCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:07.8613377+03:00 0HL84SUKNKOCJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:16:07.8623399+03:00 0HL84SUKNKOCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:07.8633386+03:00 0HL84SUKNKOCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:07.8643409+03:00 0HL84SUKNKOCJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064353678310.3965188402616624\",
  \"Nonce\": \"N0.84344466202010421506435367831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84344466202010421506435367831\",
    \"state\": \"15064353678310.3965188402616624\"
  }
}" (9a175e33)
2017-09-26T17:16:07.8703433+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:07.8813506+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:07.8843526+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:16:07.8883552+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:16:07.8913572+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:16:07.8953599+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:07.8973612+03:00 0HL84SUKNKOCJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:16:07.9103702+03:00 0HL84SUKNKOCJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064353678310.3965188402616624\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:16:07.9113709+03:00 0HL84SUKNKOCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:07.9123708+03:00 0HL84SUKNKOCJ [INF] Request finished in 65.7951ms 302  (15c52c40)
2017-09-26T17:16:11.8975503+03:00 0HL84SUKNKOCK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.00427244111664903951506435371861&state=15064353718610.943776808124303   (e5be5b71)
2017-09-26T17:16:11.9005523+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:11.9015522+03:00 0HL84SUKNKOCK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:16:11.9015522+03:00 0HL84SUKNKOCK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:11.9015522+03:00 0HL84SUKNKOCK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:16:11.9025532+03:00 0HL84SUKNKOCK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:11.9035547+03:00 0HL84SUKNKOCK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:11.9045565+03:00 0HL84SUKNKOCK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064353718610.943776808124303\",
  \"Nonce\": \"N0.00427244111664903951506435371861\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.00427244111664903951506435371861\",
    \"state\": \"15064353718610.943776808124303\"
  }
}" (9a175e33)
2017-09-26T17:16:11.9115604+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:11.9280787+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:11.9300796+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:16:11.9320805+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:16:11.9340822+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:16:11.9385854+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:11.9415870+03:00 0HL84SUKNKOCK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:16:11.9641022+03:00 0HL84SUKNKOCK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064353718610.943776808124303\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:16:11.9651028+03:00 0HL84SUKNKOCK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:11.9666044+03:00 0HL84SUKNKOCK [INF] Request finished in 68.0143ms 302  (15c52c40)
2017-09-26T17:16:17.8206349+03:00 0HL84SUKNKOCL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T17:16:17.8236381+03:00 0HL84SUKNKOCL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:17.8236381+03:00 0HL84SUKNKOCL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T17:16:17.8246376+03:00 0HL84SUKNKOCL [INF] Request finished in 3.75ms 200 application/json (15c52c40)
2017-09-26T17:16:17.9447228+03:00 0HL84SUKNKOCM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.186712653794397281506435377884&state=15064353778840.839723307810339   (e5be5b71)
2017-09-26T17:16:17.9467250+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:17.9477252+03:00 0HL84SUKNKOCM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:16:17.9487259+03:00 0HL84SUKNKOCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:17.9487259+03:00 0HL84SUKNKOCM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:16:17.9487259+03:00 0HL84SUKNKOCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:17.9497266+03:00 0HL84SUKNKOCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:17.9497266+03:00 0HL84SUKNKOCM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064353778840.839723307810339\",
  \"Nonce\": \"N0.186712653794397281506435377884\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.186712653794397281506435377884\",
    \"state\": \"15064353778840.839723307810339\"
  }
}" (9a175e33)
2017-09-26T17:16:17.9547295+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:17.9657372+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:17.9717431+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:16:17.9787458+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:16:17.9817478+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:16:17.9837491+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:17.9857505+03:00 0HL84SUKNKOCM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:16:18.0087740+03:00 0HL84SUKNKOCM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064353778840.839723307810339\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:16:18.0097759+03:00 0HL84SUKNKOCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:16:18.0107754+03:00 0HL84SUKNKOCM [INF] Request finished in 67.0749ms 302  (15c52c40)
2017-09-26T17:16:18.0327900+03:00 0HL84SUKNKOCN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:16:18.0387975+03:00 0HL84SUKNKOCN [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:18.0397942+03:00 0HL84SUKNKOCN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:16:18.0628099+03:00 0HL84SUKNKOCN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:18.0628099+03:00 0HL84SUKNKOCN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:16:18.0638106+03:00 0HL84SUKNKOCN [INF] Request finished in 46.3972ms 200 application/json (15c52c40)
2017-09-26T17:16:23.3404724+03:00 0HL84SUKNKOCO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T17:16:23.3434744+03:00 0HL84SUKNKOCO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:23.3434744+03:00 0HL84SUKNKOCO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T17:16:23.3444750+03:00 0HL84SUKNKOCO [INF] Request finished in 3.855ms 200 application/json (15c52c40)
2017-09-26T17:16:23.4205338+03:00 0HL84SUKNKOCP [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T17:16:23.4205338+03:00 0HL84SUKNKOCP [INF] Request finished in 0.8321ms 204  (15c52c40)
2017-09-26T17:16:23.4695664+03:00 0HL84SUKNKOCQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T17:16:23.4725680+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:23.4725680+03:00 0HL84SUKNKOCQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T17:16:23.4725680+03:00 0HL84SUKNKOCQ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T17:16:23.4910852+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:23.4955876+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:23.5005917+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:16:23.5055986+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:16:23.5075999+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:16:23.5096012+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:16:23.5116022+03:00 0HL84SUKNKOCQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:16:23.5116022+03:00 0HL84SUKNKOCQ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T17:16:23.5116022+03:00 0HL84SUKNKOCQ [INF] Request finished in 42.2722ms 200 application/json (15c52c40)
2017-09-26T17:16:23.5266129+03:00 0HL84SUKNKOCR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:16:23.5296153+03:00 0HL84SUKNKOCR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:23.5296153+03:00 0HL84SUKNKOCR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:16:23.5486267+03:00 0HL84SUKNKOCR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:23.5486267+03:00 0HL84SUKNKOCR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:16:23.5486267+03:00 0HL84SUKNKOCR [INF] Request finished in 22.3979ms 200 application/json (15c52c40)
2017-09-26T17:16:53.7328607+03:00 0HL84SUKNKOCS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:16:53.7358639+03:00 0HL84SUKNKOCS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:53.7358639+03:00 0HL84SUKNKOCS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:16:53.7498724+03:00 0HL84SUKNKOCS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:53.7508726+03:00 0HL84SUKNKOCS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:16:53.7518737+03:00 0HL84SUKNKOCS [INF] Request finished in 18.4185ms 200 application/json (15c52c40)
2017-09-26T17:16:56.7024571+03:00 0HL84SUKNKOCT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:16:56.7059592+03:00 0HL84SUKNKOCT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:16:56.7059592+03:00 0HL84SUKNKOCT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:16:56.7314799+03:00 0HL84SUKNKOCT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:16:56.7314799+03:00 0HL84SUKNKOCT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:16:56.7324805+03:00 0HL84SUKNKOCT [INF] Request finished in 30.6258ms 200 application/json (15c52c40)
2017-09-26T17:17:20.5103745+03:00 0HL84SUKNKOCU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:17:20.5143768+03:00 0HL84SUKNKOCU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:17:20.5153774+03:00 0HL84SUKNKOCU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:17:20.5343901+03:00 0HL84SUKNKOCU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:17:20.5343901+03:00 0HL84SUKNKOCU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:17:20.5353911+03:00 0HL84SUKNKOCU [INF] Request finished in 25.9213ms 200 application/json (15c52c40)
2017-09-26T17:20:38.6068362+03:00 0HL84SUKNKOCV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:20:38.6093373+03:00 0HL84SUKNKOCV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:20:38.6093373+03:00 0HL84SUKNKOCV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:20:38.6328531+03:00 0HL84SUKNKOCV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:20:38.6333540+03:00 0HL84SUKNKOCV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:20:38.6338537+03:00 0HL84SUKNKOCV [INF] Request finished in 27.6143ms 200 application/json (15c52c40)
2017-09-26T17:20:40.3150606+03:00 0HL84SUKNKOD0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:20:40.3180622+03:00 0HL84SUKNKOD0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:20:40.3180622+03:00 0HL84SUKNKOD0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:20:40.3405762+03:00 0HL84SUKNKOD0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:20:40.3410771+03:00 0HL84SUKNKOD0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:20:40.3420778+03:00 0HL84SUKNKOD0 [INF] Request finished in 27.2476ms 200 application/json (15c52c40)
2017-09-26T17:21:19.8612994+03:00 0HL84SUKNKOD1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55011836406016571506435679841&state=15064356798410.6080035241985562   (e5be5b71)
2017-09-26T17:21:19.8648007+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:21:19.8653017+03:00 0HL84SUKNKOD1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:21:19.8658014+03:00 0HL84SUKNKOD1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:21:19.8663019+03:00 0HL84SUKNKOD1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T17:21:19.8668025+03:00 0HL84SUKNKOD1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:21:19.8673022+03:00 0HL84SUKNKOD1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:21:19.8673022+03:00 0HL84SUKNKOD1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064356798410.6080035241985562\",
  \"Nonce\": \"N0.55011836406016571506435679841\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55011836406016571506435679841\",
    \"state\": \"15064356798410.6080035241985562\"
  }
}" (9a175e33)
2017-09-26T17:21:19.8718054+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:21:19.8858143+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:21:19.8923188+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:21:19.9018253+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:21:19.9133328+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:21:19.9158342+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:21:19.9218386+03:00 0HL84SUKNKOD1 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T17:21:19.9383506+03:00 0HL84SUKNKOD1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064356798410.6080035241985562\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T17:21:19.9388499+03:00 0HL84SUKNKOD1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:21:19.9398506+03:00 0HL84SUKNKOD1 [INF] Request finished in 79.0366ms 302  (15c52c40)
2017-09-26T17:21:25.9486651+03:00 0HL84SUKNKOD2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T17:21:25.9511662+03:00 0HL84SUKNKOD2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:21:25.9511662+03:00 0HL84SUKNKOD2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T17:21:25.9521672+03:00 0HL84SUKNKOD2 [INF] Request finished in 3.6592ms 200 application/json (15c52c40)
2017-09-26T17:21:26.4755147+03:00 0HL84SUKNKOD3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:21:26.4805180+03:00 0HL84SUKNKOD3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:21:26.4805180+03:00 0HL84SUKNKOD3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:21:26.5175426+03:00 0HL84SUKNKOD3 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:21:26.5180431+03:00 0HL84SUKNKOD3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:21:26.5265486+03:00 0HL84SUKNKOD3 [INF] Request finished in 48.427ms 200 application/json (15c52c40)
2017-09-26T17:21:28.3047291+03:00 0HL84SUKNKOD4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:21:28.3077311+03:00 0HL84SUKNKOD4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:21:28.3082312+03:00 0HL84SUKNKOD4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:21:28.3407526+03:00 0HL84SUKNKOD4 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:21:28.3417541+03:00 0HL84SUKNKOD4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:21:28.3552632+03:00 0HL84SUKNKOD4 [INF] Request finished in 41.1934ms 200 application/json (15c52c40)
2017-09-26T17:48:18.8517980+03:00 0HL84SUKNKOD5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T17:48:20.0721088+03:00 0HL84SUKNKOD6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:48:26.1575991+03:00 0HL84SUKNKOD6 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:48:26.1575991+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:48:26.1575991+03:00 0HL84SUKNKOD6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:48:26.1931248+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:48:26.1951262+03:00 0HL84SUKNKOD6 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:48:26.1951262+03:00 0HL84SUKNKOD6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:48:26.1971310+03:00 0HL84SUKNKOD6 [INF] Request finished in 6405.3187ms 200 application/json (15c52c40)
2017-09-26T17:48:26.2021344+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T17:48:26.2061370+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T17:48:26.2101397+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T17:48:26.2141431+03:00 0HL84SUKNKOD5 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T17:48:26.2151426+03:00 0HL84SUKNKOD5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T17:48:26.2161433+03:00 0HL84SUKNKOD5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T17:48:26.2161433+03:00 0HL84SUKNKOD5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T17:48:26.2191461+03:00 0HL84SUKNKOD5 [INF] Request finished in 7367.1561ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T17:48:49.0793874+03:00 0HL84SUKNKOD7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:48:49.0833900+03:00 0HL84SUKNKOD7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:48:49.0838906+03:00 0HL84SUKNKOD7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:48:49.1054062+03:00 0HL84SUKNKOD7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:48:49.1064077+03:00 0HL84SUKNKOD7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:48:49.1074080+03:00 0HL84SUKNKOD7 [INF] Request finished in 28.077ms 200 application/json (15c52c40)
2017-09-26T17:48:53.3856100+03:00 0HL84SUKNKOD8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:48:53.3876133+03:00 0HL84SUKNKOD8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:48:53.3876133+03:00 0HL84SUKNKOD8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:48:53.4086257+03:00 0HL84SUKNKOD8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:48:53.4096268+03:00 0HL84SUKNKOD8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:48:53.4106274+03:00 0HL84SUKNKOD8 [INF] Request finished in 26.1013ms 200 application/json (15c52c40)
2017-09-26T17:49:24.9073612+03:00 0HL84SUKNKOD9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:49:24.9103671+03:00 0HL84SUKNKOD9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:49:24.9103671+03:00 0HL84SUKNKOD9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:49:24.9248899+03:00 0HL84SUKNKOD9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:49:24.9248899+03:00 0HL84SUKNKOD9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:49:24.9258910+03:00 0HL84SUKNKOD9 [INF] Request finished in 18.7884ms 200 application/json (15c52c40)
2017-09-26T17:49:27.5363764+03:00 0HL84SUKNKODA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T17:49:27.5398781+03:00 0HL84SUKNKODA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T17:49:27.5398781+03:00 0HL84SUKNKODA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T17:49:27.5628930+03:00 0HL84SUKNKODA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T17:49:27.5638945+03:00 0HL84SUKNKODA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T17:49:27.5663959+03:00 0HL84SUKNKODA [INF] Request finished in 28.9722ms 200 application/json (15c52c40)
2017-09-26T20:47:52.1273747+03:00 0HL84SUKNKODB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T20:47:53.0593836+03:00 0HL84SUKNKODC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T20:48:03.8380350+03:00 0HL84SUKNKODB [INF] Executed DbCommand (327ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:03.8390357+03:00 0HL84SUKNKODC [INF] Executed DbCommand (291ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:03.8390357+03:00 0HL84SUKNKODC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T20:48:03.8555508+03:00 0HL84SUKNKODC [INF] Request finished in 10790.4904ms 200 application/json (15c52c40)
2017-09-26T20:48:04.0401866+03:00 0HL84SUKNKODD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:48:04.0451911+03:00 0HL84SUKNKODD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:04.0456901+03:00 0HL84SUKNKODD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:48:04.0526955+03:00 0HL84SUKNKODD [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"b19e305e3c44c4bd2b4e832169984a77883b88edc321b862e170c5b55fa9f347\"
}" (c9724191)
2017-09-26T20:48:04.0526955+03:00 0HL84SUKNKODD [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:48:04.1177399+03:00 0HL84SUKNKODD [INF] Request finished in 14.8702ms 200 application/json (15c52c40)
2017-09-26T20:48:04.6545937+03:00 0HL84SUKNKODB [INF] Executed DbCommand (806ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:48:04.7026264+03:00 0HL84SUKNKODB [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:48:04.7066295+03:00 0HL84SUKNKODB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:48:04.7151349+03:00 0HL84SUKNKODB [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:48:04.7246414+03:00 0HL84SUKNKODB [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:48:04.7256417+03:00 0HL84SUKNKODB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:48:04.7271453+03:00 0HL84SUKNKODB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:04.7281459+03:00 0HL84SUKNKODB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T20:48:04.7321462+03:00 0HL84SUKNKODB [INF] Request finished in 12607.492ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T20:48:51.0157728+03:00 0HL84SUKNKODE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62779618787385561506448131008&state=15064481310080.3900957234433333   (e5be5b71)
2017-09-26T20:48:51.0197746+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:51.0207749+03:00 0HL84SUKNKODE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:48:51.0217760+03:00 0HL84SUKNKODE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:51.0227758+03:00 0HL84SUKNKODE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T20:48:51.0227758+03:00 0HL84SUKNKODE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:51.0237765+03:00 0HL84SUKNKODE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:51.0247772+03:00 0HL84SUKNKODE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064481310080.3900957234433333\",
  \"Nonce\": \"N0.62779618787385561506448131008\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62779618787385561506448131008\",
    \"state\": \"15064481310080.3900957234433333\"
  }
}" (9a175e33)
2017-09-26T20:48:51.0277792+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:48:51.0417889+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:48:51.0437902+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:48:51.0457915+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:48:51.0477932+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:48:51.0497950+03:00 0HL84SUKNKODE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:48:51.0537972+03:00 0HL84SUKNKODE [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:48:51.0668090+03:00 0HL84SUKNKODE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064481310080.3900957234433333\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T20:48:51.0678105+03:00 0HL84SUKNKODE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:51.0683094+03:00 0HL84SUKNKODE [INF] Request finished in 53.1777ms 302  (15c52c40)
2017-09-26T20:48:57.1385099+03:00 0HL84SUKNKODF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T20:48:57.1425133+03:00 0HL84SUKNKODF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:57.1425133+03:00 0HL84SUKNKODF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:48:57.1435140+03:00 0HL84SUKNKODF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:48:57.1435140+03:00 0HL84SUKNKODF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T20:48:57.1445150+03:00 0HL84SUKNKODF [INF] Request finished in 10.0311ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T20:48:57.1800570+03:00 0HL84SUKNKODG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T20:48:57.1840593+03:00 0HL84SUKNKODG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:57.1850595+03:00 0HL84SUKNKODG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T20:48:57.1860606+03:00 0HL84SUKNKODG [INF] Request finished in 6.3781ms 200 application/json (15c52c40)
2017-09-26T20:48:57.3056481+03:00 0HL84SUKNKODH [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T20:48:57.3066491+03:00 0HL84SUKNKODH [INF] Request finished in 1.3172ms 204  (15c52c40)
2017-09-26T20:48:57.3406717+03:00 0HL84SUKNKODI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T20:48:57.3506780+03:00 0HL84SUKNKODI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:57.3506780+03:00 0HL84SUKNKODI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T20:48:57.3506780+03:00 0HL84SUKNKODI [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T20:48:57.3787056+03:00 0HL84SUKNKODI [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:48:57.3947167+03:00 0HL84SUKNKODI [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:48:57.4057232+03:00 0HL84SUKNKODI [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:48:57.4107261+03:00 0HL84SUKNKODI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:48:57.4157294+03:00 0HL84SUKNKODI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:48:57.4187318+03:00 0HL84SUKNKODI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:48:57.4207327+03:00 0HL84SUKNKODI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:48:57.4207327+03:00 0HL84SUKNKODI [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T20:48:57.4217393+03:00 0HL84SUKNKODI [INF] Request finished in 86.0101ms 200 application/json (15c52c40)
2017-09-26T20:48:57.4797763+03:00 0HL84SUKNKODJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:48:57.4832788+03:00 0HL84SUKNKODJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:48:57.4832788+03:00 0HL84SUKNKODJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:48:57.5037922+03:00 0HL84SUKNKODJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:48:57.5042924+03:00 0HL84SUKNKODJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:48:57.5052930+03:00 0HL84SUKNKODJ [INF] Request finished in 25.63ms 200 application/json (15c52c40)
2017-09-26T20:53:53.8511605+03:00 0HL84SUKNKODK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76501924960862631506448433834&state=15064484338340.33663965481402713   (e5be5b71)
2017-09-26T20:53:54.1311736+03:00 0HL84SUKNKODK [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:53:54.1321759+03:00 0HL84SUKNKODK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:53:54.1331754+03:00 0HL84SUKNKODK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:54.1336751+03:00 0HL84SUKNKODK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T20:53:54.1346758+03:00 0HL84SUKNKODK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:54.1361770+03:00 0HL84SUKNKODK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:54.1361770+03:00 0HL84SUKNKODK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064484338340.33663965481402713\",
  \"Nonce\": \"N0.76501924960862631506448433834\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76501924960862631506448433834\",
    \"state\": \"15064484338340.33663965481402713\"
  }
}" (9a175e33)
2017-09-26T20:53:54.2105873+03:00 0HL84SUKNKODK [INF] Executed DbCommand (68ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:53:54.2421124+03:00 0HL84SUKNKODK [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:53:54.2516146+03:00 0HL84SUKNKODK [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:53:54.2571204+03:00 0HL84SUKNKODK [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:53:54.2621209+03:00 0HL84SUKNKODK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:53:54.2651229+03:00 0HL84SUKNKODK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:53:54.2706288+03:00 0HL84SUKNKODK [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:53:54.2846353+03:00 0HL84SUKNKODK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064484338340.33663965481402713\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T20:53:54.2851358+03:00 0HL84SUKNKODK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:54.2856367+03:00 0HL84SUKNKODK [INF] Request finished in 436.5557ms 302  (15c52c40)
2017-09-26T20:53:57.9219590+03:00 0HL84SUKNKODL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45328641525962611506448437879&state=15064484378790.21729992028399714   (e5be5b71)
2017-09-26T20:53:57.9254615+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:53:57.9259617+03:00 0HL84SUKNKODL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:53:57.9269623+03:00 0HL84SUKNKODL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:57.9269623+03:00 0HL84SUKNKODL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T20:53:57.9274625+03:00 0HL84SUKNKODL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:57.9279626+03:00 0HL84SUKNKODL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:57.9279626+03:00 0HL84SUKNKODL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064484378790.21729992028399714\",
  \"Nonce\": \"N0.45328641525962611506448437879\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45328641525962611506448437879\",
    \"state\": \"15064484378790.21729992028399714\"
  }
}" (9a175e33)
2017-09-26T20:53:57.9324658+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:53:57.9459750+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:53:57.9484760+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:53:57.9504773+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:53:57.9529792+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:53:57.9554807+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:53:57.9579821+03:00 0HL84SUKNKODL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:53:57.9769959+03:00 0HL84SUKNKODL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064484378790.21729992028399714\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T20:53:57.9774957+03:00 0HL84SUKNKODL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:53:57.9779962+03:00 0HL84SUKNKODL [INF] Request finished in 56.6881ms 302  (15c52c40)
2017-09-26T20:54:02.4120039+03:00 0HL84SUKNKODM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T20:54:02.4145046+03:00 0HL84SUKNKODM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:54:02.4150051+03:00 0HL84SUKNKODM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T20:54:02.4160057+03:00 0HL84SUKNKODM [INF] Request finished in 4.0366ms 200 application/json (15c52c40)
2017-09-26T20:54:02.7622356+03:00 0HL84SUKNKODN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:54:02.7642369+03:00 0HL84SUKNKODN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:54:02.7642369+03:00 0HL84SUKNKODN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:54:02.7772456+03:00 0HL84SUKNKODN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:54:02.7772456+03:00 0HL84SUKNKODN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:54:02.7777465+03:00 0HL84SUKNKODN [INF] Request finished in 15.814ms 200 application/json (15c52c40)
2017-09-26T20:54:03.3516522+03:00 0HL84SUKNKODO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:54:03.3546538+03:00 0HL84SUKNKODO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:54:03.3546538+03:00 0HL84SUKNKODO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:54:03.3761734+03:00 0HL84SUKNKODO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:54:03.3766735+03:00 0HL84SUKNKODO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:54:03.3776738+03:00 0HL84SUKNKODO [INF] Request finished in 26.8391ms 200 application/json (15c52c40)
2017-09-26T20:55:39.4280749+03:00 0HL84SUKNKODP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:55:39.4320776+03:00 0HL84SUKNKODP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:55:39.4320776+03:00 0HL84SUKNKODP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:55:39.4480878+03:00 0HL84SUKNKODP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:55:39.4480878+03:00 0HL84SUKNKODP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:55:39.4490885+03:00 0HL84SUKNKODP [INF] Request finished in 21.1821ms 200 application/json (15c52c40)
2017-09-26T20:55:43.0091869+03:00 0HL84SUKNKODQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:55:43.0111887+03:00 0HL84SUKNKODQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:55:43.0111887+03:00 0HL84SUKNKODQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:55:43.0271993+03:00 0HL84SUKNKODQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:55:43.0271993+03:00 0HL84SUKNKODQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:55:43.0282015+03:00 0HL84SUKNKODQ [INF] Request finished in 19.5076ms 200 application/json (15c52c40)
2017-09-26T20:55:52.6773102+03:00 0HL84SUKNKODR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:55:52.6803130+03:00 0HL84SUKNKODR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:55:52.6803130+03:00 0HL84SUKNKODR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:55:52.7023264+03:00 0HL84SUKNKODR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:55:52.7023264+03:00 0HL84SUKNKODR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:55:52.7033279+03:00 0HL84SUKNKODR [INF] Request finished in 26.6374ms 200 application/json (15c52c40)
2017-09-26T20:55:54.3220574+03:00 0HL84SUKNKODS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:55:54.3250586+03:00 0HL84SUKNKODS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:55:54.3260592+03:00 0HL84SUKNKODS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:55:54.3545859+03:00 0HL84SUKNKODS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:55:54.3555834+03:00 0HL84SUKNKODS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:55:54.3560839+03:00 0HL84SUKNKODS [INF] Request finished in 34.5819ms 200 application/json (15c52c40)
2017-09-26T20:55:56.2390401+03:00 0HL84SUKNKODT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:55:56.2415416+03:00 0HL84SUKNKODT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:55:56.2420421+03:00 0HL84SUKNKODT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:55:56.2635558+03:00 0HL84SUKNKODT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:55:56.2640563+03:00 0HL84SUKNKODT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:55:56.2660581+03:00 0HL84SUKNKODT [INF] Request finished in 25.8881ms 200 application/json (15c52c40)
2017-09-26T20:56:03.1417219+03:00 0HL84SUKNKODU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:56:03.1447235+03:00 0HL84SUKNKODU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:56:03.1447235+03:00 0HL84SUKNKODU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:56:03.1687390+03:00 0HL84SUKNKODU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:56:03.1687390+03:00 0HL84SUKNKODU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:56:03.1717414+03:00 0HL84SUKNKODU [INF] Request finished in 29.4688ms 200 application/json (15c52c40)
2017-09-26T20:56:04.6684822+03:00 0HL84SUKNKODV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:56:04.6724861+03:00 0HL84SUKNKODV [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:56:04.6734860+03:00 0HL84SUKNKODV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:56:04.7225284+03:00 0HL84SUKNKODV [INF] Executed DbCommand (19ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:56:04.7235294+03:00 0HL84SUKNKODV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:56:04.7245297+03:00 0HL84SUKNKODV [INF] Request finished in 56.0368ms 200 application/json (15c52c40)
2017-09-26T20:58:57.4857834+03:00 0HL84SUKNKOE0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47138665010436441506448737468&state=15064487374680.025119553603764055   (e5be5b71)
2017-09-26T20:58:57.4922872+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:58:57.4932878+03:00 0HL84SUKNKOE0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:58:57.4937880+03:00 0HL84SUKNKOE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:58:57.4942881+03:00 0HL84SUKNKOE0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T20:58:57.4947882+03:00 0HL84SUKNKOE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:58:57.4957897+03:00 0HL84SUKNKOE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:58:57.4957897+03:00 0HL84SUKNKOE0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064487374680.025119553603764055\",
  \"Nonce\": \"N0.47138665010436441506448737468\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47138665010436441506448737468\",
    \"state\": \"15064487374680.025119553603764055\"
  }
}" (9a175e33)
2017-09-26T20:58:57.5042951+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:58:57.5138012+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:58:57.5153020+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:58:57.5178039+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:58:57.5198048+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:58:57.5218058+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:58:57.5233074+03:00 0HL84SUKNKOE0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:58:57.5353149+03:00 0HL84SUKNKOE0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064487374680.025119553603764055\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T20:58:57.5355766+03:00 0HL84SUKNKOE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:58:57.5365805+03:00 0HL84SUKNKOE0 [INF] Request finished in 53.7244ms 302  (15c52c40)
2017-09-26T20:59:00.4935768+03:00 0HL84SUKNKOE1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47964180473123741506448740470&state=15064487404700.32156372194356053   (e5be5b71)
2017-09-26T20:59:00.5331036+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:59:00.5336037+03:00 0HL84SUKNKOE1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T20:59:00.5356051+03:00 0HL84SUKNKOE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:59:00.5356051+03:00 0HL84SUKNKOE1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T20:59:00.5376064+03:00 0HL84SUKNKOE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:59:00.5381069+03:00 0HL84SUKNKOE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:59:00.5386071+03:00 0HL84SUKNKOE1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064487404700.32156372194356053\",
  \"Nonce\": \"N0.47964180473123741506448740470\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47964180473123741506448740470\",
    \"state\": \"15064487404700.32156372194356053\"
  }
}" (9a175e33)
2017-09-26T20:59:00.5446107+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:59:00.5591205+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:59:00.5616223+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T20:59:00.5636237+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T20:59:00.5661247+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T20:59:00.5701282+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T20:59:00.5726293+03:00 0HL84SUKNKOE1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T20:59:00.5976463+03:00 0HL84SUKNKOE1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064487404700.32156372194356053\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T20:59:00.5986469+03:00 0HL84SUKNKOE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T20:59:00.6001477+03:00 0HL84SUKNKOE1 [INF] Request finished in 115.5895ms 302  (15c52c40)
2017-09-26T20:59:04.8854642+03:00 0HL84SUKNKOE2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T20:59:04.8879664+03:00 0HL84SUKNKOE2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:59:04.8879664+03:00 0HL84SUKNKOE2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T20:59:04.8904679+03:00 0HL84SUKNKOE2 [INF] Request finished in 3.8542ms 200 application/json (15c52c40)
2017-09-26T20:59:05.3097459+03:00 0HL84SUKNKOE3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:59:05.3132484+03:00 0HL84SUKNKOE3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:59:05.3132484+03:00 0HL84SUKNKOE3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:59:05.3382650+03:00 0HL84SUKNKOE3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:59:05.3382650+03:00 0HL84SUKNKOE3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:59:05.3392653+03:00 0HL84SUKNKOE3 [INF] Request finished in 30.1928ms 200 application/json (15c52c40)
2017-09-26T20:59:06.0997705+03:00 0HL84SUKNKOE4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T20:59:06.1032727+03:00 0HL84SUKNKOE4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T20:59:06.1037728+03:00 0HL84SUKNKOE4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T20:59:06.1282893+03:00 0HL84SUKNKOE4 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T20:59:06.1302906+03:00 0HL84SUKNKOE4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T20:59:06.1342952+03:00 0HL84SUKNKOE4 [INF] Request finished in 31.9699ms 200 application/json (15c52c40)
2017-09-26T21:04:00.8477721+03:00 0HL84SUKNKOE5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81365047498530531506449040837&state=15064490408370.3306785991889494   (e5be5b71)
2017-09-26T21:04:01.2107669+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:04:01.2122681+03:00 0HL84SUKNKOE5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:04:01.2137689+03:00 0HL84SUKNKOE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:01.2137689+03:00 0HL84SUKNKOE5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:04:01.2167709+03:00 0HL84SUKNKOE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:01.2182737+03:00 0HL84SUKNKOE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:01.2187722+03:00 0HL84SUKNKOE5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064490408370.3306785991889494\",
  \"Nonce\": \"N0.81365047498530531506449040837\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81365047498530531506449040837\",
    \"state\": \"15064490408370.3306785991889494\"
  }
}" (9a175e33)
2017-09-26T21:04:01.3338490+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (111ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:04:01.3583647+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:04:01.3633684+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:04:01.3698726+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:04:01.3748759+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:04:01.3783780+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:04:01.3833813+03:00 0HL84SUKNKOE5 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:04:01.4098991+03:00 0HL84SUKNKOE5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064490408370.3306785991889494\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:04:01.4134016+03:00 0HL84SUKNKOE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:01.4149028+03:00 0HL84SUKNKOE5 [INF] Request finished in 567.8799ms 302  (15c52c40)
2017-09-26T21:04:05.0018357+03:00 0HL84SUKNKOE6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43889297709825171506449044989&state=15064490449890.07287054127237713   (e5be5b71)
2017-09-26T21:04:05.0058407+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:04:05.0063385+03:00 0HL84SUKNKOE6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:04:05.0068390+03:00 0HL84SUKNKOE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:05.0068390+03:00 0HL84SUKNKOE6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:04:05.0073396+03:00 0HL84SUKNKOE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:05.0083402+03:00 0HL84SUKNKOE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:05.0083402+03:00 0HL84SUKNKOE6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064490449890.07287054127237713\",
  \"Nonce\": \"N0.43889297709825171506449044989\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43889297709825171506449044989\",
    \"state\": \"15064490449890.07287054127237713\"
  }
}" (9a175e33)
2017-09-26T21:04:05.0128426+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:04:05.0273525+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:04:05.0293538+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:04:05.0323558+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:04:05.0343571+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:04:05.0373587+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:04:05.0398610+03:00 0HL84SUKNKOE6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:04:05.0608800+03:00 0HL84SUKNKOE6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064490449890.07287054127237713\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:04:05.0623761+03:00 0HL84SUKNKOE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:04:05.0643790+03:00 0HL84SUKNKOE6 [INF] Request finished in 61.7846ms 302  (15c52c40)
2017-09-26T21:04:10.9688900+03:00 0HL84SUKNKOE7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:04:10.9733924+03:00 0HL84SUKNKOE7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:04:10.9733924+03:00 0HL84SUKNKOE7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:04:10.9743934+03:00 0HL84SUKNKOE7 [INF] Request finished in 5.5891ms 200 application/json (15c52c40)
2017-09-26T21:04:11.6868664+03:00 0HL84SUKNKOE8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:04:11.7003752+03:00 0HL84SUKNKOE8 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:04:11.7008757+03:00 0HL84SUKNKOE8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:04:11.7328970+03:00 0HL84SUKNKOE8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:04:11.7338973+03:00 0HL84SUKNKOE8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:04:11.7378999+03:00 0HL84SUKNKOE8 [INF] Request finished in 52.0969ms 200 application/json (15c52c40)
2017-09-26T21:04:12.3247894+03:00 0HL84SUKNKOE9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:04:12.3463038+03:00 0HL84SUKNKOE9 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:04:12.3463038+03:00 0HL84SUKNKOE9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:04:12.3738231+03:00 0HL84SUKNKOE9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:04:12.3743232+03:00 0HL84SUKNKOE9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:04:12.3758240+03:00 0HL84SUKNKOE9 [INF] Request finished in 52.0325ms 200 application/json (15c52c40)
2017-09-26T21:09:05.8537642+03:00 0HL84SUKNKOEA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.491177931321244771506449345832&state=15064493458320.5301458736071671   (e5be5b71)
2017-09-26T21:09:06.1476907+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:06.1486930+03:00 0HL84SUKNKOEA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:06.1496917+03:00 0HL84SUKNKOEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:06.1496917+03:00 0HL84SUKNKOEA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:06.1501950+03:00 0HL84SUKNKOEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:06.1506955+03:00 0HL84SUKNKOEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:06.1511960+03:00 0HL84SUKNKOEA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493458320.5301458736071671\",
  \"Nonce\": \"N0.491177931321244771506449345832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.491177931321244771506449345832\",
    \"state\": \"15064493458320.5301458736071671\"
  }
}" (9a175e33)
2017-09-26T21:09:06.1697121+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:06.1857223+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:06.1897257+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:06.1927269+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:06.1957293+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:06.1977342+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:06.2017333+03:00 0HL84SUKNKOEA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:06.2137405+03:00 0HL84SUKNKOEA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493458320.5301458736071671\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:06.2147412+03:00 0HL84SUKNKOEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:06.2157426+03:00 0HL84SUKNKOEA [INF] Request finished in 362.6687ms 302  (15c52c40)
2017-09-26T21:09:09.8409455+03:00 0HL84SUKNKOEB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74055799700105721506449349831&state=15064493498310.2577431718126102   (e5be5b71)
2017-09-26T21:09:09.8439475+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:09.8449501+03:00 0HL84SUKNKOEB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:09.8449501+03:00 0HL84SUKNKOEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:09.8459484+03:00 0HL84SUKNKOEB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:09.8459484+03:00 0HL84SUKNKOEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:09.8469491+03:00 0HL84SUKNKOEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:09.8469491+03:00 0HL84SUKNKOEB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493498310.2577431718126102\",
  \"Nonce\": \"N0.74055799700105721506449349831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74055799700105721506449349831\",
    \"state\": \"15064493498310.2577431718126102\"
  }
}" (9a175e33)
2017-09-26T21:09:09.8509537+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:09.8579619+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:09.8599648+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:09.8614656+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:09.8629664+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:09.8654667+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:09.8669679+03:00 0HL84SUKNKOEB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:09.8779775+03:00 0HL84SUKNKOEB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493498310.2577431718126102\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:09.8789782+03:00 0HL84SUKNKOEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:09.8789782+03:00 0HL84SUKNKOEB [INF] Request finished in 39.0215ms 302  (15c52c40)
2017-09-26T21:09:13.8394735+03:00 0HL84SUKNKOEC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94781774792358251506449353830&state=15064493538300.6262690054556168   (e5be5b71)
2017-09-26T21:09:13.8424877+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:13.8434757+03:00 0HL84SUKNKOEC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:13.8434757+03:00 0HL84SUKNKOEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:13.8434757+03:00 0HL84SUKNKOEC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:13.8444756+03:00 0HL84SUKNKOEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:13.8444756+03:00 0HL84SUKNKOEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:13.8444756+03:00 0HL84SUKNKOEC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493538300.6262690054556168\",
  \"Nonce\": \"N0.94781774792358251506449353830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94781774792358251506449353830\",
    \"state\": \"15064493538300.6262690054556168\"
  }
}" (9a175e33)
2017-09-26T21:09:13.8494801+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:13.8574874+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:13.8589886+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:13.8604902+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:13.8619902+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:13.8629913+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:13.8644925+03:00 0HL84SUKNKOEC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:13.8755025+03:00 0HL84SUKNKOEC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493538300.6262690054556168\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:13.8765024+03:00 0HL84SUKNKOEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:13.8775031+03:00 0HL84SUKNKOEC [INF] Request finished in 38.3639ms 302  (15c52c40)
2017-09-26T21:09:17.8416643+03:00 0HL84SUKNKOED [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.209764537255226371506449357832&state=15064493578320.7709884279857637   (e5be5b71)
2017-09-26T21:09:17.8456677+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:17.8466676+03:00 0HL84SUKNKOED [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:17.8466676+03:00 0HL84SUKNKOED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:17.8466676+03:00 0HL84SUKNKOED [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:17.8476679+03:00 0HL84SUKNKOED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:17.8486729+03:00 0HL84SUKNKOED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:17.8486729+03:00 0HL84SUKNKOED [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493578320.7709884279857637\",
  \"Nonce\": \"N0.209764537255226371506449357832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.209764537255226371506449357832\",
    \"state\": \"15064493578320.7709884279857637\"
  }
}" (9a175e33)
2017-09-26T21:09:17.8516741+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:17.8596758+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:17.8606765+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:17.8621813+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:17.8636813+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:17.8656826+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:17.8666840+03:00 0HL84SUKNKOED [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:17.8766938+03:00 0HL84SUKNKOED [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493578320.7709884279857637\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:17.8786952+03:00 0HL84SUKNKOED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:17.8796954+03:00 0HL84SUKNKOED [INF] Request finished in 37.9198ms 302  (15c52c40)
2017-09-26T21:09:21.8511625+03:00 0HL84SUKNKOEE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.196381616435860941506449361831&state=15064493618310.07561581119605809   (e5be5b71)
2017-09-26T21:09:21.8591690+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:21.8611691+03:00 0HL84SUKNKOEE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:21.8621678+03:00 0HL84SUKNKOEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:21.8631720+03:00 0HL84SUKNKOEE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:21.8641692+03:00 0HL84SUKNKOEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:21.8661740+03:00 0HL84SUKNKOEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:21.8661740+03:00 0HL84SUKNKOEE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493618310.07561581119605809\",
  \"Nonce\": \"N0.196381616435860941506449361831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.196381616435860941506449361831\",
    \"state\": \"15064493618310.07561581119605809\"
  }
}" (9a175e33)
2017-09-26T21:09:21.8730441+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:21.8945637+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:21.8985656+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:21.9035677+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:21.9065492+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:21.9095571+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:21.9145600+03:00 0HL84SUKNKOEE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:21.9415780+03:00 0HL84SUKNKOEE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493618310.07561581119605809\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:21.9425877+03:00 0HL84SUKNKOEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:21.9435781+03:00 0HL84SUKNKOEE [INF] Request finished in 93.6313ms 302  (15c52c40)
2017-09-26T21:09:24.8416816+03:00 0HL84SUKNKOEF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.357380096148563141506449364833&state=15064493648330.20373118425331493   (e5be5b71)
2017-09-26T21:09:24.8446829+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:24.8446829+03:00 0HL84SUKNKOEF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:24.8456835+03:00 0HL84SUKNKOEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:24.8456835+03:00 0HL84SUKNKOEF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:24.8456835+03:00 0HL84SUKNKOEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:24.8466842+03:00 0HL84SUKNKOEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:24.8466842+03:00 0HL84SUKNKOEF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493648330.20373118425331493\",
  \"Nonce\": \"N0.357380096148563141506449364833\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.357380096148563141506449364833\",
    \"state\": \"15064493648330.20373118425331493\"
  }
}" (9a175e33)
2017-09-26T21:09:24.8506872+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:24.8596936+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:24.8616941+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:24.8636967+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:24.8646965+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:24.8676985+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:24.8692033+03:00 0HL84SUKNKOEF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:24.8822123+03:00 0HL84SUKNKOEF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493648330.20373118425331493\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:24.8832130+03:00 0HL84SUKNKOEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:24.8842136+03:00 0HL84SUKNKOEF [INF] Request finished in 42.9993ms 302  (15c52c40)
2017-09-26T21:09:28.8420464+03:00 0HL84SUKNKOEG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85404682011444511506449368831&state=15064493688310.3750250681140417   (e5be5b71)
2017-09-26T21:09:28.8460494+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:28.8460494+03:00 0HL84SUKNKOEG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:28.8470489+03:00 0HL84SUKNKOEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:28.8470489+03:00 0HL84SUKNKOEG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:28.8470489+03:00 0HL84SUKNKOEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:28.8480504+03:00 0HL84SUKNKOEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:28.8490534+03:00 0HL84SUKNKOEG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493688310.3750250681140417\",
  \"Nonce\": \"N0.85404682011444511506449368831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85404682011444511506449368831\",
    \"state\": \"15064493688310.3750250681140417\"
  }
}" (9a175e33)
2017-09-26T21:09:28.8520530+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:28.8590565+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:28.8610582+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:28.8620589+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:28.8640606+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:28.8660623+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:28.8680641+03:00 0HL84SUKNKOEG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:28.8840767+03:00 0HL84SUKNKOEG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493688310.3750250681140417\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:28.8845764+03:00 0HL84SUKNKOEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:28.8850765+03:00 0HL84SUKNKOEG [INF] Request finished in 43.2626ms 302  (15c52c40)
2017-09-26T21:09:32.8439660+03:00 0HL84SUKNKOEH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.069122216793479961506449372831&state=15064493728310.3601342033491568   (e5be5b71)
2017-09-26T21:09:32.8469688+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:32.8469688+03:00 0HL84SUKNKOEH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:32.8479687+03:00 0HL84SUKNKOEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:32.8479687+03:00 0HL84SUKNKOEH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:32.8489697+03:00 0HL84SUKNKOEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:32.8499712+03:00 0HL84SUKNKOEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:32.8499712+03:00 0HL84SUKNKOEH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493728310.3601342033491568\",
  \"Nonce\": \"N0.069122216793479961506449372831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.069122216793479961506449372831\",
    \"state\": \"15064493728310.3601342033491568\"
  }
}" (9a175e33)
2017-09-26T21:09:32.8529724+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:32.8599766+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:32.8619780+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:32.8639789+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:32.8649800+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:32.8669813+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:32.8689838+03:00 0HL84SUKNKOEH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:32.8804956+03:00 0HL84SUKNKOEH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493728310.3601342033491568\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:32.8809953+03:00 0HL84SUKNKOEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:32.8819960+03:00 0HL84SUKNKOEH [INF] Request finished in 38.2241ms 302  (15c52c40)
2017-09-26T21:09:36.8493949+03:00 0HL84SUKNKOEI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47854289826195261506449376830&state=15064493768300.9385824411411077   (e5be5b71)
2017-09-26T21:09:36.8543978+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:36.8543978+03:00 0HL84SUKNKOEI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:36.8553973+03:00 0HL84SUKNKOEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:36.8553973+03:00 0HL84SUKNKOEI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:36.8553973+03:00 0HL84SUKNKOEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:36.8563987+03:00 0HL84SUKNKOEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:36.8563987+03:00 0HL84SUKNKOEI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493768300.9385824411411077\",
  \"Nonce\": \"N0.47854289826195261506449376830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47854289826195261506449376830\",
    \"state\": \"15064493768300.9385824411411077\"
  }
}" (9a175e33)
2017-09-26T21:09:36.8604022+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:36.8702608+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:36.8722605+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:36.8742630+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:36.8762644+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:36.8782677+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:36.8807723+03:00 0HL84SUKNKOEI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:36.8962844+03:00 0HL84SUKNKOEI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493768300.9385824411411077\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:36.8982857+03:00 0HL84SUKNKOEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:36.8992872+03:00 0HL84SUKNKOEI [INF] Request finished in 50.7765ms 302  (15c52c40)
2017-09-26T21:09:40.8569079+03:00 0HL84SUKNKOEJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68352243295052561506449380831&state=15064493808310.6983814132238271   (e5be5b71)
2017-09-26T21:09:40.8629111+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:40.8649140+03:00 0HL84SUKNKOEJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:40.8659131+03:00 0HL84SUKNKOEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:40.8659131+03:00 0HL84SUKNKOEJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:40.8679156+03:00 0HL84SUKNKOEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:40.8699083+03:00 0HL84SUKNKOEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:40.8699083+03:00 0HL84SUKNKOEJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493808310.6983814132238271\",
  \"Nonce\": \"N0.68352243295052561506449380831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68352243295052561506449380831\",
    \"state\": \"15064493808310.6983814132238271\"
  }
}" (9a175e33)
2017-09-26T21:09:40.8739078+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:40.8829149+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:40.8849151+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:40.8869172+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:40.8879191+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:40.8929354+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:40.8948870+03:00 0HL84SUKNKOEJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:40.9065018+03:00 0HL84SUKNKOEJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493808310.6983814132238271\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:40.9075001+03:00 0HL84SUKNKOEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:40.9075001+03:00 0HL84SUKNKOEJ [INF] Request finished in 53.5906ms 302  (15c52c40)
2017-09-26T21:09:44.8410193+03:00 0HL84SUKNKOEK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6547930082597161506449384830&state=15064493848300.8157970753468984   (e5be5b71)
2017-09-26T21:09:44.8448301+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:44.8448301+03:00 0HL84SUKNKOEK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:44.8458339+03:00 0HL84SUKNKOEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:44.8458339+03:00 0HL84SUKNKOEK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:44.8458339+03:00 0HL84SUKNKOEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:44.8468334+03:00 0HL84SUKNKOEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:44.8468334+03:00 0HL84SUKNKOEK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493848300.8157970753468984\",
  \"Nonce\": \"N0.6547930082597161506449384830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6547930082597161506449384830\",
    \"state\": \"15064493848300.8157970753468984\"
  }
}" (9a175e33)
2017-09-26T21:09:44.8508372+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:44.8598420+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:44.8618449+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:44.8638459+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:44.8648473+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:44.8678485+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:44.8698499+03:00 0HL84SUKNKOEK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:44.8858589+03:00 0HL84SUKNKOEK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493848300.8157970753468984\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:44.8858589+03:00 0HL84SUKNKOEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:44.8868600+03:00 0HL84SUKNKOEK [INF] Request finished in 46.9949ms 302  (15c52c40)
2017-09-26T21:09:47.8468602+03:00 0HL84SUKNKOEL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9373788524604581506449387834&state=15064493878340.1403095737085971   (e5be5b71)
2017-09-26T21:09:47.8508629+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:47.8508629+03:00 0HL84SUKNKOEL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:47.8518636+03:00 0HL84SUKNKOEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:47.8518636+03:00 0HL84SUKNKOEL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:47.8528646+03:00 0HL84SUKNKOEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:47.8528646+03:00 0HL84SUKNKOEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:47.8538649+03:00 0HL84SUKNKOEL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493878340.1403095737085971\",
  \"Nonce\": \"N0.9373788524604581506449387834\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9373788524604581506449387834\",
    \"state\": \"15064493878340.1403095737085971\"
  }
}" (9a175e33)
2017-09-26T21:09:47.8568669+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:47.8678742+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:47.8698751+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:47.8718780+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:47.8728771+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:47.8758791+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:47.8768798+03:00 0HL84SUKNKOEL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:47.8953962+03:00 0HL84SUKNKOEL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493878340.1403095737085971\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:47.8958963+03:00 0HL84SUKNKOEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:47.8968966+03:00 0HL84SUKNKOEL [INF] Request finished in 49.6874ms 302  (15c52c40)
2017-09-26T21:09:51.8385786+03:00 0HL84SUKNKOEM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14082304432594661506449391831&state=15064493918310.17169464674135848   (e5be5b71)
2017-09-26T21:09:51.8415802+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:51.8415802+03:00 0HL84SUKNKOEM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:51.8425809+03:00 0HL84SUKNKOEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:51.8425809+03:00 0HL84SUKNKOEM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:51.8425809+03:00 0HL84SUKNKOEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:51.8435831+03:00 0HL84SUKNKOEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:51.8435831+03:00 0HL84SUKNKOEM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493918310.17169464674135848\",
  \"Nonce\": \"N0.14082304432594661506449391831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14082304432594661506449391831\",
    \"state\": \"15064493918310.17169464674135848\"
  }
}" (9a175e33)
2017-09-26T21:09:51.8465843+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:51.8565913+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:51.8575916+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:51.8595937+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:51.8615939+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:51.8625969+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:51.8645959+03:00 0HL84SUKNKOEM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:51.8796118+03:00 0HL84SUKNKOEM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493918310.17169464674135848\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:51.8806069+03:00 0HL84SUKNKOEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:51.8806069+03:00 0HL84SUKNKOEM [INF] Request finished in 42.575ms 302  (15c52c40)
2017-09-26T21:09:55.8405712+03:00 0HL84SUKNKOEN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.063524504082214331506449395831&state=15064493958310.2104962860821884   (e5be5b71)
2017-09-26T21:09:55.8435732+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:55.8445731+03:00 0HL84SUKNKOEN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:55.8445731+03:00 0HL84SUKNKOEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:55.8455738+03:00 0HL84SUKNKOEN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:55.8455738+03:00 0HL84SUKNKOEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:55.8465748+03:00 0HL84SUKNKOEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:55.8465748+03:00 0HL84SUKNKOEN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493958310.2104962860821884\",
  \"Nonce\": \"N0.063524504082214331506449395831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.063524504082214331506449395831\",
    \"state\": \"15064493958310.2104962860821884\"
  }
}" (9a175e33)
2017-09-26T21:09:55.8505771+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:55.8615848+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:55.8635857+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:55.8645931+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:55.8675880+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:55.8685887+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:55.8705900+03:00 0HL84SUKNKOEN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:55.8856000+03:00 0HL84SUKNKOEN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493958310.2104962860821884\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:55.8866006+03:00 0HL84SUKNKOEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:55.8866006+03:00 0HL84SUKNKOEN [INF] Request finished in 47.272ms 302  (15c52c40)
2017-09-26T21:09:59.8397964+03:00 0HL84SUKNKOEO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97971078152251721506449399832&state=15064493998320.055358013912829795   (e5be5b71)
2017-09-26T21:09:59.8427976+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:09:59.8437978+03:00 0HL84SUKNKOEO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:09:59.8437978+03:00 0HL84SUKNKOEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:59.8447985+03:00 0HL84SUKNKOEO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:09:59.8447985+03:00 0HL84SUKNKOEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:59.8457996+03:00 0HL84SUKNKOEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:59.8457996+03:00 0HL84SUKNKOEO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064493998320.055358013912829795\",
  \"Nonce\": \"N0.97971078152251721506449399832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97971078152251721506449399832\",
    \"state\": \"15064493998320.055358013912829795\"
  }
}" (9a175e33)
2017-09-26T21:09:59.8478005+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:09:59.8568057+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:59.8578071+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:09:59.8598085+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:09:59.8608095+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:09:59.8618106+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:09:59.8638111+03:00 0HL84SUKNKOEO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:09:59.8748188+03:00 0HL84SUKNKOEO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064493998320.055358013912829795\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:09:59.8758290+03:00 0HL84SUKNKOEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:09:59.8758290+03:00 0HL84SUKNKOEO [INF] Request finished in 36.702ms 302  (15c52c40)
2017-09-26T21:10:04.1895378+03:00 0HL84SUKNKOEP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.15815849502447011506449404090&state=15064494040900.08541369169240487   (e5be5b71)
2017-09-26T21:10:04.1930400+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:04.1935401+03:00 0HL84SUKNKOEP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:04.1940410+03:00 0HL84SUKNKOEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:04.1940410+03:00 0HL84SUKNKOEP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:04.1945416+03:00 0HL84SUKNKOEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:04.1950421+03:00 0HL84SUKNKOEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:04.1955426+03:00 0HL84SUKNKOEP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494040900.08541369169240487\",
  \"Nonce\": \"N0.15815849502447011506449404090\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.15815849502447011506449404090\",
    \"state\": \"15064494040900.08541369169240487\"
  }
}" (9a175e33)
2017-09-26T21:10:04.1990443+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:04.2090514+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:04.2110523+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:04.2130572+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:04.2140594+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:04.2170606+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:04.2190616+03:00 0HL84SUKNKOEP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:04.2400755+03:00 0HL84SUKNKOEP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494040900.08541369169240487\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:04.2400755+03:00 0HL84SUKNKOEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:04.2410762+03:00 0HL84SUKNKOEP [INF] Request finished in 52.2177ms 302  (15c52c40)
2017-09-26T21:10:07.8520937+03:00 0HL84SUKNKOEQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92746222175382441506449407830&state=15064494078300.08898601120948735   (e5be5b71)
2017-09-26T21:10:07.8560967+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:07.8560967+03:00 0HL84SUKNKOEQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:07.8570970+03:00 0HL84SUKNKOEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:07.8570970+03:00 0HL84SUKNKOEQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:07.8570970+03:00 0HL84SUKNKOEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:07.8580981+03:00 0HL84SUKNKOEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:07.8580981+03:00 0HL84SUKNKOEQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494078300.08898601120948735\",
  \"Nonce\": \"N0.92746222175382441506449407830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92746222175382441506449407830\",
    \"state\": \"15064494078300.08898601120948735\"
  }
}" (9a175e33)
2017-09-26T21:10:07.8610993+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:07.8751094+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:07.8771111+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:07.8791120+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:07.8801127+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:07.8821132+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:07.8851188+03:00 0HL84SUKNKOEQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:07.9131382+03:00 0HL84SUKNKOEQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494078300.08898601120948735\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:07.9136391+03:00 0HL84SUKNKOEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:07.9146398+03:00 0HL84SUKNKOEQ [INF] Request finished in 64.0204ms 302  (15c52c40)
2017-09-26T21:10:10.8911701+03:00 0HL84SUKNKOER [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2442830887647721506449410832&state=15064494108320.6462717676569736   (e5be5b71)
2017-09-26T21:10:10.8941725+03:00 0HL84SUKNKOER [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:10.8951724+03:00 0HL84SUKNKOER [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:10.8951724+03:00 0HL84SUKNKOER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:10.8961734+03:00 0HL84SUKNKOER [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:10.8961734+03:00 0HL84SUKNKOER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:10.8971737+03:00 0HL84SUKNKOER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:10.8971737+03:00 0HL84SUKNKOER [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494108320.6462717676569736\",
  \"Nonce\": \"N0.2442830887647721506449410832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2442830887647721506449410832\",
    \"state\": \"15064494108320.6462717676569736\"
  }
}" (9a175e33)
2017-09-26T21:10:10.9001753+03:00 0HL84SUKNKOER [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:10.9161871+03:00 0HL84SUKNKOER [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:10.9211901+03:00 0HL84SUKNKOER [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:10.9231918+03:00 0HL84SUKNKOER [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:10.9251927+03:00 0HL84SUKNKOER [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:10.9301964+03:00 0HL84SUKNKOER [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:10.9321974+03:00 0HL84SUKNKOER [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:10.9592236+03:00 0HL84SUKNKOER [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494108320.6462717676569736\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:10.9772355+03:00 0HL84SUKNKOER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:10.9912468+03:00 0HL84SUKNKOER [INF] Request finished in 89.7779ms 302  (15c52c40)
2017-09-26T21:10:19.4045591+03:00 0HL84SUKNKOES [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.459463591810145071506449419379&state=15064494193790.86795616691856   (e5be5b71)
2017-09-26T21:10:19.4085621+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:19.4095624+03:00 0HL84SUKNKOES [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:19.4095624+03:00 0HL84SUKNKOES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:19.4100629+03:00 0HL84SUKNKOES [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:19.4105635+03:00 0HL84SUKNKOES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:19.4110636+03:00 0HL84SUKNKOES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:19.4110636+03:00 0HL84SUKNKOES [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494193790.86795616691856\",
  \"Nonce\": \"N0.459463591810145071506449419379\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.459463591810145071506449419379\",
    \"state\": \"15064494193790.86795616691856\"
  }
}" (9a175e33)
2017-09-26T21:10:19.4140652+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:19.4260740+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:19.4280745+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:19.4310773+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:19.4350799+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:19.4370809+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:19.4400829+03:00 0HL84SUKNKOES [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:19.4630982+03:00 0HL84SUKNKOES [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494193790.86795616691856\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:19.4711039+03:00 0HL84SUKNKOES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:19.5031247+03:00 0HL84SUKNKOES [INF] Request finished in 69.148ms 302  (15c52c40)
2017-09-26T21:10:22.8514349+03:00 0HL84SUKNKOET [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.318589579231943751506449422832&state=15064494228320.10915758359955574   (e5be5b71)
2017-09-26T21:10:22.8559388+03:00 0HL84SUKNKOET [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:22.8564386+03:00 0HL84SUKNKOET [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:22.8569391+03:00 0HL84SUKNKOET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:22.8569391+03:00 0HL84SUKNKOET [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:22.8579445+03:00 0HL84SUKNKOET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:22.8579445+03:00 0HL84SUKNKOET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:22.8579445+03:00 0HL84SUKNKOET [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494228320.10915758359955574\",
  \"Nonce\": \"N0.318589579231943751506449422832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.318589579231943751506449422832\",
    \"state\": \"15064494228320.10915758359955574\"
  }
}" (9a175e33)
2017-09-26T21:10:22.8619468+03:00 0HL84SUKNKOET [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:22.8819601+03:00 0HL84SUKNKOET [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:22.8869634+03:00 0HL84SUKNKOET [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:22.8949687+03:00 0HL84SUKNKOET [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:22.8979707+03:00 0HL84SUKNKOET [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:22.9019761+03:00 0HL84SUKNKOET [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:22.9039747+03:00 0HL84SUKNKOET [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:22.9299916+03:00 0HL84SUKNKOET [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494228320.10915758359955574\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:22.9359963+03:00 0HL84SUKNKOET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:22.9690226+03:00 0HL84SUKNKOET [INF] Request finished in 87.5212ms 302  (15c52c40)
2017-09-26T21:10:26.8876865+03:00 0HL84SUKNKOEU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25864392771632751506449426832&state=15064494268320.28128425749746144   (e5be5b71)
2017-09-26T21:10:26.8916888+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:26.8926895+03:00 0HL84SUKNKOEU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:26.8926895+03:00 0HL84SUKNKOEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:26.8926895+03:00 0HL84SUKNKOEU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:26.8936901+03:00 0HL84SUKNKOEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:26.8936901+03:00 0HL84SUKNKOEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:26.8936901+03:00 0HL84SUKNKOEU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494268320.28128425749746144\",
  \"Nonce\": \"N0.25864392771632751506449426832\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25864392771632751506449426832\",
    \"state\": \"15064494268320.28128425749746144\"
  }
}" (9a175e33)
2017-09-26T21:10:26.8976932+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:26.9097008+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:26.9147041+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:26.9167058+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:26.9237097+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:26.9272154+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:26.9297172+03:00 0HL84SUKNKOEU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:26.9497305+03:00 0HL84SUKNKOEU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494268320.28128425749746144\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:26.9532330+03:00 0HL84SUKNKOEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:26.9547334+03:00 0HL84SUKNKOEU [INF] Request finished in 67.0772ms 302  (15c52c40)
2017-09-26T21:10:34.0321991+03:00 0HL84SUKNKOEV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72145388666060771506449432952&state=15064494329520.5701141516218049   (e5be5b71)
2017-09-26T21:10:34.0622198+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:34.0627199+03:00 0HL84SUKNKOEV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:34.0632201+03:00 0HL84SUKNKOEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:34.0637206+03:00 0HL84SUKNKOEV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:34.0647208+03:00 0HL84SUKNKOEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:34.0652214+03:00 0HL84SUKNKOEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:34.0657215+03:00 0HL84SUKNKOEV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494329520.5701141516218049\",
  \"Nonce\": \"N0.72145388666060771506449432952\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72145388666060771506449432952\",
    \"state\": \"15064494329520.5701141516218049\"
  }
}" (9a175e33)
2017-09-26T21:10:34.0727262+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:34.1122530+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:34.1157551+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:34.1192576+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:34.1222592+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:34.1277627+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:34.1317654+03:00 0HL84SUKNKOEV [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:34.1537812+03:00 0HL84SUKNKOEV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494329520.5701141516218049\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:34.1572825+03:00 0HL84SUKNKOEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:34.1597840+03:00 0HL84SUKNKOEV [INF] Request finished in 140.4384ms 302  (15c52c40)
2017-09-26T21:10:38.4161281+03:00 0HL84SUKNKOF0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.197808597198209531506449436831&state=15064494368310.16399770538172476   (e5be5b71)
2017-09-26T21:10:38.4611580+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:38.4731676+03:00 0HL84SUKNKOF0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:38.4736661+03:00 0HL84SUKNKOF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:38.4741663+03:00 0HL84SUKNKOF0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:38.4746664+03:00 0HL84SUKNKOF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:38.4756671+03:00 0HL84SUKNKOF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:38.4756671+03:00 0HL84SUKNKOF0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494368310.16399770538172476\",
  \"Nonce\": \"N0.197808597198209531506449436831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.197808597198209531506449436831\",
    \"state\": \"15064494368310.16399770538172476\"
  }
}" (9a175e33)
2017-09-26T21:10:38.4796693+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:38.5011850+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:38.5076887+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:38.5161961+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:38.5236989+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:38.5277016+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:38.5322044+03:00 0HL84SUKNKOF0 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:38.5582260+03:00 0HL84SUKNKOF0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494368310.16399770538172476\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:38.5607239+03:00 0HL84SUKNKOF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:38.5667279+03:00 0HL84SUKNKOF0 [INF] Request finished in 153.368ms 302  (15c52c40)
2017-09-26T21:10:40.8411839+03:00 0HL84SUKNKOF1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5162774813013141506449440830&state=15064494408300.10631087511044512   (e5be5b71)
2017-09-26T21:10:40.8441863+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:40.8451861+03:00 0HL84SUKNKOF1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:40.8451861+03:00 0HL84SUKNKOF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:40.8451861+03:00 0HL84SUKNKOF1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:40.8461880+03:00 0HL84SUKNKOF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:40.8471871+03:00 0HL84SUKNKOF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:40.8471871+03:00 0HL84SUKNKOF1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494408300.10631087511044512\",
  \"Nonce\": \"N0.5162774813013141506449440830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5162774813013141506449440830\",
    \"state\": \"15064494408300.10631087511044512\"
  }
}" (9a175e33)
2017-09-26T21:10:40.8491884+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:40.8601973+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:40.8621978+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:40.8641996+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:40.8662013+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:40.8702039+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:40.8732055+03:00 0HL84SUKNKOF1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:40.8862201+03:00 0HL84SUKNKOF1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494408300.10631087511044512\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:40.8867194+03:00 0HL84SUKNKOF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:40.8872200+03:00 0HL84SUKNKOF1 [INF] Request finished in 46.1797ms 302  (15c52c40)
2017-09-26T21:10:51.8170310+03:00 0HL84SUKNKOF2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.082763982176580431506449448389&state=15064494483890.7989011774986505   (e5be5b71)
2017-09-26T21:10:51.8210344+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:51.8215349+03:00 0HL84SUKNKOF2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:51.8225344+03:00 0HL84SUKNKOF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.8225344+03:00 0HL84SUKNKOF2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:51.8235371+03:00 0HL84SUKNKOF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.8240352+03:00 0HL84SUKNKOF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.8240352+03:00 0HL84SUKNKOF2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494483890.7989011774986505\",
  \"Nonce\": \"N0.082763982176580431506449448389\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.082763982176580431506449448389\",
    \"state\": \"15064494483890.7989011774986505\"
  }
}" (9a175e33)
2017-09-26T21:10:51.8270376+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:51.8390456+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:51.8420472+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:51.8455497+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:51.8485513+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:51.8510532+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:51.8535550+03:00 0HL84SUKNKOF2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:51.8745690+03:00 0HL84SUKNKOF2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494483890.7989011774986505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:51.8755700+03:00 0HL84SUKNKOF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.8760698+03:00 0HL84SUKNKOF2 [INF] Request finished in 60.1614ms 302  (15c52c40)
2017-09-26T21:10:51.9331076+03:00 0HL84SUKNKOF3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.113360478556021381506449451882&state=15064494518820.7659502552000732   (e5be5b71)
2017-09-26T21:10:51.9361100+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:51.9371131+03:00 0HL84SUKNKOF3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:51.9381121+03:00 0HL84SUKNKOF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.9381121+03:00 0HL84SUKNKOF3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:51.9386119+03:00 0HL84SUKNKOF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.9391128+03:00 0HL84SUKNKOF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:51.9396125+03:00 0HL84SUKNKOF3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494518820.7659502552000732\",
  \"Nonce\": \"N0.113360478556021381506449451882\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.113360478556021381506449451882\",
    \"state\": \"15064494518820.7659502552000732\"
  }
}" (9a175e33)
2017-09-26T21:10:51.9456157+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:51.9646288+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:51.9776378+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:51.9811395+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:51.9936480+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:51.9981512+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:52.0006523+03:00 0HL84SUKNKOF3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:52.0251703+03:00 0HL84SUKNKOF3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494518820.7659502552000732\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:52.0271701+03:00 0HL84SUKNKOF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:52.0301725+03:00 0HL84SUKNKOF3 [INF] Request finished in 96.179ms 302  (15c52c40)
2017-09-26T21:10:59.5106382+03:00 0HL84SUKNKOF4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5055371130314091506449455830&state=15064494558300.35504572805019463   (e5be5b71)
2017-09-26T21:10:59.5136402+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:10:59.5141407+03:00 0HL84SUKNKOF4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:10:59.5146416+03:00 0HL84SUKNKOF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:59.5146416+03:00 0HL84SUKNKOF4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:10:59.5151418+03:00 0HL84SUKNKOF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:59.5161420+03:00 0HL84SUKNKOF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:59.5166430+03:00 0HL84SUKNKOF4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494558300.35504572805019463\",
  \"Nonce\": \"N0.5055371130314091506449455830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5055371130314091506449455830\",
    \"state\": \"15064494558300.35504572805019463\"
  }
}" (9a175e33)
2017-09-26T21:10:59.5256482+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:10:59.5406581+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:59.5446608+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:10:59.5481629+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:10:59.5521660+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:10:59.5561690+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:10:59.5601717+03:00 0HL84SUKNKOF4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:10:59.5801846+03:00 0HL84SUKNKOF4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494558300.35504572805019463\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:10:59.5811852+03:00 0HL84SUKNKOF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:10:59.5816858+03:00 0HL84SUKNKOF4 [INF] Request finished in 71.9073ms 302  (15c52c40)
2017-09-26T21:11:01.9369244+03:00 0HL84SUKNKOF5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64939827693546511506449461896&state=15064494618960.00541272879299215   (e5be5b71)
2017-09-26T21:11:01.9409266+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:01.9414276+03:00 0HL84SUKNKOF5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:01.9419277+03:00 0HL84SUKNKOF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:01.9419277+03:00 0HL84SUKNKOF5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:01.9424278+03:00 0HL84SUKNKOF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:01.9434281+03:00 0HL84SUKNKOF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:01.9434281+03:00 0HL84SUKNKOF5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494618960.00541272879299215\",
  \"Nonce\": \"N0.64939827693546511506449461896\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64939827693546511506449461896\",
    \"state\": \"15064494618960.00541272879299215\"
  }
}" (9a175e33)
2017-09-26T21:11:01.9514342+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:01.9669439+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:01.9734484+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:01.9839552+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:01.9939618+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:02.0004660+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:02.0069705+03:00 0HL84SUKNKOF5 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:02.0269838+03:00 0HL84SUKNKOF5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494618960.00541272879299215\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:02.0284850+03:00 0HL84SUKNKOF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:02.0344905+03:00 0HL84SUKNKOF5 [INF] Request finished in 92.6982ms 302  (15c52c40)
2017-09-26T21:11:06.8417626+03:00 0HL84SUKNKOF6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7052130539478051506449466831&state=15064494668310.12048460720048482   (e5be5b71)
2017-09-26T21:11:06.8467659+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:06.8467659+03:00 0HL84SUKNKOF6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:06.8477666+03:00 0HL84SUKNKOF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:06.8477666+03:00 0HL84SUKNKOF6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:06.8487676+03:00 0HL84SUKNKOF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:06.8497679+03:00 0HL84SUKNKOF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:06.8497679+03:00 0HL84SUKNKOF6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494668310.12048460720048482\",
  \"Nonce\": \"N0.7052130539478051506449466831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7052130539478051506449466831\",
    \"state\": \"15064494668310.12048460720048482\"
  }
}" (9a175e33)
2017-09-26T21:11:06.8572762+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:06.9048135+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:06.9108163+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:06.9148186+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:06.9208226+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:06.9318295+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:06.9398356+03:00 0HL84SUKNKOF6 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:06.9613536+03:00 0HL84SUKNKOF6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494668310.12048460720048482\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:06.9638547+03:00 0HL84SUKNKOF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:06.9663565+03:00 0HL84SUKNKOF6 [INF] Request finished in 123.2372ms 302  (15c52c40)
2017-09-26T21:11:10.8897277+03:00 0HL84SUKNKOF7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73730926935833141506449470833&state=15064494708330.29534070968947135   (e5be5b71)
2017-09-26T21:11:10.8947311+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:10.8957321+03:00 0HL84SUKNKOF7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:10.8967324+03:00 0HL84SUKNKOF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:10.8967324+03:00 0HL84SUKNKOF7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:10.8977335+03:00 0HL84SUKNKOF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:10.8987341+03:00 0HL84SUKNKOF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:10.8997348+03:00 0HL84SUKNKOF7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494708330.29534070968947135\",
  \"Nonce\": \"N0.73730926935833141506449470833\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73730926935833141506449470833\",
    \"state\": \"15064494708330.29534070968947135\"
  }
}" (9a175e33)
2017-09-26T21:11:10.9067390+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:10.9232549+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:10.9257572+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:10.9292593+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:10.9327611+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:10.9362640+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:10.9432690+03:00 0HL84SUKNKOF7 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:10.9612802+03:00 0HL84SUKNKOF7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494708330.29534070968947135\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:10.9617807+03:00 0HL84SUKNKOF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:10.9632823+03:00 0HL84SUKNKOF7 [INF] Request finished in 74.1841ms 302  (15c52c40)
2017-09-26T21:11:14.8400636+03:00 0HL84SUKNKOF8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2830145168435151506449474833&state=15064494748330.6083218887105812   (e5be5b71)
2017-09-26T21:11:14.8430664+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:14.8440659+03:00 0HL84SUKNKOF8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:14.8440659+03:00 0HL84SUKNKOF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:14.8440659+03:00 0HL84SUKNKOF8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:14.8450673+03:00 0HL84SUKNKOF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:14.8450673+03:00 0HL84SUKNKOF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:14.8450673+03:00 0HL84SUKNKOF8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494748330.6083218887105812\",
  \"Nonce\": \"N0.2830145168435151506449474833\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2830145168435151506449474833\",
    \"state\": \"15064494748330.6083218887105812\"
  }
}" (9a175e33)
2017-09-26T21:11:14.8480709+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:14.8580756+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:14.8610772+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:14.8630801+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:14.8640796+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:14.8660825+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:14.8680830+03:00 0HL84SUKNKOF8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:14.8840944+03:00 0HL84SUKNKOF8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494748330.6083218887105812\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:14.8850947+03:00 0HL84SUKNKOF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:14.8860977+03:00 0HL84SUKNKOF8 [INF] Request finished in 45.8355ms 302  (15c52c40)
2017-09-26T21:11:18.8704392+03:00 0HL84SUKNKOF9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64745976554063091506449478842&state=15064494788420.9743051443466295   (e5be5b71)
2017-09-26T21:11:18.8749424+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:18.8754425+03:00 0HL84SUKNKOF9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:18.8759427+03:00 0HL84SUKNKOF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:18.8759427+03:00 0HL84SUKNKOF9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:18.8769441+03:00 0HL84SUKNKOF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:18.8774439+03:00 0HL84SUKNKOF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:18.8779444+03:00 0HL84SUKNKOF9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494788420.9743051443466295\",
  \"Nonce\": \"N0.64745976554063091506449478842\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64745976554063091506449478842\",
    \"state\": \"15064494788420.9743051443466295\"
  }
}" (9a175e33)
2017-09-26T21:11:18.8809460+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:18.8929543+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:18.8954558+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:18.8979573+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:18.9054636+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:18.9084641+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:18.9379846+03:00 0HL84SUKNKOF9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:18.9620002+03:00 0HL84SUKNKOF9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494788420.9743051443466295\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:18.9645017+03:00 0HL84SUKNKOF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:18.9670039+03:00 0HL84SUKNKOF9 [INF] Request finished in 96.8872ms 302  (15c52c40)
2017-09-26T21:11:22.8390389+03:00 0HL84SUKNKOFA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.325804470174731506449482830&state=15064494828300.4139844238333772   (e5be5b71)
2017-09-26T21:11:22.8420468+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:22.8425473+03:00 0HL84SUKNKOFA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:22.8430474+03:00 0HL84SUKNKOFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:22.8430474+03:00 0HL84SUKNKOFA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:22.8435476+03:00 0HL84SUKNKOFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:22.8440481+03:00 0HL84SUKNKOFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:22.8440481+03:00 0HL84SUKNKOFA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494828300.4139844238333772\",
  \"Nonce\": \"N0.325804470174731506449482830\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.325804470174731506449482830\",
    \"state\": \"15064494828300.4139844238333772\"
  }
}" (9a175e33)
2017-09-26T21:11:22.8475506+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:22.8580637+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:22.8610661+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:22.8640681+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:22.8660698+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:22.8680712+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:22.8740732+03:00 0HL84SUKNKOFA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:22.8920859+03:00 0HL84SUKNKOFA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494828300.4139844238333772\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:22.8970892+03:00 0HL84SUKNKOFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:22.9080973+03:00 0HL84SUKNKOFA [INF] Request finished in 61.7538ms 302  (15c52c40)
2017-09-26T21:11:26.8433621+03:00 0HL84SUKNKOFB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90789555710323991506449486831&state=15064494868310.9926140899974853   (e5be5b71)
2017-09-26T21:11:26.8463640+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:26.8463640+03:00 0HL84SUKNKOFB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:26.8473651+03:00 0HL84SUKNKOFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:26.8473651+03:00 0HL84SUKNKOFB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:26.8473651+03:00 0HL84SUKNKOFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:26.8483662+03:00 0HL84SUKNKOFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:26.8483662+03:00 0HL84SUKNKOFB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494868310.9926140899974853\",
  \"Nonce\": \"N0.90789555710323991506449486831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90789555710323991506449486831\",
    \"state\": \"15064494868310.9926140899974853\"
  }
}" (9a175e33)
2017-09-26T21:11:26.8523680+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:26.8643768+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:26.8673784+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:26.8703804+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:26.8743830+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:26.8773846+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:26.8793860+03:00 0HL84SUKNKOFB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:26.8963981+03:00 0HL84SUKNKOFB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494868310.9926140899974853\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:26.8973983+03:00 0HL84SUKNKOFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:26.8983990+03:00 0HL84SUKNKOFB [INF] Request finished in 55.1829ms 302  (15c52c40)
2017-09-26T21:11:33.7928287+03:00 0HL84SUKNKOFC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63399117533839491506449493761&state=15064494937610.6386311067188317   (e5be5b71)
2017-09-26T21:11:33.7958303+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:33.7963308+03:00 0HL84SUKNKOFC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:33.7973319+03:00 0HL84SUKNKOFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:33.7973319+03:00 0HL84SUKNKOFC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:33.7978320+03:00 0HL84SUKNKOFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:33.7988323+03:00 0HL84SUKNKOFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:33.7988323+03:00 0HL84SUKNKOFC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494937610.6386311067188317\",
  \"Nonce\": \"N0.63399117533839491506449493761\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63399117533839491506449493761\",
    \"state\": \"15064494937610.6386311067188317\"
  }
}" (9a175e33)
2017-09-26T21:11:33.8058377+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:33.8263508+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:33.8318542+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:33.8363578+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:33.8433621+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:33.8458635+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:33.8498666+03:00 0HL84SUKNKOFC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:33.8748832+03:00 0HL84SUKNKOFC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494937610.6386311067188317\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:33.8778852+03:00 0HL84SUKNKOFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:33.8803870+03:00 0HL84SUKNKOFC [INF] Request finished in 87.462ms 302  (15c52c40)
2017-09-26T21:11:36.8468263+03:00 0HL84SUKNKOFD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74191078744929211506449496831&state=15064494968310.7586809229251703   (e5be5b71)
2017-09-26T21:11:36.8508285+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:36.8508285+03:00 0HL84SUKNKOFD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:36.8518292+03:00 0HL84SUKNKOFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:36.8518292+03:00 0HL84SUKNKOFD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:36.8518292+03:00 0HL84SUKNKOFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:36.8528295+03:00 0HL84SUKNKOFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:36.8528295+03:00 0HL84SUKNKOFD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064494968310.7586809229251703\",
  \"Nonce\": \"N0.74191078744929211506449496831\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74191078744929211506449496831\",
    \"state\": \"15064494968310.7586809229251703\"
  }
}" (9a175e33)
2017-09-26T21:11:36.8588339+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:36.8698412+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:36.8748449+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:36.8788472+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:36.8818487+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:36.8838501+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:36.8878535+03:00 0HL84SUKNKOFD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:36.9078668+03:00 0HL84SUKNKOFD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064494968310.7586809229251703\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:36.9098681+03:00 0HL84SUKNKOFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:36.9113733+03:00 0HL84SUKNKOFD [INF] Request finished in 63.7902ms 302  (15c52c40)
2017-09-26T21:11:41.6643513+03:00 0HL84SUKNKOFE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25077381733259111506449501203&state=15064495012030.5422503864185315   (e5be5b71)
2017-09-26T21:11:41.6683536+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:41.6693542+03:00 0HL84SUKNKOFE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:41.6698548+03:00 0HL84SUKNKOFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:41.6703549+03:00 0HL84SUKNKOFE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:41.6713555+03:00 0HL84SUKNKOFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:41.6803619+03:00 0HL84SUKNKOFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:41.6808625+03:00 0HL84SUKNKOFE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495012030.5422503864185315\",
  \"Nonce\": \"N0.25077381733259111506449501203\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25077381733259111506449501203\",
    \"state\": \"15064495012030.5422503864185315\"
  }
}" (9a175e33)
2017-09-26T21:11:41.6868660+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:41.7088807+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:41.7138840+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:41.7183868+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:41.7223902+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:41.7248917+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:41.7293941+03:00 0HL84SUKNKOFE [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:41.7499075+03:00 0HL84SUKNKOFE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495012030.5422503864185315\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:41.7504080+03:00 0HL84SUKNKOFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:41.7514091+03:00 0HL84SUKNKOFE [INF] Request finished in 87.1509ms 302  (15c52c40)
2017-09-26T21:11:44.9962174+03:00 0HL84SUKNKOFF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45555600030799481506449504977&state=15064495049770.934944751404662   (e5be5b71)
2017-09-26T21:11:44.9992198+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:44.9997199+03:00 0HL84SUKNKOFF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:45.0002204+03:00 0HL84SUKNKOFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:45.0007214+03:00 0HL84SUKNKOFF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:45.0007214+03:00 0HL84SUKNKOFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:45.0017212+03:00 0HL84SUKNKOFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:45.0017212+03:00 0HL84SUKNKOFF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495049770.934944751404662\",
  \"Nonce\": \"N0.45555600030799481506449504977\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45555600030799481506449504977\",
    \"state\": \"15064495049770.934944751404662\"
  }
}" (9a175e33)
2017-09-26T21:11:45.0077264+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:45.0217349+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:45.0312414+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:45.0332424+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:45.0352437+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:45.0377451+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:45.0407483+03:00 0HL84SUKNKOFF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:45.0622612+03:00 0HL84SUKNKOFF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495049770.934944751404662\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:45.0632619+03:00 0HL84SUKNKOFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:45.0642633+03:00 0HL84SUKNKOFF [INF] Request finished in 68.2733ms 302  (15c52c40)
2017-09-26T21:11:46.4987277+03:00 0HL84SUKNKOFG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:11:46.5027308+03:00 0HL84SUKNKOFG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:46.5027308+03:00 0HL84SUKNKOFG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:46.5037310+03:00 0HL84SUKNKOFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:46.5037310+03:00 0HL84SUKNKOFG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:11:46.5177411+03:00 0HL84SUKNKOFG [INF] Request finished in 16.1333ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:11:49.3411201+03:00 0HL84SUKNKOFH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.358644124458304071506449509126&state=15064495091260.689079493805661   (e5be5b71)
2017-09-26T21:11:49.3446219+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:49.3451224+03:00 0HL84SUKNKOFH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:49.3456225+03:00 0HL84SUKNKOFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:49.3461235+03:00 0HL84SUKNKOFH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:49.3466232+03:00 0HL84SUKNKOFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:49.3471237+03:00 0HL84SUKNKOFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:49.3476246+03:00 0HL84SUKNKOFH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495091260.689079493805661\",
  \"Nonce\": \"N0.358644124458304071506449509126\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.358644124458304071506449509126\",
    \"state\": \"15064495091260.689079493805661\"
  }
}" (9a175e33)
2017-09-26T21:11:49.3536278+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:49.3716398+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:49.3756440+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:49.3811463+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:49.3851490+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:49.3871503+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:49.3911530+03:00 0HL84SUKNKOFH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:49.4131676+03:00 0HL84SUKNKOFH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495091260.689079493805661\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:49.4136677+03:00 0HL84SUKNKOFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:49.4146688+03:00 0HL84SUKNKOFH [INF] Request finished in 73.8896ms 302  (15c52c40)
2017-09-26T21:11:51.5848970+03:00 0HL84SUKNKOFI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T21:11:51.5899031+03:00 0HL84SUKNKOFI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:51.5904000+03:00 0HL84SUKNKOFI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T21:11:51.5919032+03:00 0HL84SUKNKOFI [INF] Request finished in 7.1925ms 200 application/json (15c52c40)
2017-09-26T21:11:51.8986050+03:00 0HL84SUKNKOFJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:11:51.9021072+03:00 0HL84SUKNKOFJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:51.9026073+03:00 0HL84SUKNKOFJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:11:51.9311260+03:00 0HL84SUKNKOFJ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:51.9316266+03:00 0HL84SUKNKOFJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:11:51.9321267+03:00 0HL84SUKNKOFJ [INF] Request finished in 36.6424ms 200 application/json (15c52c40)
2017-09-26T21:11:53.6637769+03:00 0HL84SUKNKOFK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:11:53.6702807+03:00 0HL84SUKNKOFK [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:53.6702807+03:00 0HL84SUKNKOFK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:11:53.6947975+03:00 0HL84SUKNKOFK [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:53.6952981+03:00 0HL84SUKNKOFK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:11:53.6962991+03:00 0HL84SUKNKOFK [INF] Request finished in 37.8922ms 200 application/json (15c52c40)
2017-09-26T21:11:57.4985292+03:00 0HL84SUKNKOFL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:11:57.5020313+03:00 0HL84SUKNKOFL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:57.5020313+03:00 0HL84SUKNKOFL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:11:57.5045332+03:00 0HL84SUKNKOFL [INF] Request finished in 4.7546ms 200 application/json (15c52c40)
2017-09-26T21:11:58.5046970+03:00 0HL84SUKNKOFM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.145746565715985771506449517644&state=15064495176440.4310641273185043   (e5be5b71)
2017-09-26T21:11:58.5287129+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:58.5307142+03:00 0HL84SUKNKOFM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:58.5327152+03:00 0HL84SUKNKOFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:58.5332153+03:00 0HL84SUKNKOFM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:58.5342164+03:00 0HL84SUKNKOFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:58.5352170+03:00 0HL84SUKNKOFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:58.5352170+03:00 0HL84SUKNKOFM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495176440.4310641273185043\",
  \"Nonce\": \"N0.145746565715985771506449517644\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.145746565715985771506449517644\",
    \"state\": \"15064495176440.4310641273185043\"
  }
}" (9a175e33)
2017-09-26T21:11:58.5777455+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:58.6032622+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:58.6127683+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:58.6302802+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:58.6352835+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:58.6377853+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:58.6653038+03:00 0HL84SUKNKOFM [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:58.6963240+03:00 0HL84SUKNKOFM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495176440.4310641273185043\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:58.6978252+03:00 0HL84SUKNKOFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:58.7083328+03:00 0HL84SUKNKOFM [INF] Request finished in 194.7505ms 302  (15c52c40)
2017-09-26T21:11:59.5478894+03:00 0HL84SUKNKOFN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T21:11:59.5583961+03:00 0HL84SUKNKOFN [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:59.5588971+03:00 0HL84SUKNKOFN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:59.5603975+03:00 0HL84SUKNKOFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.5613989+03:00 0HL84SUKNKOFN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T21:11:59.5639000+03:00 0HL84SUKNKOFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.5644009+03:00 0HL84SUKNKOFN [INF] End session request validation success
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"id_token_hint\": \"\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-26T21:11:59.5669024+03:00 0HL84SUKNKOFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.5699048+03:00 0HL84SUKNKOFN [INF] Request finished in 28.0525ms 302  (15c52c40)
2017-09-26T21:11:59.5719049+03:00 0HL84SUKNKOFO [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=b94c6b3e7123c0b53cb7a57b01d1177a   (e5be5b71)
2017-09-26T21:11:59.5759080+03:00 0HL84SUKNKOFO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:59.5764085+03:00 0HL84SUKNKOFO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:59.5769090+03:00 0HL84SUKNKOFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.5829134+03:00 0HL84SUKNKOFO [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["b94c6b3e7123c0b53cb7a57b01d1177a"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T21:11:59.5839133+03:00 0HL84SUKNKOFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.6144345+03:00 0HL84SUKNKOFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.6154344+03:00 0HL84SUKNKOFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.6224387+03:00 0HL84SUKNKOFO [ERR] The view '"Logout"' was not found. Searched locations: ["/Views/Account/Logout.cshtml", "/Views/Shared/Logout.cshtml"] (9bb2756c)
2017-09-26T21:11:59.6469555+03:00 0HL84SUKNKOFO [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 66.3308ms (afa2e885)
2017-09-26T21:11:59.8060616+03:00 0HL84SUKNKOFP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87966306990744411506449519796&state=15064495197960.3177712505993009   (e5be5b71)
2017-09-26T21:11:59.8095633+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:11:59.8100634+03:00 0HL84SUKNKOFP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:11:59.8105639+03:00 0HL84SUKNKOFP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.8105639+03:00 0HL84SUKNKOFP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:11:59.8115650+03:00 0HL84SUKNKOFP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.8120651+03:00 0HL84SUKNKOFP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.8120651+03:00 0HL84SUKNKOFP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495197960.3177712505993009\",
  \"Nonce\": \"N0.87966306990744411506449519796\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87966306990744411506449519796\",
    \"state\": \"15064495197960.3177712505993009\"
  }
}" (9a175e33)
2017-09-26T21:11:59.8150667+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:11:59.8265746+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:59.8280750+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:11:59.8300767+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:11:59.8325782+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:11:59.8350796+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:11:59.8365808+03:00 0HL84SUKNKOFP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:11:59.8590960+03:00 0HL84SUKNKOFP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495197960.3177712505993009\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:11:59.8621019+03:00 0HL84SUKNKOFP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:11:59.8716045+03:00 0HL84SUKNKOFP [INF] Request finished in 58.498ms 302  (15c52c40)
2017-09-26T21:12:00.0837449+03:00 0HL84SUKNKOFO [ERR] An unhandled exception has occurred while executing the request (cf926119)
System.InvalidOperationException: The view 'Logout' was not found. The following locations were searched:
/Views/Account/Logout.cshtml
/Views/Shared/Logout.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeResultAsync>d__30.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResultFilterAsync>d__28.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.FederatedSignOutMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.AuthenticationMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2017-09-26T21:12:00.4314760+03:00  [INF] Connection id ""0HL84SUKM6AVL"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-26T21:12:00.7787065+03:00 0HL84SUKNKOFO [INF] Request finished in 1013.3686ms 500 text/html; charset=utf-8 (15c52c40)
2017-09-26T21:12:11.7567772+03:00 0HL84SUKNKOFQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:12:11.7602793+03:00 0HL84SUKNKOFQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:11.7607798+03:00 0HL84SUKNKOFQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:12:11.7612799+03:00 0HL84SUKNKOFQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:11.7612799+03:00 0HL84SUKNKOFQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:12:11.7622810+03:00 0HL84SUKNKOFQ [INF] Request finished in 5.8875ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:12:11.8423342+03:00 0HL84SUKNKOFR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:12:11.8453358+03:00 0HL84SUKNKOFR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:11.8458367+03:00 0HL84SUKNKOFR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:12:11.8463364+03:00 0HL84SUKNKOFR [INF] Request finished in 4.1802ms 200 application/json (15c52c40)
2017-09-26T21:12:13.1612098+03:00 0HL84SUKNKOFS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:12:13.1662127+03:00 0HL84SUKNKOFS [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:13.1662127+03:00 0HL84SUKNKOFS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:12:13.1682144+03:00 0HL84SUKNKOFS [INF] Request finished in 8.565ms 200 application/json (15c52c40)
2017-09-26T21:12:16.5213495+03:00 0HL84SUKNKOFT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88711560130499991506449536510&state=15064495365100.6311733069270313   (e5be5b71)
2017-09-26T21:12:16.5243530+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:16.5253537+03:00 0HL84SUKNKOFT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:12:16.5258530+03:00 0HL84SUKNKOFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:16.5258530+03:00 0HL84SUKNKOFT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:12:16.5263528+03:00 0HL84SUKNKOFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:16.5273578+03:00 0HL84SUKNKOFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:16.5273578+03:00 0HL84SUKNKOFT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064495365100.6311733069270313\",
  \"Nonce\": \"N0.88711560130499991506449536510\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88711560130499991506449536510\",
    \"state\": \"15064495365100.6311733069270313\"
  }
}" (9a175e33)
2017-09-26T21:12:16.5323575+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:12:16.5473679+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:12:16.5508685+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:12:16.5543710+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:12:16.5578735+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:12:16.5623767+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:12:16.5658796+03:00 0HL84SUKNKOFT [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:12:16.5883936+03:00 0HL84SUKNKOFT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064495365100.6311733069270313\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:12:16.5893950+03:00 0HL84SUKNKOFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:16.5898956+03:00 0HL84SUKNKOFT [INF] Request finished in 70.9319ms 302  (15c52c40)
2017-09-26T21:12:19.8006055+03:00 0HL84SUKNKOFU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:12:19.8046081+03:00 0HL84SUKNKOFU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:19.8056084+03:00 0HL84SUKNKOFU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:12:19.8056084+03:00 0HL84SUKNKOFU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:12:19.8061089+03:00 0HL84SUKNKOFU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:12:19.8101120+03:00 0HL84SUKNKOFU [INF] Request finished in 6.84ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:12:19.8221195+03:00 0HL84SUKNKOFV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:12:19.8251215+03:00 0HL84SUKNKOFV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:19.8251215+03:00 0HL84SUKNKOFV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:12:19.8271233+03:00 0HL84SUKNKOFV [INF] Request finished in 4.3089ms 200 application/json (15c52c40)
2017-09-26T21:12:19.9381970+03:00 0HL84SUKNKOG0 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T21:12:19.9396978+03:00 0HL84SUKNKOG0 [INF] Request finished in 2.1667ms 204  (15c52c40)
2017-09-26T21:12:20.0337606+03:00 0HL84SUKNKOG1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T21:12:20.0499714+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:20.0504719+03:00 0HL84SUKNKOG1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T21:12:20.0504719+03:00 0HL84SUKNKOG1 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T21:12:20.2265897+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:12:20.2420986+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:12:20.2746204+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:12:20.2766221+03:00 0HL84SUKNKOG2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:12:20.2806243+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:12:20.2856281+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:12:20.2866307+03:00 0HL84SUKNKOG2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:20.2866307+03:00 0HL84SUKNKOG2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:12:20.3516715+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:12:20.3661821+03:00 0HL84SUKNKOG1 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:12:20.3666823+03:00 0HL84SUKNKOG1 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T21:12:20.3731860+03:00 0HL84SUKNKOG1 [INF] Request finished in 385.2999ms 200 application/json (15c52c40)
2017-09-26T21:12:20.4857605+03:00 0HL84SUKNKOG2 [INF] Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:12:20.4867616+03:00 0HL84SUKNKOG2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:12:20.4877619+03:00 0HL84SUKNKOG2 [INF] Request finished in 223.647ms 200 application/json (15c52c40)
2017-09-26T21:12:21.4994339+03:00 0HL84SUKNKOG3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:12:21.5034362+03:00 0HL84SUKNKOG3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:21.5034362+03:00 0HL84SUKNKOG3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:12:21.5414622+03:00 0HL84SUKNKOG3 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:12:21.5424621+03:00 0HL84SUKNKOG3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:12:21.5449639+03:00 0HL84SUKNKOG3 [INF] Request finished in 43.85ms 200 application/json (15c52c40)
2017-09-26T21:12:23.9230449+03:00 0HL84SUKNKOG4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:12:23.9460606+03:00 0HL84SUKNKOG4 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:12:23.9460606+03:00 0HL84SUKNKOG4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:12:23.9810835+03:00 0HL84SUKNKOG4 [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:12:23.9815840+03:00 0HL84SUKNKOG4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:12:23.9820837+03:00 0HL84SUKNKOG4 [INF] Request finished in 60.6777ms 200 application/json (15c52c40)
2017-09-26T21:15:23.5415317+03:00 0HL84SUKNKOG5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:15:27.3270441+03:00 0HL84SUKNKOG6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:15:27.4060966+03:00 0HL84SUKNKOG5 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:15:27.4070977+03:00 0HL84SUKNKOG5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:15:27.4085989+03:00 0HL84SUKNKOG5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:27.4090990+03:00 0HL84SUKNKOG5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:15:27.5767105+03:00 0HL84SUKNKOG5 [INF] Request finished in 4692.3555ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:15:28.2406511+03:00 0HL84SUKNKOG6 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:15:28.2406511+03:00 0HL84SUKNKOG6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:15:30.1629277+03:00 0HL84SUKNKOG6 [INF] Executed DbCommand (1,182ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:15:30.1639283+03:00 0HL84SUKNKOG6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:15:30.2449814+03:00 0HL84SUKNKOG6 [INF] Request finished in 2844.3783ms 200 application/json (15c52c40)
2017-09-26T21:15:32.4999794+03:00 0HL84SUKNKOG7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0NDk1MzYsImV4cCI6MTUwNjQ0OTgzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjg4NzExNTYwMTMwNDk5OTkxNTA2NDQ5NTM2NTEwIiwiaWF0IjoxNTA2NDQ5NTM2LCJhdF9oYXNoIjoiLXJKdjlXLVhZMUtNcWwzVDJFSG5wUSIsInNpZCI6IjkyY2ZiOTVjMDI0OTdiNGJiNmVlNjVkZDFmZTQ3NGRiIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2NDM1MDU2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.nZQPoC2l09tqotw7oBh4UxCU83tWU3Y8_-AcVgY8cRNDbwkxmdTlnxyqTyCI5EprFN6yHN_jMr8Jdj0p4_O05fClpbSlWCReL30aIsuLI0pwgNLZCpu3liUM2EUUONFkv1D1peK4MvZyQOD3tfxd4heh5Zv1mvtUPqJgYC85ZLujJA4l8raOmFkTGQbhu2fNn416tlpdreLZKHVJ5uiEQYTBFN_bfARLcOTk8tpzRae3LMeFepfLim6QAdgnQoJoKvnzMN11xc0gGkNHqwSuhOMbmf9TtT14I6lMgnUDanY54GsPzsL7bAzLMIkq7yUzwgNPloFgUSkpFAsiaw3Fmg&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T21:15:32.5029806+03:00 0HL84SUKNKOG8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:15:32.5044814+03:00 0HL84SUKNKOG9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85018338514665291506449732183&state=15064497321830.08616551351150781   (e5be5b71)
2017-09-26T21:15:32.5425071+03:00 0HL84SUKNKOG7 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:15:32.5455091+03:00 0HL84SUKNKOG7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:15:32.8146874+03:00 0HL84SUKNKOG8 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:15:32.8161890+03:00 0HL84SUKNKOG8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:15:32.8201920+03:00 0HL84SUKNKOG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:32.8201920+03:00 0HL84SUKNKOG7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T21:15:32.8216928+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:15:32.8231936+03:00 0HL84SUKNKOG9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:15:32.8261952+03:00 0HL84SUKNKOG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:32.8266962+03:00 0HL84SUKNKOG9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:15:32.8276964+03:00 0HL84SUKNKOG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:32.8286971+03:00 0HL84SUKNKOG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:32.8291972+03:00 0HL84SUKNKOG9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064497321830.08616551351150781\",
  \"Nonce\": \"N0.85018338514665291506449732183\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85018338514665291506449732183\",
    \"state\": \"15064497321830.08616551351150781\"
  }
}" (9a175e33)
2017-09-26T21:15:33.2920043+03:00 0HL84SUKNKOG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:33.2940060+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:15:33.7568135+03:00 0HL84SUKNKOG8 [INF] Executed DbCommand (301ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:15:33.7578141+03:00 0HL84SUKNKOG8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:15:34.1410686+03:00 0HL84SUKNKOG7 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:15:34.1420688+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (375ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:15:34.1465724+03:00 0HL84SUKNKOG8 [INF] Request finished in 1769.2985ms 200 application/json (15c52c40)
2017-09-26T21:15:34.1525768+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:15:34.1610819+03:00 0HL84SUKNKOG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:34.1610819+03:00 0HL84SUKNKOG7 [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0NDk1MzYsImV4cCI6MTUwNjQ0OTgzNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjg4NzExNTYwMTMwNDk5OTkxNTA2NDQ5NTM2NTEwIiwiaWF0IjoxNTA2NDQ5NTM2LCJhdF9oYXNoIjoiLXJKdjlXLVhZMUtNcWwzVDJFSG5wUSIsInNpZCI6IjkyY2ZiOTVjMDI0OTdiNGJiNmVlNjVkZDFmZTQ3NGRiIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2NDM1MDU2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.nZQPoC2l09tqotw7oBh4UxCU83tWU3Y8_-AcVgY8cRNDbwkxmdTlnxyqTyCI5EprFN6yHN_jMr8Jdj0p4_O05fClpbSlWCReL30aIsuLI0pwgNLZCpu3liUM2EUUONFkv1D1peK4MvZyQOD3tfxd4heh5Zv1mvtUPqJgYC85ZLujJA4l8raOmFkTGQbhu2fNn416tlpdreLZKHVJ5uiEQYTBFN_bfARLcOTk8tpzRae3LMeFepfLim6QAdgnQoJoKvnzMN11xc0gGkNHqwSuhOMbmf9TtT14I6lMgnUDanY54GsPzsL7bAzLMIkq7yUzwgNPloFgUSkpFAsiaw3Fmg\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-26T21:15:34.1630828+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:15:34.6363986+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:15:34.6464041+03:00 0HL84SUKNKOG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:34.6469038+03:00 0HL84SUKNKOG7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:34.6474043+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:15:35.0491713+03:00 0HL84SUKNKOG7 [INF] Request finished in 2720.7704ms 302  (15c52c40)
2017-09-26T21:15:36.0153145+03:00 0HL84SUKNKOG9 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:15:36.0388279+03:00 0HL84SUKNKOG9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064497321830.08616551351150781\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:15:36.6002014+03:00 0HL84SUKNKOG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:15:36.9059042+03:00 0HL84SUKNKOG9 [INF] Request finished in 4408.5201ms 302  (15c52c40)
2017-09-26T21:23:15.8467244+03:00 0HL84SUKNKOGA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:23:16.1899515+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:16.2569964+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (62ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:16.2660016+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:16.2750076+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:16.2845137+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:16.2880166+03:00 0HL84SUKNKOGA [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:16.2885168+03:00 0HL84SUKNKOGA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:16.2885168+03:00 0HL84SUKNKOGA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:16.2890169+03:00 0HL84SUKNKOGA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:23:16.2905181+03:00 0HL84SUKNKOGA [INF] Request finished in 444.5029ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:23:18.8729987+03:00 0HL84SUKNKOGB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.38060733357964181506450198866&state=15064501988660.19237292067385603   (e5be5b71)
2017-09-26T21:23:18.8780024+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:18.8790031+03:00 0HL84SUKNKOGB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:18.8800045+03:00 0HL84SUKNKOGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:18.8800045+03:00 0HL84SUKNKOGB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:23:18.8820051+03:00 0HL84SUKNKOGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:18.8830053+03:00 0HL84SUKNKOGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:18.8830053+03:00 0HL84SUKNKOGB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064501988660.19237292067385603\",
  \"Nonce\": \"N0.38060733357964181506450198866\",
  \"SessionId\": \"92cfb95c02497b4bb6ee65dd1fe474db\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.38060733357964181506450198866\",
    \"state\": \"15064501988660.19237292067385603\"
  }
}" (9a175e33)
2017-09-26T21:23:18.8870076+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:18.8990156+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:18.9010173+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:18.9020180+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:18.9030182+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:18.9060206+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:18.9095271+03:00 0HL84SUKNKOGB [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:23:18.9255397+03:00 0HL84SUKNKOGB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064501988660.19237292067385603\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:23:18.9265407+03:00 0HL84SUKNKOGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:18.9275418+03:00 0HL84SUKNKOGB [INF] Request finished in 54.1487ms 302  (15c52c40)
2017-09-26T21:23:22.7458610+03:00 0HL84SUKNKOGC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:23:22.7493628+03:00 0HL84SUKNKOGC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:22.7498637+03:00 0HL84SUKNKOGC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:22.7503642+03:00 0HL84SUKNKOGC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:22.7508644+03:00 0HL84SUKNKOGC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:23:22.7518654+03:00 0HL84SUKNKOGC [INF] Request finished in 6.4078ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:23:22.8699466+03:00 0HL84SUKNKOGD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:23:22.8729490+03:00 0HL84SUKNKOGD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:22.8739500+03:00 0HL84SUKNKOGD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:23:22.8749503+03:00 0HL84SUKNKOGD [INF] Request finished in 4.7645ms 200 application/json (15c52c40)
2017-09-26T21:23:23.4775034+03:00 0HL84SUKNKOGE [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T21:23:23.4800060+03:00 0HL84SUKNKOGE [INF] Request finished in 1.6835ms 204  (15c52c40)
2017-09-26T21:23:23.6426130+03:00 0HL84SUKNKOGF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T21:23:23.6481176+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:23.6481176+03:00 0HL84SUKNKOGF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T21:23:23.6486170+03:00 0HL84SUKNKOGF [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T21:23:23.7341748+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (33ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:24.0733992+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:24.1194301+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:24.1239333+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:24.1379418+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:24.1494497+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:24.1599565+03:00 0HL84SUKNKOGF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:23:24.1644597+03:00 0HL84SUKNKOGF [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T21:23:24.1694634+03:00 0HL84SUKNKOGF [INF] Request finished in 522.8023ms 200 application/json (15c52c40)
2017-09-26T21:23:24.8599218+03:00 0HL84SUKNKOGG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T21:23:24.8624228+03:00 0HL84SUKNKOGG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:24.8624228+03:00 0HL84SUKNKOGG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T21:23:24.8634235+03:00 0HL84SUKNKOGG [INF] Request finished in 3.5368ms 200 application/json (15c52c40)
2017-09-26T21:23:25.0110221+03:00 0HL84SUKNKOGH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:23:25.0145242+03:00 0HL84SUKNKOGH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:25.0145242+03:00 0HL84SUKNKOGH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:23:25.0365384+03:00 0HL84SUKNKOGH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:25.0375399+03:00 0HL84SUKNKOGH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:23:25.1025819+03:00 0HL84SUKNKOGH [INF] Request finished in 27.7316ms 200 application/json (15c52c40)
2017-09-26T21:23:27.5410004+03:00 0HL84SUKNKOGI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0NTAxOTgsImV4cCI6MTUwNjQ1MDQ5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjM4MDYwNzMzMzU3OTY0MTgxNTA2NDUwMTk4ODY2IiwiaWF0IjoxNTA2NDUwMTk4LCJhdF9oYXNoIjoiWEVzdkIwb1RBc2lHekVTUmQ1cVFTZyIsInNpZCI6IjkyY2ZiOTVjMDI0OTdiNGJiNmVlNjVkZDFmZTQ3NGRiIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2NDM1MDU2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.Vref9Pan1363h6ayDd59Bb7lSG2YSqDuXxgABo_La-tA8TgZGm9G-cBVIQx0kBc6dwAhMRw5pSEFlVxIRkmiWKKO1FX0hshunw0khmGE11aCYKFyFPtEugv8nEp4Ebi3u_G1x6DmBn192xgdBM9wfQJWsC4fS0vLss5rdvkSN6Y9CMXf-AfYsx0w8GB_iNAI4R1KXPZ-bdyG3CfMn_nYcxLok_23izP4oLgOVbTSoTlr-4ugroCEcgUDu686DMPzx8pcjhlRjdxhJBat9gBjX5esB0IAS3EnbG2y3AcKeSuZkbJTPpGoGXx5mpCV7ZqIjzPVemr0Hm-y4F8TSqA7RQ&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-26T21:23:27.5440024+03:00 0HL84SUKNKOGI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:27.5450030+03:00 0HL84SUKNKOGI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:27.5455036+03:00 0HL84SUKNKOGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5460057+03:00 0HL84SUKNKOGI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-26T21:23:27.5465042+03:00 0HL84SUKNKOGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5580113+03:00 0HL84SUKNKOGI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:27.5590123+03:00 0HL84SUKNKOGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5590123+03:00 0HL84SUKNKOGI [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjE0OGJkYTU3ZTEwNzZiMTZkYmM1ZDY0ODA3ZTE1MTQ4IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDY0NTAxOTgsImV4cCI6MTUwNjQ1MDQ5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjM4MDYwNzMzMzU3OTY0MTgxNTA2NDUwMTk4ODY2IiwiaWF0IjoxNTA2NDUwMTk4LCJhdF9oYXNoIjoiWEVzdkIwb1RBc2lHekVTUmQ1cVFTZyIsInNpZCI6IjkyY2ZiOTVjMDI0OTdiNGJiNmVlNjVkZDFmZTQ3NGRiIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA2NDM1MDU2LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.Vref9Pan1363h6ayDd59Bb7lSG2YSqDuXxgABo_La-tA8TgZGm9G-cBVIQx0kBc6dwAhMRw5pSEFlVxIRkmiWKKO1FX0hshunw0khmGE11aCYKFyFPtEugv8nEp4Ebi3u_G1x6DmBn192xgdBM9wfQJWsC4fS0vLss5rdvkSN6Y9CMXf-AfYsx0w8GB_iNAI4R1KXPZ-bdyG3CfMn_nYcxLok_23izP4oLgOVbTSoTlr-4ugroCEcgUDu686DMPzx8pcjhlRjdxhJBat9gBjX5esB0IAS3EnbG2y3AcKeSuZkbJTPpGoGXx5mpCV7ZqIjzPVemr0Hm-y4F8TSqA7RQ\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-26T21:23:27.5615138+03:00 0HL84SUKNKOGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5655168+03:00 0HL84SUKNKOGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5710199+03:00 0HL84SUKNKOGI [INF] Request finished in 28.5921ms 302  (15c52c40)
2017-09-26T21:23:27.5720210+03:00 0HL84SUKNKOGJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=130c5366c46f4e21b3a3472859b85a50   (e5be5b71)
2017-09-26T21:23:27.5750226+03:00 0HL84SUKNKOGJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:27.5760232+03:00 0HL84SUKNKOGJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:27.5760232+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5770243+03:00 0HL84SUKNKOGJ [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["130c5366c46f4e21b3a3472859b85a50"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T21:23:27.5780249+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.5785255+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.6140485+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-26T21:23:27.6150499+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-26T21:23:27.6155501+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-26T21:23:27.6165507+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.6170509+03:00 0HL84SUKNKOGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:27.6180511+03:00 0HL84SUKNKOGJ [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-26T21:23:27.7756556+03:00 0HL84SUKNKOGJ [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 198.6395ms (afa2e885)
2017-09-26T21:23:27.7761565+03:00 0HL84SUKNKOGJ [INF] Request finished in 204.5788ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T21:23:27.8557091+03:00 0HL84SUKNKOGK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=92cfb95c02497b4bb6ee65dd1fe474db&logoutId=130c5366c46f4e21b3a3472859b85a50   (e5be5b71)
2017-09-26T21:23:27.8587119+03:00 0HL84SUKNKOGK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:27.8592116+03:00 0HL84SUKNKOGK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-26T21:23:27.8592116+03:00 0HL84SUKNKOGK [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-26T21:23:27.8602123+03:00 0HL84SUKNKOGK [INF] Request finished in 6.0158ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:23:29.3346910+03:00 0HL84SUKNKOGL [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-26T21:23:29.3371921+03:00 0HL84SUKNKOGL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:29.3381927+03:00 0HL84SUKNKOGL [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-26T21:23:29.3542042+03:00 0HL84SUKNKOGL [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-26T21:23:29.3847242+03:00 0HL84SUKNKOGL [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 47.1259ms (afa2e885)
2017-09-26T21:23:29.3882271+03:00 0HL84SUKNKOGL [INF] Request finished in 55.2193ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T21:23:33.5952664+03:00 0HL84SUKNKOGM [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-26T21:23:33.5997684+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.6012696+03:00 0HL84SUKNKOGM [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-26T21:23:33.6067738+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-26T21:23:33.6483012+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:33.6503017+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:33.6538054+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:33.6668129+03:00 0HL84SUKNKOGM [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:33.6678155+03:00 0HL84SUKNKOGM [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-26T21:23:33.6678155+03:00 0HL84SUKNKOGM [INF] User logged in. (fdce0db4)
2017-09-26T21:23:33.6683137+03:00 0HL84SUKNKOGM [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-26T21:23:33.6688146+03:00 0HL84SUKNKOGM [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 72.8878ms (afa2e885)
2017-09-26T21:23:33.6703154+03:00 0HL84SUKNKOGM [INF] Request finished in 76.8178ms 302  (15c52c40)
2017-09-26T21:23:33.6773197+03:00 0HL84SUKNKOGN [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-26T21:23:33.6838238+03:00 0HL84SUKNKOGN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.6843247+03:00 0HL84SUKNKOGN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:33.6848252+03:00 0HL84SUKNKOGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:33.6858259+03:00 0HL84SUKNKOGN [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-26T21:23:33.6863260+03:00 0HL84SUKNKOGN [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-26T21:23:33.6883278+03:00 0HL84SUKNKOGN [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 2.4173ms (afa2e885)
2017-09-26T21:23:33.6888279+03:00 0HL84SUKNKOGN [INF] Request finished in 12.4023ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-26T21:23:33.7083411+03:00 0HL84SUKNKOGO [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-26T21:23:33.7528700+03:00 0HL84SUKNKOGP [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-26T21:23:33.7538711+03:00 0HL84SUKNKOGQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-26T21:23:33.7588744+03:00 0HL84SUKNKOGR [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-26T21:23:33.7843915+03:00 0HL84SUKNKOGO [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.7893945+03:00 0HL84SUKNKOGQ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.7903951+03:00 0HL84SUKNKOGQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:33.7923965+03:00 0HL84SUKNKOGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:33.7943978+03:00 0HL84SUKNKOGQ [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-26T21:23:33.7974018+03:00 0HL84SUKNKOGP [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.7984008+03:00 0HL84SUKNKOGO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:33.7989010+03:00 0HL84SUKNKOGO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:33.7999016+03:00 0HL84SUKNKOGR [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:33.7999016+03:00 0HL84SUKNKOGO [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-26T21:23:33.8089072+03:00 0HL84SUKNKOGP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:33.8089072+03:00 0HL84SUKNKOGR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:33.8104092+03:00 0HL84SUKNKOGQ [INF] Request finished in 60.0181ms 200 image/svg+xml (15c52c40)
2017-09-26T21:23:33.8109086+03:00 0HL84SUKNKOGO [INF] Request finished in 92.8723ms 200 image/svg+xml (15c52c40)
2017-09-26T21:23:33.8174131+03:00 0HL84SUKNKOGP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:33.8199145+03:00 0HL84SUKNKOGR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:33.8224164+03:00 0HL84SUKNKOGP [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-26T21:23:33.8244177+03:00 0HL84SUKNKOGR [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-26T21:23:33.8269192+03:00 0HL84SUKNKOGP [INF] Request finished in 89.3938ms 200 image/svg+xml (15c52c40)
2017-09-26T21:23:33.8329236+03:00 0HL84SUKNKOGR [INF] Request finished in 88.7599ms 200 image/svg+xml (15c52c40)
2017-09-26T21:23:41.9398344+03:00 0HL84SUKNKOGS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:23:41.9433373+03:00 0HL84SUKNKOGS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:41.9438374+03:00 0HL84SUKNKOGS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:41.9443384+03:00 0HL84SUKNKOGS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:41.9448381+03:00 0HL84SUKNKOGS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:23:41.9458388+03:00 0HL84SUKNKOGS [INF] Request finished in 5.951ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:23:43.6034556+03:00 0HL84SUKNKOGT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43602907693358931506450223592&state=15064502235920.9302332295991829   (e5be5b71)
2017-09-26T21:23:43.6074583+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:43.6079592+03:00 0HL84SUKNKOGT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:43.6084594+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:43.6084594+03:00 0HL84SUKNKOGT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T21:23:43.6094596+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:43.6109608+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:43.6114610+03:00 0HL84SUKNKOGT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064502235920.9302332295991829\",
  \"Nonce\": \"N0.43602907693358931506450223592\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43602907693358931506450223592\",
    \"state\": \"15064502235920.9302332295991829\"
  }
}" (9a175e33)
2017-09-26T21:23:43.6184656+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:43.6364780+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:43.6539890+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:43.6589923+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:43.6835088+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:43.6910140+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:43.7010202+03:00 0HL84SUKNKOGT [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:23:43.7285387+03:00 0HL84SUKNKOGT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064502235920.9302332295991829\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T21:23:43.7950831+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:43.9957157+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:43.9967167+03:00 0HL84SUKNKOGT [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-26T21:23:43.9972169+03:00 0HL84SUKNKOGT [INF] Request finished in 396.7229ms 302  (15c52c40)
2017-09-26T21:23:47.2708905+03:00 0HL84SUKNKOGU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:23:47.2733919+03:00 0HL84SUKNKOGU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:47.2738921+03:00 0HL84SUKNKOGU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:23:47.2738921+03:00 0HL84SUKNKOGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:23:47.2743926+03:00 0HL84SUKNKOGU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:23:47.2748931+03:00 0HL84SUKNKOGU [INF] Request finished in 4.1948ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:23:47.2879018+03:00 0HL84SUKNKOGV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T21:23:47.2909038+03:00 0HL84SUKNKOGV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:47.2914043+03:00 0HL84SUKNKOGV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T21:23:47.2919048+03:00 0HL84SUKNKOGV [INF] Request finished in 4.1159ms 200 application/json (15c52c40)
2017-09-26T21:23:47.3894698+03:00 0HL84SUKNKOH0 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T21:23:47.3919709+03:00 0HL84SUKNKOH0 [INF] Request finished in 3.1369ms 204  (15c52c40)
2017-09-26T21:23:47.4279956+03:00 0HL84SUKNKOH1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T21:23:47.4365006+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:47.4365006+03:00 0HL84SUKNKOH1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T21:23:47.4365006+03:00 0HL84SUKNKOH1 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T21:23:47.4850326+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:47.5030446+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:47.5095487+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:23:47.5135510+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:23:47.5180542+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:23:47.5205560+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:23:47.5250608+03:00 0HL84SUKNKOH1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T21:23:47.5250608+03:00 0HL84SUKNKOH1 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T21:23:47.5275615+03:00 0HL84SUKNKOH1 [INF] Request finished in 103.5125ms 200 application/json (15c52c40)
2017-09-26T21:23:47.5335651+03:00 0HL84SUKNKOH2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:23:47.5445720+03:00 0HL84SUKNKOH2 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:47.5450721+03:00 0HL84SUKNKOH2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:23:47.5730911+03:00 0HL84SUKNKOH2 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:47.5735916+03:00 0HL84SUKNKOH2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:23:47.5745923+03:00 0HL84SUKNKOH2 [INF] Request finished in 42.2406ms 200 application/json (15c52c40)
2017-09-26T21:23:50.7221814+03:00 0HL84SUKNKOH3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:23:50.7246837+03:00 0HL84SUKNKOH3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:50.7246837+03:00 0HL84SUKNKOH3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:23:50.7441960+03:00 0HL84SUKNKOH3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:50.7446965+03:00 0HL84SUKNKOH3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:23:50.7476997+03:00 0HL84SUKNKOH3 [INF] Request finished in 23.8134ms 200 application/json (15c52c40)
2017-09-26T21:23:53.5186447+03:00 0HL84SUKNKOH4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:23:53.5211466+03:00 0HL84SUKNKOH4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:23:53.5211466+03:00 0HL84SUKNKOH4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:23:53.5456634+03:00 0HL84SUKNKOH4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:23:53.5461636+03:00 0HL84SUKNKOH4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:23:53.5466641+03:00 0HL84SUKNKOH4 [INF] Request finished in 28.4733ms 200 application/json (15c52c40)
2017-09-26T21:25:50.7092616+03:00 0HL84SUKNKOH5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:25:50.7132646+03:00 0HL84SUKNKOH5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:25:50.7142649+03:00 0HL84SUKNKOH5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:25:50.7147658+03:00 0HL84SUKNKOH5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:25:50.7147658+03:00 0HL84SUKNKOH5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:25:50.7157661+03:00 0HL84SUKNKOH5 [INF] Request finished in 7.1984ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:25:51.3316752+03:00 0HL84SUKNKOH6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:25:51.3406816+03:00 0HL84SUKNKOH6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:25:51.3406816+03:00 0HL84SUKNKOH6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:25:51.3727020+03:00 0HL84SUKNKOH6 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:25:51.3732026+03:00 0HL84SUKNKOH6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:25:51.3737027+03:00 0HL84SUKNKOH6 [INF] Request finished in 59.4173ms 200 application/json (15c52c40)
2017-09-26T21:28:08.0026386+03:00 0HL84SUKNKOH7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:28:08.0066413+03:00 0HL84SUKNKOH7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:28:08.0071418+03:00 0HL84SUKNKOH7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:28:08.0076419+03:00 0HL84SUKNKOH7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:28:08.0076419+03:00 0HL84SUKNKOH7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:28:08.0086426+03:00 0HL84SUKNKOH7 [INF] Request finished in 6.8838ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:28:11.4419220+03:00 0HL84SUKNKOH8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:28:11.4454241+03:00 0HL84SUKNKOH8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:28:11.4454241+03:00 0HL84SUKNKOH8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:28:11.4734431+03:00 0HL84SUKNKOH8 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:28:11.4739432+03:00 0HL84SUKNKOH8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:28:11.4744438+03:00 0HL84SUKNKOH8 [INF] Request finished in 32.7835ms 200 application/json (15c52c40)
2017-09-26T21:29:25.4970489+03:00 0HL84SUKNKOH9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:29:25.5010527+03:00 0HL84SUKNKOH9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:29:25.5015525+03:00 0HL84SUKNKOH9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:29:25.5280699+03:00 0HL84SUKNKOH9 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:29:25.5285704+03:00 0HL84SUKNKOH9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:29:25.5300716+03:00 0HL84SUKNKOH9 [INF] Request finished in 32.6046ms 200 application/json (15c52c40)
2017-09-26T21:29:54.7864627+03:00 0HL84SUKNKOHA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:29:54.7904737+03:00 0HL84SUKNKOHA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:29:54.7914665+03:00 0HL84SUKNKOHA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:29:54.7919666+03:00 0HL84SUKNKOHA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:29:54.7919666+03:00 0HL84SUKNKOHA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:29:54.7949682+03:00 0HL84SUKNKOHA [INF] Request finished in 7.8616ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:29:57.6160636+03:00 0HL84SUKNKOHB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:29:57.6190656+03:00 0HL84SUKNKOHB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:29:57.6190656+03:00 0HL84SUKNKOHB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:29:57.6455830+03:00 0HL84SUKNKOHB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:29:57.6460835+03:00 0HL84SUKNKOHB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:29:57.6475843+03:00 0HL84SUKNKOHB [INF] Request finished in 31.81ms 200 application/json (15c52c40)
2017-09-26T21:32:25.9711960+03:00 0HL84SUKNKOHC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:32:25.9767003+03:00 0HL84SUKNKOHC [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:32:25.9772004+03:00 0HL84SUKNKOHC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:32:25.9777006+03:00 0HL84SUKNKOHC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:32:25.9782011+03:00 0HL84SUKNKOHC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:32:25.9802024+03:00 0HL84SUKNKOHC [INF] Request finished in 8.2342ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:32:26.9318342+03:00 0HL84SUKNKOHD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:32:26.9553492+03:00 0HL84SUKNKOHD [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:32:26.9558501+03:00 0HL84SUKNKOHD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:32:26.9963769+03:00 0HL84SUKNKOHD [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:32:26.9968770+03:00 0HL84SUKNKOHD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:32:27.0038812+03:00 0HL84SUKNKOHD [INF] Request finished in 74.284ms 200 application/json (15c52c40)
2017-09-26T21:33:12.8698739+03:00 0HL84SUKNKOHE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:33:12.8748769+03:00 0HL84SUKNKOHE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:33:12.8763777+03:00 0HL84SUKNKOHE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:33:12.8783790+03:00 0HL84SUKNKOHE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:33:12.8788795+03:00 0HL84SUKNKOHE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:33:12.8983923+03:00 0HL84SUKNKOHE [INF] Request finished in 10.699ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:33:13.7559616+03:00 0HL84SUKNKOHF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:33:13.7644671+03:00 0HL84SUKNKOHF [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:33:13.7649680+03:00 0HL84SUKNKOHF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:33:13.7944870+03:00 0HL84SUKNKOHF [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:33:13.7954885+03:00 0HL84SUKNKOHF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:33:13.7959882+03:00 0HL84SUKNKOHF [INF] Request finished in 41.0193ms 200 application/json (15c52c40)
2017-09-26T21:33:28.5506229+03:00 0HL84SUKNKOHG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:33:28.8313095+03:00 0HL84SUKNKOHG [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:33:28.9393808+03:00 0HL84SUKNKOHG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:33:28.9503877+03:00 0HL84SUKNKOHG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:33:28.9503877+03:00 0HL84SUKNKOHG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:33:29.0959850+03:00 0HL84SUKNKOHG [INF] Request finished in 414.0563ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:33:29.2135633+03:00 0HL84SUKNKOHH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:33:29.2195668+03:00 0HL84SUKNKOHH [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:33:29.2195668+03:00 0HL84SUKNKOHH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:33:29.2485861+03:00 0HL84SUKNKOHH [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:33:29.2495872+03:00 0HL84SUKNKOHH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:33:29.2500873+03:00 0HL84SUKNKOHH [INF] Request finished in 38.8806ms 200 application/json (15c52c40)
2017-09-26T21:33:29.7559229+03:00 0HL84SUKNKOHI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:33:29.7629276+03:00 0HL84SUKNKOHI [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:33:29.7629276+03:00 0HL84SUKNKOHI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:33:29.7914467+03:00 0HL84SUKNKOHI [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:33:29.7919469+03:00 0HL84SUKNKOHI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:33:29.7929475+03:00 0HL84SUKNKOHI [INF] Request finished in 39.239ms 200 application/json (15c52c40)
2017-09-26T21:34:13.2278043+03:00 0HL84SUKNKOHJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:34:13.2318065+03:00 0HL84SUKNKOHJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:34:13.2328072+03:00 0HL84SUKNKOHJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:34:13.2333077+03:00 0HL84SUKNKOHJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:34:13.2333077+03:00 0HL84SUKNKOHJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:34:13.2343080+03:00 0HL84SUKNKOHJ [INF] Request finished in 6.6154ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T21:34:14.6582534+03:00 0HL84SUKNKOHK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:34:14.6617559+03:00 0HL84SUKNKOHK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:34:14.6622568+03:00 0HL84SUKNKOHK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:34:14.6917758+03:00 0HL84SUKNKOHK [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:34:14.6922763+03:00 0HL84SUKNKOHK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:34:14.6927765+03:00 0HL84SUKNKOHK [INF] Request finished in 34.9474ms 200 application/json (15c52c40)
2017-09-26T21:39:11.8562321+03:00 0HL84SUKNKOHL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:39:12.1679713+03:00 0HL84SUKNKOHL [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:39:12.1679713+03:00 0HL84SUKNKOHL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:39:12.2135096+03:00 0HL84SUKNKOHL [INF] Executed DbCommand (30ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:39:12.2145102+03:00 0HL84SUKNKOHL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:39:12.2155105+03:00 0HL84SUKNKOHL [INF] Request finished in 359.7808ms 200 application/json (15c52c40)
2017-09-26T21:56:10.1609402+03:00 0HL84SUKNKOHM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T21:56:11.0850535+03:00 0HL84SUKNKOHN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-26T21:56:27.4869598+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:56:27.4909628+03:00 0HL84SUKNKOHN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:56:27.4909628+03:00 0HL84SUKNKOHN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-26T21:56:27.4924624+03:00 0HL84SUKNKOHN [INF] Request finished in 16407.9193ms 200 application/json (15c52c40)
2017-09-26T21:56:27.5860243+03:00 0HL84SUKNKOHO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T21:56:27.5890267+03:00 0HL84SUKNKOHO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T21:56:27.5890267+03:00 0HL84SUKNKOHO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T21:56:27.6085399+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (117ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:56:27.6140429+03:00 0HL84SUKNKOHO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T21:56:27.6145439+03:00 0HL84SUKNKOHO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T21:56:27.6180460+03:00 0HL84SUKNKOHO [INF] Request finished in 30.087ms 200 application/json (15c52c40)
2017-09-26T21:56:27.6655774+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T21:56:27.6705811+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T21:56:27.6765858+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T21:56:27.6820881+03:00 0HL84SUKNKOHM [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T21:56:27.6830892+03:00 0HL84SUKNKOHM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T21:56:27.6835893+03:00 0HL84SUKNKOHM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T21:56:27.6835893+03:00 0HL84SUKNKOHM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T21:56:27.6850905+03:00 0HL84SUKNKOHM [INF] Request finished in 17524.609ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T22:01:56.5454653+03:00 0HL84SUKNKOHP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:01:56.6165191+03:00 0HL84SUKNKOHP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:01:56.6165191+03:00 0HL84SUKNKOHP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:01:56.7023840+03:00 0HL84SUKNKOHP [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:01:56.7023840+03:00 0HL84SUKNKOHP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:01:56.7033839+03:00 0HL84SUKNKOHP [INF] Request finished in 158.8072ms 200 application/json (15c52c40)
2017-09-26T22:02:00.2096774+03:00 0HL84SUKNKOHQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:02:00.2126790+03:00 0HL84SUKNKOHQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:02:00.2126790+03:00 0HL84SUKNKOHQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:02:00.2386967+03:00 0HL84SUKNKOHQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:02:00.2391972+03:00 0HL84SUKNKOHQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:02:00.2401983+03:00 0HL84SUKNKOHQ [INF] Request finished in 30.7932ms 200 application/json (15c52c40)
2017-09-26T22:02:41.0590319+03:00 0HL84SUKNKOHR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:02:41.0630341+03:00 0HL84SUKNKOHR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:02:41.0630341+03:00 0HL84SUKNKOHR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:02:41.0780445+03:00 0HL84SUKNKOHR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:02:41.0790452+03:00 0HL84SUKNKOHR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:02:41.0790452+03:00 0HL84SUKNKOHR [INF] Request finished in 20.3689ms 200 application/json (15c52c40)
2017-09-26T22:04:23.9233568+03:00 0HL84SUKNKOHS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T22:04:23.9273594+03:00 0HL84SUKNKOHS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:04:23.9278600+03:00 0HL84SUKNKOHS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:04:23.9283605+03:00 0HL84SUKNKOHS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:04:23.9283605+03:00 0HL84SUKNKOHS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T22:04:23.9293604+03:00 0HL84SUKNKOHS [INF] Request finished in 6.1962ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T22:04:24.1440027+03:00 0HL84SUKNKOHT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:04:24.1475052+03:00 0HL84SUKNKOHT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:04:24.1475052+03:00 0HL84SUKNKOHT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:04:24.1765245+03:00 0HL84SUKNKOHT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:04:24.1770246+03:00 0HL84SUKNKOHT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:04:24.2280585+03:00 0HL84SUKNKOHT [INF] Request finished in 45.0875ms 200 application/json (15c52c40)
2017-09-26T22:05:00.7928998+03:00 0HL84SUKNKOHU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:05:00.7959017+03:00 0HL84SUKNKOHU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:05:00.7959017+03:00 0HL84SUKNKOHU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:05:00.8159154+03:00 0HL84SUKNKOHU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:05:00.8164160+03:00 0HL84SUKNKOHU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:05:00.8169165+03:00 0HL84SUKNKOHU [INF] Request finished in 24.2421ms 200 application/json (15c52c40)
2017-09-26T22:05:14.7798899+03:00 0HL84SUKNKOHV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:05:14.7828919+03:00 0HL84SUKNKOHV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:05:14.7828919+03:00 0HL84SUKNKOHV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:05:14.7999036+03:00 0HL84SUKNKOHV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:05:14.8009047+03:00 0HL84SUKNKOHV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:05:14.8019085+03:00 0HL84SUKNKOHV [INF] Request finished in 22.1847ms 200 application/json (15c52c40)
2017-09-26T22:05:16.9776109+03:00 0HL84SUKNKOI0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:05:16.9806125+03:00 0HL84SUKNKOI0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:05:16.9806125+03:00 0HL84SUKNKOI0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:05:17.0051282+03:00 0HL84SUKNKOI0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:05:17.0056288+03:00 0HL84SUKNKOI0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:05:17.0061293+03:00 0HL84SUKNKOI0 [INF] Request finished in 30.1241ms 200 application/json (15c52c40)
2017-09-26T22:42:32.6506804+03:00 0HL84SUKNKOI1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:42:38.3113431+03:00 0HL84SUKNKOI1 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:38.3123433+03:00 0HL84SUKNKOI1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:42:38.3183477+03:00 0HL84SUKNKOI1 [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"cd9a54afd670d5b1693fd1c8f6f18dab2ef6e6c96cb1bbf0fc05bc5d56736af7\"
}" (c9724191)
2017-09-26T22:42:38.3183477+03:00 0HL84SUKNKOI1 [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:42:38.3193480+03:00 0HL84SUKNKOI1 [INF] Request finished in 5674.4682ms 200 application/json (15c52c40)
2017-09-26T22:42:40.6300249+03:00 0HL84SUKNKOI2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66795227438386111506454960614&state=15064549606140.7421012378476399   (e5be5b71)
2017-09-26T22:42:40.6340244+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:40.6620426+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:42:40.6825607+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:42:40.6870912+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:42:40.6910938+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:42:40.6940962+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:42:40.6940962+03:00 0HL84SUKNKOI2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:42:40.6950957+03:00 0HL84SUKNKOI2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:42:40.6950957+03:00 0HL84SUKNKOI2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:42:40.6960971+03:00 0HL84SUKNKOI2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:42:40.6960971+03:00 0HL84SUKNKOI2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:42:40.6970974+03:00 0HL84SUKNKOI2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064549606140.7421012378476399\",
  \"Nonce\": \"N0.66795227438386111506454960614\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66795227438386111506454960614\",
    \"state\": \"15064549606140.7421012378476399\"
  }
}" (9a175e33)
2017-09-26T22:42:40.7081047+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:42:40.7091066+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:42:40.7111103+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:42:40.7131084+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:42:40.7151101+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:42:40.7181117+03:00 0HL84SUKNKOI2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:42:40.7311196+03:00 0HL84SUKNKOI2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064549606140.7421012378476399\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:42:40.7321210+03:00 0HL84SUKNKOI2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:42:40.7331217+03:00 0HL84SUKNKOI2 [INF] Request finished in 105.0985ms 302  (15c52c40)
2017-09-26T22:42:49.6386140+03:00 0HL84SUKNKOI3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T22:42:49.6426159+03:00 0HL84SUKNKOI3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:49.6426159+03:00 0HL84SUKNKOI3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:42:49.6436161+03:00 0HL84SUKNKOI3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:42:49.6436161+03:00 0HL84SUKNKOI3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T22:42:49.6446180+03:00 0HL84SUKNKOI3 [INF] Request finished in 6.345ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T22:42:49.6806636+03:00 0HL84SUKNKOI4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T22:42:49.6846655+03:00 0HL84SUKNKOI4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:49.6846655+03:00 0HL84SUKNKOI4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T22:42:49.6856661+03:00 0HL84SUKNKOI4 [INF] Request finished in 4.8162ms 200 application/json (15c52c40)
2017-09-26T22:42:49.8251532+03:00 0HL84SUKNKOI5 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T22:42:49.8291575+03:00 0HL84SUKNKOI5 [INF] Request finished in 1.5686ms 204  (15c52c40)
2017-09-26T22:42:49.9747650+03:00 0HL84SUKNKOI6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T22:42:49.9837706+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:49.9842711+03:00 0HL84SUKNKOI6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T22:42:49.9842711+03:00 0HL84SUKNKOI6 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T22:42:50.0187942+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:42:50.0258158+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:42:50.0353050+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:42:50.0403087+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:42:50.0483136+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:42:50.0888407+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:42:50.0898410+03:00 0HL84SUKNKOI7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:42:50.0908416+03:00 0HL84SUKNKOI6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:42:50.0908416+03:00 0HL84SUKNKOI6 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T22:42:50.0918427+03:00 0HL84SUKNKOI6 [INF] Request finished in 117.0098ms 200 application/json (15c52c40)
2017-09-26T22:42:50.0938436+03:00 0HL84SUKNKOI7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:42:50.0938436+03:00 0HL84SUKNKOI7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:42:50.1223628+03:00 0HL84SUKNKOI7 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:42:50.1228637+03:00 0HL84SUKNKOI7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:42:50.1238644+03:00 0HL84SUKNKOI7 [INF] Request finished in 39.2517ms 200 application/json (15c52c40)
2017-09-26T22:47:40.4571282+03:00 0HL84SUKNKOI8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57205884149655061506455260449&state=15064552604490.5558120135122022   (e5be5b71)
2017-09-26T22:47:40.4625717+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:40.4635751+03:00 0HL84SUKNKOI8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:47:40.4640764+03:00 0HL84SUKNKOI8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:40.4640764+03:00 0HL84SUKNKOI8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:47:40.4645766+03:00 0HL84SUKNKOI8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:40.4660770+03:00 0HL84SUKNKOI8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:40.4660770+03:00 0HL84SUKNKOI8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064552604490.5558120135122022\",
  \"Nonce\": \"N0.57205884149655061506455260449\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57205884149655061506455260449\",
    \"state\": \"15064552604490.5558120135122022\"
  }
}" (9a175e33)
2017-09-26T22:47:40.4694200+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:47:40.4814264+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:40.4844292+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:47:40.4864309+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:47:40.4884326+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:47:40.4904328+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:40.4934352+03:00 0HL84SUKNKOI8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:47:40.5084447+03:00 0HL84SUKNKOI8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064552604490.5558120135122022\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:47:40.5094450+03:00 0HL84SUKNKOI8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:40.5104453+03:00 0HL84SUKNKOI8 [INF] Request finished in 54.114ms 302  (15c52c40)
2017-09-26T22:47:45.9849106+03:00 0HL84SUKNKOI9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T22:47:45.9879118+03:00 0HL84SUKNKOI9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:45.9879118+03:00 0HL84SUKNKOI9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T22:47:45.9889128+03:00 0HL84SUKNKOI9 [INF] Request finished in 3.7602ms 200 application/json (15c52c40)
2017-09-26T22:47:46.1345192+03:00 0HL84SUKNKOIA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51627035309331771506455266084&state=15064552660840.4403104439789194   (e5be5b71)
2017-09-26T22:47:46.1375192+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:46.1385199+03:00 0HL84SUKNKOIA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:47:46.1385199+03:00 0HL84SUKNKOIA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:46.1385199+03:00 0HL84SUKNKOIA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:47:46.1395205+03:00 0HL84SUKNKOIA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:46.1405216+03:00 0HL84SUKNKOIA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:46.1405216+03:00 0HL84SUKNKOIA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064552660840.4403104439789194\",
  \"Nonce\": \"N0.51627035309331771506455266084\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51627035309331771506455266084\",
    \"state\": \"15064552660840.4403104439789194\"
  }
}" (9a175e33)
2017-09-26T22:47:46.1465256+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:47:46.1495272+03:00 0HL84SUKNKOIB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:47:46.1535346+03:00 0HL84SUKNKOIB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:46.1540347+03:00 0HL84SUKNKOIB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:47:46.1625405+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:46.1675474+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:47:46.1705494+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:47:46.1725507+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:47:46.1765538+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:46.1805564+03:00 0HL84SUKNKOIB [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:47:46.1815571+03:00 0HL84SUKNKOIB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:47:46.1825578+03:00 0HL84SUKNKOIB [INF] Request finished in 33.0677ms 200 application/json (15c52c40)
2017-09-26T22:47:46.2676209+03:00 0HL84SUKNKOIA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:47:46.2886345+03:00 0HL84SUKNKOIA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064552660840.4403104439789194\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:47:46.2886345+03:00 0HL84SUKNKOIA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:47:46.2896356+03:00 0HL84SUKNKOIA [INF] Request finished in 156.5946ms 302  (15c52c40)
2017-09-26T22:47:49.9241847+03:00 0HL84SUKNKOIC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T22:47:49.9281869+03:00 0HL84SUKNKOIC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:49.9281869+03:00 0HL84SUKNKOIC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T22:47:49.9291868+03:00 0HL84SUKNKOIC [INF] Request finished in 4.5651ms 200 application/json (15c52c40)
2017-09-26T22:47:50.1927523+03:00 0HL84SUKNKOID [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T22:47:50.1937530+03:00 0HL84SUKNKOID [INF] Request finished in 1.1723ms 204  (15c52c40)
2017-09-26T22:47:50.2492896+03:00 0HL84SUKNKOIE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T22:47:50.2522916+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:50.2522916+03:00 0HL84SUKNKOIE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T22:47:50.2522916+03:00 0HL84SUKNKOIE [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T22:47:50.2668027+03:00 0HL84SUKNKOIF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:47:50.2703036+03:00 0HL84SUKNKOIF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:47:50.2703036+03:00 0HL84SUKNKOIF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:47:50.2768081+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:47:50.2823116+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:50.2893166+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:47:50.2963209+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:47:50.2993229+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:47:50.3013242+03:00 0HL84SUKNKOIF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:47:50.3018243+03:00 0HL84SUKNKOIF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:47:50.3028250+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:47:50.3033255+03:00 0HL84SUKNKOIF [INF] Request finished in 36.9251ms 200 application/json (15c52c40)
2017-09-26T22:47:50.3128320+03:00 0HL84SUKNKOIE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:47:50.3133326+03:00 0HL84SUKNKOIE [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T22:47:50.3148338+03:00 0HL84SUKNKOIE [INF] Request finished in 64.9827ms 200 application/json (15c52c40)
2017-09-26T22:52:46.4618540+03:00 0HL84SUKNKOIG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.125162095494665731506455566454&state=15064555664540.9744680143279283   (e5be5b71)
2017-09-26T22:52:46.7380512+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:52:46.7390523+03:00 0HL84SUKNKOIG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:52:46.7390523+03:00 0HL84SUKNKOIG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:46.7390523+03:00 0HL84SUKNKOIG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:52:46.7400529+03:00 0HL84SUKNKOIG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:46.7400529+03:00 0HL84SUKNKOIG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:46.7400529+03:00 0HL84SUKNKOIG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555664540.9744680143279283\",
  \"Nonce\": \"N0.125162095494665731506455566454\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.125162095494665731506455566454\",
    \"state\": \"15064555664540.9744680143279283\"
  }
}" (9a175e33)
2017-09-26T22:52:46.7730804+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:52:46.7870893+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:46.7900929+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:52:46.7940947+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:52:46.8000995+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:52:46.8020993+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:46.8051040+03:00 0HL84SUKNKOIG [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:52:46.8241147+03:00 0HL84SUKNKOIG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555664540.9744680143279283\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:52:46.8251157+03:00 0HL84SUKNKOIG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:46.8261160+03:00 0HL84SUKNKOIG [INF] Request finished in 365.6826ms 302  (15c52c40)
2017-09-26T22:52:50.7298983+03:00 0HL84SUKNKOIH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53720895073557751506455570579&state=15064555705790.5182870632920751   (e5be5b71)
2017-09-26T22:52:50.7329007+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:52:50.7334012+03:00 0HL84SUKNKOIH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:52:50.7339013+03:00 0HL84SUKNKOIH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:50.7339013+03:00 0HL84SUKNKOIH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:52:50.7344015+03:00 0HL84SUKNKOIH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:50.7349016+03:00 0HL84SUKNKOIH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:50.7354021+03:00 0HL84SUKNKOIH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555705790.5182870632920751\",
  \"Nonce\": \"N0.53720895073557751506455570579\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53720895073557751506455570579\",
    \"state\": \"15064555705790.5182870632920751\"
  }
}" (9a175e33)
2017-09-26T22:52:50.7394048+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:52:50.7604187+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:50.7629202+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:52:50.7654217+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:52:50.7674234+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:52:50.7699248+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:50.7719262+03:00 0HL84SUKNKOIH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:52:50.7969455+03:00 0HL84SUKNKOIH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555705790.5182870632920751\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:52:50.7979462+03:00 0HL84SUKNKOIH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:50.7989469+03:00 0HL84SUKNKOIH [INF] Request finished in 70.2951ms 302  (15c52c40)
2017-09-26T22:52:54.4389224+03:00 0HL84SUKNKOII [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99016666616950591506455574374&state=15064555743740.8357430245118802   (e5be5b71)
2017-09-26T22:52:54.4509300+03:00 0HL84SUKNKOII [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:52:54.4514309+03:00 0HL84SUKNKOII [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:52:54.4519311+03:00 0HL84SUKNKOII [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:54.4524312+03:00 0HL84SUKNKOII [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:52:54.4529317+03:00 0HL84SUKNKOII [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:54.4534319+03:00 0HL84SUKNKOII [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:54.4534319+03:00 0HL84SUKNKOII [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555743740.8357430245118802\",
  \"Nonce\": \"N0.99016666616950591506455574374\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99016666616950591506455574374\",
    \"state\": \"15064555743740.8357430245118802\"
  }
}" (9a175e33)
2017-09-26T22:52:54.4589357+03:00 0HL84SUKNKOII [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:52:54.5655063+03:00 0HL84SUKNKOII [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:54.5685083+03:00 0HL84SUKNKOII [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:52:54.5710101+03:00 0HL84SUKNKOII [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:52:54.5765140+03:00 0HL84SUKNKOII [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:52:54.5800161+03:00 0HL84SUKNKOII [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:54.5830177+03:00 0HL84SUKNKOII [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:52:54.6215435+03:00 0HL84SUKNKOII [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555743740.8357430245118802\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:52:54.7076002+03:00 0HL84SUKNKOII [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:54.7101021+03:00 0HL84SUKNKOII [INF] Request finished in 274.09ms 302  (15c52c40)
2017-09-26T22:52:57.9133013+03:00 0HL84SUKNKOIJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29266964566702681506455577541&state=15064555775410.5111722253750046   (e5be5b71)
2017-09-26T22:52:57.9168026+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:52:57.9178037+03:00 0HL84SUKNKOIJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:52:57.9183038+03:00 0HL84SUKNKOIJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:57.9183038+03:00 0HL84SUKNKOIJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:52:57.9188040+03:00 0HL84SUKNKOIJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:57.9193049+03:00 0HL84SUKNKOIJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:57.9193049+03:00 0HL84SUKNKOIJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555775410.5111722253750046\",
  \"Nonce\": \"N0.29266964566702681506455577541\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29266964566702681506455577541\",
    \"state\": \"15064555775410.5111722253750046\"
  }
}" (9a175e33)
2017-09-26T22:52:57.9228066+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:52:57.9603313+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:57.9623327+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:52:57.9648341+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:52:57.9663353+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:52:57.9693373+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:52:57.9713382+03:00 0HL84SUKNKOIJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:52:57.9938542+03:00 0HL84SUKNKOIJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555775410.5111722253750046\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:52:57.9943563+03:00 0HL84SUKNKOIJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:52:57.9953558+03:00 0HL84SUKNKOIJ [INF] Request finished in 82.6272ms 302  (15c52c40)
2017-09-26T22:53:01.6978458+03:00 0HL84SUKNKOIK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56969233209437921506455580827&state=15064555808270.8490680115350322   (e5be5b71)
2017-09-26T22:53:01.7008478+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:53:01.7018485+03:00 0HL84SUKNKOIK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:53:01.7023490+03:00 0HL84SUKNKOIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:01.7023490+03:00 0HL84SUKNKOIK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:53:01.7028491+03:00 0HL84SUKNKOIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:01.7033497+03:00 0HL84SUKNKOIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:01.7033497+03:00 0HL84SUKNKOIK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555808270.8490680115350322\",
  \"Nonce\": \"N0.56969233209437921506455580827\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56969233209437921506455580827\",
    \"state\": \"15064555808270.8490680115350322\"
  }
}" (9a175e33)
2017-09-26T22:53:01.7073523+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:53:01.7218622+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:53:01.7243636+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:53:01.7263646+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:53:01.7288668+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:53:01.7403743+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:53:01.7693935+03:00 0HL84SUKNKOIK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:53:01.7934091+03:00 0HL84SUKNKOIK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555808270.8490680115350322\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:53:01.7944121+03:00 0HL84SUKNKOIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:01.7959109+03:00 0HL84SUKNKOIK [INF] Request finished in 98.2056ms 302  (15c52c40)
2017-09-26T22:53:10.6356696+03:00 0HL84SUKNKOIL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T22:53:10.6391718+03:00 0HL84SUKNKOIL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:53:10.6391718+03:00 0HL84SUKNKOIL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T22:53:10.6401728+03:00 0HL84SUKNKOIL [INF] Request finished in 4.6954ms 200 application/json (15c52c40)
2017-09-26T22:53:11.2916065+03:00 0HL84SUKNKOIM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84928250916727841506455590986&state=15064555909860.13684900296538194   (e5be5b71)
2017-09-26T22:53:11.3036129+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:53:11.3041134+03:00 0HL84SUKNKOIM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T22:53:11.3046139+03:00 0HL84SUKNKOIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:11.3046139+03:00 0HL84SUKNKOIM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T22:53:11.3051141+03:00 0HL84SUKNKOIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:11.3061144+03:00 0HL84SUKNKOIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:11.3061144+03:00 0HL84SUKNKOIM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064555909860.13684900296538194\",
  \"Nonce\": \"N0.84928250916727841506455590986\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84928250916727841506455590986\",
    \"state\": \"15064555909860.13684900296538194\"
  }
}" (9a175e33)
2017-09-26T22:53:11.3551477+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (45ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:53:11.3846667+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:53:11.3866680+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T22:53:11.4201905+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T22:53:11.4226919+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T22:53:11.4231921+03:00 0HL84SUKNKOIN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T22:53:11.4251938+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T22:53:11.4266946+03:00 0HL84SUKNKOIM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T22:53:11.4316987+03:00 0HL84SUKNKOIN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:53:11.4321985+03:00 0HL84SUKNKOIN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T22:53:11.4542131+03:00 0HL84SUKNKOIM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064555909860.13684900296538194\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T22:53:11.4547136+03:00 0HL84SUKNKOIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T22:53:11.4557147+03:00 0HL84SUKNKOIM [INF] Request finished in 164.5711ms 302  (15c52c40)
2017-09-26T22:53:11.4602167+03:00 0HL84SUKNKOIN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T22:53:11.4607172+03:00 0HL84SUKNKOIN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T22:53:11.4612177+03:00 0HL84SUKNKOIN [INF] Request finished in 38.5364ms 200 application/json (15c52c40)
2017-09-26T22:53:22.3601036+03:00 0HL84SUKNKOIO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T22:53:22.3631056+03:00 0HL84SUKNKOIO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T22:53:22.3636058+03:00 0HL84SUKNKOIO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T22:53:22.3641067+03:00 0HL84SUKNKOIO [INF] Request finished in 4.1479ms 200 application/json (15c52c40)
2017-09-26T23:09:42.2568063+03:00 0HL84SUKNKOIP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92999682669459041506456582251&state=15064565822510.7457851383062342   (e5be5b71)
2017-09-26T23:09:45.6935838+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:09:45.6935838+03:00 0HL84SUKNKOIP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:09:45.6945837+03:00 0HL84SUKNKOIP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:09:45.6945837+03:00 0HL84SUKNKOIP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:09:45.6945837+03:00 0HL84SUKNKOIP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:09:45.6955844+03:00 0HL84SUKNKOIP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:09:45.6955844+03:00 0HL84SUKNKOIP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064565822510.7457851383062342\",
  \"Nonce\": \"N0.92999682669459041506456582251\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92999682669459041506456582251\",
    \"state\": \"15064565822510.7457851383062342\"
  }
}" (9a175e33)
2017-09-26T23:09:45.7386141+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (40ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:09:45.7536241+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:09:45.7586274+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:09:45.7626293+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:09:45.7666319+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:09:45.7696339+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:09:45.7741411+03:00 0HL84SUKNKOIP [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:09:45.7961616+03:00 0HL84SUKNKOIP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064565822510.7457851383062342\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:09:45.7971627+03:00 0HL84SUKNKOIP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:09:45.7971627+03:00 0HL84SUKNKOIP [INF] Request finished in 3540.9484ms 302  (15c52c40)
2017-09-26T23:09:52.2223874+03:00 0HL84SUKNKOIQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-26T23:09:52.2253823+03:00 0HL84SUKNKOIQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:09:52.2253823+03:00 0HL84SUKNKOIQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:09:52.2263806+03:00 0HL84SUKNKOIQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:09:52.2263806+03:00 0HL84SUKNKOIQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-26T23:09:52.2273816+03:00 0HL84SUKNKOIQ [INF] Request finished in 4.7917ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-26T23:09:52.2524053+03:00 0HL84SUKNKOIR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:09:52.2544055+03:00 0HL84SUKNKOIR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:09:52.2554057+03:00 0HL84SUKNKOIR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:09:52.2564084+03:00 0HL84SUKNKOIR [INF] Request finished in 3.761ms 200 application/json (15c52c40)
2017-09-26T23:09:52.4242579+03:00 0HL84SUKNKOIS [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T23:09:52.4252585+03:00 0HL84SUKNKOIS [INF] Request finished in 1.2797ms 204  (15c52c40)
2017-09-26T23:09:52.5443494+03:00 0HL84SUKNKOIT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T23:09:52.5468501+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:09:52.5468501+03:00 0HL84SUKNKOIT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T23:09:52.5478547+03:00 0HL84SUKNKOIT [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T23:09:52.5958862+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:09:52.6008895+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:09:52.6058933+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:09:52.6088949+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:09:52.6138982+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:09:52.6209032+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:09:52.6239048+03:00 0HL84SUKNKOIT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:09:52.6239048+03:00 0HL84SUKNKOIT [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T23:09:52.6249059+03:00 0HL84SUKNKOIT [INF] Request finished in 80.6109ms 200 application/json (15c52c40)
2017-09-26T23:09:52.6919543+03:00 0HL84SUKNKOIU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:09:52.6949563+03:00 0HL84SUKNKOIU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:09:52.6954573+03:00 0HL84SUKNKOIU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:09:52.7214741+03:00 0HL84SUKNKOIU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:09:52.7219743+03:00 0HL84SUKNKOIU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:09:52.7229745+03:00 0HL84SUKNKOIU [INF] Request finished in 30.7648ms 200 application/json (15c52c40)
2017-09-26T23:14:48.4658579+03:00 0HL84SUKNKOIV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36870296613885211506456888450&state=15064568884500.3632387841629472   (e5be5b71)
2017-09-26T23:14:48.6837536+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:14:48.7247809+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (36ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:14:48.7307856+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:14:48.7347875+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:14:48.7392974+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:14:48.7430293+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:14:48.7435290+03:00 0HL84SUKNKOIV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:14:48.7440292+03:00 0HL84SUKNKOIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:48.7440292+03:00 0HL84SUKNKOIV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:14:48.7445301+03:00 0HL84SUKNKOIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:48.7450294+03:00 0HL84SUKNKOIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:48.7450294+03:00 0HL84SUKNKOIV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064568884500.3632387841629472\",
  \"Nonce\": \"N0.36870296613885211506456888450\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36870296613885211506456888450\",
    \"state\": \"15064568884500.3632387841629472\"
  }
}" (9a175e33)
2017-09-26T23:14:48.7540386+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:14:48.7550408+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:14:48.7570417+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:14:48.7580436+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:14:48.7600425+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:14:48.7620447+03:00 0HL84SUKNKOIV [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:14:48.7760540+03:00 0HL84SUKNKOIV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064568884500.3632387841629472\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:14:48.7770558+03:00 0HL84SUKNKOIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:48.7780549+03:00 0HL84SUKNKOIV [INF] Request finished in 314.794ms 302  (15c52c40)
2017-09-26T23:14:52.5821382+03:00 0HL84SUKNKOJ0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66476637908348831506456892553&state=15064568925530.1990543567185843   (e5be5b71)
2017-09-26T23:14:52.5851398+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:14:52.5856400+03:00 0HL84SUKNKOJ0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:14:52.5861409+03:00 0HL84SUKNKOJ0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:52.5866410+03:00 0HL84SUKNKOJ0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:14:52.5871412+03:00 0HL84SUKNKOJ0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:52.5881418+03:00 0HL84SUKNKOJ0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:52.5881418+03:00 0HL84SUKNKOJ0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064568925530.1990543567185843\",
  \"Nonce\": \"N0.66476637908348831506456892553\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66476637908348831506456892553\",
    \"state\": \"15064568925530.1990543567185843\"
  }
}" (9a175e33)
2017-09-26T23:14:52.5916444+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:14:52.6056537+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:14:52.6076550+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:14:52.6101568+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:14:52.6121582+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:14:52.6146596+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:14:52.6166610+03:00 0HL84SUKNKOJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:14:52.6411774+03:00 0HL84SUKNKOJ0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064568925530.1990543567185843\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:14:52.6421777+03:00 0HL84SUKNKOJ0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:14:52.6431788+03:00 0HL84SUKNKOJ0 [INF] Request finished in 61.5055ms 302  (15c52c40)
2017-09-26T23:14:56.8913415+03:00 0HL84SUKNKOJ1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:14:56.8943439+03:00 0HL84SUKNKOJ1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:14:56.8943439+03:00 0HL84SUKNKOJ1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:14:56.8953450+03:00 0HL84SUKNKOJ1 [INF] Request finished in 4.5079ms 200 application/json (15c52c40)
2017-09-26T23:14:57.2996260+03:00 0HL84SUKNKOJ2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:14:57.3026276+03:00 0HL84SUKNKOJ2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:14:57.3036283+03:00 0HL84SUKNKOJ2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:14:57.3256433+03:00 0HL84SUKNKOJ2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:14:57.3256433+03:00 0HL84SUKNKOJ2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:14:57.3266440+03:00 0HL84SUKNKOJ2 [INF] Request finished in 26.8588ms 200 application/json (15c52c40)
2017-09-26T23:14:57.8720262+03:00 0HL84SUKNKOJ3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:14:57.8740271+03:00 0HL84SUKNKOJ3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:14:57.8750282+03:00 0HL84SUKNKOJ3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:14:57.8910384+03:00 0HL84SUKNKOJ3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:14:57.8910384+03:00 0HL84SUKNKOJ3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:14:57.8920394+03:00 0HL84SUKNKOJ3 [INF] Request finished in 19.9746ms 200 application/json (15c52c40)
2017-09-26T23:19:53.4765826+03:00 0HL84SUKNKOJ4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.026864588509658561506457193452&state=15064571934520.5898550471057715   (e5be5b71)
2017-09-26T23:19:53.4855917+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:19:53.4875926+03:00 0HL84SUKNKOJ4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:19:53.4885901+03:00 0HL84SUKNKOJ4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:53.4885901+03:00 0HL84SUKNKOJ4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:19:53.4895900+03:00 0HL84SUKNKOJ4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:53.4905938+03:00 0HL84SUKNKOJ4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:53.4905938+03:00 0HL84SUKNKOJ4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064571934520.5898550471057715\",
  \"Nonce\": \"N0.026864588509658561506457193452\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.026864588509658561506457193452\",
    \"state\": \"15064571934520.5898550471057715\"
  }
}" (9a175e33)
2017-09-26T23:19:53.4955952+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:19:53.5106040+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:19:53.5126049+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:19:53.5146070+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:19:53.5156073+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:19:53.5186097+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:19:53.5206106+03:00 0HL84SUKNKOJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:19:53.5431301+03:00 0HL84SUKNKOJ4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064571934520.5898550471057715\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:19:53.5446325+03:00 0HL84SUKNKOJ4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:53.5456320+03:00 0HL84SUKNKOJ4 [INF] Request finished in 79.5431ms 302  (15c52c40)
2017-09-26T23:19:57.5545894+03:00 0HL84SUKNKOJ5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.13765103438578221506457197483&state=15064571974830.041718065592640796   (e5be5b71)
2017-09-26T23:19:57.5580915+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:19:57.5585916+03:00 0HL84SUKNKOJ5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:19:57.5590922+03:00 0HL84SUKNKOJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:57.5595927+03:00 0HL84SUKNKOJ5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:19:57.5600928+03:00 0HL84SUKNKOJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:57.5605934+03:00 0HL84SUKNKOJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:57.5605934+03:00 0HL84SUKNKOJ5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064571974830.041718065592640796\",
  \"Nonce\": \"N0.13765103438578221506457197483\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.13765103438578221506457197483\",
    \"state\": \"15064571974830.041718065592640796\"
  }
}" (9a175e33)
2017-09-26T23:19:57.5645960+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:19:57.5791055+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:19:57.5816069+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:19:57.5846093+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:19:57.5876109+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:19:57.5906129+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:19:57.5941154+03:00 0HL84SUKNKOJ5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:19:57.6246355+03:00 0HL84SUKNKOJ5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064571974830.041718065592640796\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:19:57.6296392+03:00 0HL84SUKNKOJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:19:57.6386452+03:00 0HL84SUKNKOJ5 [INF] Request finished in 84.5385ms 302  (15c52c40)
2017-09-26T23:20:01.0922824+03:00 0HL84SUKNKOJ6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:20:01.0962843+03:00 0HL84SUKNKOJ6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:20:01.0972850+03:00 0HL84SUKNKOJ6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:20:01.0982856+03:00 0HL84SUKNKOJ6 [INF] Request finished in 5.7553ms 200 application/json (15c52c40)
2017-09-26T23:20:01.5691162+03:00 0HL84SUKNKOJ7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:20:01.5731188+03:00 0HL84SUKNKOJ7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:20:01.5731188+03:00 0HL84SUKNKOJ7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:20:01.6011382+03:00 0HL84SUKNKOJ7 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:20:01.6021381+03:00 0HL84SUKNKOJ7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:20:01.6041394+03:00 0HL84SUKNKOJ7 [INF] Request finished in 35.2549ms 200 application/json (15c52c40)
2017-09-26T23:20:02.9487856+03:00 0HL84SUKNKOJ8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:20:02.9517876+03:00 0HL84SUKNKOJ8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:20:02.9522881+03:00 0HL84SUKNKOJ8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:20:02.9763037+03:00 0HL84SUKNKOJ8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:20:02.9773047+03:00 0HL84SUKNKOJ8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:20:02.9783054+03:00 0HL84SUKNKOJ8 [INF] Request finished in 29.4096ms 200 application/json (15c52c40)
2017-09-26T23:24:58.4727548+03:00 0HL84SUKNKOJ9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.067390435052795181506457498458&state=15064574984580.45555635451335674   (e5be5b71)
2017-09-26T23:24:58.4777573+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:24:58.4787584+03:00 0HL84SUKNKOJ9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:24:58.4787584+03:00 0HL84SUKNKOJ9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:24:58.4797590+03:00 0HL84SUKNKOJ9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:24:58.4797590+03:00 0HL84SUKNKOJ9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:24:58.4817604+03:00 0HL84SUKNKOJ9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:24:58.4817604+03:00 0HL84SUKNKOJ9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064574984580.45555635451335674\",
  \"Nonce\": \"N0.067390435052795181506457498458\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.067390435052795181506457498458\",
    \"state\": \"15064574984580.45555635451335674\"
  }
}" (9a175e33)
2017-09-26T23:24:58.4867653+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:24:58.4957697+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:24:58.4977706+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:24:58.4997719+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:24:58.5007722+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:24:58.5027735+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:24:58.5037746+03:00 0HL84SUKNKOJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:24:58.5187845+03:00 0HL84SUKNKOJ9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064574984580.45555635451335674\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:24:58.5197860+03:00 0HL84SUKNKOJ9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:24:58.5207859+03:00 0HL84SUKNKOJ9 [INF] Request finished in 50.1808ms 302  (15c52c40)
2017-09-26T23:25:03.4682397+03:00 0HL84SUKNKOJA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:25:03.4712413+03:00 0HL84SUKNKOJA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:03.4722420+03:00 0HL84SUKNKOJA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:25:03.4732431+03:00 0HL84SUKNKOJA [INF] Request finished in 4.6887ms 200 application/json (15c52c40)
2017-09-26T23:25:03.6804445+03:00 0HL84SUKNKOJB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:25:03.6824459+03:00 0HL84SUKNKOJB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:03.6834469+03:00 0HL84SUKNKOJB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:25:03.7084679+03:00 0HL84SUKNKOJB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:25:03.7089668+03:00 0HL84SUKNKOJB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:25:03.7099679+03:00 0HL84SUKNKOJB [INF] Request finished in 31.2392ms 200 application/json (15c52c40)
2017-09-26T23:25:03.7379861+03:00 0HL84SUKNKOJC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.15400591720581481506457503565&state=15064575035650.10801902955025189   (e5be5b71)
2017-09-26T23:25:03.7409889+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:03.7419891+03:00 0HL84SUKNKOJC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:25:03.7424897+03:00 0HL84SUKNKOJC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:25:03.7424897+03:00 0HL84SUKNKOJC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:25:03.7429898+03:00 0HL84SUKNKOJC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:25:03.7439905+03:00 0HL84SUKNKOJC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:25:03.7444910+03:00 0HL84SUKNKOJC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064575035650.10801902955025189\",
  \"Nonce\": \"N0.15400591720581481506457503565\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.15400591720581481506457503565\",
    \"state\": \"15064575035650.10801902955025189\"
  }
}" (9a175e33)
2017-09-26T23:25:03.7479931+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:25:03.7615019+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:25:03.7650040+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:25:03.7685069+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:25:03.7710100+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:25:03.7745105+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:25:03.7785132+03:00 0HL84SUKNKOJC [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:25:03.8035298+03:00 0HL84SUKNKOJC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064575035650.10801902955025189\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:25:03.8040303+03:00 0HL84SUKNKOJC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:25:03.8055311+03:00 0HL84SUKNKOJC [INF] Request finished in 67.5221ms 302  (15c52c40)
2017-09-26T23:25:07.7257188+03:00 0HL84SUKNKOJD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:25:07.7287204+03:00 0HL84SUKNKOJD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:07.7287204+03:00 0HL84SUKNKOJD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:25:07.7307217+03:00 0HL84SUKNKOJD [INF] Request finished in 4.8876ms 200 application/json (15c52c40)
2017-09-26T23:25:07.8277936+03:00 0HL84SUKNKOJE [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T23:25:07.8307952+03:00 0HL84SUKNKOJE [INF] Request finished in 1.228ms 204  (15c52c40)
2017-09-26T23:25:08.0129197+03:00 0HL84SUKNKOJF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:25:08.0159213+03:00 0HL84SUKNKOJF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:08.0159213+03:00 0HL84SUKNKOJF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:25:08.0399372+03:00 0HL84SUKNKOJF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:25:08.0404378+03:00 0HL84SUKNKOJF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:25:08.0414384+03:00 0HL84SUKNKOJF [INF] Request finished in 28.7772ms 200 application/json (15c52c40)
2017-09-26T23:25:08.1455071+03:00 0HL84SUKNKOJG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T23:25:08.1490097+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:25:08.1490097+03:00 0HL84SUKNKOJG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T23:25:08.1490097+03:00 0HL84SUKNKOJG [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T23:25:08.1750265+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:25:08.1785291+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:25:08.1830322+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:25:08.1860342+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:25:08.1890362+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:25:08.1915381+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:25:08.1935390+03:00 0HL84SUKNKOJG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:25:08.1940392+03:00 0HL84SUKNKOJG [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T23:25:08.1950402+03:00 0HL84SUKNKOJG [INF] Request finished in 49.2741ms 200 application/json (15c52c40)
2017-09-26T23:30:03.4674250+03:00 0HL84SUKNKOJH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45920296147328731506457803449&state=15064578034490.6291006542518425   (e5be5b71)
2017-09-26T23:30:03.7697464+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:03.7707463+03:00 0HL84SUKNKOJH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:30:03.7707463+03:00 0HL84SUKNKOJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:03.7707463+03:00 0HL84SUKNKOJH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:30:03.7717474+03:00 0HL84SUKNKOJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:03.7717474+03:00 0HL84SUKNKOJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:03.7727476+03:00 0HL84SUKNKOJH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064578034490.6291006542518425\",
  \"Nonce\": \"N0.45920296147328731506457803449\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45920296147328731506457803449\",
    \"state\": \"15064578034490.6291006542518425\"
  }
}" (9a175e33)
2017-09-26T23:30:03.8368284+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (61ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:03.8518380+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:03.8568413+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:30:03.8598437+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:30:03.8638460+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:30:03.8658469+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:03.8688497+03:00 0HL84SUKNKOJH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:30:03.8918681+03:00 0HL84SUKNKOJH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064578034490.6291006542518425\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:30:03.8923679+03:00 0HL84SUKNKOJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:03.8928684+03:00 0HL84SUKNKOJH [INF] Request finished in 427.063ms 302  (15c52c40)
2017-09-26T23:30:05.4626862+03:00 0HL84SUKNKOJI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.358140153254682851506457805450&state=15064578054500.2297195260603393   (e5be5b71)
2017-09-26T23:30:05.4666884+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:05.4666884+03:00 0HL84SUKNKOJI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:30:05.4676891+03:00 0HL84SUKNKOJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:05.4676891+03:00 0HL84SUKNKOJI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:30:05.4736946+03:00 0HL84SUKNKOJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:05.4746937+03:00 0HL84SUKNKOJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:05.4746937+03:00 0HL84SUKNKOJI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064578054500.2297195260603393\",
  \"Nonce\": \"N0.358140153254682851506457805450\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.358140153254682851506457805450\",
    \"state\": \"15064578054500.2297195260603393\"
  }
}" (9a175e33)
2017-09-26T23:30:05.4877020+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:05.5077247+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:05.5107267+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:30:05.5137287+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:30:05.5167303+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:30:05.5197347+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:05.5217340+03:00 0HL84SUKNKOJI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:30:05.5447497+03:00 0HL84SUKNKOJI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064578054500.2297195260603393\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:30:05.5457496+03:00 0HL84SUKNKOJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:05.5467510+03:00 0HL84SUKNKOJI [INF] Request finished in 85.6426ms 302  (15c52c40)
2017-09-26T23:30:07.4611005+03:00 0HL84SUKNKOJJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64079433905424611506457807448&state=15064578074480.5446394276522404   (e5be5b71)
2017-09-26T23:30:07.4641013+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:07.4651020+03:00 0HL84SUKNKOJJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:30:07.4651020+03:00 0HL84SUKNKOJJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:07.4651020+03:00 0HL84SUKNKOJJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:30:07.4661026+03:00 0HL84SUKNKOJJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:07.4671041+03:00 0HL84SUKNKOJJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:07.4671041+03:00 0HL84SUKNKOJJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064578074480.5446394276522404\",
  \"Nonce\": \"N0.64079433905424611506457807448\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64079433905424611506457807448\",
    \"state\": \"15064578074480.5446394276522404\"
  }
}" (9a175e33)
2017-09-26T23:30:07.4711055+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:07.4821140+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:07.4831139+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:30:07.4851148+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:30:07.4871162+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:30:07.4891171+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:07.4901182+03:00 0HL84SUKNKOJJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:30:07.5066360+03:00 0HL84SUKNKOJJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064578074480.5446394276522404\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:30:07.5076335+03:00 0HL84SUKNKOJJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:07.5086346+03:00 0HL84SUKNKOJJ [INF] Request finished in 49.1434ms 302  (15c52c40)
2017-09-26T23:30:11.7001476+03:00 0HL84SUKNKOJK [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:30:11.7031495+03:00 0HL84SUKNKOJK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:11.7031495+03:00 0HL84SUKNKOJK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:30:11.7041506+03:00 0HL84SUKNKOJK [INF] Request finished in 4.0966ms 200 application/json (15c52c40)
2017-09-26T23:30:11.8552584+03:00 0HL84SUKNKOJL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39523596038686581506457811809&state=15064578118090.5802535223419323   (e5be5b71)
2017-09-26T23:30:11.8592607+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:11.8592607+03:00 0HL84SUKNKOJL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:30:11.8602617+03:00 0HL84SUKNKOJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:11.8602617+03:00 0HL84SUKNKOJL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:30:11.8612616+03:00 0HL84SUKNKOJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:11.8612616+03:00 0HL84SUKNKOJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:11.8612616+03:00 0HL84SUKNKOJL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064578118090.5802535223419323\",
  \"Nonce\": \"N0.39523596038686581506457811809\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39523596038686581506457811809\",
    \"state\": \"15064578118090.5802535223419323\"
  }
}" (9a175e33)
2017-09-26T23:30:11.8652647+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:11.8807787+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:11.8832837+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:30:11.8852851+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:30:11.8872860+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:30:11.8892881+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:11.9042981+03:00 0HL84SUKNKOJL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:30:11.9072997+03:00 0HL84SUKNKOJM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:30:11.9113023+03:00 0HL84SUKNKOJM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:11.9113023+03:00 0HL84SUKNKOJM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:30:11.9283140+03:00 0HL84SUKNKOJL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064578118090.5802535223419323\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:30:11.9333173+03:00 0HL84SUKNKOJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:30:11.9363189+03:00 0HL84SUKNKOJL [INF] Request finished in 82.1125ms 302  (15c52c40)
2017-09-26T23:30:11.9383203+03:00 0HL84SUKNKOJM [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:11.9393209+03:00 0HL84SUKNKOJM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:30:11.9403216+03:00 0HL84SUKNKOJM [INF] Request finished in 40.2736ms 200 application/json (15c52c40)
2017-09-26T23:30:16.1744443+03:00 0HL84SUKNKOJN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:30:16.1774459+03:00 0HL84SUKNKOJN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:16.1774459+03:00 0HL84SUKNKOJN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:30:16.1804487+03:00 0HL84SUKNKOJN [INF] Request finished in 4.8012ms 200 application/json (15c52c40)
2017-09-26T23:30:16.3500702+03:00 0HL84SUKNKOJO [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T23:30:16.3510708+03:00 0HL84SUKNKOJO [INF] Request finished in 1.0192ms 204  (15c52c40)
2017-09-26T23:30:16.4566407+03:00 0HL84SUKNKOJP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:30:16.4601432+03:00 0HL84SUKNKOJP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:16.4606438+03:00 0HL84SUKNKOJP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:30:16.4836591+03:00 0HL84SUKNKOJP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:16.4841592+03:00 0HL84SUKNKOJP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:30:16.4851599+03:00 0HL84SUKNKOJP [INF] Request finished in 28.54ms 200 application/json (15c52c40)
2017-09-26T23:30:16.5231847+03:00 0HL84SUKNKOJQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T23:30:16.5261871+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:30:16.5266876+03:00 0HL84SUKNKOJQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T23:30:16.5266876+03:00 0HL84SUKNKOJQ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T23:30:16.5532050+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:30:16.5602101+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:16.5642127+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:30:16.5677145+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:30:16.5712166+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:30:16.5742194+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:30:16.5787222+03:00 0HL84SUKNKOJQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:30:16.5792231+03:00 0HL84SUKNKOJQ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T23:30:16.5817238+03:00 0HL84SUKNKOJQ [INF] Request finished in 58.2118ms 200 application/json (15c52c40)
2017-09-26T23:35:12.4555690+03:00 0HL84SUKNKOJR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0277386926961218361506458112450&state=15064581124500.9042722635960967   (e5be5b71)
2017-09-26T23:35:12.4595713+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:12.4600714+03:00 0HL84SUKNKOJR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:35:12.4600714+03:00 0HL84SUKNKOJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:12.4600714+03:00 0HL84SUKNKOJR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:35:12.4610910+03:00 0HL84SUKNKOJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:12.4610910+03:00 0HL84SUKNKOJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:12.4620929+03:00 0HL84SUKNKOJR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064581124500.9042722635960967\",
  \"Nonce\": \"N0.0277386926961218361506458112450\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0277386926961218361506458112450\",
    \"state\": \"15064581124500.9042722635960967\"
  }
}" (9a175e33)
2017-09-26T23:35:12.4640934+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:35:12.4741000+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:12.4761018+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:35:12.4771028+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:35:12.4791034+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:35:12.4801056+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:12.4821065+03:00 0HL84SUKNKOJR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:35:12.4951132+03:00 0HL84SUKNKOJR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064581124500.9042722635960967\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:35:12.4961166+03:00 0HL84SUKNKOJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:12.4971161+03:00 0HL84SUKNKOJR [INF] Request finished in 41.7713ms 302  (15c52c40)
2017-09-26T23:35:18.0119601+03:00 0HL84SUKNKOJS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:35:18.0149617+03:00 0HL84SUKNKOJS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:18.0159624+03:00 0HL84SUKNKOJS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:35:18.0169630+03:00 0HL84SUKNKOJS [INF] Request finished in 4.6066ms 200 application/json (15c52c40)
2017-09-26T23:35:18.1906570+03:00 0HL84SUKNKOJT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:35:18.1936594+03:00 0HL84SUKNKOJT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:18.1936594+03:00 0HL84SUKNKOJT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:35:18.2186756+03:00 0HL84SUKNKOJT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:35:18.2196771+03:00 0HL84SUKNKOJT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:35:18.2206813+03:00 0HL84SUKNKOJT [INF] Request finished in 30.1253ms 200 application/json (15c52c40)
2017-09-26T23:35:18.3607739+03:00 0HL84SUKNKOJU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.326476968037615171506458118127&state=15064581181270.9291600567591731   (e5be5b71)
2017-09-26T23:35:18.3642764+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:18.3647766+03:00 0HL84SUKNKOJU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:35:18.3652771+03:00 0HL84SUKNKOJU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:18.3652771+03:00 0HL84SUKNKOJU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:35:18.3657772+03:00 0HL84SUKNKOJU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:18.3662774+03:00 0HL84SUKNKOJU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:18.3667775+03:00 0HL84SUKNKOJU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064581181270.9291600567591731\",
  \"Nonce\": \"N0.326476968037615171506458118127\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.326476968037615171506458118127\",
    \"state\": \"15064581181270.9291600567591731\"
  }
}" (9a175e33)
2017-09-26T23:35:18.3702828+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:35:18.3842897+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:18.3867912+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:35:18.3892930+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:35:18.3912944+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:35:18.3937978+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:18.3957972+03:00 0HL84SUKNKOJU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:35:18.4168147+03:00 0HL84SUKNKOJU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064581181270.9291600567591731\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:35:18.4178145+03:00 0HL84SUKNKOJU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:35:18.4188156+03:00 0HL84SUKNKOJU [INF] Request finished in 58.5216ms 302  (15c52c40)
2017-09-26T23:35:22.3434449+03:00 0HL84SUKNKOJV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:35:22.3459507+03:00 0HL84SUKNKOJV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:22.3459507+03:00 0HL84SUKNKOJV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:35:22.3469513+03:00 0HL84SUKNKOJV [INF] Request finished in 3.928ms 200 application/json (15c52c40)
2017-09-26T23:35:22.5951279+03:00 0HL84SUKNKOK0 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-26T23:35:22.5961290+03:00 0HL84SUKNKOK0 [INF] Request finished in 1.1265ms 204  (15c52c40)
2017-09-26T23:35:22.6451615+03:00 0HL84SUKNKOK1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:35:22.6481635+03:00 0HL84SUKNKOK1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:22.6486641+03:00 0HL84SUKNKOK1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:35:22.6501649+03:00 0HL84SUKNKOK2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-26T23:35:22.6561685+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:35:22.6561685+03:00 0HL84SUKNKOK2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-26T23:35:22.6561685+03:00 0HL84SUKNKOK2 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-26T23:35:22.6741804+03:00 0HL84SUKNKOK1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:35:22.6746813+03:00 0HL84SUKNKOK1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:35:22.6756816+03:00 0HL84SUKNKOK1 [INF] Request finished in 30.1201ms 200 application/json (15c52c40)
2017-09-26T23:35:22.6806849+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:35:22.6846872+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:22.6876900+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:35:22.6906912+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:35:22.6946942+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:35:22.6986965+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:35:22.7072027+03:00 0HL84SUKNKOK2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:35:22.7072027+03:00 0HL84SUKNKOK2 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-26T23:35:22.7077029+03:00 0HL84SUKNKOK2 [INF] Request finished in 58.9456ms 200 application/json (15c52c40)
2017-09-26T23:40:19.4627568+03:00 0HL84SUKNKOK3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.094107737812280771506458419450&state=15064584194500.5999298920485794   (e5be5b71)
2017-09-26T23:40:19.7529688+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:19.7539671+03:00 0HL84SUKNKOK3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:40:19.7549666+03:00 0HL84SUKNKOK3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:19.7559676+03:00 0HL84SUKNKOK3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:40:19.7569675+03:00 0HL84SUKNKOK3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:19.7599711+03:00 0HL84SUKNKOK3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:19.7599711+03:00 0HL84SUKNKOK3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064584194500.5999298920485794\",
  \"Nonce\": \"N0.094107737812280771506458419450\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.094107737812280771506458419450\",
    \"state\": \"15064584194500.5999298920485794\"
  }
}" (9a175e33)
2017-09-26T23:40:19.8029977+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (37ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:19.8271577+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:19.8301625+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:40:19.8341635+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:40:19.8401683+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:40:19.8421704+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:19.8471726+03:00 0HL84SUKNKOK3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:40:19.8631828+03:00 0HL84SUKNKOK3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064584194500.5999298920485794\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:40:19.8651841+03:00 0HL84SUKNKOK3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:19.8651841+03:00 0HL84SUKNKOK3 [INF] Request finished in 404.2482ms 302  (15c52c40)
2017-09-26T23:40:21.4605538+03:00 0HL84SUKNKOK4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63059494955697671506458421452&state=15064584214520.6600664825182594   (e5be5b71)
2017-09-26T23:40:21.4645560+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:21.4645560+03:00 0HL84SUKNKOK4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:40:21.4655563+03:00 0HL84SUKNKOK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:21.4655563+03:00 0HL84SUKNKOK4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:40:21.4655563+03:00 0HL84SUKNKOK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:21.4665570+03:00 0HL84SUKNKOK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:21.4665570+03:00 0HL84SUKNKOK4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064584214520.6600664825182594\",
  \"Nonce\": \"N0.63059494955697671506458421452\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63059494955697671506458421452\",
    \"state\": \"15064584214520.6600664825182594\"
  }
}" (9a175e33)
2017-09-26T23:40:21.4715607+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:21.4855700+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:21.4875709+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:40:21.4895726+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:40:21.4905733+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:40:21.4925742+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:21.4945756+03:00 0HL84SUKNKOK4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:40:21.5155943+03:00 0HL84SUKNKOK4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064584214520.6600664825182594\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:40:21.5165949+03:00 0HL84SUKNKOK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:21.5175956+03:00 0HL84SUKNKOK4 [INF] Request finished in 56.5626ms 302  (15c52c40)
2017-09-26T23:40:23.4686491+03:00 0HL84SUKNKOK5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81386337494064231506458423451&state=15064584234510.1899532870721956   (e5be5b71)
2017-09-26T23:40:23.4726517+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:23.4736524+03:00 0HL84SUKNKOK5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:40:23.4736524+03:00 0HL84SUKNKOK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:23.4736524+03:00 0HL84SUKNKOK5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:40:23.4746531+03:00 0HL84SUKNKOK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:23.4746531+03:00 0HL84SUKNKOK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:23.4756537+03:00 0HL84SUKNKOK5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064584234510.1899532870721956\",
  \"Nonce\": \"N0.81386337494064231506458423451\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81386337494064231506458423451\",
    \"state\": \"15064584234510.1899532870721956\"
  }
}" (9a175e33)
2017-09-26T23:40:23.4796564+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:23.4946656+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:23.4966673+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:40:23.4986682+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:40:23.5006700+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:40:23.5036719+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:23.5056729+03:00 0HL84SUKNKOK5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:40:23.6147520+03:00 0HL84SUKNKOK5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064584234510.1899532870721956\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:40:23.6157523+03:00 0HL84SUKNKOK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:23.6167533+03:00 0HL84SUKNKOK5 [INF] Request finished in 148.3813ms 302  (15c52c40)
2017-09-26T23:40:25.4775655+03:00 0HL84SUKNKOK6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67760919588868431506458425463&state=15064584254630.6251884600150281   (e5be5b71)
2017-09-26T23:40:25.4815677+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:25.4825688+03:00 0HL84SUKNKOK6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:40:25.4825688+03:00 0HL84SUKNKOK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:25.4835694+03:00 0HL84SUKNKOK6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:40:25.4835694+03:00 0HL84SUKNKOK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:25.4845705+03:00 0HL84SUKNKOK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:25.4845705+03:00 0HL84SUKNKOK6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064584254630.6251884600150281\",
  \"Nonce\": \"N0.67760919588868431506458425463\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67760919588868431506458425463\",
    \"state\": \"15064584254630.6251884600150281\"
  }
}" (9a175e33)
2017-09-26T23:40:25.4925754+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:25.5075858+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:25.5095871+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:40:25.5125883+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:40:25.5155907+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:40:25.5195934+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:25.5215947+03:00 0HL84SUKNKOK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:40:25.5416080+03:00 0HL84SUKNKOK6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064584254630.6251884600150281\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:40:25.5426086+03:00 0HL84SUKNKOK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:25.5446100+03:00 0HL84SUKNKOK6 [INF] Request finished in 66.9079ms 302  (15c52c40)
2017-09-26T23:40:27.9541691+03:00 0HL84SUKNKOK7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70726940501232451506458427451&state=15064584274510.9142832642076333   (e5be5b71)
2017-09-26T23:40:27.9571711+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:27.9576716+03:00 0HL84SUKNKOK7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:40:27.9581717+03:00 0HL84SUKNKOK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:27.9581717+03:00 0HL84SUKNKOK7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:40:27.9586722+03:00 0HL84SUKNKOK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:27.9596725+03:00 0HL84SUKNKOK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:27.9596725+03:00 0HL84SUKNKOK7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064584274510.9142832642076333\",
  \"Nonce\": \"N0.70726940501232451506458427451\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70726940501232451506458427451\",
    \"state\": \"15064584274510.9142832642076333\"
  }
}" (9a175e33)
2017-09-26T23:40:27.9636752+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:27.9811870+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:27.9831879+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:40:27.9856902+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:40:27.9881920+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:40:27.9906931+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:40:27.9926944+03:00 0HL84SUKNKOK7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:40:28.0137080+03:00 0HL84SUKNKOK7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064584274510.9142832642076333\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:40:28.0142085+03:00 0HL84SUKNKOK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:40:28.0152100+03:00 0HL84SUKNKOK7 [INF] Request finished in 61.4384ms 302  (15c52c40)
2017-09-26T23:40:32.5354623+03:00 0HL84SUKNKOK8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:40:32.5384666+03:00 0HL84SUKNKOK8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:32.5384666+03:00 0HL84SUKNKOK8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:40:32.5394653+03:00 0HL84SUKNKOK8 [INF] Request finished in 4.6405ms 200 application/json (15c52c40)
2017-09-26T23:40:33.0583199+03:00 0HL84SUKNKOK9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:40:33.0613219+03:00 0HL84SUKNKOK9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:33.0613219+03:00 0HL84SUKNKOK9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:40:33.0813351+03:00 0HL84SUKNKOK9 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:33.0818357+03:00 0HL84SUKNKOK9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:40:33.0828399+03:00 0HL84SUKNKOK9 [INF] Request finished in 24.756ms 200 application/json (15c52c40)
2017-09-26T23:40:34.4586870+03:00 0HL84SUKNKOKA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:40:34.4616894+03:00 0HL84SUKNKOKA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:40:34.4616894+03:00 0HL84SUKNKOKA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:40:34.4887066+03:00 0HL84SUKNKOKA [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:40:34.4887066+03:00 0HL84SUKNKOKA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:40:34.4897080+03:00 0HL84SUKNKOKA [INF] Request finished in 31.0904ms 200 application/json (15c52c40)
2017-09-26T23:43:43.1351365+03:00 0HL84SUKNKOKB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:43:43.1381421+03:00 0HL84SUKNKOKB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:43:43.1386426+03:00 0HL84SUKNKOKB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:43:43.1661662+03:00 0HL84SUKNKOKB [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:43:43.1661662+03:00 0HL84SUKNKOKB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:43:43.1671673+03:00 0HL84SUKNKOKB [INF] Request finished in 33.3483ms 200 application/json (15c52c40)
2017-09-26T23:43:45.0836057+03:00 0HL84SUKNKOKC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:43:45.0866077+03:00 0HL84SUKNKOKC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:43:45.0866077+03:00 0HL84SUKNKOKC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:43:45.1116278+03:00 0HL84SUKNKOKC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:43:45.1121284+03:00 0HL84SUKNKOKC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:43:45.1126289+03:00 0HL84SUKNKOKC [INF] Request finished in 30.0783ms 200 application/json (15c52c40)
2017-09-26T23:43:57.4269686+03:00 0HL84SUKNKOKD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:43:57.4294700+03:00 0HL84SUKNKOKD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:43:57.4294700+03:00 0HL84SUKNKOKD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:43:57.4444906+03:00 0HL84SUKNKOKD [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:43:57.4454913+03:00 0HL84SUKNKOKD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:43:57.4454913+03:00 0HL84SUKNKOKD [INF] Request finished in 19.2881ms 200 application/json (15c52c40)
2017-09-26T23:43:59.6313097+03:00 0HL84SUKNKOKE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:43:59.6343117+03:00 0HL84SUKNKOKE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:43:59.6343117+03:00 0HL84SUKNKOKE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:43:59.6563311+03:00 0HL84SUKNKOKE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:43:59.6563311+03:00 0HL84SUKNKOKE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:43:59.6573310+03:00 0HL84SUKNKOKE [INF] Request finished in 26.5624ms 200 application/json (15c52c40)
2017-09-26T23:44:14.7136141+03:00 0HL84SUKNKOKF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:44:14.7176175+03:00 0HL84SUKNKOKF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:44:14.7176175+03:00 0HL84SUKNKOKF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:44:14.7406324+03:00 0HL84SUKNKOKF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:44:14.7406324+03:00 0HL84SUKNKOKF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:44:14.7416335+03:00 0HL84SUKNKOKF [INF] Request finished in 28.7567ms 200 application/json (15c52c40)
2017-09-26T23:44:17.9384920+03:00 0HL84SUKNKOKG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:44:17.9414932+03:00 0HL84SUKNKOKG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:44:17.9414932+03:00 0HL84SUKNKOKG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:44:17.9585057+03:00 0HL84SUKNKOKG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:44:17.9595055+03:00 0HL84SUKNKOKG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:44:17.9595055+03:00 0HL84SUKNKOKG [INF] Request finished in 21.2807ms 200 application/json (15c52c40)
2017-09-26T23:44:18.9546112+03:00 0HL84SUKNKOKH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:44:18.9576132+03:00 0HL84SUKNKOKH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:44:18.9576132+03:00 0HL84SUKNKOKH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:44:18.9836308+03:00 0HL84SUKNKOKH [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:44:18.9866328+03:00 0HL84SUKNKOKH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:44:18.9896348+03:00 0HL84SUKNKOKH [INF] Request finished in 32.8249ms 200 application/json (15c52c40)
2017-09-26T23:45:29.4968398+03:00 0HL84SUKNKOKI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9436878848660321506458729487&state=15064587294870.0909452734150944   (e5be5b71)
2017-09-26T23:45:29.5028438+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:45:29.5098476+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:45:29.5312417+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:45:29.5342461+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:45:29.5397491+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:45:29.5427504+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:45:29.5432509+03:00 0HL84SUKNKOKI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:45:29.5432509+03:00 0HL84SUKNKOKI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:45:29.5432509+03:00 0HL84SUKNKOKI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:45:29.5444383+03:00 0HL84SUKNKOKI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:45:29.5444383+03:00 0HL84SUKNKOKI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:45:29.5444383+03:00 0HL84SUKNKOKI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064587294870.0909452734150944\",
  \"Nonce\": \"N0.9436878848660321506458729487\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9436878848660321506458729487\",
    \"state\": \"15064587294870.0909452734150944\"
  }
}" (9a175e33)
2017-09-26T23:45:29.5534462+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:45:29.5554460+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:45:29.5574477+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:45:29.5584499+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:45:29.5594498+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:45:29.5624518+03:00 0HL84SUKNKOKI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:45:29.5744610+03:00 0HL84SUKNKOKI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064587294870.0909452734150944\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:45:29.5754592+03:00 0HL84SUKNKOKI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:45:29.5764603+03:00 0HL84SUKNKOKI [INF] Request finished in 81.1753ms 302  (15c52c40)
2017-09-26T23:45:34.0288084+03:00 0HL84SUKNKOKJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:45:34.0318103+03:00 0HL84SUKNKOKJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:45:34.0318103+03:00 0HL84SUKNKOKJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:45:34.0328110+03:00 0HL84SUKNKOKJ [INF] Request finished in 3.6671ms 200 application/json (15c52c40)
2017-09-26T23:45:34.3445332+03:00 0HL84SUKNKOKK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:45:34.3480353+03:00 0HL84SUKNKOKK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:45:34.3480353+03:00 0HL84SUKNKOKK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:45:34.3715511+03:00 0HL84SUKNKOKK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:45:34.3720516+03:00 0HL84SUKNKOKK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:45:34.3730523+03:00 0HL84SUKNKOKK [INF] Request finished in 28.7796ms 200 application/json (15c52c40)
2017-09-26T23:45:34.8994073+03:00 0HL84SUKNKOKL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:45:34.9024096+03:00 0HL84SUKNKOKL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:45:34.9024096+03:00 0HL84SUKNKOKL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:45:34.9219260+03:00 0HL84SUKNKOKL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:45:34.9224261+03:00 0HL84SUKNKOKL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:45:34.9234271+03:00 0HL84SUKNKOKL [INF] Request finished in 23.3105ms 200 application/json (15c52c40)
2017-09-26T23:50:30.4633718+03:00 0HL84SUKNKOKM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33509170436236671506459030447&state=15064590304470.9726129138079762   (e5be5b71)
2017-09-26T23:50:30.6982552+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:30.6987577+03:00 0HL84SUKNKOKM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:50:30.6992574+03:00 0HL84SUKNKOKM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:30.6992574+03:00 0HL84SUKNKOKM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:50:30.6997575+03:00 0HL84SUKNKOKM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:30.7002577+03:00 0HL84SUKNKOKM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:30.7007578+03:00 0HL84SUKNKOKM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064590304470.9726129138079762\",
  \"Nonce\": \"N0.33509170436236671506459030447\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.33509170436236671506459030447\",
    \"state\": \"15064590304470.9726129138079762\"
  }
}" (9a175e33)
2017-09-26T23:50:30.7217714+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:30.7382817+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:50:30.7417839+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:50:30.7452860+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:50:30.7492883+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:50:30.7512900+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:50:30.7567942+03:00 0HL84SUKNKOKM [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:50:30.7718042+03:00 0HL84SUKNKOKM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064590304470.9726129138079762\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:50:30.7723039+03:00 0HL84SUKNKOKM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:30.7733046+03:00 0HL84SUKNKOKM [INF] Request finished in 311.13ms 302  (15c52c40)
2017-09-26T23:50:33.9964445+03:00 0HL84SUKNKOKN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69254065202524911506459033855&state=15064590338550.4062699922430437   (e5be5b71)
2017-09-26T23:50:33.9994465+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:33.9999470+03:00 0HL84SUKNKOKN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:50:34.0004475+03:00 0HL84SUKNKOKN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:34.0009476+03:00 0HL84SUKNKOKN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:50:34.0014478+03:00 0HL84SUKNKOKN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:34.0019483+03:00 0HL84SUKNKOKN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:34.0019483+03:00 0HL84SUKNKOKN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064590338550.4062699922430437\",
  \"Nonce\": \"N0.69254065202524911506459033855\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69254065202524911506459033855\",
    \"state\": \"15064590338550.4062699922430437\"
  }
}" (9a175e33)
2017-09-26T23:50:34.0069520+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:34.0194593+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:50:34.0214611+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:50:34.0244635+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:50:34.0259647+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:50:34.0274651+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:50:34.0289659+03:00 0HL84SUKNKOKN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:50:34.0444764+03:00 0HL84SUKNKOKN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064590338550.4062699922430437\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:50:34.0449769+03:00 0HL84SUKNKOKN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:50:34.0459775+03:00 0HL84SUKNKOKN [INF] Request finished in 50.0509ms 302  (15c52c40)
2017-09-26T23:50:38.0641454+03:00 0HL84SUKNKOKO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:50:38.0666469+03:00 0HL84SUKNKOKO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:38.0671474+03:00 0HL84SUKNKOKO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:50:38.0676479+03:00 0HL84SUKNKOKO [INF] Request finished in 3.7816ms 200 application/json (15c52c40)
2017-09-26T23:50:38.7010681+03:00 0HL84SUKNKOKP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:50:38.7040713+03:00 0HL84SUKNKOKP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:38.7040713+03:00 0HL84SUKNKOKP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:50:38.7250844+03:00 0HL84SUKNKOKP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:38.7255846+03:00 0HL84SUKNKOKP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:50:38.7260851+03:00 0HL84SUKNKOKP [INF] Request finished in 25.0454ms 200 application/json (15c52c40)
2017-09-26T23:50:39.5241147+03:00 0HL84SUKNKOKQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:50:39.5331203+03:00 0HL84SUKNKOKQ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:39.5331203+03:00 0HL84SUKNKOKQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:50:39.5606384+03:00 0HL84SUKNKOKQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:39.5611393+03:00 0HL84SUKNKOKQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:50:39.5621400+03:00 0HL84SUKNKOKQ [INF] Request finished in 38.7278ms 200 application/json (15c52c40)
2017-09-26T23:50:51.8264168+03:00 0HL84SUKNKOKR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:50:51.8284185+03:00 0HL84SUKNKOKR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:51.8294188+03:00 0HL84SUKNKOKR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:50:51.8474315+03:00 0HL84SUKNKOKR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:51.8484318+03:00 0HL84SUKNKOKR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:50:51.8514338+03:00 0HL84SUKNKOKR [INF] Request finished in 22.9094ms 200 application/json (15c52c40)
2017-09-26T23:50:53.5550031+03:00 0HL84SUKNKOKS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:50:53.5585048+03:00 0HL84SUKNKOKS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:50:53.5585048+03:00 0HL84SUKNKOKS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:50:53.5745735+03:00 0HL84SUKNKOKS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:50:53.5755741+03:00 0HL84SUKNKOKS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:50:53.5755741+03:00 0HL84SUKNKOKS [INF] Request finished in 21.473ms 200 application/json (15c52c40)
2017-09-26T23:55:36.4589705+03:00 0HL84SUKNKOKT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32419019378968051506459336448&state=15064593364480.2559161124664333   (e5be5b71)
2017-09-26T23:55:36.6894371+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:36.6899376+03:00 0HL84SUKNKOKT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:55:36.6909383+03:00 0HL84SUKNKOKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:36.6909383+03:00 0HL84SUKNKOKT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:55:36.6914384+03:00 0HL84SUKNKOKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:36.6919389+03:00 0HL84SUKNKOKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:36.6919389+03:00 0HL84SUKNKOKT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064593364480.2559161124664333\",
  \"Nonce\": \"N0.32419019378968051506459336448\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32419019378968051506459336448\",
    \"state\": \"15064593364480.2559161124664333\"
  }
}" (9a175e33)
2017-09-26T23:55:36.7684588+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (73ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:36.7819403+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:55:36.7854417+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:55:36.7894447+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:55:36.7949497+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:55:36.7969507+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:55:36.7999523+03:00 0HL84SUKNKOKT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:55:36.8149634+03:00 0HL84SUKNKOKT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064593364480.2559161124664333\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:55:36.8159621+03:00 0HL84SUKNKOKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:36.8164626+03:00 0HL84SUKNKOKT [INF] Request finished in 358.2504ms 302  (15c52c40)
2017-09-26T23:55:40.6902593+03:00 0HL84SUKNKOKU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.013080527189475611506459340532&state=15064593405320.5895419314998132   (e5be5b71)
2017-09-26T23:55:40.6937619+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:40.6942624+03:00 0HL84SUKNKOKU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-26T23:55:40.6947617+03:00 0HL84SUKNKOKU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:40.6947617+03:00 0HL84SUKNKOKU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-26T23:55:40.6952630+03:00 0HL84SUKNKOKU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:40.6957636+03:00 0HL84SUKNKOKU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:40.6962633+03:00 0HL84SUKNKOKU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15064593405320.5895419314998132\",
  \"Nonce\": \"N0.013080527189475611506459340532\",
  \"SessionId\": \"14603102806999e6da06ac78cb4d599f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.013080527189475611506459340532\",
    \"state\": \"15064593405320.5895419314998132\"
  }
}" (9a175e33)
2017-09-26T23:55:40.7127745+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:40.7317867+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:55:40.7337880+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-26T23:55:40.7357894+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-26T23:55:40.7387925+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-26T23:55:40.7427940+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-26T23:55:40.7457964+03:00 0HL84SUKNKOKU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-26T23:55:40.7713131+03:00 0HL84SUKNKOKU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15064593405320.5895419314998132\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-26T23:55:40.7723138+03:00 0HL84SUKNKOKU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-26T23:55:40.7738150+03:00 0HL84SUKNKOKU [INF] Request finished in 83.9294ms 302  (15c52c40)
2017-09-26T23:55:44.8509783+03:00 0HL84SUKNKOKV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-26T23:55:44.8559804+03:00 0HL84SUKNKOKV [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:44.8564801+03:00 0HL84SUKNKOKV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-26T23:55:44.8579813+03:00 0HL84SUKNKOKV [INF] Request finished in 6.2629ms 200 application/json (15c52c40)
2017-09-26T23:55:45.1636837+03:00 0HL84SUKNKOL0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:45.1681869+03:00 0HL84SUKNKOL0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:45.1686878+03:00 0HL84SUKNKOL0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:45.1977063+03:00 0HL84SUKNKOL0 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:45.1987070+03:00 0HL84SUKNKOL0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:45.1992075+03:00 0HL84SUKNKOL0 [INF] Request finished in 46.4276ms 200 application/json (15c52c40)
2017-09-26T23:55:48.2482317+03:00 0HL84SUKNKOL1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:48.2502331+03:00 0HL84SUKNKOL1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:48.2502331+03:00 0HL84SUKNKOL1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:48.2687456+03:00 0HL84SUKNKOL1 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:48.2692453+03:00 0HL84SUKNKOL1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:48.2702460+03:00 0HL84SUKNKOL1 [INF] Request finished in 22.1405ms 200 application/json (15c52c40)
2017-09-26T23:55:49.2819188+03:00 0HL84SUKNKOL2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:49.2849200+03:00 0HL84SUKNKOL2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:49.2849200+03:00 0HL84SUKNKOL2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:49.3099362+03:00 0HL84SUKNKOL2 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:49.3104367+03:00 0HL84SUKNKOL2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:49.3109373+03:00 0HL84SUKNKOL2 [INF] Request finished in 29.4882ms 200 application/json (15c52c40)
2017-09-26T23:55:51.3437867+03:00 0HL84SUKNKOL3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:51.3467887+03:00 0HL84SUKNKOL3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:51.3467887+03:00 0HL84SUKNKOL3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:51.3703045+03:00 0HL84SUKNKOL3 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:51.3708050+03:00 0HL84SUKNKOL3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:51.3718053+03:00 0HL84SUKNKOL3 [INF] Request finished in 28.4066ms 200 application/json (15c52c40)
2017-09-26T23:55:53.7408890+03:00 0HL84SUKNKOL4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:53.7428899+03:00 0HL84SUKNKOL4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:53.7438914+03:00 0HL84SUKNKOL4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:53.7599032+03:00 0HL84SUKNKOL4 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:53.7609015+03:00 0HL84SUKNKOL4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:53.7609015+03:00 0HL84SUKNKOL4 [INF] Request finished in 20.9736ms 200 application/json (15c52c40)
2017-09-26T23:55:54.3680991+03:00 0HL84SUKNKOL5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-26T23:55:54.3731032+03:00 0HL84SUKNKOL5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-26T23:55:54.3731032+03:00 0HL84SUKNKOL5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-26T23:55:54.3986231+03:00 0HL84SUKNKOL5 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-26T23:55:54.3996238+03:00 0HL84SUKNKOL5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-26T23:55:54.4091307+03:00 0HL84SUKNKOL5 [INF] Request finished in 32.6733ms 200 application/json (15c52c40)
