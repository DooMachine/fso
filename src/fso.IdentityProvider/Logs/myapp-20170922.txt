2017-09-22T00:39:35.1740463+03:00 0HL80CLR6BBFH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:39:42.1887133+03:00 0HL80CLR6BBFH [INF] Executed DbCommand (489ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:39:42.1897139+03:00 0HL80CLR6BBFH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:39:42.1937166+03:00 0HL80CLR6BBFH [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"7fa3493825b10f120528a7e041e6ac3d680c4827ee42d203b4ddc4f46dbc9af1\"
}" (c9724191)
2017-09-22T00:39:42.1937166+03:00 0HL80CLR6BBFH [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:39:42.1947176+03:00 0HL80CLR6BBFH [INF] Request finished in 7024.8902ms 200 application/json (15c52c40)
2017-09-22T00:39:53.8981511+03:00 0HL80CLR6BBFI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T00:39:53.9046556+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:39:54.0557556+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (141ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:39:54.0687646+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:39:54.0737675+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:39:54.0822738+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:39:54.0892780+03:00 0HL80CLR6BBFI [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:39:54.0907792+03:00 0HL80CLR6BBFI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:39:54.0912793+03:00 0HL80CLR6BBFI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:39:54.0917795+03:00 0HL80CLR6BBFI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T00:39:54.0947815+03:00 0HL80CLR6BBFI [INF] Request finished in 198.3446ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T00:39:54.4325055+03:00 0HL80CLR6BBFJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:39:54.4380093+03:00 0HL80CLR6BBFJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:39:54.4380093+03:00 0HL80CLR6BBFJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:39:54.4395109+03:00 0HL80CLR6BBFJ [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"7fa3493825b10f120528a7e041e6ac3d680c4827ee42d203b4ddc4f46dbc9af1\"
}" (c9724191)
2017-09-22T00:39:54.4400115+03:00 0HL80CLR6BBFJ [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:39:54.4410113+03:00 0HL80CLR6BBFJ [INF] Request finished in 13.142ms 200 application/json (15c52c40)
2017-09-22T00:39:54.6566547+03:00 0HL80CLR6BBFK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:39:54.6601568+03:00 0HL80CLR6BBFK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:39:54.6601568+03:00 0HL80CLR6BBFK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:39:54.6616580+03:00 0HL80CLR6BBFK [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"7fa3493825b10f120528a7e041e6ac3d680c4827ee42d203b4ddc4f46dbc9af1\"
}" (c9724191)
2017-09-22T00:39:54.6616580+03:00 0HL80CLR6BBFK [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:39:54.6621581+03:00 0HL80CLR6BBFK [INF] Request finished in 5.6333ms 200 application/json (15c52c40)
2017-09-22T00:42:36.2034157+03:00 0HL80CLR6BBFL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:42:36.2074188+03:00 0HL80CLR6BBFL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:36.2074188+03:00 0HL80CLR6BBFL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:42:36.2084186+03:00 0HL80CLR6BBFL [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"7fa3493825b10f120528a7e041e6ac3d680c4827ee42d203b4ddc4f46dbc9af1\"
}" (c9724191)
2017-09-22T00:42:36.2084186+03:00 0HL80CLR6BBFL [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:42:36.2094197+03:00 0HL80CLR6BBFL [INF] Request finished in 6.8372ms 200 application/json (15c52c40)
2017-09-22T00:42:37.2190596+03:00 0HL80CLR6BBFM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImEwOTVkZmM4ZDQyZTMxMzEwMGI5NzVkMGUwNmU2OWNmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYwMjM2NDcsImV4cCI6MTUwNjAyMzk0NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjIyMjYzMTY2OTYxNTAxMDgxNTA2MDIzNjQ2OTczIiwiaWF0IjoxNTA2MDIzNjQ3LCJhdF9oYXNoIjoiSnp0WDdBb2FfRTFlTjhzWU9iMWR5USIsInNpZCI6IjU4MTVmZjQ1OGE0ZmI4NzcwMjIzMDg5MWY2ZmQxOTA0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1ODYwMjI0LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.o4Wgmobwx98lZKG5X221jDvWx8dr5TrTYz_vzIjX18YuohhvY4vaUOlkFgWBZY5Pj2XTCtaMqtsz4SO_O7tziO-LLYq_pRdtgYdX7AOthWLlmzkKaTEWo0xed-tJua6ILBBvDiFiw0BrC9GbLJoR1TqmE40R-p2FS3q3XhnHOO-jgzc07iZfoPLAoKSPEKmVAqEbShyNX95F4dHSrKy_aSUMQrJerKZRuXBHnShVF8QOt3Y1jf7YbD6ZvdAZ_5jLTj7DrDLkXWfsgKsiOtrmVBdhB5-V8YRNaJFvX_hjfsIOS8Dscgg2xRQGpj_n0dvJUCv_MKGJfPXzu9d3-Utd0w&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-22T00:42:37.2225610+03:00 0HL80CLR6BBFM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:37.2235605+03:00 0HL80CLR6BBFM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:42:37.2235605+03:00 0HL80CLR6BBFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.2240610+03:00 0HL80CLR6BBFM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-22T00:42:37.2250616+03:00 0HL80CLR6BBFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.2861030+03:00 0HL80CLR6BBFM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:37.2916064+03:00 0HL80CLR6BBFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.2941079+03:00 0HL80CLR6BBFM [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6ImEwOTVkZmM4ZDQyZTMxMzEwMGI5NzVkMGUwNmU2OWNmIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYwMjM2NDcsImV4cCI6MTUwNjAyMzk0NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjIyMjYzMTY2OTYxNTAxMDgxNTA2MDIzNjQ2OTczIiwiaWF0IjoxNTA2MDIzNjQ3LCJhdF9oYXNoIjoiSnp0WDdBb2FfRTFlTjhzWU9iMWR5USIsInNpZCI6IjU4MTVmZjQ1OGE0ZmI4NzcwMjIzMDg5MWY2ZmQxOTA0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1ODYwMjI0LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.o4Wgmobwx98lZKG5X221jDvWx8dr5TrTYz_vzIjX18YuohhvY4vaUOlkFgWBZY5Pj2XTCtaMqtsz4SO_O7tziO-LLYq_pRdtgYdX7AOthWLlmzkKaTEWo0xed-tJua6ILBBvDiFiw0BrC9GbLJoR1TqmE40R-p2FS3q3XhnHOO-jgzc07iZfoPLAoKSPEKmVAqEbShyNX95F4dHSrKy_aSUMQrJerKZRuXBHnShVF8QOt3Y1jf7YbD6ZvdAZ_5jLTj7DrDLkXWfsgKsiOtrmVBdhB5-V8YRNaJFvX_hjfsIOS8Dscgg2xRQGpj_n0dvJUCv_MKGJfPXzu9d3-Utd0w\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-22T00:42:37.3371361+03:00 0HL80CLR6BBFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.3376366+03:00 0HL80CLR6BBFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.3431400+03:00 0HL80CLR6BBFM [INF] Request finished in 126.9083ms 302  (15c52c40)
2017-09-22T00:42:37.3456419+03:00 0HL80CLR6BBFN [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=b265c304a10e1f47c09b93b63acfadd9   (e5be5b71)
2017-09-22T00:42:37.3481442+03:00 0HL80CLR6BBFN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:37.3491444+03:00 0HL80CLR6BBFN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:42:37.3491444+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.4031803+03:00 0HL80CLR6BBFN [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["b265c304a10e1f47c09b93b63acfadd9"]) - ModelState is Valid (ba7f4ac2)
2017-09-22T00:42:37.4512122+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.4527134+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.4967426+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-22T00:42:37.4972423+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-22T00:42:37.4977429+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-22T00:42:37.4987431+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.4992449+03:00 0HL80CLR6BBFN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.6828662+03:00 0HL80CLR6BBFN [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-22T00:42:37.6893711+03:00 0HL80CLR6BBFO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85835272976309041506030157679&state=15060301576790.0006187176269489836   (e5be5b71)
2017-09-22T00:42:37.6938727+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:37.6943736+03:00 0HL80CLR6BBFO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:42:37.6948738+03:00 0HL80CLR6BBFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.6953743+03:00 0HL80CLR6BBFO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:42:37.6958744+03:00 0HL80CLR6BBFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.6968751+03:00 0HL80CLR6BBFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.6973756+03:00 0HL80CLR6BBFO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060301576790.0006187176269489836\",
  \"Nonce\": \"N0.85835272976309041506030157679\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85835272976309041506030157679\",
    \"state\": \"15060301576790.0006187176269489836\"
  }
}" (9a175e33)
2017-09-22T00:42:37.7073819+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:37.7158877+03:00  [INF] Connection id ""0HL80CKUC2U6C"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-22T00:42:37.7203913+03:00 0HL80CLR6BBFN [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 355.7332ms (afa2e885)
2017-09-22T00:42:37.7218921+03:00 0HL80CLR6BBFN [INF] Request finished in 375.9501ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-22T00:42:37.7263941+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:42:37.7283962+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:42:37.7313986+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:42:37.7333991+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:42:37.7374022+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:42:37.7424051+03:00 0HL80CLR6BBFO [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:42:37.7639204+03:00 0HL80CLR6BBFO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060301576790.0006187176269489836\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:42:37.7644201+03:00 0HL80CLR6BBFO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:37.7654208+03:00 0HL80CLR6BBFO [INF] Request finished in 77.6945ms 302  (15c52c40)
2017-09-22T00:42:41.0656114+03:00 0HL80CLR6BBFP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T00:42:41.0686134+03:00 0HL80CLR6BBFP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:41.0691139+03:00 0HL80CLR6BBFP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:42:41.0696141+03:00 0HL80CLR6BBFP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:42:41.0696141+03:00 0HL80CLR6BBFP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T00:42:41.0706151+03:00 0HL80CLR6BBFP [INF] Request finished in 5.2642ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T00:42:41.0921296+03:00 0HL80CLR6BBFQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:42:41.0951308+03:00 0HL80CLR6BBFQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:41.0951308+03:00 0HL80CLR6BBFQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:42:41.0961319+03:00 0HL80CLR6BBFQ [INF] Request finished in 3.9955ms 200 application/json (15c52c40)
2017-09-22T00:42:41.1806886+03:00 0HL80CLR6BBFR [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T00:42:41.1816885+03:00 0HL80CLR6BBFR [INF] Request finished in 1.0819ms 204  (15c52c40)
2017-09-22T00:42:41.2022054+03:00 0HL80CLR6BBFS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T00:42:41.2122085+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:41.2127091+03:00 0HL80CLR6BBFS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T00:42:41.2127091+03:00 0HL80CLR6BBFS [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T00:42:41.2612415+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:41.2927626+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:42:41.2997673+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:42:41.3072716+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:42:41.3102740+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:42:41.3137762+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:42:41.3167782+03:00 0HL80CLR6BBFS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:42:41.3167782+03:00 0HL80CLR6BBFS [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T00:42:41.3447968+03:00 0HL80CLR6BBFS [INF] Request finished in 123.8048ms 200 application/json (15c52c40)
2017-09-22T00:42:41.3623094+03:00 0HL80CLR6BBFT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:42:41.3668118+03:00 0HL80CLR6BBFT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:41.3668118+03:00 0HL80CLR6BBFT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:42:41.3908269+03:00 0HL80CLR6BBFT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:41.3913275+03:00 0HL80CLR6BBFT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:42:41.3918280+03:00 0HL80CLR6BBFT [INF] Request finished in 42.5319ms 200 application/json (15c52c40)
2017-09-22T00:42:42.5837128+03:00 0HL80CLR6BBFU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:42:42.5982226+03:00 0HL80CLR6BBFU [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:42.5987227+03:00 0HL80CLR6BBFU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:42:42.6812777+03:00 0HL80CLR6BBFU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:42.6822780+03:00 0HL80CLR6BBFU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:42:42.7047932+03:00 0HL80CLR6BBFU [INF] Request finished in 101.0438ms 200 application/json (15c52c40)
2017-09-22T00:42:44.7906782+03:00 0HL80CLR6BBFV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:42:44.7936802+03:00 0HL80CLR6BBFV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:44.7936802+03:00 0HL80CLR6BBFV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:42:44.8236997+03:00 0HL80CLR6BBFV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:44.8247004+03:00 0HL80CLR6BBFV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:42:44.8252009+03:00 0HL80CLR6BBFV [INF] Request finished in 34.9123ms 200 application/json (15c52c40)
2017-09-22T00:42:49.5291728+03:00 0HL80CLR6BBG0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:42:49.5341757+03:00 0HL80CLR6BBG0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:42:49.5346771+03:00 0HL80CLR6BBG0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:42:49.5892127+03:00 0HL80CLR6BBG0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:42:49.5897136+03:00 0HL80CLR6BBG0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:42:49.5907135+03:00 0HL80CLR6BBG0 [INF] Request finished in 63.225ms 200 application/json (15c52c40)
2017-09-22T00:47:37.5039975+03:00 0HL80CLR6BBG1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.07846940811901271506030457487&state=15060304574870.491241548294185   (e5be5b71)
2017-09-22T00:47:37.7996751+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:37.8001768+03:00 0HL80CLR6BBG1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:47:37.8006750+03:00 0HL80CLR6BBG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:37.8011755+03:00 0HL80CLR6BBG1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:47:37.8016776+03:00 0HL80CLR6BBG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:37.8026771+03:00 0HL80CLR6BBG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:37.8031820+03:00 0HL80CLR6BBG1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060304574870.491241548294185\",
  \"Nonce\": \"N0.07846940811901271506030457487\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.07846940811901271506030457487\",
    \"state\": \"15060304574870.491241548294185\"
  }
}" (9a175e33)
2017-09-22T00:47:37.8341793+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (28ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:47:37.8496886+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:37.8546923+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:47:37.8606986+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:47:37.8646997+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:47:37.8667003+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:37.8717036+03:00 0HL80CLR6BBG1 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:47:37.8922190+03:00 0HL80CLR6BBG1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060304574870.491241548294185\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:47:37.8932192+03:00 0HL80CLR6BBG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:37.8937186+03:00 0HL80CLR6BBG1 [INF] Request finished in 391.4452ms 302  (15c52c40)
2017-09-22T00:47:42.1284346+03:00 0HL80CLR6BBG2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:47:42.1324368+03:00 0HL80CLR6BBG2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:42.1324368+03:00 0HL80CLR6BBG2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:47:42.1334379+03:00 0HL80CLR6BBG2 [INF] Request finished in 5.0435ms 200 application/json (15c52c40)
2017-09-22T00:47:42.5282006+03:00 0HL80CLR6BBG3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:47:42.5312014+03:00 0HL80CLR6BBG3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:42.5317019+03:00 0HL80CLR6BBG3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:47:42.5387074+03:00 0HL80CLR6BBG4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40645694472579951506030462352&state=15060304623520.46811348438182954   (e5be5b71)
2017-09-22T00:47:42.5417090+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:42.5427088+03:00 0HL80CLR6BBG4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:47:42.5427088+03:00 0HL80CLR6BBG4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:42.5432101+03:00 0HL80CLR6BBG4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:47:42.5437103+03:00 0HL80CLR6BBG4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:42.5447113+03:00 0HL80CLR6BBG4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:42.5447113+03:00 0HL80CLR6BBG4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060304623520.46811348438182954\",
  \"Nonce\": \"N0.40645694472579951506030462352\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40645694472579951506030462352\",
    \"state\": \"15060304623520.46811348438182954\"
  }
}" (9a175e33)
2017-09-22T00:47:42.5497143+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:47:42.5617226+03:00 0HL80CLR6BBG3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:47:42.5622232+03:00 0HL80CLR6BBG3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:47:42.5797338+03:00 0HL80CLR6BBG3 [INF] Request finished in 34.5866ms 200 application/json (15c52c40)
2017-09-22T00:47:42.5807345+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:42.5827362+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:47:42.5862391+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:47:42.5957448+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:47:42.5987460+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:42.6077528+03:00 0HL80CLR6BBG4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:47:42.6357730+03:00 0HL80CLR6BBG4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060304623520.46811348438182954\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:47:42.6402750+03:00 0HL80CLR6BBG4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:47:42.6432762+03:00 0HL80CLR6BBG4 [INF] Request finished in 106.3356ms 302  (15c52c40)
2017-09-22T00:47:46.5625488+03:00 0HL80CLR6BBG5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:47:46.5665503+03:00 0HL80CLR6BBG5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:46.5670516+03:00 0HL80CLR6BBG5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:47:46.5690525+03:00 0HL80CLR6BBG5 [INF] Request finished in 5.3601ms 200 application/json (15c52c40)
2017-09-22T00:47:46.8107128+03:00 0HL80CLR6BBG6 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T00:47:46.8112129+03:00 0HL80CLR6BBG6 [INF] Request finished in 0.9509ms 204  (15c52c40)
2017-09-22T00:47:46.8562428+03:00 0HL80CLR6BBG7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:47:46.8617471+03:00 0HL80CLR6BBG7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:46.8617471+03:00 0HL80CLR6BBG7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:47:46.8897649+03:00 0HL80CLR6BBG7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:47:46.8902658+03:00 0HL80CLR6BBG7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:47:46.8922667+03:00 0HL80CLR6BBG7 [INF] Request finished in 34.9786ms 200 application/json (15c52c40)
2017-09-22T00:47:47.3345608+03:00 0HL80CLR6BBG8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T00:47:47.3405644+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:47:47.3405644+03:00 0HL80CLR6BBG8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T00:47:47.3405644+03:00 0HL80CLR6BBG8 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T00:47:47.3690843+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:47:47.4546405+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:47.4706507+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:47:47.4991699+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:47:47.5472017+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (32ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:47:47.5507047+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:47:47.5572084+03:00 0HL80CLR6BBG8 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:47:47.5577089+03:00 0HL80CLR6BBG8 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T00:47:47.5672150+03:00 0HL80CLR6BBG8 [INF] Request finished in 226.0336ms 200 application/json (15c52c40)
2017-09-22T00:50:31.6216796+03:00 0HL80CLR6BBG9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:50:31.6256823+03:00 0HL80CLR6BBG9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:50:31.6256823+03:00 0HL80CLR6BBG9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:50:31.6552017+03:00 0HL80CLR6BBG9 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:50:31.6562031+03:00 0HL80CLR6BBG9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:50:31.6567029+03:00 0HL80CLR6BBG9 [INF] Request finished in 35.2115ms 200 application/json (15c52c40)
2017-09-22T00:50:34.2719389+03:00 0HL80CLR6BBGA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:50:34.2744400+03:00 0HL80CLR6BBGA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:50:34.2749409+03:00 0HL80CLR6BBGA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:50:34.2999579+03:00 0HL80CLR6BBGA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:50:34.3009586+03:00 0HL80CLR6BBGA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:50:34.3039602+03:00 0HL80CLR6BBGA [INF] Request finished in 30.1971ms 200 application/json (15c52c40)
2017-09-22T00:50:46.7032371+03:00 0HL80CLR6BBGB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:50:46.7487671+03:00 0HL80CLR6BBGB [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:50:46.7492677+03:00 0HL80CLR6BBGB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:50:46.8043038+03:00 0HL80CLR6BBGB [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:50:46.8048047+03:00 0HL80CLR6BBGB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:50:46.8083065+03:00 0HL80CLR6BBGB [INF] Request finished in 154.9079ms 200 application/json (15c52c40)
2017-09-22T00:50:47.6333552+03:00 0HL80CLR6BBGC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:50:47.6373567+03:00 0HL80CLR6BBGC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:50:47.6378572+03:00 0HL80CLR6BBGC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:50:47.6678767+03:00 0HL80CLR6BBGC [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:50:47.6688778+03:00 0HL80CLR6BBGC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:50:47.6703786+03:00 0HL80CLR6BBGC [INF] Request finished in 36.8418ms 200 application/json (15c52c40)
2017-09-22T00:52:43.5131835+03:00 0HL80CLR6BBGD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.103148827741800451506030763479&state=15060307634790.20510498337156569   (e5be5b71)
2017-09-22T00:52:43.5166868+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:43.5171862+03:00 0HL80CLR6BBGD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:43.5176863+03:00 0HL80CLR6BBGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:43.5176863+03:00 0HL80CLR6BBGD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:43.5181860+03:00 0HL80CLR6BBGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:43.5191895+03:00 0HL80CLR6BBGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:43.5196888+03:00 0HL80CLR6BBGD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307634790.20510498337156569\",
  \"Nonce\": \"N0.103148827741800451506030763479\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.103148827741800451506030763479\",
    \"state\": \"15060307634790.20510498337156569\"
  }
}" (9a175e33)
2017-09-22T00:52:43.5236907+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:43.5597134+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:43.5612154+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:43.5637161+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:43.5657174+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:43.5687198+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:43.5717214+03:00 0HL80CLR6BBGD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:43.5952380+03:00 0HL80CLR6BBGD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307634790.20510498337156569\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:43.5957381+03:00 0HL80CLR6BBGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:43.5967392+03:00 0HL80CLR6BBGD [INF] Request finished in 83.8533ms 302  (15c52c40)
2017-09-22T00:52:45.5711703+03:00 0HL80CLR6BBGE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69396047122520741506030765478&state=15060307654780.9540889255147773   (e5be5b71)
2017-09-22T00:52:45.5751730+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:45.5756731+03:00 0HL80CLR6BBGE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:45.5761733+03:00 0HL80CLR6BBGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:45.5766746+03:00 0HL80CLR6BBGE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:45.5771739+03:00 0HL80CLR6BBGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:45.5776744+03:00 0HL80CLR6BBGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:45.5776744+03:00 0HL80CLR6BBGE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307654780.9540889255147773\",
  \"Nonce\": \"N0.69396047122520741506030765478\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69396047122520741506030765478\",
    \"state\": \"15060307654780.9540889255147773\"
  }
}" (9a175e33)
2017-09-22T00:52:45.5816771+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:45.5991889+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:45.6011899+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:45.6141989+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:45.6161998+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:45.6207026+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:45.6287083+03:00 0HL80CLR6BBGE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:45.6637316+03:00 0HL80CLR6BBGE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307654780.9540889255147773\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:45.6647322+03:00 0HL80CLR6BBGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:45.6667336+03:00 0HL80CLR6BBGE [INF] Request finished in 96.1257ms 302  (15c52c40)
2017-09-22T00:52:46.8775378+03:00 0HL80CLR6BBGF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5045088693199281506030766561&state=15060307665610.4535339875454889   (e5be5b71)
2017-09-22T00:52:46.8800393+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:46.8810400+03:00 0HL80CLR6BBGF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:46.8815401+03:00 0HL80CLR6BBGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:46.8815401+03:00 0HL80CLR6BBGF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:46.8820402+03:00 0HL80CLR6BBGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:46.8830421+03:00 0HL80CLR6BBGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:46.8830421+03:00 0HL80CLR6BBGF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307665610.4535339875454889\",
  \"Nonce\": \"N0.5045088693199281506030766561\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5045088693199281506030766561\",
    \"state\": \"15060307665610.4535339875454889\"
  }
}" (9a175e33)
2017-09-22T00:52:46.9275718+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:46.9480841+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:46.9500866+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:46.9736024+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:46.9826072+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:46.9906129+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:46.9931144+03:00 0HL80CLR6BBGF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:47.0276371+03:00 0HL80CLR6BBGF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307665610.4535339875454889\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:47.0286381+03:00 0HL80CLR6BBGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:47.0316397+03:00 0HL80CLR6BBGF [INF] Request finished in 153.6128ms 302  (15c52c40)
2017-09-22T00:52:50.3100400+03:00 0HL80CLR6BBGG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69947403157266371506030769576&state=15060307695760.1372503816011741   (e5be5b71)
2017-09-22T00:52:50.3125410+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:50.3135421+03:00 0HL80CLR6BBGG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:50.3140422+03:00 0HL80CLR6BBGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:50.3140422+03:00 0HL80CLR6BBGG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:50.3145427+03:00 0HL80CLR6BBGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:50.3150429+03:00 0HL80CLR6BBGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:50.3150429+03:00 0HL80CLR6BBGG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307695760.1372503816011741\",
  \"Nonce\": \"N0.69947403157266371506030769576\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69947403157266371506030769576\",
    \"state\": \"15060307695760.1372503816011741\"
  }
}" (9a175e33)
2017-09-22T00:52:50.3195492+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:50.3330548+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:50.3355575+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:50.3385587+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:50.3410606+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:50.3430615+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:50.3460635+03:00 0HL80CLR6BBGG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:50.3745826+03:00 0HL80CLR6BBGG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307695760.1372503816011741\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:50.3755833+03:00 0HL80CLR6BBGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:50.3770849+03:00 0HL80CLR6BBGG [INF] Request finished in 66.6983ms 302  (15c52c40)
2017-09-22T00:52:51.0227857+03:00 0HL80CLR6BBGH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0149519496412067191506030770492&state=15060307704920.10031240845713629   (e5be5b71)
2017-09-22T00:52:51.0252868+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:51.0257869+03:00 0HL80CLR6BBGH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:51.0262875+03:00 0HL80CLR6BBGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:51.0262875+03:00 0HL80CLR6BBGH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:51.0267880+03:00 0HL80CLR6BBGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:51.0272885+03:00 0HL80CLR6BBGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:51.0277902+03:00 0HL80CLR6BBGH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307704920.10031240845713629\",
  \"Nonce\": \"N0.0149519496412067191506030770492\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0149519496412067191506030770492\",
    \"state\": \"15060307704920.10031240845713629\"
  }
}" (9a175e33)
2017-09-22T00:52:51.0317909+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:51.0563070+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:51.0638130+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:51.0658135+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:51.0678148+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:51.0828256+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:51.0868279+03:00 0HL80CLR6BBGH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:51.1338595+03:00 0HL80CLR6BBGH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307704920.10031240845713629\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:51.1508700+03:00 0HL80CLR6BBGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:51.1778887+03:00 0HL80CLR6BBGH [INF] Request finished in 138.5112ms 302  (15c52c40)
2017-09-22T00:52:53.6315437+03:00 0HL80CLR6BBGI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44455611828838261506030773531&state=15060307735310.7642907400553367   (e5be5b71)
2017-09-22T00:52:53.6350459+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:53.6355460+03:00 0HL80CLR6BBGI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:53.6365471+03:00 0HL80CLR6BBGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:53.6370488+03:00 0HL80CLR6BBGI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:53.6375473+03:00 0HL80CLR6BBGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:53.6380479+03:00 0HL80CLR6BBGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:53.6385484+03:00 0HL80CLR6BBGI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307735310.7642907400553367\",
  \"Nonce\": \"N0.44455611828838261506030773531\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44455611828838261506030773531\",
    \"state\": \"15060307735310.7642907400553367\"
  }
}" (9a175e33)
2017-09-22T00:52:53.6420505+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:53.6600625+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:53.6620638+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:53.6645653+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:53.6660665+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:53.6705700+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:53.6725706+03:00 0HL80CLR6BBGI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:53.7010925+03:00 0HL80CLR6BBGI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307735310.7642907400553367\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:53.7015899+03:00 0HL80CLR6BBGI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:53.7035928+03:00 0HL80CLR6BBGI [INF] Request finished in 71.698ms 302  (15c52c40)
2017-09-22T00:52:58.6593816+03:00 0HL80CLR6BBGJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:52:58.6623839+03:00 0HL80CLR6BBGJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:58.6623839+03:00 0HL80CLR6BBGJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:52:58.6633838+03:00 0HL80CLR6BBGJ [INF] Request finished in 4.3555ms 200 application/json (15c52c40)
2017-09-22T00:52:59.4178855+03:00 0HL80CLR6BBGK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:52:59.4218878+03:00 0HL80CLR6BBGK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:59.4218878+03:00 0HL80CLR6BBGK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:52:59.4489057+03:00 0HL80CLR6BBGK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:59.4494059+03:00 0HL80CLR6BBGK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:52:59.4504077+03:00 0HL80CLR6BBGK [INF] Request finished in 32.487ms 200 application/json (15c52c40)
2017-09-22T00:52:59.8932011+03:00 0HL80CLR6BBGL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0050058135476420681506030778866&state=15060307788660.8094500843858194   (e5be5b71)
2017-09-22T00:52:59.8972030+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:52:59.8982040+03:00 0HL80CLR6BBGL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:52:59.8987045+03:00 0HL80CLR6BBGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:59.8987045+03:00 0HL80CLR6BBGL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:52:59.8992047+03:00 0HL80CLR6BBGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:59.9007055+03:00 0HL80CLR6BBGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:59.9007055+03:00 0HL80CLR6BBGL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060307788660.8094500843858194\",
  \"Nonce\": \"N0.0050058135476420681506030778866\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0050058135476420681506030778866\",
    \"state\": \"15060307788660.8094500843858194\"
  }
}" (9a175e33)
2017-09-22T00:52:59.9122133+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:52:59.9312259+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:59.9347285+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:52:59.9397314+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:52:59.9447359+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:52:59.9497384+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:52:59.9517394+03:00 0HL80CLR6BBGL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:52:59.9782591+03:00 0HL80CLR6BBGL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060307788660.8094500843858194\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:52:59.9787573+03:00 0HL80CLR6BBGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:52:59.9797584+03:00 0HL80CLR6BBGL [INF] Request finished in 87.3933ms 302  (15c52c40)
2017-09-22T00:53:03.9209031+03:00 0HL80CLR6BBGM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:53:03.9234038+03:00 0HL80CLR6BBGM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:53:03.9239047+03:00 0HL80CLR6BBGM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:53:03.9254055+03:00 0HL80CLR6BBGM [INF] Request finished in 4.4009ms 200 application/json (15c52c40)
2017-09-22T00:53:04.0790073+03:00 0HL80CLR6BBGN [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T00:53:04.0805081+03:00 0HL80CLR6BBGN [INF] Request finished in 1.5829ms 204  (15c52c40)
2017-09-22T00:53:04.1670654+03:00 0HL80CLR6BBGO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:53:04.1770720+03:00 0HL80CLR6BBGO [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:53:04.1775717+03:00 0HL80CLR6BBGO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:53:04.2020886+03:00 0HL80CLR6BBGO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:53:04.2030897+03:00 0HL80CLR6BBGO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:53:04.2050906+03:00 0HL80CLR6BBGO [INF] Request finished in 40.7201ms 200 application/json (15c52c40)
2017-09-22T00:53:04.2476190+03:00 0HL80CLR6BBGP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T00:53:04.2501205+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:53:04.2506214+03:00 0HL80CLR6BBGP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T00:53:04.2506214+03:00 0HL80CLR6BBGP [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T00:53:04.2766379+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:53:04.2791394+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:53:04.2811407+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:53:04.2826415+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:53:04.2851437+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:53:04.2876460+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:53:04.2896461+03:00 0HL80CLR6BBGP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:53:04.2901475+03:00 0HL80CLR6BBGP [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T00:53:04.2916483+03:00 0HL80CLR6BBGP [INF] Request finished in 43.4355ms 200 application/json (15c52c40)
2017-09-22T00:58:02.5182796+03:00 0HL80CLR6BBGQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.121128767228310561506031082480&state=15060310824800.7787109183511693   (e5be5b71)
2017-09-22T00:58:02.7735323+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:58:02.7735323+03:00 0HL80CLR6BBGQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T00:58:02.7745333+03:00 0HL80CLR6BBGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:58:02.7745333+03:00 0HL80CLR6BBGQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T00:58:02.7745333+03:00 0HL80CLR6BBGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:58:02.7745333+03:00 0HL80CLR6BBGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:58:02.7755344+03:00 0HL80CLR6BBGQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060310824800.7787109183511693\",
  \"Nonce\": \"N0.121128767228310561506031082480\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.121128767228310561506031082480\",
    \"state\": \"15060310824800.7787109183511693\"
  }
}" (9a175e33)
2017-09-22T00:58:02.8075549+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:58:02.8180640+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:58:02.8210652+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T00:58:02.8250691+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T00:58:02.8295723+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T00:58:02.8315736+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T00:58:02.8348527+03:00 0HL80CLR6BBGQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T00:58:02.8518656+03:00 0HL80CLR6BBGQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060310824800.7787109183511693\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T00:58:02.8528658+03:00 0HL80CLR6BBGQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T00:58:02.8538649+03:00 0HL80CLR6BBGQ [INF] Request finished in 337.1994ms 302  (15c52c40)
2017-09-22T00:58:07.1331438+03:00 0HL80CLR6BBGR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T00:58:07.1361458+03:00 0HL80CLR6BBGR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:58:07.1361458+03:00 0HL80CLR6BBGR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T00:58:07.1371500+03:00 0HL80CLR6BBGR [INF] Request finished in 4.2695ms 200 application/json (15c52c40)
2017-09-22T00:58:07.4058491+03:00 0HL80CLR6BBGS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:58:07.4088527+03:00 0HL80CLR6BBGS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:58:07.4088527+03:00 0HL80CLR6BBGS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:58:07.4348676+03:00 0HL80CLR6BBGS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:58:07.4348676+03:00 0HL80CLR6BBGS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:58:07.4378720+03:00 0HL80CLR6BBGS [INF] Request finished in 30.1647ms 200 application/json (15c52c40)
2017-09-22T00:58:08.7807110+03:00 0HL80CLR6BBGT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T00:58:08.7837130+03:00 0HL80CLR6BBGT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T00:58:08.7842139+03:00 0HL80CLR6BBGT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T00:58:08.8112311+03:00 0HL80CLR6BBGT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T00:58:08.8117316+03:00 0HL80CLR6BBGT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T00:58:08.8127323+03:00 0HL80CLR6BBGT [INF] Request finished in 32.1815ms 200 application/json (15c52c40)
2017-09-22T01:18:57.1670054+03:00 0HL80CLR6BBGU [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:18:57.4186726+03:00 0HL80CLR6BBGV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:19:04.0914676+03:00 0HL80CLR6BBGU [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:04.0914676+03:00 0HL80CLR6BBGU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:19:04.1925339+03:00 0HL80CLR6BBGU [INF] Request finished in 6925.8999ms 200 application/json (15c52c40)
2017-09-22T01:19:04.1935350+03:00 0HL80CLR6BBGV [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:04.1935350+03:00 0HL80CLR6BBGV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:19:04.2570762+03:00 0HL80CLR6BBGV [INF] Executed DbCommand (35ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:19:04.2575771+03:00 0HL80CLR6BBGV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:19:04.2585774+03:00 0HL80CLR6BBGV [INF] Request finished in 6844.9629ms 200 application/json (15c52c40)
2017-09-22T01:19:11.9171708+03:00 0HL80CLR6BBH0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56595959058052191506032351907&state=15060323519070.6622140435923534   (e5be5b71)
2017-09-22T01:19:11.9211731+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:11.9301795+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:19:11.9862167+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:19:12.0027271+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:19:12.0142353+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:19:12.0222410+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:19:12.0242427+03:00 0HL80CLR6BBH0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:19:12.0247456+03:00 0HL80CLR6BBH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:19:12.0252438+03:00 0HL80CLR6BBH0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:19:12.0262433+03:00 0HL80CLR6BBH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:19:12.0267434+03:00 0HL80CLR6BBH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:19:12.0267434+03:00 0HL80CLR6BBH0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060323519070.6622140435923534\",
  \"Nonce\": \"N0.56595959058052191506032351907\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56595959058052191506032351907\",
    \"state\": \"15060323519070.6622140435923534\"
  }
}" (9a175e33)
2017-09-22T01:19:12.0452555+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:19:12.0492585+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:19:12.0512595+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:19:12.0532608+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:19:12.0557627+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:19:12.0647686+03:00 0HL80CLR6BBH0 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:19:12.0912868+03:00 0HL80CLR6BBH0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060323519070.6622140435923534\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:19:12.0927876+03:00 0HL80CLR6BBH0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:19:12.0952887+03:00 0HL80CLR6BBH0 [INF] Request finished in 179.6845ms 302  (15c52c40)
2017-09-22T01:19:19.7454845+03:00 0HL80CLR6BBH1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T01:19:19.7479871+03:00 0HL80CLR6BBH1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:19.7484877+03:00 0HL80CLR6BBH1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:19:19.7489882+03:00 0HL80CLR6BBH1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:19:19.7489882+03:00 0HL80CLR6BBH1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T01:19:19.7494871+03:00 0HL80CLR6BBH1 [INF] Request finished in 4.157ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T01:19:19.8005210+03:00 0HL80CLR6BBH2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:19:19.8035230+03:00 0HL80CLR6BBH2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:19.8035230+03:00 0HL80CLR6BBH2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:19:19.8045237+03:00 0HL80CLR6BBH2 [INF] Request finished in 4.0144ms 200 application/json (15c52c40)
2017-09-22T01:19:21.1639264+03:00 0HL80CLR6BBH3 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T01:19:21.1644265+03:00 0HL80CLR6BBH3 [INF] Request finished in 1.0148ms 204  (15c52c40)
2017-09-22T01:19:21.4471148+03:00 0HL80CLR6BBH4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T01:19:21.4516176+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:21.4516176+03:00 0HL80CLR6BBH4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T01:19:21.4516176+03:00 0HL80CLR6BBH4 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T01:19:21.4861403+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:19:21.5611897+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:19:21.5987152+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:19:21.6132255+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:19:21.6202293+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:19:21.6322369+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:19:21.6532512+03:00 0HL80CLR6BBH4 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:19:21.6537518+03:00 0HL80CLR6BBH4 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T01:19:21.6542527+03:00 0HL80CLR6BBH4 [INF] Request finished in 207.668ms 200 application/json (15c52c40)
2017-09-22T01:19:21.7628242+03:00 0HL80CLR6BBH5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:19:21.7653257+03:00 0HL80CLR6BBH5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:19:21.7653257+03:00 0HL80CLR6BBH5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:19:21.7943453+03:00 0HL80CLR6BBH5 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:19:21.7948455+03:00 0HL80CLR6BBH5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:19:21.7993482+03:00 0HL80CLR6BBH5 [INF] Request finished in 33.445ms 200 application/json (15c52c40)
2017-09-22T01:21:12.3233608+03:00 0HL80CLR6BBH6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:21:12.3288651+03:00 0HL80CLR6BBH6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:21:12.3293652+03:00 0HL80CLR6BBH6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:21:12.3588846+03:00 0HL80CLR6BBH6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:21:12.3593851+03:00 0HL80CLR6BBH6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:21:12.3648894+03:00 0HL80CLR6BBH6 [INF] Request finished in 38.2028ms 200 application/json (15c52c40)
2017-09-22T01:21:14.8330396+03:00 0HL80CLR6BBH7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:21:14.8365422+03:00 0HL80CLR6BBH7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:21:14.8365422+03:00 0HL80CLR6BBH7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:21:14.8635601+03:00 0HL80CLR6BBH7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:21:14.8640606+03:00 0HL80CLR6BBH7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:21:14.8650609+03:00 0HL80CLR6BBH7 [INF] Request finished in 32.5845ms 200 application/json (15c52c40)
2017-09-22T01:21:22.4919556+03:00 0HL80CLR6BBH8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:21:22.4959583+03:00 0HL80CLR6BBH8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:21:22.4959583+03:00 0HL80CLR6BBH8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:21:22.5574993+03:00 0HL80CLR6BBH8 [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:21:22.5579998+03:00 0HL80CLR6BBH8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:21:22.5595006+03:00 0HL80CLR6BBH8 [INF] Request finished in 67.5071ms 200 application/json (15c52c40)
2017-09-22T01:21:22.6580659+03:00 0HL80CLR6BBH9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:21:22.6615680+03:00 0HL80CLR6BBH9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:21:22.6620685+03:00 0HL80CLR6BBH9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:21:22.6935897+03:00 0HL80CLR6BBH9 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:21:22.6945903+03:00 0HL80CLR6BBH9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:21:22.6960911+03:00 0HL80CLR6BBH9 [INF] Request finished in 37.6774ms 200 application/json (15c52c40)
2017-09-22T01:22:06.1051781+03:00 0HL80CLR6BBHA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:22:06.1567129+03:00 0HL80CLR6BBHA [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:22:06.1567129+03:00 0HL80CLR6BBHA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:22:06.2057455+03:00 0HL80CLR6BBHA [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:22:06.2062456+03:00 0HL80CLR6BBHA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:22:06.2067461+03:00 0HL80CLR6BBHA [INF] Request finished in 104.3158ms 200 application/json (15c52c40)
2017-09-22T01:22:06.4193867+03:00 0HL80CLR6BBHB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:22:06.4228892+03:00 0HL80CLR6BBHB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:22:06.4228892+03:00 0HL80CLR6BBHB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:22:06.4529092+03:00 0HL80CLR6BBHB [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:22:06.4534097+03:00 0HL80CLR6BBHB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:22:06.4544108+03:00 0HL80CLR6BBHB [INF] Request finished in 34.7682ms 200 application/json (15c52c40)
2017-09-22T01:22:49.6671520+03:00 0HL80CLR6BBHC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:22:49.6711550+03:00 0HL80CLR6BBHC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:22:49.6711550+03:00 0HL80CLR6BBHC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:22:49.6971715+03:00 0HL80CLR6BBHC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:22:49.6971715+03:00 0HL80CLR6BBHC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:22:49.6981726+03:00 0HL80CLR6BBHC [INF] Request finished in 31.2361ms 200 application/json (15c52c40)
2017-09-22T01:24:13.5120340+03:00 0HL80CLR6BBHD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.223425049657180571506032653483&state=15060326534830.21722944253019283   (e5be5b71)
2017-09-22T01:24:13.5150368+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:13.5155369+03:00 0HL80CLR6BBHD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:13.5160375+03:00 0HL80CLR6BBHD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:13.5160375+03:00 0HL80CLR6BBHD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:13.5165380+03:00 0HL80CLR6BBHD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:13.5170373+03:00 0HL80CLR6BBHD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:13.5170373+03:00 0HL80CLR6BBHD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326534830.21722944253019283\",
  \"Nonce\": \"N0.223425049657180571506032653483\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.223425049657180571506032653483\",
    \"state\": \"15060326534830.21722944253019283\"
  }
}" (9a175e33)
2017-09-22T01:24:13.5220411+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:13.5345488+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:13.5365505+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:13.5395529+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:13.5420543+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:13.5450563+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:13.5505598+03:00 0HL80CLR6BBHD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:13.5720751+03:00 0HL80CLR6BBHD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326534830.21722944253019283\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:13.5730745+03:00 0HL80CLR6BBHD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:13.5740760+03:00 0HL80CLR6BBHD [INF] Request finished in 62.5361ms 302  (15c52c40)
2017-09-22T01:24:16.5685264+03:00 0HL80CLR6BBHE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31234964049982051506032656489&state=15060326564890.6840176173077253   (e5be5b71)
2017-09-22T01:24:16.6075523+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:16.6440775+03:00 0HL80CLR6BBHE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:16.6515815+03:00 0HL80CLR6BBHE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:16.6515815+03:00 0HL80CLR6BBHE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:16.6530827+03:00 0HL80CLR6BBHE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:16.6535828+03:00 0HL80CLR6BBHE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:16.6540830+03:00 0HL80CLR6BBHE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326564890.6840176173077253\",
  \"Nonce\": \"N0.31234964049982051506032656489\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31234964049982051506032656489\",
    \"state\": \"15060326564890.6840176173077253\"
  }
}" (9a175e33)
2017-09-22T01:24:16.6826017+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:16.7331354+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:16.7366376+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:16.7511474+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:16.8011806+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:16.8186921+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:16.8527150+03:00 0HL80CLR6BBHE [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:16.8842366+03:00 0HL80CLR6BBHE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326564890.6840176173077253\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:16.8882388+03:00 0HL80CLR6BBHE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:16.9627877+03:00 0HL80CLR6BBHE [INF] Request finished in 337.4717ms 302  (15c52c40)
2017-09-22T01:24:21.1020360+03:00 0HL80CLR6BBHF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.60178402340793121506032660522&state=15060326605220.12250504965102271   (e5be5b71)
2017-09-22T01:24:21.1055389+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:21.1060390+03:00 0HL80CLR6BBHF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:21.1075398+03:00 0HL80CLR6BBHF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:21.1080435+03:00 0HL80CLR6BBHF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:21.1090446+03:00 0HL80CLR6BBHF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:21.1095412+03:00 0HL80CLR6BBHF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:21.1100417+03:00 0HL80CLR6BBHF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326605220.12250504965102271\",
  \"Nonce\": \"N0.60178402340793121506032660522\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.60178402340793121506032660522\",
    \"state\": \"15060326605220.12250504965102271\"
  }
}" (9a175e33)
2017-09-22T01:24:21.1140440+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:21.1310556+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:21.1335575+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:21.1375606+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:21.1485675+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:21.1530699+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:21.1595744+03:00 0HL80CLR6BBHF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:21.1875930+03:00 0HL80CLR6BBHF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326605220.12250504965102271\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:21.1885936+03:00 0HL80CLR6BBHF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:21.1895947+03:00 0HL80CLR6BBHF [INF] Request finished in 88.4812ms 302  (15c52c40)
2017-09-22T01:24:24.6318797+03:00 0HL80CLR6BBHG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89013932760921291506032664479&state=15060326644790.06915285238513724   (e5be5b71)
2017-09-22T01:24:24.6358827+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:24.6363825+03:00 0HL80CLR6BBHG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:24.6368826+03:00 0HL80CLR6BBHG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:24.6373827+03:00 0HL80CLR6BBHG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:24.6373827+03:00 0HL80CLR6BBHG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:24.6383834+03:00 0HL80CLR6BBHG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:24.6383834+03:00 0HL80CLR6BBHG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326644790.06915285238513724\",
  \"Nonce\": \"N0.89013932760921291506032664479\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89013932760921291506032664479\",
    \"state\": \"15060326644790.06915285238513724\"
  }
}" (9a175e33)
2017-09-22T01:24:24.6468892+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:24.6674027+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:24.6774097+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:24.6794106+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:24.6824130+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:24.6859155+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:24.6884170+03:00 0HL80CLR6BBHG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:24.7144335+03:00 0HL80CLR6BBHG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326644790.06915285238513724\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:24.7149340+03:00 0HL80CLR6BBHG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:24.7164356+03:00 0HL80CLR6BBHG [INF] Request finished in 85.0908ms 302  (15c52c40)
2017-09-22T01:24:28.5875054+03:00 0HL80CLR6BBHH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73846320418102931506032668495&state=15060326684950.05430545089791505   (e5be5b71)
2017-09-22T01:24:28.5925088+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:28.5935094+03:00 0HL80CLR6BBHH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:28.5950106+03:00 0HL80CLR6BBHH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:28.5965122+03:00 0HL80CLR6BBHH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:28.5980130+03:00 0HL80CLR6BBHH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:28.6000143+03:00 0HL80CLR6BBHH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:28.6005149+03:00 0HL80CLR6BBHH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326684950.05430545089791505\",
  \"Nonce\": \"N0.73846320418102931506032668495\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73846320418102931506032668495\",
    \"state\": \"15060326684950.05430545089791505\"
  }
}" (9a175e33)
2017-09-22T01:24:28.6040166+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:28.6205274+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:28.6235293+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:28.6325357+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:28.6355373+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:28.6400405+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:28.6655580+03:00 0HL80CLR6BBHH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:28.6935762+03:00 0HL80CLR6BBHH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326684950.05430545089791505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:28.6975793+03:00 0HL80CLR6BBHH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:28.6995802+03:00 0HL80CLR6BBHH [INF] Request finished in 111.3362ms 302  (15c52c40)
2017-09-22T01:24:38.2096952+03:00 0HL80CLR6BBHI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.28935694243379321506032677982&state=15060326779820.4374947780499874   (e5be5b71)
2017-09-22T01:24:38.2126972+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:38.2131978+03:00 0HL80CLR6BBHI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:38.2136979+03:00 0HL80CLR6BBHI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:38.2141984+03:00 0HL80CLR6BBHI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:38.2146982+03:00 0HL80CLR6BBHI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:38.2151987+03:00 0HL80CLR6BBHI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:38.2151987+03:00 0HL80CLR6BBHI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326779820.4374947780499874\",
  \"Nonce\": \"N0.28935694243379321506032677982\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.28935694243379321506032677982\",
    \"state\": \"15060326779820.4374947780499874\"
  }
}" (9a175e33)
2017-09-22T01:24:38.2197019+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:38.2327109+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:38.2342117+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:38.2372137+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:38.2392150+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:38.2417177+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:38.2432177+03:00 0HL80CLR6BBHI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:38.2672340+03:00 0HL80CLR6BBHI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326779820.4374947780499874\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:38.2682351+03:00 0HL80CLR6BBHI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:38.2697355+03:00 0HL80CLR6BBHI [INF] Request finished in 59.977ms 302  (15c52c40)
2017-09-22T01:24:39.4365101+03:00 0HL80CLR6BBHJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:24:39.4560233+03:00 0HL80CLR6BBHJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:39.4560233+03:00 0HL80CLR6BBHJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:24:39.7237012+03:00 0HL80CLR6BBHJ [INF] Executed DbCommand (47ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:39.7267032+03:00 0HL80CLR6BBHJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:24:39.7652282+03:00 0HL80CLR6BBHJ [INF] Request finished in 352.4789ms 200 application/json (15c52c40)
2017-09-22T01:24:44.8971358+03:00 0HL80CLR6BBHK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90726922298862611506032684447&state=15060326844470.4735379105851003   (e5be5b71)
2017-09-22T01:24:44.9001378+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:44.9006384+03:00 0HL80CLR6BBHK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:24:44.9016386+03:00 0HL80CLR6BBHK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:44.9016386+03:00 0HL80CLR6BBHK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:24:44.9021392+03:00 0HL80CLR6BBHK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:44.9031394+03:00 0HL80CLR6BBHK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:44.9031394+03:00 0HL80CLR6BBHK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060326844470.4735379105851003\",
  \"Nonce\": \"N0.90726922298862611506032684447\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90726922298862611506032684447\",
    \"state\": \"15060326844470.4735379105851003\"
  }
}" (9a175e33)
2017-09-22T01:24:44.9096440+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:44.9241538+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:44.9271554+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:24:44.9296568+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:24:44.9311580+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:24:44.9416652+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:24:44.9441671+03:00 0HL80CLR6BBHK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:24:44.9736865+03:00 0HL80CLR6BBHK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060326844470.4735379105851003\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:24:44.9761883+03:00 0HL80CLR6BBHK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:24:45.0002047+03:00 0HL80CLR6BBHK [INF] Request finished in 85.1922ms 302  (15c52c40)
2017-09-22T01:24:50.0570610+03:00 0HL80CLR6BBHL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:24:50.0625644+03:00 0HL80CLR6BBHL [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:50.0625644+03:00 0HL80CLR6BBHL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:24:50.0640656+03:00 0HL80CLR6BBHL [INF] Request finished in 7.1649ms 200 application/json (15c52c40)
2017-09-22T01:24:51.0297071+03:00 0HL80CLR6BBHM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:24:51.0332092+03:00 0HL80CLR6BBHM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:51.0332092+03:00 0HL80CLR6BBHM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:24:51.0702346+03:00 0HL80CLR6BBHM [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:51.0707347+03:00 0HL80CLR6BBHM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:24:51.0717350+03:00 0HL80CLR6BBHM [INF] Request finished in 42.6452ms 200 application/json (15c52c40)
2017-09-22T01:24:52.2545203+03:00 0HL80CLR6BBHN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:24:52.2585225+03:00 0HL80CLR6BBHN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:24:52.2585225+03:00 0HL80CLR6BBHN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:24:52.3150603+03:00 0HL80CLR6BBHN [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:24:52.3155608+03:00 0HL80CLR6BBHN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:24:52.3390766+03:00 0HL80CLR6BBHN [INF] Request finished in 63.0525ms 200 application/json (15c52c40)
2017-09-22T01:26:51.4087714+03:00 0HL80CLR6BBHO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:26:51.4407930+03:00 0HL80CLR6BBHO [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:26:51.4412936+03:00 0HL80CLR6BBHO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:26:51.4422934+03:00 0HL80CLR6BBHO [INF] Request finished in 470.2257ms 200 application/json (15c52c40)
2017-09-22T01:27:04.3614875+03:00 0HL80CLR6BBHP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85926287011206241506032824353&state=15060328243530.3221475782858967   (e5be5b71)
2017-09-22T01:27:04.3644883+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:04.3649885+03:00 0HL80CLR6BBHP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:27:04.3654890+03:00 0HL80CLR6BBHP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:27:04.3654890+03:00 0HL80CLR6BBHP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:27:04.3664924+03:00 0HL80CLR6BBHP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:27:04.3674907+03:00 0HL80CLR6BBHP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:27:04.3674907+03:00 0HL80CLR6BBHP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060328243530.3221475782858967\",
  \"Nonce\": \"N0.85926287011206241506032824353\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85926287011206241506032824353\",
    \"state\": \"15060328243530.3221475782858967\"
  }
}" (9a175e33)
2017-09-22T01:27:04.3719935+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:04.3880037+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:27:04.3915067+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:27:04.3950092+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:27:04.3975099+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:27:04.4015145+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:27:04.4205263+03:00 0HL80CLR6BBHP [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:27:04.4390380+03:00 0HL80CLR6BBHP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060328243530.3221475782858967\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:27:04.4395386+03:00 0HL80CLR6BBHP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:27:04.4405388+03:00 0HL80CLR6BBHP [INF] Request finished in 80.5572ms 302  (15c52c40)
2017-09-22T01:27:09.7240470+03:00 0HL80CLR6BBHQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T01:27:09.7275491+03:00 0HL80CLR6BBHQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:09.7280492+03:00 0HL80CLR6BBHQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:27:09.7330526+03:00 0HL80CLR6BBHQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:27:09.7335535+03:00 0HL80CLR6BBHQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T01:27:09.7370556+03:00 0HL80CLR6BBHQ [INF] Request finished in 10.367ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T01:27:09.8106042+03:00 0HL80CLR6BBHR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:27:09.8166082+03:00 0HL80CLR6BBHR [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:09.8166082+03:00 0HL80CLR6BBHR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:27:09.8301174+03:00 0HL80CLR6BBHR [INF] Request finished in 7.4416ms 200 application/json (15c52c40)
2017-09-22T01:27:10.0277492+03:00 0HL80CLR6BBHS [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T01:27:10.0757807+03:00 0HL80CLR6BBHS [INF] Request finished in 35.8525ms 204  (15c52c40)
2017-09-22T01:27:10.1873550+03:00 0HL80CLR6BBHT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T01:27:10.2118706+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:10.2123712+03:00 0HL80CLR6BBHT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T01:27:10.2123712+03:00 0HL80CLR6BBHT [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T01:27:10.2553997+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:10.2644053+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:27:10.2854197+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:27:10.3094360+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:27:10.3094360+03:00 0HL80CLR6BBHU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:27:10.3129373+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:27:10.3462372+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:27:10.3467381+03:00 0HL80CLR6BBHU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:10.3467381+03:00 0HL80CLR6BBHU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:27:10.3492396+03:00 0HL80CLR6BBHT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:27:10.3497401+03:00 0HL80CLR6BBHT [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T01:27:10.3517418+03:00 0HL80CLR6BBHT [INF] Request finished in 212.6622ms 200 application/json (15c52c40)
2017-09-22T01:27:10.4242894+03:00 0HL80CLR6BBHU [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:10.4247903+03:00 0HL80CLR6BBHU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:27:10.4392989+03:00 0HL80CLR6BBHU [INF] Request finished in 129.8862ms 200 application/json (15c52c40)
2017-09-22T01:27:11.7406635+03:00 0HL80CLR6BBHV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:27:11.7446658+03:00 0HL80CLR6BBHV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:11.7451667+03:00 0HL80CLR6BBHV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:27:11.7967003+03:00 0HL80CLR6BBHV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:11.7972013+03:00 0HL80CLR6BBHV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:27:11.7977010+03:00 0HL80CLR6BBHV [INF] Request finished in 64.6002ms 200 application/json (15c52c40)
2017-09-22T01:27:14.1122376+03:00 0HL80CLR6BBI0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:27:14.1157402+03:00 0HL80CLR6BBI0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:14.1162403+03:00 0HL80CLR6BBI0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:27:14.1457601+03:00 0HL80CLR6BBI0 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:14.1462606+03:00 0HL80CLR6BBI0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:27:14.1477614+03:00 0HL80CLR6BBI0 [INF] Request finished in 34.8535ms 200 application/json (15c52c40)
2017-09-22T01:27:34.2837077+03:00 0HL80CLR6BBI1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:27:34.2882109+03:00 0HL80CLR6BBI1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:34.2887110+03:00 0HL80CLR6BBI1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:27:34.3212328+03:00 0HL80CLR6BBI1 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:34.3217329+03:00 0HL80CLR6BBI1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:27:34.3227340+03:00 0HL80CLR6BBI1 [INF] Request finished in 39.3788ms 200 application/json (15c52c40)
2017-09-22T01:27:51.2273598+03:00 0HL80CLR6BBI2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:27:51.2473727+03:00 0HL80CLR6BBI2 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:27:51.2478728+03:00 0HL80CLR6BBI2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:27:51.2868992+03:00 0HL80CLR6BBI2 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:27:51.2873989+03:00 0HL80CLR6BBI2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:27:51.2878994+03:00 0HL80CLR6BBI2 [INF] Request finished in 61.6196ms 200 application/json (15c52c40)
2017-09-22T01:28:06.0000637+03:00 0HL80CLR6BBI3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:28:06.0165749+03:00 0HL80CLR6BBI3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:28:06.0170754+03:00 0HL80CLR6BBI3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:28:06.0455942+03:00 0HL80CLR6BBI3 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:28:06.0460947+03:00 0HL80CLR6BBI3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:28:06.0475959+03:00 0HL80CLR6BBI3 [INF] Request finished in 47.3572ms 200 application/json (15c52c40)
2017-09-22T01:28:13.3430769+03:00 0HL80CLR6BBI4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:28:13.3490813+03:00 0HL80CLR6BBI4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:28:13.3490813+03:00 0HL80CLR6BBI4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:28:13.3806012+03:00 0HL80CLR6BBI4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:28:13.3811025+03:00 0HL80CLR6BBI4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:28:13.3831038+03:00 0HL80CLR6BBI4 [INF] Request finished in 41.4057ms 200 application/json (15c52c40)
2017-09-22T01:32:06.5051541+03:00 0HL80CLR6BBI5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95763721098143711506033126479&state=15060331264790.09256077043844302   (e5be5b71)
2017-09-22T01:32:06.7631266+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:06.7651291+03:00 0HL80CLR6BBI5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:32:06.7656284+03:00 0HL80CLR6BBI5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:06.7661286+03:00 0HL80CLR6BBI5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:32:06.7671284+03:00 0HL80CLR6BBI5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:06.7686300+03:00 0HL80CLR6BBI5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:06.7686300+03:00 0HL80CLR6BBI5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060331264790.09256077043844302\",
  \"Nonce\": \"N0.95763721098143711506033126479\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95763721098143711506033126479\",
    \"state\": \"15060331264790.09256077043844302\"
  }
}" (9a175e33)
2017-09-22T01:32:06.8191626+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (46ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:06.8331743+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:06.8361739+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:32:06.8391759+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:32:06.8416781+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:32:06.8436791+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:06.8471828+03:00 0HL80CLR6BBI5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:32:06.8616922+03:00 0HL80CLR6BBI5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060331264790.09256077043844302\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:32:06.8621919+03:00 0HL80CLR6BBI5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:06.8626921+03:00 0HL80CLR6BBI5 [INF] Request finished in 358.1067ms 302  (15c52c40)
2017-09-22T01:32:10.6451615+03:00 0HL80CLR6BBI6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.142636419671903881506033130302&state=15060331303020.4343089899056003   (e5be5b71)
2017-09-22T01:32:10.6486632+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:10.6491641+03:00 0HL80CLR6BBI6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:32:10.6506649+03:00 0HL80CLR6BBI6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:10.6506649+03:00 0HL80CLR6BBI6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:32:10.6566685+03:00 0HL80CLR6BBI6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:10.6631726+03:00 0HL80CLR6BBI6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:10.6636736+03:00 0HL80CLR6BBI6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060331303020.4343089899056003\",
  \"Nonce\": \"N0.142636419671903881506033130302\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.142636419671903881506033130302\",
    \"state\": \"15060331303020.4343089899056003\"
  }
}" (9a175e33)
2017-09-22T01:32:10.6716793+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:10.9058339+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:10.9133387+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:32:10.9358543+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:32:10.9888903+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:32:10.9963939+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:11.0264138+03:00 0HL80CLR6BBI6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:32:11.0609365+03:00 0HL80CLR6BBI6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060331303020.4343089899056003\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:32:11.0974613+03:00 0HL80CLR6BBI6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:11.1109697+03:00 0HL80CLR6BBI6 [INF] Request finished in 453.64ms 302  (15c52c40)
2017-09-22T01:32:14.9159965+03:00 0HL80CLR6BBI7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.109826898382924031506033134690&state=15060331346900.6435361306670193   (e5be5b71)
2017-09-22T01:32:14.9250021+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:14.9255030+03:00 0HL80CLR6BBI7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:32:14.9275039+03:00 0HL80CLR6BBI7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:14.9275039+03:00 0HL80CLR6BBI7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:32:14.9285046+03:00 0HL80CLR6BBI7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:14.9300058+03:00 0HL80CLR6BBI7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:14.9300058+03:00 0HL80CLR6BBI7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060331346900.6435361306670193\",
  \"Nonce\": \"N0.109826898382924031506033134690\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.109826898382924031506033134690\",
    \"state\": \"15060331346900.6435361306670193\"
  }
}" (9a175e33)
2017-09-22T01:32:14.9405134+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:15.0250685+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:15.0300722+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:32:15.0455827+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:32:15.0525870+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:32:15.0806056+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:15.0946149+03:00 0HL80CLR6BBI7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:32:15.1231340+03:00 0HL80CLR6BBI7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060331346900.6435361306670193\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:32:15.1236345+03:00 0HL80CLR6BBI7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:15.1246352+03:00 0HL80CLR6BBI7 [INF] Request finished in 210.5484ms 302  (15c52c40)
2017-09-22T01:32:18.9486734+03:00 0HL80CLR6BBI8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:32:18.9521755+03:00 0HL80CLR6BBI8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:18.9526765+03:00 0HL80CLR6BBI8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:32:18.9776923+03:00 0HL80CLR6BBI8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:18.9781936+03:00 0HL80CLR6BBI8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:32:18.9786937+03:00 0HL80CLR6BBI8 [INF] Request finished in 30.5176ms 200 application/json (15c52c40)
2017-09-22T01:32:18.9866987+03:00 0HL80CLR6BBI9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83352405105244951506033138912&state=15060331389120.8599234734766357   (e5be5b71)
2017-09-22T01:32:18.9947040+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:18.9952045+03:00 0HL80CLR6BBI9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:32:19.0042105+03:00 0HL80CLR6BBI9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:19.0047114+03:00 0HL80CLR6BBI9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:32:19.0067123+03:00 0HL80CLR6BBI9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:19.0087137+03:00 0HL80CLR6BBI9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:19.0092142+03:00 0HL80CLR6BBI9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060331389120.8599234734766357\",
  \"Nonce\": \"N0.83352405105244951506033138912\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83352405105244951506033138912\",
    \"state\": \"15060331389120.8599234734766357\"
  }
}" (9a175e33)
2017-09-22T01:32:19.0132173+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:19.0267256+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:19.0292271+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:32:19.0357312+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:32:19.0897675+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:32:19.0957715+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:32:19.1693201+03:00 0HL80CLR6BBI9 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:32:19.2048439+03:00 0HL80CLR6BBI9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060331389120.8599234734766357\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:32:19.2618814+03:00 0HL80CLR6BBI9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:32:19.2889005+03:00 0HL80CLR6BBI9 [INF] Request finished in 277.587ms 302  (15c52c40)
2017-09-22T01:32:26.9800055+03:00 0HL80CLR6BBIA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:32:26.9830075+03:00 0HL80CLR6BBIA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:26.9830075+03:00 0HL80CLR6BBIA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:32:26.9870101+03:00 0HL80CLR6BBIA [INF] Request finished in 4.046ms 200 application/json (15c52c40)
2017-09-22T01:32:28.0997493+03:00 0HL80CLR6BBIB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:32:28.1037519+03:00 0HL80CLR6BBIB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:32:28.1037519+03:00 0HL80CLR6BBIB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:32:28.1612899+03:00 0HL80CLR6BBIB [INF] Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:32:28.1617904+03:00 0HL80CLR6BBIB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:32:28.1622906+03:00 0HL80CLR6BBIB [INF] Request finished in 62.7607ms 200 application/json (15c52c40)
2017-09-22T01:33:25.2334479+03:00 0HL80CLR6BBIC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.23255831528909421506033205124&state=15060332051240.08016443347471292   (e5be5b71)
2017-09-22T01:33:25.2529614+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:25.2549624+03:00 0HL80CLR6BBIC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:33:25.2554625+03:00 0HL80CLR6BBIC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:33:25.2554625+03:00 0HL80CLR6BBIC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:33:25.2569637+03:00 0HL80CLR6BBIC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:33:25.2579640+03:00 0HL80CLR6BBIC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:33:25.2579640+03:00 0HL80CLR6BBIC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060332051240.08016443347471292\",
  \"Nonce\": \"N0.23255831528909421506033205124\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.23255831528909421506033205124\",
    \"state\": \"15060332051240.08016443347471292\"
  }
}" (9a175e33)
2017-09-22T01:33:25.2749753+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:33:25.2909863+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:33:25.2944880+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:33:25.3520268+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:33:25.3590315+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:33:25.3705389+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:33:25.3735425+03:00 0HL80CLR6BBIC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:33:25.4005588+03:00 0HL80CLR6BBIC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060332051240.08016443347471292\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:33:25.4060627+03:00 0HL80CLR6BBIC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:33:25.4100649+03:00 0HL80CLR6BBIC [INF] Request finished in 270.7624ms 302  (15c52c40)
2017-09-22T01:33:32.6293719+03:00 0HL80CLR6BBID [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T01:33:32.6628939+03:00 0HL80CLR6BBIE [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:33:32.7034214+03:00 0HL80CLR6BBID [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:32.7089253+03:00 0HL80CLR6BBID [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:33:32.7339419+03:00 0HL80CLR6BBID [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:33:32.7344416+03:00 0HL80CLR6BBID [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T01:33:32.7349422+03:00 0HL80CLR6BBID [INF] Request finished in 235.5579ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T01:33:32.8485174+03:00 0HL80CLR6BBIE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:32.8485174+03:00 0HL80CLR6BBIE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:33:32.8670299+03:00 0HL80CLR6BBIE [INF] Request finished in 241.5674ms 200 application/json (15c52c40)
2017-09-22T01:33:32.9751028+03:00 0HL80CLR6BBIF [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T01:33:33.0956815+03:00 0HL80CLR6BBIF [INF] Request finished in 28.0754ms 204  (15c52c40)
2017-09-22T01:33:33.1792379+03:00 0HL80CLR6BBIG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T01:33:33.1852415+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:33.1852415+03:00 0HL80CLR6BBIG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T01:33:33.1852415+03:00 0HL80CLR6BBIG [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T01:33:33.2187632+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:33:33.6015175+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:33:33.7681283+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:33:33.7826377+03:00 0HL80CLR6BBIH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:33:33.9662602+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:33:33.9782674+03:00 0HL80CLR6BBIH [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:33.9782674+03:00 0HL80CLR6BBIH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:33:34.0523178+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:33:34.0528171+03:00 0HL80CLR6BBIH [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:33:34.0533176+03:00 0HL80CLR6BBIH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:33:34.0538178+03:00 0HL80CLR6BBIH [INF] Request finished in 318.8779ms 200 application/json (15c52c40)
2017-09-22T01:33:34.1513828+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:33:34.2769667+03:00 0HL80CLR6BBIG [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:33:34.2774665+03:00 0HL80CLR6BBIG [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T01:33:34.3290021+03:00 0HL80CLR6BBIG [INF] Request finished in 1181.4356ms 200 application/json (15c52c40)
2017-09-22T01:33:36.8596810+03:00 0HL80CLR6BBII [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:33:36.8631835+03:00 0HL80CLR6BBII [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:36.8631835+03:00 0HL80CLR6BBII [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:33:36.8907008+03:00 0HL80CLR6BBII [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:33:36.8912017+03:00 0HL80CLR6BBII [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:33:36.8922024+03:00 0HL80CLR6BBII [INF] Request finished in 32.6958ms 200 application/json (15c52c40)
2017-09-22T01:33:39.1870660+03:00 0HL80CLR6BBIJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:33:39.1965721+03:00 0HL80CLR6BBIJ [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:33:39.1970726+03:00 0HL80CLR6BBIJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:33:39.2280932+03:00 0HL80CLR6BBIJ [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:33:39.2285934+03:00 0HL80CLR6BBIJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:33:39.2300942+03:00 0HL80CLR6BBIJ [INF] Request finished in 42.5864ms 200 application/json (15c52c40)
2017-09-22T01:43:11.5968374+03:00 0HL80CLR6BBIK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54769081078918691506033788649&state=15060337886490.4848864083280888   (e5be5b71)
2017-09-22T01:43:12.5238450+03:00 0HL80CLR6BBIL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48403256588992851506033792471&state=15060337924710.02244650892624489   (e5be5b71)
2017-09-22T01:43:15.1775970+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (231ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:15.1780971+03:00 0HL80CLR6BBIL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:43:15.1785976+03:00 0HL80CLR6BBIL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.1785976+03:00 0HL80CLR6BBIL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:43:15.1790982+03:00 0HL80CLR6BBIL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.1795987+03:00 0HL80CLR6BBIL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.1795987+03:00 0HL80CLR6BBIL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060337924710.02244650892624489\",
  \"Nonce\": \"N0.48403256588992851506033792471\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48403256588992851506033792471\",
    \"state\": \"15060337924710.02244650892624489\"
  }
}" (9a175e33)
2017-09-22T01:43:15.3071840+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (365ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:15.3076841+03:00 0HL80CLR6BBIK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:43:15.3081839+03:00 0HL80CLR6BBIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.3081839+03:00 0HL80CLR6BBIK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:43:15.3086844+03:00 0HL80CLR6BBIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.3091849+03:00 0HL80CLR6BBIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:15.3091849+03:00 0HL80CLR6BBIK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060337886490.4848864083280888\",
  \"Nonce\": \"N0.54769081078918691506033788649\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54769081078918691506033788649\",
    \"state\": \"15060337886490.4848864083280888\"
  }
}" (9a175e33)
2017-09-22T01:43:16.4926124+03:00 0HL80CLR6BBIM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2088905174951311506033796469&state=15060337964690.8712802893463241   (e5be5b71)
2017-09-22T01:43:16.4991150+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:16.4996151+03:00 0HL80CLR6BBIM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:43:16.5001156+03:00 0HL80CLR6BBIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.5001156+03:00 0HL80CLR6BBIM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:43:16.5021173+03:00 0HL80CLR6BBIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.5026171+03:00 0HL80CLR6BBIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.5031180+03:00 0HL80CLR6BBIM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060337964690.8712802893463241\",
  \"Nonce\": \"N0.2088905174951311506033796469\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2088905174951311506033796469\",
    \"state\": \"15060337964690.8712802893463241\"
  }
}" (9a175e33)
2017-09-22T01:43:16.5275741+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (1,215ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:16.5280750+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (21ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:16.5450867+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (1,362ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:16.6836793+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (140ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7177019+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7187018+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (146ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7192023+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:16.7207031+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:16.7277074+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:16.7287088+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:16.7302096+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:16.7417171+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:16.7422176+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:16.7437188+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:16.7512240+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:16.7542259+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7557327+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7702362+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:16.7777414+03:00 0HL80CLR6BBIM [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:16.7782411+03:00 0HL80CLR6BBIK [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:16.8027576+03:00 0HL80CLR6BBIK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060337886490.4848864083280888\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:43:16.8132644+03:00 0HL80CLR6BBIM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060337964690.8712802893463241\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:43:16.8192691+03:00 0HL80CLR6BBIK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.8237715+03:00 0HL80CLR6BBIK [INF] Request finished in 5223.3613ms 302  (15c52c40)
2017-09-22T01:43:16.8272740+03:00 0HL80CLR6BBIM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.8422840+03:00 0HL80CLR6BBIL [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:16.8427838+03:00 0HL80CLR6BBIM [INF] Request finished in 335.3974ms 302  (15c52c40)
2017-09-22T01:43:16.8828131+03:00 0HL80CLR6BBIL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060337924710.02244650892624489\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:43:16.8913166+03:00 0HL80CLR6BBIL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:16.8928174+03:00 0HL80CLR6BBIL [INF] Request finished in 4368.5069ms 302  (15c52c40)
2017-09-22T01:43:21.0293179+03:00 0HL80CLR6BBIN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56632150521376131506033800847&state=15060338008470.8041075643842561   (e5be5b71)
2017-09-22T01:43:21.0338258+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:21.0338258+03:00 0HL80CLR6BBIN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:43:21.0348253+03:00 0HL80CLR6BBIN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:21.0348253+03:00 0HL80CLR6BBIN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:43:21.0358263+03:00 0HL80CLR6BBIN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:21.0368270+03:00 0HL80CLR6BBIN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:21.0368270+03:00 0HL80CLR6BBIN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060338008470.8041075643842561\",
  \"Nonce\": \"N0.56632150521376131506033800847\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56632150521376131506033800847\",
    \"state\": \"15060338008470.8041075643842561\"
  }
}" (9a175e33)
2017-09-22T01:43:21.0438316+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:21.0628443+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:21.0648460+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:21.0688478+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:21.0768536+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:21.0878613+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:21.0908629+03:00 0HL80CLR6BBIN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:21.1153841+03:00 0HL80CLR6BBIN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060338008470.8041075643842561\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:43:21.1218882+03:00 0HL80CLR6BBIN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:21.1228889+03:00 0HL80CLR6BBIN [INF] Request finished in 93.4509ms 302  (15c52c40)
2017-09-22T01:43:27.0197956+03:00 0HL80CLR6BBIO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:43:27.0232981+03:00 0HL80CLR6BBIO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:27.0232981+03:00 0HL80CLR6BBIO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:43:27.0263020+03:00 0HL80CLR6BBIO [INF] Request finished in 7.007ms 200 application/json (15c52c40)
2017-09-22T01:43:28.2401063+03:00 0HL80CLR6BBIP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:43:28.2426070+03:00 0HL80CLR6BBIP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:28.2431075+03:00 0HL80CLR6BBIP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:43:28.2701262+03:00 0HL80CLR6BBIP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:28.2706268+03:00 0HL80CLR6BBIP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:43:28.2711265+03:00 0HL80CLR6BBIP [INF] Request finished in 31.3971ms 200 application/json (15c52c40)
2017-09-22T01:43:28.3621862+03:00 0HL80CLR6BBIQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.164168100415527321506033807893&state=15060338078930.40467419324117615   (e5be5b71)
2017-09-22T01:43:28.3661920+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:28.3671911+03:00 0HL80CLR6BBIQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:43:28.3676908+03:00 0HL80CLR6BBIQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:28.3681914+03:00 0HL80CLR6BBIQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:43:28.3686919+03:00 0HL80CLR6BBIQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:28.3696918+03:00 0HL80CLR6BBIQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:28.3706928+03:00 0HL80CLR6BBIQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060338078930.40467419324117615\",
  \"Nonce\": \"N0.164168100415527321506033807893\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.164168100415527321506033807893\",
    \"state\": \"15060338078930.40467419324117615\"
  }
}" (9a175e33)
2017-09-22T01:43:28.3756957+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:28.3947088+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:28.3967101+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:28.3987110+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:28.4037140+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:28.4082171+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:28.4102185+03:00 0HL80CLR6BBIQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:28.4342352+03:00 0HL80CLR6BBIQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060338078930.40467419324117615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:43:28.4352351+03:00 0HL80CLR6BBIQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:43:28.4362361+03:00 0HL80CLR6BBIQ [INF] Request finished in 74.0365ms 302  (15c52c40)
2017-09-22T01:43:33.9022998+03:00 0HL80CLR6BBIR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:43:33.9053061+03:00 0HL80CLR6BBIR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:33.9053061+03:00 0HL80CLR6BBIR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:43:33.9063028+03:00 0HL80CLR6BBIR [INF] Request finished in 4.1731ms 200 application/json (15c52c40)
2017-09-22T01:43:34.0313950+03:00 0HL80CLR6BBIS [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T01:43:34.0344001+03:00 0HL80CLR6BBIS [INF] Request finished in 5.19ms 204  (15c52c40)
2017-09-22T01:43:34.1254645+03:00 0HL80CLR6BBIT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T01:43:34.1284661+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:34.1284661+03:00 0HL80CLR6BBIT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T01:43:34.1284661+03:00 0HL80CLR6BBIT [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T01:43:34.1484794+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:34.1534831+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:34.1554888+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:43:34.1574901+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:43:34.1604917+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:43:34.1634941+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:43:34.1674980+03:00 0HL80CLR6BBIT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:43:34.1674980+03:00 0HL80CLR6BBIT [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T01:43:34.1684990+03:00 0HL80CLR6BBIT [INF] Request finished in 42.7293ms 200 application/json (15c52c40)
2017-09-22T01:43:34.1865137+03:00 0HL80CLR6BBIU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:43:34.1885155+03:00 0HL80CLR6BBIU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:43:34.1885155+03:00 0HL80CLR6BBIU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:43:34.2085295+03:00 0HL80CLR6BBIU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:43:34.2095298+03:00 0HL80CLR6BBIU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:43:34.2095298+03:00 0HL80CLR6BBIU [INF] Request finished in 23.6922ms 200 application/json (15c52c40)
2017-09-22T01:48:30.5048028+03:00 0HL80CLR6BBIV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.09345977700077081506034110469&state=15060341104690.7216984803936586   (e5be5b71)
2017-09-22T01:48:30.5088050+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:48:30.5098065+03:00 0HL80CLR6BBIV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:48:30.5108067+03:00 0HL80CLR6BBIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:48:30.5108067+03:00 0HL80CLR6BBIV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:48:30.5118074+03:00 0HL80CLR6BBIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:48:30.5128081+03:00 0HL80CLR6BBIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:48:30.5128081+03:00 0HL80CLR6BBIV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060341104690.7216984803936586\",
  \"Nonce\": \"N0.09345977700077081506034110469\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.09345977700077081506034110469\",
    \"state\": \"15060341104690.7216984803936586\"
  }
}" (9a175e33)
2017-09-22T01:48:30.5168107+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:48:30.5248184+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:48:30.5268193+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:48:30.5288183+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:48:30.5308192+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:48:30.5328241+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:48:30.5358234+03:00 0HL80CLR6BBIV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:48:30.5503411+03:00 0HL80CLR6BBIV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060341104690.7216984803936586\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:48:30.5513429+03:00 0HL80CLR6BBIV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:48:30.5518415+03:00 0HL80CLR6BBIV [INF] Request finished in 47.8357ms 302  (15c52c40)
2017-09-22T01:48:35.2790801+03:00 0HL80CLR6BBJ0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:48:35.2820817+03:00 0HL80CLR6BBJ0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:48:35.2820817+03:00 0HL80CLR6BBJ0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:48:35.2830824+03:00 0HL80CLR6BBJ0 [INF] Request finished in 3.9233ms 200 application/json (15c52c40)
2017-09-22T01:48:35.8429945+03:00 0HL80CLR6BBJ1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:48:35.8610065+03:00 0HL80CLR6BBJ1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:48:35.8610065+03:00 0HL80CLR6BBJ1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:48:35.8880240+03:00 0HL80CLR6BBJ1 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:48:35.8885250+03:00 0HL80CLR6BBJ1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:48:35.8890251+03:00 0HL80CLR6BBJ1 [INF] Request finished in 47.5376ms 200 application/json (15c52c40)
2017-09-22T01:48:36.8542221+03:00 0HL80CLR6BBJ2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:48:36.8572233+03:00 0HL80CLR6BBJ2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:48:36.8572233+03:00 0HL80CLR6BBJ2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:48:36.8712389+03:00 0HL80CLR6BBJ2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:48:36.8717399+03:00 0HL80CLR6BBJ2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:48:36.8722388+03:00 0HL80CLR6BBJ2 [INF] Request finished in 17.6709ms 200 application/json (15c52c40)
2017-09-22T01:57:29.4581094+03:00 0HL80CLR6BBJ3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:57:29.5621785+03:00 0HL80CLR6BBJ4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:57:29.8013373+03:00 0HL80CLR6BBJ3 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:57:29.8018374+03:00 0HL80CLR6BBJ3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:57:29.8223513+03:00 0HL80CLR6BBJ4 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:57:29.8223513+03:00 0HL80CLR6BBJ4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:57:29.8218507+03:00 0HL80CLR6BBJ3 [INF] Request finished in 447.8136ms 200 application/json (15c52c40)
2017-09-22T01:57:29.8964004+03:00 0HL80CLR6BBJ4 [INF] Executed DbCommand (47ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:57:29.8964004+03:00 0HL80CLR6BBJ4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:57:29.8974011+03:00 0HL80CLR6BBJ4 [INF] Request finished in 335.4996ms 200 application/json (15c52c40)
2017-09-22T01:58:32.1906542+03:00 0HL80CLR6BBJ5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92759865560593591506034712182&state=15060347121820.5076250195488146   (e5be5b71)
2017-09-22T01:58:32.1946580+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:32.2016611+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:58:32.2692101+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:58:32.2737132+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:58:32.2792171+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:58:32.2847241+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:58:32.2847241+03:00 0HL80CLR6BBJ5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:58:32.2917291+03:00 0HL80CLR6BBJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:58:32.2927298+03:00 0HL80CLR6BBJ5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T01:58:32.2927298+03:00 0HL80CLR6BBJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:58:32.2937305+03:00 0HL80CLR6BBJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:58:32.2937305+03:00 0HL80CLR6BBJ5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060347121820.5076250195488146\",
  \"Nonce\": \"N0.92759865560593591506034712182\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92759865560593591506034712182\",
    \"state\": \"15060347121820.5076250195488146\"
  }
}" (9a175e33)
2017-09-22T01:58:32.3227501+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:58:32.3247515+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:58:32.3287537+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:58:32.3317553+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:58:32.3407613+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:58:32.3557717+03:00 0HL80CLR6BBJ5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:58:32.3792906+03:00 0HL80CLR6BBJ5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060347121820.5076250195488146\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T01:58:32.3802917+03:00 0HL80CLR6BBJ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:58:32.3812924+03:00 0HL80CLR6BBJ5 [INF] Request finished in 191.5488ms 302  (15c52c40)
2017-09-22T01:58:39.7778239+03:00 0HL80CLR6BBJ6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T01:58:39.7808263+03:00 0HL80CLR6BBJ6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:39.7818261+03:00 0HL80CLR6BBJ6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T01:58:39.7818261+03:00 0HL80CLR6BBJ6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T01:58:39.7828264+03:00 0HL80CLR6BBJ6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T01:58:39.7848289+03:00 0HL80CLR6BBJ6 [INF] Request finished in 5.0771ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T01:58:40.1720979+03:00 0HL80CLR6BBJ7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T01:58:40.1750995+03:00 0HL80CLR6BBJ7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:40.1750995+03:00 0HL80CLR6BBJ7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T01:58:40.1761001+03:00 0HL80CLR6BBJ7 [INF] Request finished in 3.915ms 200 application/json (15c52c40)
2017-09-22T01:58:40.7444779+03:00 0HL80CLR6BBJ8 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T01:58:40.7449780+03:00 0HL80CLR6BBJ8 [INF] Request finished in 1.0192ms 204  (15c52c40)
2017-09-22T01:58:40.9040836+03:00 0HL80CLR6BBJ9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T01:58:40.9070856+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:40.9070856+03:00 0HL80CLR6BBJ9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T01:58:40.9070856+03:00 0HL80CLR6BBJ9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T01:58:40.9321018+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:58:40.9371055+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:58:40.9401075+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T01:58:40.9421089+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T01:58:40.9451109+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T01:58:40.9621218+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T01:58:40.9701267+03:00 0HL80CLR6BBJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T01:58:40.9706288+03:00 0HL80CLR6BBJ9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T01:58:40.9731295+03:00 0HL80CLR6BBJ9 [INF] Request finished in 67.4147ms 200 application/json (15c52c40)
2017-09-22T01:58:41.0261643+03:00 0HL80CLR6BBJA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:58:41.0291671+03:00 0HL80CLR6BBJA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:41.0291671+03:00 0HL80CLR6BBJA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:58:41.0566847+03:00 0HL80CLR6BBJA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:58:41.0571853+03:00 0HL80CLR6BBJA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:58:41.0576858+03:00 0HL80CLR6BBJA [INF] Request finished in 32.3441ms 200 application/json (15c52c40)
2017-09-22T01:58:43.1932271+03:00 0HL80CLR6BBJB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:58:43.1952284+03:00 0HL80CLR6BBJB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:43.1952284+03:00 0HL80CLR6BBJB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:58:43.2242516+03:00 0HL80CLR6BBJB [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:58:43.2247517+03:00 0HL80CLR6BBJB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:58:43.2297563+03:00 0HL80CLR6BBJB [INF] Request finished in 32.7562ms 200 application/json (15c52c40)
2017-09-22T01:58:45.0314250+03:00 0HL80CLR6BBJC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:58:45.0394299+03:00 0HL80CLR6BBJC [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:58:45.0399304+03:00 0HL80CLR6BBJC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:58:45.0964674+03:00 0HL80CLR6BBJC [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:58:45.0969687+03:00 0HL80CLR6BBJC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:58:45.1049744+03:00 0HL80CLR6BBJC [INF] Request finished in 67.0859ms 200 application/json (15c52c40)
2017-09-22T01:59:08.1104992+03:00 0HL80CLR6BBJD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:59:08.1340146+03:00 0HL80CLR6BBJD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:59:08.1340146+03:00 0HL80CLR6BBJD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:59:08.1755420+03:00 0HL80CLR6BBJD [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:59:08.1760421+03:00 0HL80CLR6BBJD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:59:08.1780434+03:00 0HL80CLR6BBJD [INF] Request finished in 66.8893ms 200 application/json (15c52c40)
2017-09-22T01:59:25.1623324+03:00 0HL80CLR6BBJE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:59:25.1658353+03:00 0HL80CLR6BBJE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:59:25.1658353+03:00 0HL80CLR6BBJE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:59:25.1908515+03:00 0HL80CLR6BBJE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:59:25.1908515+03:00 0HL80CLR6BBJE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:59:25.1923527+03:00 0HL80CLR6BBJE [INF] Request finished in 30.4979ms 200 application/json (15c52c40)
2017-09-22T01:59:25.2664011+03:00 0HL80CLR6BBJF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T01:59:25.2724055+03:00 0HL80CLR6BBJF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T01:59:25.2724055+03:00 0HL80CLR6BBJF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T01:59:25.3164343+03:00 0HL80CLR6BBJF [INF] Executed DbCommand (17ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T01:59:25.3169348+03:00 0HL80CLR6BBJF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T01:59:25.3179359+03:00 0HL80CLR6BBJF [INF] Request finished in 52.0266ms 200 application/json (15c52c40)
2017-09-22T02:03:26.7212498+03:00 0HL80CLR6BBJG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:03:26.9921602+03:00 0HL80CLR6BBJG [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:26.9921602+03:00 0HL80CLR6BBJG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:03:27.0597088+03:00 0HL80CLR6BBJG [INF] Executed DbCommand (48ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:27.0602098+03:00 0HL80CLR6BBJG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:03:27.0607103+03:00 0HL80CLR6BBJG [INF] Request finished in 339.9203ms 200 application/json (15c52c40)
2017-09-22T02:03:32.5576761+03:00 0HL80CLR6BBJH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73802693451399561506035012512&state=15060350125120.2956076331226334   (e5be5b71)
2017-09-22T02:03:32.5601776+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:32.5606781+03:00 0HL80CLR6BBJH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:03:32.5606781+03:00 0HL80CLR6BBJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:32.5611783+03:00 0HL80CLR6BBJH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:03:32.5611783+03:00 0HL80CLR6BBJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:32.5616784+03:00 0HL80CLR6BBJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:32.5621793+03:00 0HL80CLR6BBJH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060350125120.2956076331226334\",
  \"Nonce\": \"N0.73802693451399561506035012512\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73802693451399561506035012512\",
    \"state\": \"15060350125120.2956076331226334\"
  }
}" (9a175e33)
2017-09-22T02:03:32.5651809+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:32.6467396+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:32.6507426+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:03:32.6552498+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:03:32.6592524+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:03:32.6612534+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:32.6652564+03:00 0HL80CLR6BBJH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:03:32.6877747+03:00 0HL80CLR6BBJH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060350125120.2956076331226334\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:03:32.6887766+03:00 0HL80CLR6BBJH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:32.6887766+03:00 0HL80CLR6BBJH [INF] Request finished in 131.9787ms 302  (15c52c40)
2017-09-22T02:03:36.6359668+03:00 0HL80CLR6BBJI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63643747015670731506035016531&state=15060350165310.09448906852366523   (e5be5b71)
2017-09-22T02:03:36.6384682+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:36.6389688+03:00 0HL80CLR6BBJI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:03:36.6394689+03:00 0HL80CLR6BBJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:36.6394689+03:00 0HL80CLR6BBJI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:03:36.6399694+03:00 0HL80CLR6BBJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:36.6404692+03:00 0HL80CLR6BBJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:36.6404692+03:00 0HL80CLR6BBJI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060350165310.09448906852366523\",
  \"Nonce\": \"N0.63643747015670731506035016531\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63643747015670731506035016531\",
    \"state\": \"15060350165310.09448906852366523\"
  }
}" (9a175e33)
2017-09-22T02:03:36.6439717+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:36.6564802+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:36.6594822+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:03:36.6614839+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:03:36.6669881+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:03:36.6729917+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:36.6789949+03:00 0HL80CLR6BBJI [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:03:36.7075145+03:00 0HL80CLR6BBJI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060350165310.09448906852366523\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:03:36.7085155+03:00 0HL80CLR6BBJI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:36.7095154+03:00 0HL80CLR6BBJI [INF] Request finished in 73.4902ms 302  (15c52c40)
2017-09-22T02:03:41.4253978+03:00 0HL80CLR6BBJJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T02:03:41.4288991+03:00 0HL80CLR6BBJJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:41.4288991+03:00 0HL80CLR6BBJJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T02:03:41.4298998+03:00 0HL80CLR6BBJJ [INF] Request finished in 4.8347ms 200 application/json (15c52c40)
2017-09-22T02:03:41.7391351+03:00 0HL80CLR6BBJK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:03:41.7431377+03:00 0HL80CLR6BBJK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:41.7431377+03:00 0HL80CLR6BBJK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:03:41.7701553+03:00 0HL80CLR6BBJK [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:41.7701553+03:00 0HL80CLR6BBJK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:03:41.7731573+03:00 0HL80CLR6BBJK [INF] Request finished in 32.2916ms 200 application/json (15c52c40)
2017-09-22T02:03:41.9352692+03:00 0HL80CLR6BBJL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82389464403937171506035021582&state=15060350215820.49518093142365327   (e5be5b71)
2017-09-22T02:03:41.9382716+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:41.9387717+03:00 0HL80CLR6BBJL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:03:41.9387717+03:00 0HL80CLR6BBJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:41.9392719+03:00 0HL80CLR6BBJL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:03:41.9392719+03:00 0HL80CLR6BBJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:41.9402725+03:00 0HL80CLR6BBJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:41.9402725+03:00 0HL80CLR6BBJL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060350215820.49518093142365327\",
  \"Nonce\": \"N0.82389464403937171506035021582\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82389464403937171506035021582\",
    \"state\": \"15060350215820.49518093142365327\"
  }
}" (9a175e33)
2017-09-22T02:03:41.9432745+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:41.9552833+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:41.9572842+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:03:41.9597865+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:03:41.9642893+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:03:41.9672913+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:41.9697927+03:00 0HL80CLR6BBJL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:03:41.9928080+03:00 0HL80CLR6BBJL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060350215820.49518093142365327\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:03:41.9933085+03:00 0HL80CLR6BBJL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:03:41.9943088+03:00 0HL80CLR6BBJL [INF] Request finished in 59.4931ms 302  (15c52c40)
2017-09-22T02:03:45.1227535+03:00 0HL80CLR6BBJM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T02:03:45.1252553+03:00 0HL80CLR6BBJM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:45.1252553+03:00 0HL80CLR6BBJM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T02:03:45.1262556+03:00 0HL80CLR6BBJM [INF] Request finished in 3.4097ms 200 application/json (15c52c40)
2017-09-22T02:03:45.4154618+03:00 0HL80CLR6BBJN [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T02:03:45.4159615+03:00 0HL80CLR6BBJN [INF] Request finished in 1.0219ms 204  (15c52c40)
2017-09-22T02:03:45.4860084+03:00 0HL80CLR6BBJO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:03:45.4890104+03:00 0HL80CLR6BBJO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:45.4895106+03:00 0HL80CLR6BBJO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:03:45.5185298+03:00 0HL80CLR6BBJO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:45.5190304+03:00 0HL80CLR6BBJO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:03:45.5245338+03:00 0HL80CLR6BBJO [INF] Request finished in 34.1678ms 200 application/json (15c52c40)
2017-09-22T02:03:46.2975468+03:00 0HL80CLR6BBJP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T02:03:46.3005492+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:46.3005492+03:00 0HL80CLR6BBJP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T02:03:46.3005492+03:00 0HL80CLR6BBJP [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T02:03:46.3265661+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:46.3290675+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:46.3305683+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:03:46.3325701+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:03:46.3355721+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:03:46.3380735+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:03:46.3405758+03:00 0HL80CLR6BBJP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:03:46.3405758+03:00 0HL80CLR6BBJP [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T02:03:46.3415768+03:00 0HL80CLR6BBJP [INF] Request finished in 43.876ms 200 application/json (15c52c40)
2017-09-22T02:03:55.0177323+03:00 0HL80CLR6BBJQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:03:55.0197340+03:00 0HL80CLR6BBJQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:55.0207346+03:00 0HL80CLR6BBJQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:03:55.1042943+03:00 0HL80CLR6BBJQ [INF] Executed DbCommand (39ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:55.1047956+03:00 0HL80CLR6BBJQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:03:55.1148058+03:00 0HL80CLR6BBJQ [INF] Request finished in 88.6896ms 200 application/json (15c52c40)
2017-09-22T02:03:59.1514952+03:00 0HL80CLR6BBJR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:03:59.1554975+03:00 0HL80CLR6BBJR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:03:59.1554975+03:00 0HL80CLR6BBJR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:03:59.1855174+03:00 0HL80CLR6BBJR [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:03:59.1860179+03:00 0HL80CLR6BBJR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:03:59.1870182+03:00 0HL80CLR6BBJR [INF] Request finished in 37.3703ms 200 application/json (15c52c40)
2017-09-22T02:07:07.7925915+03:00 0HL80CLR6BBJS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:07.7965933+03:00 0HL80CLR6BBJS [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:07.7970939+03:00 0HL80CLR6BBJS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:07.8276139+03:00 0HL80CLR6BBJS [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:07.8281145+03:00 0HL80CLR6BBJS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:07.8326172+03:00 0HL80CLR6BBJS [INF] Request finished in 40.4043ms 200 application/json (15c52c40)
2017-09-22T02:07:10.2347564+03:00 0HL80CLR6BBJT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:10.2382585+03:00 0HL80CLR6BBJT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:10.2382585+03:00 0HL80CLR6BBJT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:10.2652769+03:00 0HL80CLR6BBJT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:10.2657774+03:00 0HL80CLR6BBJT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:10.2662779+03:00 0HL80CLR6BBJT [INF] Request finished in 32.3358ms 200 application/json (15c52c40)
2017-09-22T02:07:12.2486599+03:00 0HL80CLR6BBJU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:12.2536636+03:00 0HL80CLR6BBJU [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:12.2536636+03:00 0HL80CLR6BBJU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:12.2866848+03:00 0HL80CLR6BBJU [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:12.2866848+03:00 0HL80CLR6BBJU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:12.2876858+03:00 0HL80CLR6BBJU [INF] Request finished in 39.7139ms 200 application/json (15c52c40)
2017-09-22T02:07:12.5033324+03:00 0HL80CLR6BBJV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:12.5058338+03:00 0HL80CLR6BBJV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:12.5063347+03:00 0HL80CLR6BBJV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:12.5298498+03:00 0HL80CLR6BBJV [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:12.5303499+03:00 0HL80CLR6BBJV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:12.5308504+03:00 0HL80CLR6BBJV [INF] Request finished in 28.3991ms 200 application/json (15c52c40)
2017-09-22T02:07:14.3734027+03:00 0HL80CLR6BBK0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:14.3754040+03:00 0HL80CLR6BBK0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:14.3754040+03:00 0HL80CLR6BBK0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:14.3964176+03:00 0HL80CLR6BBK0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:14.3964176+03:00 0HL80CLR6BBK0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:14.3964176+03:00 0HL80CLR6BBK0 [INF] Request finished in 23.9377ms 200 application/json (15c52c40)
2017-09-22T02:07:20.3192156+03:00 0HL80CLR6BBK1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:07:20.3227178+03:00 0HL80CLR6BBK1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:07:20.3227178+03:00 0HL80CLR6BBK1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:07:20.3547394+03:00 0HL80CLR6BBK1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:07:20.3552400+03:00 0HL80CLR6BBK1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:07:20.3582412+03:00 0HL80CLR6BBK1 [INF] Request finished in 43.5042ms 200 application/json (15c52c40)
2017-09-22T02:08:23.7818415+03:00 0HL80CLR6BBK2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:08:23.7848439+03:00 0HL80CLR6BBK2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:23.7853440+03:00 0HL80CLR6BBK2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:08:23.8113613+03:00 0HL80CLR6BBK2 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:23.8118618+03:00 0HL80CLR6BBK2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:08:23.8138632+03:00 0HL80CLR6BBK2 [INF] Request finished in 31.1042ms 200 application/json (15c52c40)
2017-09-22T02:08:26.3658541+03:00 0HL80CLR6BBK3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:08:26.3678554+03:00 0HL80CLR6BBK3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:26.3678554+03:00 0HL80CLR6BBK3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:08:26.3848671+03:00 0HL80CLR6BBK3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:26.3858666+03:00 0HL80CLR6BBK3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:08:26.3858666+03:00 0HL80CLR6BBK3 [INF] Request finished in 20.5288ms 200 application/json (15c52c40)
2017-09-22T02:08:41.5937869+03:00 0HL80CLR6BBK4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55468285338845871506035321552&state=15060353215520.4849477184205466   (e5be5b71)
2017-09-22T02:08:41.5967877+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:41.5977888+03:00 0HL80CLR6BBK4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:08:41.5977888+03:00 0HL80CLR6BBK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:41.5977888+03:00 0HL80CLR6BBK4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:08:41.5987894+03:00 0HL80CLR6BBK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:41.5997889+03:00 0HL80CLR6BBK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:41.5997889+03:00 0HL80CLR6BBK4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060353215520.4849477184205466\",
  \"Nonce\": \"N0.55468285338845871506035321552\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55468285338845871506035321552\",
    \"state\": \"15060353215520.4849477184205466\"
  }
}" (9a175e33)
2017-09-22T02:08:41.6087949+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:41.6218035+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:41.6248055+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:08:41.6288074+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:08:41.6308087+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:08:41.6338115+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:41.6378149+03:00 0HL80CLR6BBK4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:08:41.6568260+03:00 0HL80CLR6BBK4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060353215520.4849477184205466\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:08:41.6578274+03:00 0HL80CLR6BBK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:41.6588281+03:00 0HL80CLR6BBK4 [INF] Request finished in 65.1521ms 302  (15c52c40)
2017-09-22T02:08:44.5867842+03:00 0HL80CLR6BBK5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.35901737713654661506035324552&state=15060353245520.9697476916762171   (e5be5b71)
2017-09-22T02:08:44.5927878+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:44.5937889+03:00 0HL80CLR6BBK5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:08:44.5942894+03:00 0HL80CLR6BBK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.5952897+03:00 0HL80CLR6BBK5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:08:44.6078029+03:00 0HL80CLR6BBK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.6088036+03:00 0HL80CLR6BBK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.6098038+03:00 0HL80CLR6BBK5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060353245520.9697476916762171\",
  \"Nonce\": \"N0.35901737713654661506035324552\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.35901737713654661506035324552\",
    \"state\": \"15060353245520.9697476916762171\"
  }
}" (9a175e33)
2017-09-22T02:08:44.6138065+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:44.6418251+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:44.6708444+03:00 0HL80CLR6BBK6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.050149664019973671506035324596&state=15060353245960.014655891650791952   (e5be5b71)
2017-09-22T02:08:44.6708444+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:08:44.6858598+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:08:44.7028707+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:08:44.7038718+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:44.7063741+03:00 0HL80CLR6BBK6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T02:08:44.7138777+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:44.7138777+03:00 0HL80CLR6BBK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.7138777+03:00 0HL80CLR6BBK6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T02:08:44.7143786+03:00 0HL80CLR6BBK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.7153789+03:00 0HL80CLR6BBK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.7153789+03:00 0HL80CLR6BBK6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060353245960.014655891650791952\",
  \"Nonce\": \"N0.050149664019973671506035324596\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.050149664019973671506035324596\",
    \"state\": \"15060353245960.014655891650791952\"
  }
}" (9a175e33)
2017-09-22T02:08:44.7318900+03:00 0HL80CLR6BBK5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:08:44.7448987+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:44.7604095+03:00 0HL80CLR6BBK5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060353245520.9697476916762171\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:08:44.7629106+03:00 0HL80CLR6BBK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.7639113+03:00 0HL80CLR6BBK5 [INF] Request finished in 178.6633ms 302  (15c52c40)
2017-09-22T02:08:44.7654121+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:44.7679139+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T02:08:44.7719170+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T02:08:44.7794222+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T02:08:44.7814227+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T02:08:44.7839250+03:00 0HL80CLR6BBK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T02:08:44.8079397+03:00 0HL80CLR6BBK6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060353245960.014655891650791952\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T02:08:44.8084406+03:00 0HL80CLR6BBK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T02:08:44.8094417+03:00 0HL80CLR6BBK6 [INF] Request finished in 163.156ms 302  (15c52c40)
2017-09-22T02:08:47.9867298+03:00 0HL80CLR6BBK7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T02:08:47.9967361+03:00 0HL80CLR6BBK7 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:47.9967361+03:00 0HL80CLR6BBK7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T02:08:48.0087444+03:00 0HL80CLR6BBK7 [INF] Request finished in 11.2441ms 200 application/json (15c52c40)
2017-09-22T02:08:48.2584218+03:00 0HL80CLR6BBK8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:08:48.2619244+03:00 0HL80CLR6BBK8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:48.2624245+03:00 0HL80CLR6BBK8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:08:48.3004493+03:00 0HL80CLR6BBK8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:48.3009511+03:00 0HL80CLR6BBK8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:08:48.3014504+03:00 0HL80CLR6BBK8 [INF] Request finished in 43.6408ms 200 application/json (15c52c40)
2017-09-22T02:08:49.0345841+03:00 0HL80CLR6BBK9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:08:49.0380862+03:00 0HL80CLR6BBK9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:08:49.0380862+03:00 0HL80CLR6BBK9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:08:49.0646040+03:00 0HL80CLR6BBK9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:08:49.0651045+03:00 0HL80CLR6BBK9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:08:49.0666053+03:00 0HL80CLR6BBK9 [INF] Request finished in 32.0192ms 200 application/json (15c52c40)
2017-09-22T02:11:45.7133120+03:00 0HL80CLR6BBKA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T02:11:45.7168141+03:00 0HL80CLR6BBKA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:11:45.7173147+03:00 0HL80CLR6BBKA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T02:11:45.7488358+03:00 0HL80CLR6BBKA [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T02:11:45.7493359+03:00 0HL80CLR6BBKA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T02:11:45.7503366+03:00 0HL80CLR6BBKA [INF] Request finished in 37.4955ms 200 application/json (15c52c40)
2017-09-22T02:11:52.5931008+03:00 0HL80CLR6BBKB [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T02:11:52.6536396+03:00 0HL80CLR6BBKB [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T02:11:52.6536396+03:00 0HL80CLR6BBKB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T02:11:53.2490353+03:00 0HL80CLR6BBKB [INF] Request finished in 684.42ms 200 application/json (15c52c40)
2017-09-22T16:13:36.2523302+03:00  [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation. (553c312b)
2017-09-22T16:13:36.9760924+03:00  [INF] Executed DbCommand (454ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0 (6438bdd5)
2017-09-22T16:13:37.8403569+03:00  [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T16:13:37.9954607+03:00  [WRN] Role "8907067d-64ab-4b67-8cfd-eef38c583523" validation failed: "DuplicateRoleName". (60d773c7)
2017-09-22T16:13:38.0880207+03:00  [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-22T16:13:38.1205421+03:00  [WRN] User "82d7ad7f-e246-48f6-927b-494e6ca93d07" validation failed: "DuplicateUserName". (5dc28e15)
2017-09-22T16:13:38.1285478+03:00  [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-22T16:13:38.1590703+03:00  [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T16:13:38.2010962+03:00  [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[RoleId]
FROM [AspNetUserRoles] AS [e]
WHERE ([e].[UserId] = @__get_Item_0) AND ([e].[RoleId] = @__get_Item_1) (6438bdd5)
2017-09-22T16:13:38.2636383+03:00  [WRN] User "3c7cca64-00cd-49cc-9407-3128eae83098" is already in role "fso.api.user". (337e5c15)
2017-09-22T16:19:47.0264138+03:00 0HL81NICBB9MG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T16:19:47.3938490+03:00 0HL81NICBB9MG [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:19:47.4589005+03:00 0HL81NICBB9MG [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:19:47.6881063+03:00 0HL81NICBB9MG [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T16:19:47.6971135+03:00 0HL81NICBB9MG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T16:19:47.7436481+03:00 0HL81NICBB9MG [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T16:19:47.7841792+03:00 0HL81NICBB9MG [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T16:19:47.8041956+03:00 0HL81NICBB9MG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:19:47.8582335+03:00 0HL81NICBB9MG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:47.8892545+03:00 0HL81NICBB9MG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T16:19:48.0758817+03:00 0HL81NICBB9MG [INF] Request finished in 1074.1569ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T16:19:52.7389085+03:00 0HL81NICBB9MH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6406350846892771506086392713&state=15060863927130.8741216418780768   (e5be5b71)
2017-09-22T16:19:52.7424102+03:00 0HL81NICBB9MH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:19:52.7429108+03:00 0HL81NICBB9MH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:19:52.7439110+03:00 0HL81NICBB9MH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:52.7599264+03:00 0HL81NICBB9MH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T16:19:52.7999518+03:00 0HL81NICBB9MH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:52.9120309+03:00 0HL81NICBB9MH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:53.2378847+03:00 0HL81NICBB9MH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060863927130.8741216418780768\",
  \"Nonce\": \"N0.6406350846892771506086392713\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6406350846892771506086392713\",
    \"state\": \"15060863927130.8741216418780768\"
  }
}" (9a175e33)
2017-09-22T16:19:53.2528939+03:00 0HL81NICBB9MH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:19:53.2739075+03:00 0HL81NICBB9MH [INF] Showing consent: User has not yet consented (07b81e7e)
2017-09-22T16:19:53.2949210+03:00 0HL81NICBB9MH [INF] Request finished in 556.9666ms 302  (15c52c40)
2017-09-22T16:19:53.2979234+03:00 0HL81NICBB9MI [INF] Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fresponse_type%3Did_token%2520token%26client_id%3Dfso.AngularClient%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A65271%26scope%3Dopenid%2520email%2520profile%2520fso.Api%26nonce%3DN0.6406350846892771506086392713%26state%3D15060863927130.8741216418780768   (e5be5b71)
2017-09-22T16:19:53.3009254+03:00 0HL81NICBB9MI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:19:53.3009254+03:00 0HL81NICBB9MI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:19:53.3019257+03:00 0HL81NICBB9MI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:54.0779300+03:00 0HL81NICBB9MI [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6406350846892771506086392713&state=15060863927130.8741216418780768"]) - ModelState is Valid (ba7f4ac2)
2017-09-22T16:19:54.1139539+03:00 0HL81NICBB9MI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:54.1149546+03:00 0HL81NICBB9MI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:19:59.1937323+03:00 0HL81NICBB9MI [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-09-22T16:20:00.7179214+03:00 0HL81NICBB9MI [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 6900.5ms (afa2e885)
2017-09-22T16:20:00.7214235+03:00 0HL81NICBB9MI [INF] Request finished in 7423.7393ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-22T16:20:01.3683915+03:00 0HL81NICBB9MJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   (e5be5b71)
2017-09-22T16:20:01.3683915+03:00 0HL81NICBB9MK [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css   (e5be5b71)
2017-09-22T16:20:01.3758955+03:00 0HL81NICBB9MK [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.3773963+03:00 0HL81NICBB9MK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.3899048+03:00 0HL81NICBB9MK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.4134198+03:00 0HL81NICBB9MJ [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.4154215+03:00 0HL81NICBB9ML [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js   (e5be5b71)
2017-09-22T16:20:01.4154215+03:00 0HL81NICBB9MM [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js   (e5be5b71)
2017-09-22T16:20:01.4159221+03:00 0HL81NICBB9MN [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo   (e5be5b71)
2017-09-22T16:20:01.4254286+03:00 0HL81NICBB9MJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.4279300+03:00 0HL81NICBB9MN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.4279300+03:00 0HL81NICBB9MM [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.4344342+03:00 0HL81NICBB9MM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.4344342+03:00 0HL81NICBB9MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.4354348+03:00 0HL81NICBB9ML [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.4369400+03:00 0HL81NICBB9MN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.4384372+03:00 0HL81NICBB9MN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.4394379+03:00 0HL81NICBB9MK [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2017-09-22T16:20:01.4449409+03:00 0HL81NICBB9MJ [INF] Sending file. Request path: '"/css/site.css"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\css\site.css"' (27b0a520)
2017-09-22T16:20:01.4454415+03:00 0HL81NICBB9MM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.4454415+03:00 0HL81NICBB9ML [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.4459416+03:00 0HL81NICBB9ML [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.4474428+03:00 0HL81NICBB9MN [INF] Sending file. Request path: '"/js/site.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.js"' (27b0a520)
2017-09-22T16:20:01.4479429+03:00 0HL81NICBB9ML [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2017-09-22T16:20:01.4484435+03:00 0HL81NICBB9MM [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2017-09-22T16:20:01.4639543+03:00 0HL81NICBB9MN [INF] Request finished in 61.3405ms 200 application/javascript (15c52c40)
2017-09-22T16:20:01.4649542+03:00 0HL81NICBB9MJ [INF] Request finished in 96.3002ms 200 text/css (15c52c40)
2017-09-22T16:20:01.4734601+03:00 0HL81NICBB9ML [INF] Request finished in 64.0784ms 200 application/javascript (15c52c40)
2017-09-22T16:20:01.4924723+03:00 0HL81NICBB9MK [INF] Request finished in 110.2676ms 200 text/css (15c52c40)
2017-09-22T16:20:01.4929728+03:00 0HL81NICBB9MM [INF] Request finished in 88.3407ms 200 application/javascript (15c52c40)
2017-09-22T16:20:01.5024797+03:00 0HL81NICBB9MO [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (e5be5b71)
2017-09-22T16:20:01.5129865+03:00 0HL81NICBB9MO [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:01.5134866+03:00 0HL81NICBB9MO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:01.5229935+03:00 0HL81NICBB9MO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:01.5259959+03:00 0HL81NICBB9MO [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2017-09-22T16:20:01.5274963+03:00 0HL81NICBB9MO [INF] Request finished in 25.3667ms 200 application/font-woff2 (15c52c40)
2017-09-22T16:20:04.6625801+03:00 0HL81NICBB9MP [INF] Request starting HTTP/1.1 POST http://localhost:5000/consent application/x-www-form-urlencoded 675 (e5be5b71)
2017-09-22T16:20:04.6660803+03:00 0HL81NICBB9MP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:04.6670805+03:00 0HL81NICBB9MP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:04.6675815+03:00 0HL81NICBB9MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:04.8431978+03:00 0HL81NICBB9MP [INF] Executing action method "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.ConsentInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-22T16:20:04.8466996+03:00 0HL81NICBB9MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:04.8472001+03:00 0HL81NICBB9MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:04.8537042+03:00 0HL81NICBB9MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:04.8972345+03:00 0HL81NICBB9MP [INF] Executing RedirectResult, redirecting to "/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6406350846892771506086392713&state=15060863927130.8741216418780768". (d98d540e)
2017-09-22T16:20:04.8987353+03:00 0HL81NICBB9MP [INF] Executed action "fso.IdentityProvider.Controllers.ConsentController.Index (fso.IdentityProvider)" in 225.1617ms (afa2e885)
2017-09-22T16:20:04.9002357+03:00 0HL81NICBB9MP [INF] Request finished in 238.0057ms 302  (15c52c40)
2017-09-22T16:20:04.9172466+03:00 0HL81NICBB9MQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/consent?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http%3A%2F%2Flocalhost%3A65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6406350846892771506086392713&state=15060863927130.8741216418780768   (e5be5b71)
2017-09-22T16:20:04.9217498+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:04.9222499+03:00 0HL81NICBB9MQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:04.9227501+03:00 0HL81NICBB9MQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:04.9227501+03:00 0HL81NICBB9MQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/consent" (f7642de5)
2017-09-22T16:20:04.9317568+03:00 0HL81NICBB9MQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:05.0353254+03:00 0HL81NICBB9MQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:05.0358259+03:00 0HL81NICBB9MQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060863927130.8741216418780768\",
  \"Nonce\": \"N0.6406350846892771506086392713\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6406350846892771506086392713\",
    \"state\": \"15060863927130.8741216418780768\"
  }
}" (9a175e33)
2017-09-22T16:20:05.0443314+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:05.0593410+03:00 0HL81NICBB9MQ [INF] User consented to scopes: ["openid", "email", "profile", "fso.Api"] (0f706f38)
2017-09-22T16:20:05.1453985+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T16:20:05.1494007+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T16:20:05.1539055+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T16:20:05.1584067+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T16:20:05.1619088+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T16:20:05.1719155+03:00 0HL81NICBB9MQ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T16:20:05.4947097+03:00 0HL81NICBB9MQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060863927130.8741216418780768\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T16:20:05.5087190+03:00 0HL81NICBB9MQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:05.5182255+03:00 0HL81NICBB9MQ [INF] Request finished in 600.5407ms 302  (15c52c40)
2017-09-22T16:20:13.0478588+03:00 0HL81NICBB9MR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T16:20:13.0503583+03:00 0HL81NICBB9MR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:13.0513585+03:00 0HL81NICBB9MR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:20:13.0513585+03:00 0HL81NICBB9MR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:20:13.0518587+03:00 0HL81NICBB9MR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T16:20:13.0568620+03:00 0HL81NICBB9MR [INF] Request finished in 5.6285ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T16:20:13.0853819+03:00 0HL81NICBB9MS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T16:20:13.1128992+03:00 0HL81NICBB9MS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:13.1179029+03:00 0HL81NICBB9MS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T16:20:13.1674360+03:00 0HL81NICBB9MS [INF] Request finished in 81.8519ms 200 application/json (15c52c40)
2017-09-22T16:20:13.2484902+03:00 0HL81NICBB9MT [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T16:20:13.2840136+03:00 0HL81NICBB9MT [INF] Request finished in 30.342ms 204  (15c52c40)
2017-09-22T16:20:13.3000242+03:00 0HL81NICBB9MU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T16:20:13.3135330+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:13.3160348+03:00 0HL81NICBB9MU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T16:20:13.3325460+03:00 0HL81NICBB9MU [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T16:20:13.4125984+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:13.4406166+03:00 0HL81NICBB9MU [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T16:20:13.4426187+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T16:20:13.4451201+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T16:20:13.4471215+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T16:20:13.4521256+03:00 0HL81NICBB9MU [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T16:20:13.4561271+03:00 0HL81NICBB9MU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T16:20:13.4571277+03:00 0HL81NICBB9MU [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T16:20:13.4821455+03:00 0HL81NICBB9MU [INF] Request finished in 171.2564ms 200 application/json (15c52c40)
2017-09-22T16:20:14.1400817+03:00 0HL81NICBB9MV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-22T16:20:14.1440864+03:00 0HL81NICBB9MV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:14.1445845+03:00 0HL81NICBB9MV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-22T16:20:14.2062381+03:00 0HL81NICBB9MV [INF] Request finished in 66.2952ms 200 application/json (15c52c40)
2017-09-22T16:20:14.3613415+03:00 0HL81NICBB9N0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:20:14.3668445+03:00 0HL81NICBB9N0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:14.3688470+03:00 0HL81NICBB9N0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:20:14.4353910+03:00 0HL81NICBB9N0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:14.4443966+03:00 0HL81NICBB9N0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:20:14.4463987+03:00 0HL81NICBB9N0 [INF] Request finished in 85.4543ms 200 application/json (15c52c40)
2017-09-22T16:20:23.2112402+03:00 0HL81NICBB9N1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:20:23.2142422+03:00 0HL81NICBB9N1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:23.2142422+03:00 0HL81NICBB9N1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:20:23.2512668+03:00 0HL81NICBB9N1 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:23.2522675+03:00 0HL81NICBB9N1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:20:23.2527676+03:00 0HL81NICBB9N1 [INF] Request finished in 41.9236ms 200 application/json (15c52c40)
2017-09-22T16:20:24.2659400+03:00 0HL81NICBB9N2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:20:24.2779484+03:00 0HL81NICBB9N2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:24.2784493+03:00 0HL81NICBB9N2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:20:24.3124715+03:00 0HL81NICBB9N2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:24.3129721+03:00 0HL81NICBB9N2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:20:24.3139731+03:00 0HL81NICBB9N2 [INF] Request finished in 49.9013ms 200 application/json (15c52c40)
2017-09-22T16:20:30.7434626+03:00 0HL81NICBB9N3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:20:30.7459645+03:00 0HL81NICBB9N3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:30.7459645+03:00 0HL81NICBB9N3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:20:30.7689797+03:00 0HL81NICBB9N3 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:30.7694803+03:00 0HL81NICBB9N3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:20:30.7704809+03:00 0HL81NICBB9N3 [INF] Request finished in 27.0617ms 200 application/json (15c52c40)
2017-09-22T16:20:34.2426145+03:00 0HL81NICBB9N4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:20:34.2456169+03:00 0HL81NICBB9N4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:20:34.2456169+03:00 0HL81NICBB9N4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:20:34.2681320+03:00 0HL81NICBB9N4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:20:34.2686322+03:00 0HL81NICBB9N4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:20:34.2691319+03:00 0HL81NICBB9N4 [INF] Request finished in 28.6786ms 200 application/json (15c52c40)
2017-09-22T16:21:44.1073728+03:00 0HL81NICBB9N5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:21:44.1544049+03:00 0HL81NICBB9N5 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:21:44.1549042+03:00 0HL81NICBB9N5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:21:44.1964320+03:00 0HL81NICBB9N5 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:21:44.1974326+03:00 0HL81NICBB9N5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:21:44.2004342+03:00 0HL81NICBB9N5 [INF] Request finished in 350.1827ms 200 application/json (15c52c40)
2017-09-22T16:22:10.3826669+03:00 0HL81NICBB9N6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T16:22:10.3886716+03:00 0HL81NICBB9N6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:22:10.4006792+03:00 0HL81NICBB9N6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T16:22:10.4442095+03:00 0HL81NICBB9N6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T16:22:10.4447092+03:00 0HL81NICBB9N6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T16:22:10.4457091+03:00 0HL81NICBB9N6 [INF] Request finished in 64.7854ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T16:22:11.1116510+03:00 0HL81NICBB9N7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:22:11.1286623+03:00 0HL81NICBB9N7 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:22:11.1291628+03:00 0HL81NICBB9N7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:22:11.1601834+03:00 0HL81NICBB9N7 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:22:11.1606840+03:00 0HL81NICBB9N7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:22:11.1616850+03:00 0HL81NICBB9N7 [INF] Request finished in 74.8121ms 200 application/json (15c52c40)
2017-09-22T16:22:11.3658198+03:00 0HL81NICBB9N8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:22:11.3718238+03:00 0HL81NICBB9N8 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:22:11.3718238+03:00 0HL81NICBB9N8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:22:11.4073475+03:00 0HL81NICBB9N8 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:22:11.4078477+03:00 0HL81NICBB9N8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:22:11.4128510+03:00 0HL81NICBB9N8 [INF] Request finished in 42.9018ms 200 application/json (15c52c40)
2017-09-22T16:22:41.8288056+03:00 0HL81NICBB9N9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:22:41.8318080+03:00 0HL81NICBB9N9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:22:41.8318080+03:00 0HL81NICBB9N9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:22:41.8583254+03:00 0HL81NICBB9N9 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:22:41.8583254+03:00 0HL81NICBB9N9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:22:41.8593312+03:00 0HL81NICBB9N9 [INF] Request finished in 31.2712ms 200 application/json (15c52c40)
2017-09-22T16:23:05.1602679+03:00 0HL81NICBB9NA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:23:05.1642706+03:00 0HL81NICBB9NA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:23:05.1647711+03:00 0HL81NICBB9NA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:23:05.1937904+03:00 0HL81NICBB9NA [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:23:05.1942905+03:00 0HL81NICBB9NA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:23:05.1947910+03:00 0HL81NICBB9NA [INF] Request finished in 35.2822ms 200 application/json (15c52c40)
2017-09-22T16:30:39.9738992+03:00 0HL81NICBB9NB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:30:40.7243975+03:00 0HL81NICBB9NB [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:30:40.7243975+03:00 0HL81NICBB9NB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:30:40.7919421+03:00 0HL81NICBB9NB [INF] Executed DbCommand (41ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:30:40.7924423+03:00 0HL81NICBB9NB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:30:40.7934433+03:00 0HL81NICBB9NB [INF] Request finished in 819.9301ms 200 application/json (15c52c40)
2017-09-22T16:31:59.7000306+03:00 0HL81NICBB9NC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:31:59.7035331+03:00 0HL81NICBB9NC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:31:59.7035331+03:00 0HL81NICBB9NC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:31:59.7275499+03:00 0HL81NICBB9NC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:31:59.7285501+03:00 0HL81NICBB9NC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:31:59.7290503+03:00 0HL81NICBB9NC [INF] Request finished in 29.1724ms 200 application/json (15c52c40)
2017-09-22T16:32:19.2478018+03:00 0HL81NICBB9ND [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:32:19.2523050+03:00 0HL81NICBB9ND [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:32:19.2523050+03:00 0HL81NICBB9ND [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:32:19.2808233+03:00 0HL81NICBB9ND [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:32:19.2813234+03:00 0HL81NICBB9ND [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:32:19.2818244+03:00 0HL81NICBB9ND [INF] Request finished in 38.7843ms 200 application/json (15c52c40)
2017-09-22T16:33:34.1900123+03:00 0HL81NICBB9NE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:33:34.1930143+03:00 0HL81NICBB9NE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:33:34.1930143+03:00 0HL81NICBB9NE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:33:34.2185315+03:00 0HL81NICBB9NE [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:33:34.2190320+03:00 0HL81NICBB9NE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:33:34.2200326+03:00 0HL81NICBB9NE [INF] Request finished in 30.2954ms 200 application/json (15c52c40)
2017-09-22T16:33:49.7128616+03:00 0HL81NICBB9NF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:33:49.7193661+03:00 0HL81NICBB9NF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:33:49.7193661+03:00 0HL81NICBB9NF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:33:49.7698999+03:00 0HL81NICBB9NF [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:33:49.7709001+03:00 0HL81NICBB9NF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:33:49.7714011+03:00 0HL81NICBB9NF [INF] Request finished in 60.6639ms 200 application/json (15c52c40)
2017-09-22T16:33:49.8819735+03:00 0HL81NICBB9NG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:33:49.8859761+03:00 0HL81NICBB9NG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:33:49.8864759+03:00 0HL81NICBB9NG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:33:49.9805387+03:00 0HL81NICBB9NG [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:33:49.9810397+03:00 0HL81NICBB9NG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:33:49.9820403+03:00 0HL81NICBB9NG [INF] Request finished in 100.0672ms 200 application/json (15c52c40)
2017-09-22T16:34:21.5816660+03:00 0HL81NICBB9NH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:34:21.6096846+03:00 0HL81NICBB9NH [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:34:21.6101852+03:00 0HL81NICBB9NH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:34:21.6527128+03:00 0HL81NICBB9NH [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:34:21.6532133+03:00 0HL81NICBB9NH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:34:21.6567155+03:00 0HL81NICBB9NH [INF] Request finished in 73.2509ms 200 application/json (15c52c40)
2017-09-22T16:34:21.8133200+03:00 0HL81NICBB9NI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:34:21.8168222+03:00 0HL81NICBB9NI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:34:21.8168222+03:00 0HL81NICBB9NI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:34:21.8613515+03:00 0HL81NICBB9NI [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:34:21.8628531+03:00 0HL81NICBB9NI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:34:21.8633532+03:00 0HL81NICBB9NI [INF] Request finished in 54.2352ms 200 application/json (15c52c40)
2017-09-22T16:43:47.8541215+03:00 0HL81NICBB9NJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T16:43:48.1671534+03:00 0HL81NICBB9NJ [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T16:43:48.1671534+03:00 0HL81NICBB9NJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T16:43:48.2806409+03:00 0HL81NICBB9NJ [INF] Executed DbCommand (93ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T16:43:48.2816428+03:00 0HL81NICBB9NJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T16:43:48.2841431+03:00 0HL81NICBB9NJ [INF] Request finished in 428.784ms 200 application/json (15c52c40)
2017-09-22T17:02:30.8193730+03:00 0HL81NICBB9NK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:02:43.4247145+03:00 0HL81NICBB9NK [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:02:43.4247145+03:00 0HL81NICBB9NK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:02:43.4896211+03:00 0HL81NICBB9NK [INF] Executed DbCommand (34ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:02:43.4901220+03:00 0HL81NICBB9NK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:02:43.4906222+03:00 0HL81NICBB9NK [INF] Request finished in 12671.8365ms 200 application/json (15c52c40)
2017-09-22T17:03:26.5035803+03:00 0HL81NICBB9NL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:03:26.5075825+03:00 0HL81NICBB9NL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:03:26.5075825+03:00 0HL81NICBB9NL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:03:26.5295971+03:00 0HL81NICBB9NL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:03:26.5300973+03:00 0HL81NICBB9NL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:03:26.5305982+03:00 0HL81NICBB9NL [INF] Request finished in 42.3969ms 200 application/json (15c52c40)
2017-09-22T17:05:34.4531863+03:00 0HL81NICBB9NM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:05:34.4601901+03:00 0HL81NICBB9NM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:05:34.4601901+03:00 0HL81NICBB9NM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:05:34.5002167+03:00 0HL81NICBB9NM [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:05:34.5007168+03:00 0HL81NICBB9NM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:05:34.5022180+03:00 0HL81NICBB9NM [INF] Request finished in 56.8985ms 200 application/json (15c52c40)
2017-09-22T17:05:34.6878411+03:00 0HL81NICBB9NN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:05:34.6913436+03:00 0HL81NICBB9NN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:05:34.6918437+03:00 0HL81NICBB9NN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:05:34.7178614+03:00 0HL81NICBB9NN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:05:34.7183615+03:00 0HL81NICBB9NN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:05:34.7233652+03:00 0HL81NICBB9NN [INF] Request finished in 31.6482ms 200 application/json (15c52c40)
2017-09-22T17:06:05.2554495+03:00 0HL81NICBB9NO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:06:05.2589520+03:00 0HL81NICBB9NO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:06:05.2589520+03:00 0HL81NICBB9NO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:06:05.7472762+03:00 0HL81NICBB9NO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:06:05.7477767+03:00 0HL81NICBB9NO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:06:05.7487770+03:00 0HL81NICBB9NO [INF] Request finished in 493.7139ms 200 application/json (15c52c40)
2017-09-22T17:06:43.8562377+03:00 0HL81NICBB9NP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:06:43.8687458+03:00 0HL81NICBB9NP [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:06:43.8687458+03:00 0HL81NICBB9NP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:06:43.9097750+03:00 0HL81NICBB9NP [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:06:43.9107741+03:00 0HL81NICBB9NP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:06:43.9127750+03:00 0HL81NICBB9NP [INF] Request finished in 56.2645ms 200 application/json (15c52c40)
2017-09-22T17:06:44.0078377+03:00 0HL81NICBB9NQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:06:44.0128414+03:00 0HL81NICBB9NQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:06:44.0133412+03:00 0HL81NICBB9NQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:06:44.0398594+03:00 0HL81NICBB9NQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:06:44.0403603+03:00 0HL81NICBB9NQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:06:44.0418603+03:00 0HL81NICBB9NQ [INF] Request finished in 34.3561ms 200 application/json (15c52c40)
2017-09-22T17:07:13.3690156+03:00 0HL81NICBB9NR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:07:13.3720160+03:00 0HL81NICBB9NR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:07:13.3725165+03:00 0HL81NICBB9NR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:07:13.4020367+03:00 0HL81NICBB9NR [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:07:13.4025365+03:00 0HL81NICBB9NR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:07:13.4035371+03:00 0HL81NICBB9NR [INF] Request finished in 34.9498ms 200 application/json (15c52c40)
2017-09-22T17:07:20.3361393+03:00 0HL81NICBB9NS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:07:20.4367067+03:00 0HL81NICBB9NS [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:07:20.4367067+03:00 0HL81NICBB9NS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:07:20.9230292+03:00 0HL81NICBB9NS [INF] Executed DbCommand (44ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:07:20.9235297+03:00 0HL81NICBB9NS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:07:20.9245307+03:00 0HL81NICBB9NS [INF] Request finished in 591.1518ms 200 application/json (15c52c40)
2017-09-22T17:07:27.5934699+03:00 0HL81NICBB9NT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:07:27.5969720+03:00 0HL81NICBB9NT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:07:27.5969720+03:00 0HL81NICBB9NT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:07:27.6249914+03:00 0HL81NICBB9NT [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:07:27.6254916+03:00 0HL81NICBB9NT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:07:27.6284940+03:00 0HL81NICBB9NT [INF] Request finished in 34.5073ms 200 application/json (15c52c40)
2017-09-22T17:08:32.5957330+03:00 0HL81NICBB9NU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:08:32.5992351+03:00 0HL81NICBB9NU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:08:32.5992351+03:00 0HL81NICBB9NU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:08:32.6247514+03:00 0HL81NICBB9NU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:08:32.6252524+03:00 0HL81NICBB9NU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:08:32.6262530+03:00 0HL81NICBB9NU [INF] Request finished in 41.1515ms 200 application/json (15c52c40)
2017-09-22T17:09:51.0185044+03:00 0HL81NICBB9NV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:09:51.0240082+03:00 0HL81NICBB9NV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:09:51.0240082+03:00 0HL81NICBB9NV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:09:51.0575307+03:00 0HL81NICBB9NV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:09:51.0580316+03:00 0HL81NICBB9NV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:09:51.0605327+03:00 0HL81NICBB9NV [INF] Request finished in 41.956ms 200 application/json (15c52c40)
2017-09-22T17:10:43.6919250+03:00 0HL81NICBB9O0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:10:43.6954276+03:00 0HL81NICBB9O0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:10:43.6959277+03:00 0HL81NICBB9O0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:10:43.7224455+03:00 0HL81NICBB9O0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:10:43.7234462+03:00 0HL81NICBB9O0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:10:43.7274480+03:00 0HL81NICBB9O0 [INF] Request finished in 37.2085ms 200 application/json (15c52c40)
2017-09-22T17:13:04.4565044+03:00 0HL81NICBB9O1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:13:04.4600077+03:00 0HL81NICBB9O1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:13:04.4605075+03:00 0HL81NICBB9O1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:13:04.4865244+03:00 0HL81NICBB9O1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:13:04.4865244+03:00 0HL81NICBB9O1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:13:04.4875250+03:00 0HL81NICBB9O1 [INF] Request finished in 31.302ms 200 application/json (15c52c40)
2017-09-22T17:13:08.2320363+03:00 0HL81NICBB9O2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:13:08.2350379+03:00 0HL81NICBB9O2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:13:08.2350379+03:00 0HL81NICBB9O2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:13:08.2640579+03:00 0HL81NICBB9O2 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:13:08.2645585+03:00 0HL81NICBB9O2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:13:08.2655591+03:00 0HL81NICBB9O2 [INF] Request finished in 33.7537ms 200 application/json (15c52c40)
2017-09-22T17:19:50.5997826+03:00 0HL81NICBB9O3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:19:51.0130574+03:00 0HL81NICBB9O3 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:19:51.0130574+03:00 0HL81NICBB9O3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:19:51.1551513+03:00 0HL81NICBB9O3 [INF] Executed DbCommand (113ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:19:51.1556514+03:00 0HL81NICBB9O3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:19:51.1561520+03:00 0HL81NICBB9O3 [INF] Request finished in 558.0616ms 200 application/json (15c52c40)
2017-09-22T17:20:14.9968233+03:00 0HL81NICBB9O4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:20:15.0003258+03:00 0HL81NICBB9O4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:15.0003258+03:00 0HL81NICBB9O4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:20:15.0178369+03:00 0HL81NICBB9O4 [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"94ebbb7fdbf2c0552de8dfff432520d955140fdd368c2be73c6ef3be36744d38\"
}" (c9724191)
2017-09-22T17:20:15.0183382+03:00 0HL81NICBB9O4 [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:20:15.0193381+03:00 0HL81NICBB9O4 [INF] Request finished in 22.8913ms 200 application/json (15c52c40)
2017-09-22T17:20:17.0817128+03:00 0HL81NICBB9O5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.60507621575734751506090017000&state=15060900170000.698519172339378   (e5be5b71)
2017-09-22T17:20:17.0872159+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:17.0917191+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:17.1652689+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:20:17.1767751+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:20:17.1842799+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:20:17.1917851+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:20:17.1942866+03:00 0HL81NICBB9O5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:20:17.1947879+03:00 0HL81NICBB9O5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:20:17.1952876+03:00 0HL81NICBB9O5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:20:17.1962883+03:00 0HL81NICBB9O5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:20:17.2072956+03:00 0HL81NICBB9O5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:20:17.2082963+03:00 0HL81NICBB9O5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060900170000.698519172339378\",
  \"Nonce\": \"N0.60507621575734751506090017000\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.60507621575734751506090017000\",
    \"state\": \"15060900170000.698519172339378\"
  }
}" (9a175e33)
2017-09-22T17:20:17.2348141+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:20:17.2393165+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:20:17.2578293+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:20:17.2628327+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:20:17.2658343+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:20:17.2793434+03:00 0HL81NICBB9O5 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:20:17.3113643+03:00 0HL81NICBB9O5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060900170000.698519172339378\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:20:17.3158679+03:00 0HL81NICBB9O5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:20:17.3188699+03:00 0HL81NICBB9O5 [INF] Request finished in 305.0218ms 302  (15c52c40)
2017-09-22T17:20:23.6075617+03:00 0HL81NICBB9O6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T17:20:23.6110642+03:00 0HL81NICBB9O6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:23.6115648+03:00 0HL81NICBB9O6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:20:23.6120645+03:00 0HL81NICBB9O6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:20:23.6125650+03:00 0HL81NICBB9O6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T17:20:23.6135653+03:00 0HL81NICBB9O6 [INF] Request finished in 5.8859ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T17:20:23.7266412+03:00 0HL81NICBB9O7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:20:23.7316441+03:00 0HL81NICBB9O7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:23.7316441+03:00 0HL81NICBB9O7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:20:23.7781752+03:00 0HL81NICBB9O7 [INF] Request finished in 34.4212ms 200 application/json (15c52c40)
2017-09-22T17:20:23.9112632+03:00 0HL81NICBB9O8 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T17:20:23.9813097+03:00 0HL81NICBB9O8 [INF] Request finished in 33.0373ms 204  (15c52c40)
2017-09-22T17:20:24.0148321+03:00 0HL81NICBB9O9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T17:20:24.0193345+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:24.0198350+03:00 0HL81NICBB9O9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T17:20:24.0198350+03:00 0HL81NICBB9O9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T17:20:24.0483546+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:24.1849443+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:20:24.2349779+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:20:24.2469862+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:20:24.2494873+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:20:24.2624967+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:20:24.3685672+03:00 0HL81NICBB9O9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:20:24.3695682+03:00 0HL81NICBB9O9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T17:20:24.3905818+03:00 0HL81NICBB9OA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:20:24.4846438+03:00 0HL81NICBB9O9 [INF] Request finished in 392.245ms 200 application/json (15c52c40)
2017-09-22T17:20:24.5246708+03:00 0HL81NICBB9OA [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:24.5251709+03:00 0HL81NICBB9OA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:20:24.5666987+03:00 0HL81NICBB9OA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:24.5666987+03:00 0HL81NICBB9OA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:20:24.5676994+03:00 0HL81NICBB9OA [INF] Request finished in 234.1957ms 200 application/json (15c52c40)
2017-09-22T17:20:25.5453480+03:00 0HL81NICBB9OB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:20:25.5483500+03:00 0HL81NICBB9OB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:25.5483500+03:00 0HL81NICBB9OB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:20:25.5753688+03:00 0HL81NICBB9OB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:25.5758693+03:00 0HL81NICBB9OB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:20:25.5768696+03:00 0HL81NICBB9OB [INF] Request finished in 31.604ms 200 application/json (15c52c40)
2017-09-22T17:20:27.2499097+03:00 0HL81NICBB9OC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:20:27.2529121+03:00 0HL81NICBB9OC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:27.2529121+03:00 0HL81NICBB9OC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:20:27.2924373+03:00 0HL81NICBB9OC [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:27.2954393+03:00 0HL81NICBB9OC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:20:27.3069475+03:00 0HL81NICBB9OC [INF] Request finished in 47.791ms 200 application/json (15c52c40)
2017-09-22T17:20:56.2082145+03:00 0HL81NICBB9OD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:20:56.2167208+03:00 0HL81NICBB9OD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:20:56.2172209+03:00 0HL81NICBB9OD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:20:56.3197884+03:00 0HL81NICBB9OD [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:20:56.3202893+03:00 0HL81NICBB9OD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:20:56.3262925+03:00 0HL81NICBB9OD [INF] Request finished in 114.9958ms 200 application/json (15c52c40)
2017-09-22T17:21:23.2706994+03:00 0HL81NICBB9OE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:21:23.2762029+03:00 0HL81NICBB9OE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:21:23.2767038+03:00 0HL81NICBB9OE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:21:23.3027211+03:00 0HL81NICBB9OE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:21:23.3032216+03:00 0HL81NICBB9OE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:21:23.3037217+03:00 0HL81NICBB9OE [INF] Request finished in 33.6219ms 200 application/json (15c52c40)
2017-09-22T17:22:02.9051254+03:00 0HL81NICBB9OF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:22:02.9231373+03:00 0HL81NICBB9OF [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:22:02.9241380+03:00 0HL81NICBB9OF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:22:02.9976866+03:00 0HL81NICBB9OF [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:22:02.9981875+03:00 0HL81NICBB9OF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:22:03.0172002+03:00 0HL81NICBB9OF [INF] Request finished in 94.0296ms 200 application/json (15c52c40)
2017-09-22T17:22:19.2303677+03:00 0HL81NICBB9OG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:22:19.2338702+03:00 0HL81NICBB9OG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:22:19.2338702+03:00 0HL81NICBB9OG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:22:19.2688931+03:00 0HL81NICBB9OG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:22:19.2693936+03:00 0HL81NICBB9OG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:22:19.2718951+03:00 0HL81NICBB9OG [INF] Request finished in 40.5847ms 200 application/json (15c52c40)
2017-09-22T17:22:19.4705272+03:00 0HL81NICBB9OH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:22:19.5240625+03:00 0HL81NICBB9OH [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:22:19.5245630+03:00 0HL81NICBB9OH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:22:19.5916075+03:00 0HL81NICBB9OH [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:22:19.5921077+03:00 0HL81NICBB9OH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:22:19.6236288+03:00 0HL81NICBB9OH [INF] Request finished in 153.7829ms 200 application/json (15c52c40)
2017-09-22T17:22:55.5010516+03:00 0HL81NICBB9OI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:22:55.5040540+03:00 0HL81NICBB9OI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:22:55.5040540+03:00 0HL81NICBB9OI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:22:55.5400771+03:00 0HL81NICBB9OI [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:22:55.5405776+03:00 0HL81NICBB9OI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:22:55.5410777+03:00 0HL81NICBB9OI [INF] Request finished in 40.6336ms 200 application/json (15c52c40)
2017-09-22T17:25:20.8318329+03:00 0HL81NICBB9OJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64689117727658661506090320798&state=15060903207980.6754970307197492   (e5be5b71)
2017-09-22T17:25:20.8353354+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:20.8363365+03:00 0HL81NICBB9OJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:25:20.8373372+03:00 0HL81NICBB9OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:20.8373372+03:00 0HL81NICBB9OJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:25:20.8388407+03:00 0HL81NICBB9OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:20.8408389+03:00 0HL81NICBB9OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:20.8408389+03:00 0HL81NICBB9OJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060903207980.6754970307197492\",
  \"Nonce\": \"N0.64689117727658661506090320798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64689117727658661506090320798\",
    \"state\": \"15060903207980.6754970307197492\"
  }
}" (9a175e33)
2017-09-22T17:25:20.8453421+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:25:20.8598523+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:20.8613527+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:25:20.8638546+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:25:20.8658563+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:25:20.8698585+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:20.8738620+03:00 0HL81NICBB9OJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:25:20.9278971+03:00 0HL81NICBB9OJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060903207980.6754970307197492\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:25:20.9344024+03:00 0HL81NICBB9OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:20.9464100+03:00 0HL81NICBB9OJ [INF] Request finished in 106.9037ms 302  (15c52c40)
2017-09-22T17:25:24.8555745+03:00 0HL81NICBB9OK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.111537005446622481506090324803&state=15060903248030.39160280602217346   (e5be5b71)
2017-09-22T17:25:24.8590782+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:24.8595772+03:00 0HL81NICBB9OK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:25:24.8595772+03:00 0HL81NICBB9OK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:24.8600777+03:00 0HL81NICBB9OK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:25:24.8605782+03:00 0HL81NICBB9OK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:24.8610780+03:00 0HL81NICBB9OK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:24.8610780+03:00 0HL81NICBB9OK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060903248030.39160280602217346\",
  \"Nonce\": \"N0.111537005446622481506090324803\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.111537005446622481506090324803\",
    \"state\": \"15060903248030.39160280602217346\"
  }
}" (9a175e33)
2017-09-22T17:25:24.8650814+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:25:24.8790903+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:24.8805911+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:25:24.8830930+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:25:24.8855944+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:25:24.8880963+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:24.8910979+03:00 0HL81NICBB9OK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:25:24.9091106+03:00 0HL81NICBB9OK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060903248030.39160280602217346\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:25:24.9101109+03:00 0HL81NICBB9OK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:24.9111116+03:00 0HL81NICBB9OK [INF] Request finished in 55.7904ms 302  (15c52c40)
2017-09-22T17:25:28.3919223+03:00 0HL81NICBB9OL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73227066482997041506090328340&state=15060903283400.8349174856053923   (e5be5b71)
2017-09-22T17:25:28.3954248+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:28.3959250+03:00 0HL81NICBB9OL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:25:28.3964255+03:00 0HL81NICBB9OL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:28.3964255+03:00 0HL81NICBB9OL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:25:28.3969256+03:00 0HL81NICBB9OL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:28.3974262+03:00 0HL81NICBB9OL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:28.3979263+03:00 0HL81NICBB9OL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060903283400.8349174856053923\",
  \"Nonce\": \"N0.73227066482997041506090328340\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73227066482997041506090328340\",
    \"state\": \"15060903283400.8349174856053923\"
  }
}" (9a175e33)
2017-09-22T17:25:28.4019286+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:25:28.4164388+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:28.4194408+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:25:28.4219422+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:25:28.4239436+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:25:28.4264454+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:25:28.4284464+03:00 0HL81NICBB9OL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:25:28.4564669+03:00 0HL81NICBB9OL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060903283400.8349174856053923\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:25:28.4654709+03:00 0HL81NICBB9OL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:25:28.4794806+03:00 0HL81NICBB9OL [INF] Request finished in 74.9898ms 302  (15c52c40)
2017-09-22T17:25:31.2913542+03:00 0HL81NICBB9OM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:25:31.2938552+03:00 0HL81NICBB9OM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:31.2938552+03:00 0HL81NICBB9OM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:25:31.2948567+03:00 0HL81NICBB9OM [INF] Request finished in 3.8123ms 200 application/json (15c52c40)
2017-09-22T17:25:31.7961891+03:00 0HL81NICBB9ON [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:25:31.7991907+03:00 0HL81NICBB9ON [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:31.7991907+03:00 0HL81NICBB9ON [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:25:31.8272097+03:00 0HL81NICBB9ON [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:25:31.8277102+03:00 0HL81NICBB9ON [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:25:31.8282112+03:00 0HL81NICBB9ON [INF] Request finished in 32.7235ms 200 application/json (15c52c40)
2017-09-22T17:25:32.6497558+03:00 0HL81NICBB9OO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:25:32.6527586+03:00 0HL81NICBB9OO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:25:32.6532587+03:00 0HL81NICBB9OO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:25:32.6797753+03:00 0HL81NICBB9OO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:25:32.6802763+03:00 0HL81NICBB9OO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:25:32.6807764+03:00 0HL81NICBB9OO [INF] Request finished in 31.5546ms 200 application/json (15c52c40)
2017-09-22T17:27:57.1898789+03:00 0HL81NICBB9OP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:27:57.8518186+03:00 0HL81NICBB9OP [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:27:57.8518186+03:00 0HL81NICBB9OP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:27:57.8533213+03:00 0HL81NICBB9OP [INF] Request finished in 681.9288ms 200 application/json (15c52c40)
2017-09-22T17:28:04.7336857+03:00 0HL81NICBB9OQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69800308932693041506090484724&state=15060904847240.09835815229947098   (e5be5b71)
2017-09-22T17:28:04.7381889+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:04.7386890+03:00 0HL81NICBB9OQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:28:04.7396901+03:00 0HL81NICBB9OQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:28:04.7396901+03:00 0HL81NICBB9OQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:28:04.7401902+03:00 0HL81NICBB9OQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:28:04.7406911+03:00 0HL81NICBB9OQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:28:04.7411905+03:00 0HL81NICBB9OQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060904847240.09835815229947098\",
  \"Nonce\": \"N0.69800308932693041506090484724\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69800308932693041506090484724\",
    \"state\": \"15060904847240.09835815229947098\"
  }
}" (9a175e33)
2017-09-22T17:28:04.8067342+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (62ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:28:04.8217442+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:28:04.8267475+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:28:04.8317516+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:28:04.8362540+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:28:04.8392560+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:28:04.8427585+03:00 0HL81NICBB9OQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:28:04.8662743+03:00 0HL81NICBB9OQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060904847240.09835815229947098\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:28:04.8667744+03:00 0HL81NICBB9OQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:28:04.8677747+03:00 0HL81NICBB9OQ [INF] Request finished in 137.4837ms 302  (15c52c40)
2017-09-22T17:28:11.3253092+03:00 0HL81NICBB9OR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T17:28:11.3283112+03:00 0HL81NICBB9OR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:11.3288122+03:00 0HL81NICBB9OR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:28:11.3293119+03:00 0HL81NICBB9OR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:28:11.3298148+03:00 0HL81NICBB9OR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T17:28:11.3313156+03:00 0HL81NICBB9OR [INF] Request finished in 5.3001ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T17:28:11.4108670+03:00 0HL81NICBB9OS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:28:11.4268769+03:00 0HL81NICBB9OS [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:11.4268769+03:00 0HL81NICBB9OS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:28:11.4749092+03:00 0HL81NICBB9OS [INF] Request finished in 18.2866ms 200 application/json (15c52c40)
2017-09-22T17:28:11.5779776+03:00 0HL81NICBB9OT [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T17:28:11.5794784+03:00 0HL81NICBB9OT [INF] Request finished in 2.6064ms 204  (15c52c40)
2017-09-22T17:28:11.6145028+03:00 0HL81NICBB9OU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T17:28:11.6225073+03:00 0HL81NICBB9OU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:11.6230091+03:00 0HL81NICBB9OU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T17:28:11.6230091+03:00 0HL81NICBB9OU [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T17:28:11.7345818+03:00 0HL81NICBB9OU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:28:11.8231407+03:00 0HL81NICBB9OU [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:28:11.8537390+03:00 0HL81NICBB9OU [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:28:11.9738183+03:00 0HL81NICBB9OU [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:28:12.0608765+03:00 0HL81NICBB9OU [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:28:12.0778874+03:00 0HL81NICBB9OV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:28:12.1094089+03:00 0HL81NICBB9OU [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:28:12.1114106+03:00 0HL81NICBB9OV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:12.1114106+03:00 0HL81NICBB9OV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:28:12.1714501+03:00 0HL81NICBB9OU [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:28:12.1719502+03:00 0HL81NICBB9OU [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T17:28:12.2094753+03:00 0HL81NICBB9OV [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:28:12.2099759+03:00 0HL81NICBB9OV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:28:12.2184821+03:00 0HL81NICBB9OU [INF] Request finished in 563.4071ms 200 application/json (15c52c40)
2017-09-22T17:28:12.2374935+03:00 0HL81NICBB9OV [INF] Request finished in 223.589ms 200 application/json (15c52c40)
2017-09-22T17:28:13.3542523+03:00 0HL81NICBB9P0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:28:13.3572516+03:00 0HL81NICBB9P0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:13.3572516+03:00 0HL81NICBB9P0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:28:13.3872719+03:00 0HL81NICBB9P0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:28:13.3877728+03:00 0HL81NICBB9P0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:28:13.3902739+03:00 0HL81NICBB9P0 [INF] Request finished in 36.3093ms 200 application/json (15c52c40)
2017-09-22T17:28:16.2251560+03:00 0HL81NICBB9P1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:28:16.2281584+03:00 0HL81NICBB9P1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:28:16.2286589+03:00 0HL81NICBB9P1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:28:16.2586780+03:00 0HL81NICBB9P1 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:28:16.2596791+03:00 0HL81NICBB9P1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:28:16.2601792+03:00 0HL81NICBB9P1 [INF] Request finished in 35.5908ms 200 application/json (15c52c40)
2017-09-22T17:29:55.5667934+03:00 0HL81NICBB9P2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:29:55.5868071+03:00 0HL81NICBB9P2 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:29:55.5878082+03:00 0HL81NICBB9P2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:29:55.6263332+03:00 0HL81NICBB9P2 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:29:55.6268333+03:00 0HL81NICBB9P2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:29:55.6278340+03:00 0HL81NICBB9P2 [INF] Request finished in 77.9961ms 200 application/json (15c52c40)
2017-09-22T17:30:48.1063003+03:00 0HL81NICBB9P3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:30:48.1088026+03:00 0HL81NICBB9P3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:30:48.1093023+03:00 0HL81NICBB9P3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:30:48.1288167+03:00 0HL81NICBB9P3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:30:48.1293164+03:00 0HL81NICBB9P3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:30:48.1298157+03:00 0HL81NICBB9P3 [INF] Request finished in 24.9104ms 200 application/json (15c52c40)
2017-09-22T17:33:04.1901493+03:00 0HL81NICBB9P4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.376375028826283041506090784166&state=15060907841660.6304993168835804   (e5be5b71)
2017-09-22T17:33:04.1936506+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:04.1941535+03:00 0HL81NICBB9P4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:33:04.1946525+03:00 0HL81NICBB9P4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:04.1946525+03:00 0HL81NICBB9P4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:33:04.1951530+03:00 0HL81NICBB9P4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:04.1961525+03:00 0HL81NICBB9P4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:04.1961525+03:00 0HL81NICBB9P4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060907841660.6304993168835804\",
  \"Nonce\": \"N0.376375028826283041506090784166\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.376375028826283041506090784166\",
    \"state\": \"15060907841660.6304993168835804\"
  }
}" (9a175e33)
2017-09-22T17:33:04.2026582+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:33:04.2121639+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:04.2141641+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:33:04.2166659+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:33:04.2186672+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:33:04.2206686+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:04.2226703+03:00 0HL81NICBB9P4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:33:04.2346775+03:00 0HL81NICBB9P4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060907841660.6304993168835804\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:33:04.2356785+03:00 0HL81NICBB9P4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:04.2366796+03:00 0HL81NICBB9P4 [INF] Request finished in 46.7833ms 302  (15c52c40)
2017-09-22T17:33:07.1957199+03:00 0HL81NICBB9P5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51015564871212191506090787168&state=15060907871680.012012704817431885   (e5be5b71)
2017-09-22T17:33:07.1987238+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:07.1997229+03:00 0HL81NICBB9P5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:33:07.1997229+03:00 0HL81NICBB9P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:07.2002230+03:00 0HL81NICBB9P5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:33:07.2007232+03:00 0HL81NICBB9P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:07.2012237+03:00 0HL81NICBB9P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:07.2017246+03:00 0HL81NICBB9P5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060907871680.012012704817431885\",
  \"Nonce\": \"N0.51015564871212191506090787168\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51015564871212191506090787168\",
    \"state\": \"15060907871680.012012704817431885\"
  }
}" (9a175e33)
2017-09-22T17:33:07.2082291+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:33:07.2207365+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:07.2232387+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:33:07.2257406+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:33:07.2282420+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:33:07.2312448+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:07.2332454+03:00 0HL81NICBB9P5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:33:07.2537596+03:00 0HL81NICBB9P5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060907871680.012012704817431885\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:33:07.2547602+03:00 0HL81NICBB9P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:07.2552600+03:00 0HL81NICBB9P5 [INF] Request finished in 60.1488ms 302  (15c52c40)
2017-09-22T17:33:10.1985442+03:00 0HL81NICBB9P6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96942014015948571506090790170&state=15060907901700.2301611620503612   (e5be5b71)
2017-09-22T17:33:10.2015458+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:10.2020463+03:00 0HL81NICBB9P6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:33:10.2025465+03:00 0HL81NICBB9P6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:10.2025465+03:00 0HL81NICBB9P6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:33:10.2035475+03:00 0HL81NICBB9P6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:10.2050487+03:00 0HL81NICBB9P6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:10.2050487+03:00 0HL81NICBB9P6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060907901700.2301611620503612\",
  \"Nonce\": \"N0.96942014015948571506090790170\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96942014015948571506090790170\",
    \"state\": \"15060907901700.2301611620503612\"
  }
}" (9a175e33)
2017-09-22T17:33:10.2090522+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:33:10.2205596+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:10.2220592+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:33:10.2235600+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:33:10.2315657+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:33:10.2335683+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:33:10.2350679+03:00 0HL81NICBB9P6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:33:10.2540805+03:00 0HL81NICBB9P6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060907901700.2301611620503612\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:33:10.2545806+03:00 0HL81NICBB9P6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:33:10.2550820+03:00 0HL81NICBB9P6 [INF] Request finished in 56.9316ms 302  (15c52c40)
2017-09-22T17:33:13.6647310+03:00 0HL81NICBB9P7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:33:13.6922499+03:00 0HL81NICBB9P7 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:13.6922499+03:00 0HL81NICBB9P7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:33:13.7437839+03:00 0HL81NICBB9P7 [INF] Request finished in 33.9033ms 200 application/json (15c52c40)
2017-09-22T17:33:13.9569246+03:00 0HL81NICBB9P8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:33:13.9919483+03:00 0HL81NICBB9P8 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:13.9924492+03:00 0HL81NICBB9P8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:33:14.0204670+03:00 0HL81NICBB9P8 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:33:14.0209679+03:00 0HL81NICBB9P8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:33:14.0289733+03:00 0HL81NICBB9P8 [INF] Request finished in 65.8772ms 200 application/json (15c52c40)
2017-09-22T17:33:14.8910450+03:00 0HL81NICBB9P9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:33:14.8970494+03:00 0HL81NICBB9P9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:14.8970494+03:00 0HL81NICBB9P9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:33:14.9215651+03:00 0HL81NICBB9P9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:33:14.9215651+03:00 0HL81NICBB9P9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:33:14.9225669+03:00 0HL81NICBB9P9 [INF] Request finished in 31.8203ms 200 application/json (15c52c40)
2017-09-22T17:33:55.6737532+03:00 0HL81NICBB9PA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:33:55.6877625+03:00 0HL81NICBB9PA [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:33:55.6877625+03:00 0HL81NICBB9PA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:33:55.6927658+03:00 0HL81NICBB9PA [INF] Request finished in 48.7187ms 200 application/json (15c52c40)
2017-09-22T17:34:18.8937367+03:00 0HL81NICBB9PB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.112806854299133621506090858884&state=15060908588840.8518581553564055   (e5be5b71)
2017-09-22T17:34:18.8992402+03:00 0HL81NICBB9PB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:18.8997407+03:00 0HL81NICBB9PB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:34:18.9022513+03:00 0HL81NICBB9PB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:34:18.9022513+03:00 0HL81NICBB9PB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:34:18.9032515+03:00 0HL81NICBB9PB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:34:18.9042522+03:00 0HL81NICBB9PB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:34:18.9042522+03:00 0HL81NICBB9PB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060908588840.8518581553564055\",
  \"Nonce\": \"N0.112806854299133621506090858884\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.112806854299133621506090858884\",
    \"state\": \"15060908588840.8518581553564055\"
  }
}" (9a175e33)
2017-09-22T17:34:18.9112572+03:00 0HL81NICBB9PB [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:34:18.9322712+03:00 0HL81NICBB9PB [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:34:18.9387753+03:00 0HL81NICBB9PB [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:34:18.9432781+03:00 0HL81NICBB9PB [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:34:18.9532851+03:00 0HL81NICBB9PB [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:34:18.9572874+03:00 0HL81NICBB9PB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:34:18.9622903+03:00 0HL81NICBB9PB [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:34:18.9863071+03:00 0HL81NICBB9PB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060908588840.8518581553564055\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:34:18.9873069+03:00 0HL81NICBB9PB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:34:18.9963141+03:00 0HL81NICBB9PB [INF] Request finished in 95.845ms 302  (15c52c40)
2017-09-22T17:34:25.3157419+03:00 0HL81NICBB9PC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T17:34:25.3187439+03:00 0HL81NICBB9PC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:25.3192441+03:00 0HL81NICBB9PC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:34:25.3197450+03:00 0HL81NICBB9PC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:34:25.3197450+03:00 0HL81NICBB9PC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T17:34:25.3232479+03:00 0HL81NICBB9PC [INF] Request finished in 5.0447ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T17:34:25.4078031+03:00 0HL81NICBB9PD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:34:25.4188120+03:00 0HL81NICBB9PD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:25.4193113+03:00 0HL81NICBB9PD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:34:25.5233796+03:00 0HL81NICBB9PD [INF] Request finished in 30.5615ms 200 application/json (15c52c40)
2017-09-22T17:34:25.5834203+03:00 0HL81NICBB9PE [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T17:34:25.5989304+03:00 0HL81NICBB9PE [INF] Request finished in 8.5796ms 204  (15c52c40)
2017-09-22T17:34:25.6124387+03:00 0HL81NICBB9PF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T17:34:25.6169419+03:00 0HL81NICBB9PF [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:25.6174428+03:00 0HL81NICBB9PF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T17:34:25.6174428+03:00 0HL81NICBB9PF [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T17:34:25.6809840+03:00 0HL81NICBB9PF [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:34:25.7320179+03:00 0HL81NICBB9PF [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:34:25.7375222+03:00 0HL81NICBB9PF [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:34:25.7610384+03:00 0HL81NICBB9PF [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:34:25.7655404+03:00 0HL81NICBB9PF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:34:25.7710442+03:00 0HL81NICBB9PF [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:34:25.7950606+03:00 0HL81NICBB9PF [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:34:25.7955611+03:00 0HL81NICBB9PF [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T17:34:25.8130725+03:00 0HL81NICBB9PF [INF] Request finished in 196.1191ms 200 application/json (15c52c40)
2017-09-22T17:34:25.8706113+03:00 0HL81NICBB9PG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:34:25.8756146+03:00 0HL81NICBB9PG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:25.8761148+03:00 0HL81NICBB9PG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:34:25.9046331+03:00 0HL81NICBB9PG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:34:25.9051332+03:00 0HL81NICBB9PG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:34:25.9066348+03:00 0HL81NICBB9PG [INF] Request finished in 50.3967ms 200 application/json (15c52c40)
2017-09-22T17:34:26.8707747+03:00 0HL81NICBB9PH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:34:26.8807814+03:00 0HL81NICBB9PH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:26.8807814+03:00 0HL81NICBB9PH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:34:26.9333168+03:00 0HL81NICBB9PH [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:34:26.9333168+03:00 0HL81NICBB9PH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:34:26.9373187+03:00 0HL81NICBB9PH [INF] Request finished in 64.4459ms 200 application/json (15c52c40)
2017-09-22T17:34:29.4159647+03:00 0HL81NICBB9PI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:34:29.4189667+03:00 0HL81NICBB9PI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:34:29.4189667+03:00 0HL81NICBB9PI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:34:29.4469849+03:00 0HL81NICBB9PI [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:34:29.4474854+03:00 0HL81NICBB9PI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:34:29.4484861+03:00 0HL81NICBB9PI [INF] Request finished in 33.0013ms 200 application/json (15c52c40)
2017-09-22T17:35:12.2845177+03:00 0HL81NICBB9PJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:35:12.2890220+03:00 0HL81NICBB9PJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:35:12.2895206+03:00 0HL81NICBB9PJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:35:12.3195409+03:00 0HL81NICBB9PJ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:35:12.3200411+03:00 0HL81NICBB9PJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:35:12.3210421+03:00 0HL81NICBB9PJ [INF] Request finished in 36.873ms 200 application/json (15c52c40)
2017-09-22T17:39:21.8383682+03:00 0HL81NICBB9PK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.020664526331574341506091161799&state=15060911617990.7476949829457145   (e5be5b71)
2017-09-22T17:39:22.2715576+03:00 0HL81NICBB9PK [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:22.2720597+03:00 0HL81NICBB9PK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:39:22.2725598+03:00 0HL81NICBB9PK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:22.2730592+03:00 0HL81NICBB9PK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:39:22.2735609+03:00 0HL81NICBB9PK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:22.2740590+03:00 0HL81NICBB9PK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:22.2745596+03:00 0HL81NICBB9PK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060911617990.7476949829457145\",
  \"Nonce\": \"N0.020664526331574341506091161799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.020664526331574341506091161799\",
    \"state\": \"15060911617990.7476949829457145\"
  }
}" (9a175e33)
2017-09-22T17:39:22.3170880+03:00 0HL81NICBB9PK [INF] Executed DbCommand (39ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:39:22.3351004+03:00 0HL81NICBB9PK [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:22.3391038+03:00 0HL81NICBB9PK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:39:22.3436058+03:00 0HL81NICBB9PK [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:39:22.3481090+03:00 0HL81NICBB9PK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:39:22.3501099+03:00 0HL81NICBB9PK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:22.3541138+03:00 0HL81NICBB9PK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:39:22.3761280+03:00 0HL81NICBB9PK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060911617990.7476949829457145\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:39:22.3766285+03:00 0HL81NICBB9PK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:22.3771283+03:00 0HL81NICBB9PK [INF] Request finished in 539.1887ms 302  (15c52c40)
2017-09-22T17:39:26.9112351+03:00 0HL81NICBB9PL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51375647776581991506091165993&state=15060911659930.6013227883530443   (e5be5b71)
2017-09-22T17:39:26.9147377+03:00 0HL81NICBB9PL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:26.9152382+03:00 0HL81NICBB9PL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:39:26.9157391+03:00 0HL81NICBB9PL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:26.9157391+03:00 0HL81NICBB9PL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:39:26.9172395+03:00 0HL81NICBB9PL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:26.9187411+03:00 0HL81NICBB9PL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:26.9192412+03:00 0HL81NICBB9PL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060911659930.6013227883530443\",
  \"Nonce\": \"N0.51375647776581991506091165993\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51375647776581991506091165993\",
    \"state\": \"15060911659930.6013227883530443\"
  }
}" (9a175e33)
2017-09-22T17:39:26.9257457+03:00 0HL81NICBB9PL [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:39:26.9437569+03:00 0HL81NICBB9PL [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:26.9477596+03:00 0HL81NICBB9PL [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:39:26.9537636+03:00 0HL81NICBB9PL [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:39:26.9572657+03:00 0HL81NICBB9PL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:39:26.9597675+03:00 0HL81NICBB9PL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:26.9637698+03:00 0HL81NICBB9PL [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:39:26.9917888+03:00 0HL81NICBB9PL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060911659930.6013227883530443\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:39:26.9922893+03:00 0HL81NICBB9PL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:26.9932900+03:00 0HL81NICBB9PL [INF] Request finished in 82.5175ms 302  (15c52c40)
2017-09-22T17:39:29.8927290+03:00 0HL81NICBB9PM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86734739318161761506091169814&state=15060911698140.6737670125267283   (e5be5b71)
2017-09-22T17:39:29.8957306+03:00 0HL81NICBB9PM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:29.8967308+03:00 0HL81NICBB9PM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:39:29.8967308+03:00 0HL81NICBB9PM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:29.8972314+03:00 0HL81NICBB9PM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:39:29.8977323+03:00 0HL81NICBB9PM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:29.8982324+03:00 0HL81NICBB9PM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:29.8987322+03:00 0HL81NICBB9PM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060911698140.6737670125267283\",
  \"Nonce\": \"N0.86734739318161761506091169814\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86734739318161761506091169814\",
    \"state\": \"15060911698140.6737670125267283\"
  }
}" (9a175e33)
2017-09-22T17:39:29.9047365+03:00 0HL81NICBB9PM [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:39:29.9232486+03:00 0HL81NICBB9PM [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:29.9267511+03:00 0HL81NICBB9PM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:39:29.9297527+03:00 0HL81NICBB9PM [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:39:29.9337554+03:00 0HL81NICBB9PM [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:39:29.9362573+03:00 0HL81NICBB9PM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:39:29.9412606+03:00 0HL81NICBB9PM [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:39:29.9617748+03:00 0HL81NICBB9PM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060911698140.6737670125267283\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:39:29.9622753+03:00 0HL81NICBB9PM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:39:29.9627751+03:00 0HL81NICBB9PM [INF] Request finished in 70.4744ms 302  (15c52c40)
2017-09-22T17:39:34.2461190+03:00 0HL81NICBB9PN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:39:34.2491210+03:00 0HL81NICBB9PN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:34.2496211+03:00 0HL81NICBB9PN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:39:34.2506218+03:00 0HL81NICBB9PN [INF] Request finished in 4.4873ms 200 application/json (15c52c40)
2017-09-22T17:39:34.7024219+03:00 0HL81NICBB9PO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:39:34.7074249+03:00 0HL81NICBB9PO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:34.7079254+03:00 0HL81NICBB9PO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:39:34.7389460+03:00 0HL81NICBB9PO [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:39:34.7394461+03:00 0HL81NICBB9PO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:39:34.7404468+03:00 0HL81NICBB9PO [INF] Request finished in 43.7592ms 200 application/json (15c52c40)
2017-09-22T17:39:36.3420099+03:00 0HL81NICBB9PP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:39:36.3485140+03:00 0HL81NICBB9PP [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:39:36.3485140+03:00 0HL81NICBB9PP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:39:36.3975477+03:00 0HL81NICBB9PP [INF] Executed DbCommand (19ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:39:36.3985480+03:00 0HL81NICBB9PP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:39:36.4060528+03:00 0HL81NICBB9PP [INF] Request finished in 59.8957ms 200 application/json (15c52c40)
2017-09-22T17:44:31.8435310+03:00 0HL81NICBB9PQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45310382040340391506091471799&state=15060914717990.6368217689862337   (e5be5b71)
2017-09-22T17:44:32.1573184+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:44:32.1578197+03:00 0HL81NICBB9PQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:44:32.1583187+03:00 0HL81NICBB9PQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:44:32.1583187+03:00 0HL81NICBB9PQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:44:32.1588196+03:00 0HL81NICBB9PQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:44:32.1598203+03:00 0HL81NICBB9PQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:44:32.1598203+03:00 0HL81NICBB9PQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060914717990.6368217689862337\",
  \"Nonce\": \"N0.45310382040340391506091471799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45310382040340391506091471799\",
    \"state\": \"15060914717990.6368217689862337\"
  }
}" (9a175e33)
2017-09-22T17:44:32.1919221+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (28ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:44:32.2304494+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:44:32.2344505+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:44:32.2399551+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:44:32.2439570+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:44:32.2479597+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:44:32.2524621+03:00 0HL81NICBB9PQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:44:32.2699743+03:00 0HL81NICBB9PQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060914717990.6368217689862337\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:44:32.2704740+03:00 0HL81NICBB9PQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:44:32.2709746+03:00 0HL81NICBB9PQ [INF] Request finished in 428.4615ms 302  (15c52c40)
2017-09-22T17:44:36.3198796+03:00 0HL81NICBB9PR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:44:36.3233817+03:00 0HL81NICBB9PR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:44:36.3233817+03:00 0HL81NICBB9PR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:44:36.3243828+03:00 0HL81NICBB9PR [INF] Request finished in 4.5481ms 200 application/json (15c52c40)
2017-09-22T17:44:36.8652413+03:00 0HL81NICBB9PS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:44:36.8682433+03:00 0HL81NICBB9PS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:44:36.8682433+03:00 0HL81NICBB9PS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:44:36.8917587+03:00 0HL81NICBB9PS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:44:36.8922592+03:00 0HL81NICBB9PS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:44:36.8927597+03:00 0HL81NICBB9PS [INF] Request finished in 27.7158ms 200 application/json (15c52c40)
2017-09-22T17:44:37.7721902+03:00 0HL81NICBB9PT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:44:37.7746916+03:00 0HL81NICBB9PT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:44:37.7751925+03:00 0HL81NICBB9PT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:44:37.7937046+03:00 0HL81NICBB9PT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:44:37.7942048+03:00 0HL81NICBB9PT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:44:37.7947049+03:00 0HL81NICBB9PT [INF] Request finished in 22.855ms 200 application/json (15c52c40)
2017-09-22T17:49:34.8543374+03:00 0HL81NICBB9PU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2696977662827721506091774797&state=15060917747970.5603448086437155   (e5be5b71)
2017-09-22T17:49:34.8573390+03:00 0HL81NICBB9PU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:34.8583393+03:00 0HL81NICBB9PU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:49:34.8583393+03:00 0HL81NICBB9PU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:34.8583393+03:00 0HL81NICBB9PU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:49:34.8593391+03:00 0HL81NICBB9PU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:34.8603398+03:00 0HL81NICBB9PU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:34.8603398+03:00 0HL81NICBB9PU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060917747970.5603448086437155\",
  \"Nonce\": \"N0.2696977662827721506091774797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2696977662827721506091774797\",
    \"state\": \"15060917747970.5603448086437155\"
  }
}" (9a175e33)
2017-09-22T17:49:34.8683451+03:00 0HL81NICBB9PU [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:49:34.8873581+03:00 0HL81NICBB9PU [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:34.8913604+03:00 0HL81NICBB9PU [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:49:34.8963641+03:00 0HL81NICBB9PU [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:49:34.9003660+03:00 0HL81NICBB9PU [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:49:34.9023681+03:00 0HL81NICBB9PU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:34.9063708+03:00 0HL81NICBB9PU [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:49:34.9223865+03:00 0HL81NICBB9PU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060917747970.5603448086437155\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:49:34.9233880+03:00 0HL81NICBB9PU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:34.9233880+03:00 0HL81NICBB9PU [INF] Request finished in 70.2896ms 302  (15c52c40)
2017-09-22T17:49:39.9851686+03:00 0HL81NICBB9PV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:49:39.9891709+03:00 0HL81NICBB9PV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:39.9901712+03:00 0HL81NICBB9PV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:49:39.9941742+03:00 0HL81NICBB9PV [INF] Request finished in 6.2735ms 200 application/json (15c52c40)
2017-09-22T17:49:40.3992293+03:00 0HL81NICBB9Q0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:49:40.4017296+03:00 0HL81NICBB9Q0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:40.4017296+03:00 0HL81NICBB9Q0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:49:40.4257459+03:00 0HL81NICBB9Q0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:49:40.4262461+03:00 0HL81NICBB9Q0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:49:40.4267470+03:00 0HL81NICBB9Q0 [INF] Request finished in 27.5974ms 200 application/json (15c52c40)
2017-09-22T17:49:40.4547652+03:00 0HL81NICBB9Q1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75497860047219411506091780140&state=15060917801400.614084665297874   (e5be5b71)
2017-09-22T17:49:40.4577668+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:40.4582669+03:00 0HL81NICBB9Q1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:49:40.4587687+03:00 0HL81NICBB9Q1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:40.4587687+03:00 0HL81NICBB9Q1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:49:40.4592688+03:00 0HL81NICBB9Q1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:40.4597681+03:00 0HL81NICBB9Q1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:40.4602691+03:00 0HL81NICBB9Q1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060917801400.614084665297874\",
  \"Nonce\": \"N0.75497860047219411506091780140\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75497860047219411506091780140\",
    \"state\": \"15060917801400.614084665297874\"
  }
}" (9a175e33)
2017-09-22T17:49:40.4677742+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:49:40.4932906+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:40.4982939+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:49:40.5017972+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:49:40.5098018+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:49:40.5213096+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:40.5248113+03:00 0HL81NICBB9Q1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:49:40.5513295+03:00 0HL81NICBB9Q1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060917801400.614084665297874\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:49:40.5593348+03:00 0HL81NICBB9Q1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:49:40.5683408+03:00 0HL81NICBB9Q1 [INF] Request finished in 106.4856ms 302  (15c52c40)
2017-09-22T17:49:44.4970600+03:00 0HL81NICBB9Q2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:49:44.5000702+03:00 0HL81NICBB9Q2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:44.5010713+03:00 0HL81NICBB9Q2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:49:44.5030754+03:00 0HL81NICBB9Q2 [INF] Request finished in 5.205ms 200 application/json (15c52c40)
2017-09-22T17:49:44.8613152+03:00 0HL81NICBB9Q3 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T17:49:44.8628156+03:00 0HL81NICBB9Q3 [INF] Request finished in 1.0543ms 204  (15c52c40)
2017-09-22T17:49:44.9418685+03:00 0HL81NICBB9Q4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:49:44.9443703+03:00 0HL81NICBB9Q4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:44.9448709+03:00 0HL81NICBB9Q4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:49:44.9758915+03:00 0HL81NICBB9Q4 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:49:44.9763916+03:00 0HL81NICBB9Q4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:49:44.9773923+03:00 0HL81NICBB9Q4 [INF] Request finished in 35.6374ms 200 application/json (15c52c40)
2017-09-22T17:49:45.1430020+03:00 0HL81NICBB9Q5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T17:49:45.1460040+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:49:45.1465041+03:00 0HL81NICBB9Q5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T17:49:45.1465041+03:00 0HL81NICBB9Q5 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T17:49:45.1705201+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:49:45.1820279+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:45.1885324+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:49:45.1990400+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:49:45.2010405+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:49:45.2105467+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:49:45.2220545+03:00 0HL81NICBB9Q5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:49:45.2225546+03:00 0HL81NICBB9Q5 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T17:49:45.2290592+03:00 0HL81NICBB9Q5 [INF] Request finished in 82.0252ms 200 application/json (15c52c40)
2017-09-22T17:54:41.8450780+03:00 0HL81NICBB9Q6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69905956860525991506092081798&state=15060920817980.17822610023448116   (e5be5b71)
2017-09-22T17:54:41.8480800+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:41.8560849+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:54:41.8610886+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:41.8640902+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:54:41.8670922+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:54:41.8710953+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:54:41.8720959+03:00 0HL81NICBB9Q6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:54:41.8720959+03:00 0HL81NICBB9Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:41.8720959+03:00 0HL81NICBB9Q6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:54:41.8730970+03:00 0HL81NICBB9Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:41.8730970+03:00 0HL81NICBB9Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:41.8730970+03:00 0HL81NICBB9Q6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060920817980.17822610023448116\",
  \"Nonce\": \"N0.69905956860525991506092081798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69905956860525991506092081798\",
    \"state\": \"15060920817980.17822610023448116\"
  }
}" (9a175e33)
2017-09-22T17:54:41.8821026+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:41.8831024+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:54:41.8851034+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:54:41.8871055+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:54:41.9931822+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:41.9971849+03:00 0HL81NICBB9Q6 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:54:42.0182040+03:00 0HL81NICBB9Q6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060920817980.17822610023448116\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:54:42.0192110+03:00 0HL81NICBB9Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:42.0212095+03:00 0HL81NICBB9Q6 [INF] Request finished in 176.4046ms 302  (15c52c40)
2017-09-22T17:54:42.8210585+03:00 0HL81NICBB9Q7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.180773474296195951506092082797&state=15060920827970.21030746524956978   (e5be5b71)
2017-09-22T17:54:42.8240609+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:42.8240609+03:00 0HL81NICBB9Q7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:54:42.8250604+03:00 0HL81NICBB9Q7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:42.8250604+03:00 0HL81NICBB9Q7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:54:42.8250604+03:00 0HL81NICBB9Q7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:42.8260610+03:00 0HL81NICBB9Q7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:42.8260610+03:00 0HL81NICBB9Q7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060920827970.21030746524956978\",
  \"Nonce\": \"N0.180773474296195951506092082797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.180773474296195951506092082797\",
    \"state\": \"15060920827970.21030746524956978\"
  }
}" (9a175e33)
2017-09-22T17:54:42.8290626+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:54:42.8400695+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:42.8410702+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:54:42.8430723+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:54:42.8460794+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:54:42.8490759+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:42.8510776+03:00 0HL81NICBB9Q7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:54:42.8740925+03:00 0HL81NICBB9Q7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060920827970.21030746524956978\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:54:42.8740925+03:00 0HL81NICBB9Q7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:42.8750932+03:00 0HL81NICBB9Q7 [INF] Request finished in 54.6785ms 302  (15c52c40)
2017-09-22T17:54:45.1446327+03:00 0HL81NICBB9Q8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30468866256436921506092084855&state=15060920848550.3464231657794874   (e5be5b71)
2017-09-22T17:54:45.1481352+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:45.1486349+03:00 0HL81NICBB9Q8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:54:45.1491359+03:00 0HL81NICBB9Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:45.1491359+03:00 0HL81NICBB9Q8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:54:45.1496360+03:00 0HL81NICBB9Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:45.1501365+03:00 0HL81NICBB9Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:45.1501365+03:00 0HL81NICBB9Q8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060920848550.3464231657794874\",
  \"Nonce\": \"N0.30468866256436921506092084855\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30468866256436921506092084855\",
    \"state\": \"15060920848550.3464231657794874\"
  }
}" (9a175e33)
2017-09-22T17:54:45.1586420+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:54:45.1886623+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:45.1976679+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:54:45.2086752+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:54:45.2291886+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:54:45.2426978+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:54:45.2487026+03:00 0HL81NICBB9Q8 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:54:45.2742185+03:00 0HL81NICBB9Q8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060920848550.3464231657794874\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:54:45.2842256+03:00 0HL81NICBB9Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:54:45.2877281+03:00 0HL81NICBB9Q8 [INF] Request finished in 141.9332ms 302  (15c52c40)
2017-09-22T17:54:48.3789081+03:00 0HL81NICBB9Q9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:54:48.3819105+03:00 0HL81NICBB9Q9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:48.3829108+03:00 0HL81NICBB9Q9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:54:48.3839115+03:00 0HL81NICBB9Q9 [INF] Request finished in 4.2316ms 200 application/json (15c52c40)
2017-09-22T17:54:48.8698878+03:00 0HL81NICBB9QA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:54:48.8728905+03:00 0HL81NICBB9QA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:48.8728905+03:00 0HL81NICBB9QA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:54:48.9134208+03:00 0HL81NICBB9QA [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:54:48.9159231+03:00 0HL81NICBB9QA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:54:48.9504458+03:00 0HL81NICBB9QA [INF] Request finished in 50.0647ms 200 application/json (15c52c40)
2017-09-22T17:54:50.0360474+03:00 0HL81NICBB9QB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:54:50.0390498+03:00 0HL81NICBB9QB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:54:50.0390498+03:00 0HL81NICBB9QB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:54:50.0660677+03:00 0HL81NICBB9QB [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:54:50.0660677+03:00 0HL81NICBB9QB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:54:50.0670680+03:00 0HL81NICBB9QB [INF] Request finished in 31.3304ms 200 application/json (15c52c40)
2017-09-22T17:59:46.8367948+03:00 0HL81NICBB9QC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.055484893308637821506092386802&state=15060923868020.33051367148753985   (e5be5b71)
2017-09-22T17:59:47.1043783+03:00 0HL81NICBB9QC [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:59:47.1053830+03:00 0HL81NICBB9QC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:59:47.1068798+03:00 0HL81NICBB9QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:47.1073871+03:00 0HL81NICBB9QC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:59:47.1088827+03:00 0HL81NICBB9QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:47.1108821+03:00 0HL81NICBB9QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:47.1113826+03:00 0HL81NICBB9QC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060923868020.33051367148753985\",
  \"Nonce\": \"N0.055484893308637821506092386802\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.055484893308637821506092386802\",
    \"state\": \"15060923868020.33051367148753985\"
  }
}" (9a175e33)
2017-09-22T17:59:47.2048119+03:00 0HL81NICBB9QC [INF] Executed DbCommand (88ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:59:47.2253253+03:00 0HL81NICBB9QC [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:59:47.2293280+03:00 0HL81NICBB9QC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:59:47.2348302+03:00 0HL81NICBB9QC [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:59:47.2433361+03:00 0HL81NICBB9QC [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:59:47.2458375+03:00 0HL81NICBB9QC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:59:47.2503403+03:00 0HL81NICBB9QC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:59:47.2703532+03:00 0HL81NICBB9QC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060923868020.33051367148753985\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:59:47.2708542+03:00 0HL81NICBB9QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:47.2718552+03:00 0HL81NICBB9QC [INF] Request finished in 435.5317ms 302  (15c52c40)
2017-09-22T17:59:49.9916601+03:00 0HL81NICBB9QD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70756907245558631506092389897&state=15060923898970.6900490756580395   (e5be5b71)
2017-09-22T17:59:49.9946625+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:59:49.9951626+03:00 0HL81NICBB9QD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T17:59:49.9956632+03:00 0HL81NICBB9QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:49.9961637+03:00 0HL81NICBB9QD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T17:59:49.9966638+03:00 0HL81NICBB9QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:49.9971644+03:00 0HL81NICBB9QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:49.9971644+03:00 0HL81NICBB9QD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060923898970.6900490756580395\",
  \"Nonce\": \"N0.70756907245558631506092389897\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70756907245558631506092389897\",
    \"state\": \"15060923898970.6900490756580395\"
  }
}" (9a175e33)
2017-09-22T17:59:50.0016672+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:59:50.0166775+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:59:50.0191790+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T17:59:50.0226811+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T17:59:50.0246820+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T17:59:50.0276844+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T17:59:50.0296865+03:00 0HL81NICBB9QD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T17:59:50.0577048+03:00 0HL81NICBB9QD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060923898970.6900490756580395\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T17:59:50.0587054+03:00 0HL81NICBB9QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T17:59:50.0597061+03:00 0HL81NICBB9QD [INF] Request finished in 68.4209ms 302  (15c52c40)
2017-09-22T17:59:52.8251148+03:00 0HL81NICBB9QE [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T17:59:52.8276167+03:00 0HL81NICBB9QE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:59:52.8281172+03:00 0HL81NICBB9QE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T17:59:52.8301186+03:00 0HL81NICBB9QE [INF] Request finished in 4.1443ms 200 application/json (15c52c40)
2017-09-22T17:59:53.5716112+03:00 0HL81NICBB9QF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:59:53.5751126+03:00 0HL81NICBB9QF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:59:53.5751126+03:00 0HL81NICBB9QF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:59:53.6011298+03:00 0HL81NICBB9QF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:59:53.6016300+03:00 0HL81NICBB9QF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:59:53.6091352+03:00 0HL81NICBB9QF [INF] Request finished in 31.2633ms 200 application/json (15c52c40)
2017-09-22T17:59:54.9155031+03:00 0HL81NICBB9QG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T17:59:54.9185046+03:00 0HL81NICBB9QG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T17:59:54.9185046+03:00 0HL81NICBB9QG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T17:59:54.9505255+03:00 0HL81NICBB9QG [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T17:59:54.9510260+03:00 0HL81NICBB9QG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T17:59:54.9730418+03:00 0HL81NICBB9QG [INF] Request finished in 37.1449ms 200 application/json (15c52c40)
2017-09-22T18:04:51.8403293+03:00 0HL81NICBB9QH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.120347136783055971506092691801&state=15060926918010.5390451685736657   (e5be5b71)
2017-09-22T18:04:51.8438318+03:00 0HL81NICBB9QH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:04:51.8443319+03:00 0HL81NICBB9QH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:04:51.8448325+03:00 0HL81NICBB9QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:04:51.8453346+03:00 0HL81NICBB9QH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:04:51.8458335+03:00 0HL81NICBB9QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:04:51.8463341+03:00 0HL81NICBB9QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:04:51.8468346+03:00 0HL81NICBB9QH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060926918010.5390451685736657\",
  \"Nonce\": \"N0.120347136783055971506092691801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.120347136783055971506092691801\",
    \"state\": \"15060926918010.5390451685736657\"
  }
}" (9a175e33)
2017-09-22T18:04:51.8548391+03:00 0HL81NICBB9QH [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:04:51.8738529+03:00 0HL81NICBB9QH [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:04:51.8773539+03:00 0HL81NICBB9QH [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:04:51.8818566+03:00 0HL81NICBB9QH [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:04:51.8878630+03:00 0HL81NICBB9QH [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:04:51.8903625+03:00 0HL81NICBB9QH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:04:51.8938650+03:00 0HL81NICBB9QH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:04:51.9138779+03:00 0HL81NICBB9QH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060926918010.5390451685736657\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:04:51.9143784+03:00 0HL81NICBB9QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:04:51.9148790+03:00 0HL81NICBB9QH [INF] Request finished in 75.2373ms 302  (15c52c40)
2017-09-22T18:04:56.5788219+03:00 0HL81NICBB9QI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:04:56.5823241+03:00 0HL81NICBB9QI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:04:56.5823241+03:00 0HL81NICBB9QI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:04:56.5833247+03:00 0HL81NICBB9QI [INF] Request finished in 4.961ms 200 application/json (15c52c40)
2017-09-22T18:04:57.2017353+03:00 0HL81NICBB9QJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:04:57.2047381+03:00 0HL81NICBB9QJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:04:57.2047381+03:00 0HL81NICBB9QJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:04:57.2307546+03:00 0HL81NICBB9QJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:04:57.2312547+03:00 0HL81NICBB9QJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:04:57.2322554+03:00 0HL81NICBB9QJ [INF] Request finished in 30.1036ms 200 application/json (15c52c40)
2017-09-22T18:04:57.9862561+03:00 0HL81NICBB9QK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:04:57.9887584+03:00 0HL81NICBB9QK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:04:57.9892585+03:00 0HL81NICBB9QK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:04:58.0072697+03:00 0HL81NICBB9QK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:04:58.0077706+03:00 0HL81NICBB9QK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:04:58.0082704+03:00 0HL81NICBB9QK [INF] Request finished in 22.3513ms 200 application/json (15c52c40)
2017-09-22T18:09:52.8226832+03:00 0HL81NICBB9QL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54541049859992221506092992798&state=15060929927980.18804430011339823   (e5be5b71)
2017-09-22T18:09:53.0976441+03:00 0HL81NICBB9QL [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:09:53.0996415+03:00 0HL81NICBB9QL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:09:53.1026415+03:00 0HL81NICBB9QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:53.1031428+03:00 0HL81NICBB9QL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:09:53.1076456+03:00 0HL81NICBB9QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:53.1101471+03:00 0HL81NICBB9QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:53.1111505+03:00 0HL81NICBB9QL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060929927980.18804430011339823\",
  \"Nonce\": \"N0.54541049859992221506092992798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54541049859992221506092992798\",
    \"state\": \"15060929927980.18804430011339823\"
  }
}" (9a175e33)
2017-09-22T18:09:53.1748247+03:00 0HL81NICBB9QL [INF] Executed DbCommand (59ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:09:53.1873336+03:00 0HL81NICBB9QL [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:09:53.1903360+03:00 0HL81NICBB9QL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:09:53.1933372+03:00 0HL81NICBB9QL [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:09:53.1963396+03:00 0HL81NICBB9QL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:09:53.1983409+03:00 0HL81NICBB9QL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:09:53.2023436+03:00 0HL81NICBB9QL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:09:53.2233583+03:00 0HL81NICBB9QL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060929927980.18804430011339823\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:09:53.2241640+03:00 0HL81NICBB9QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:53.2251686+03:00 0HL81NICBB9QL [INF] Request finished in 402.7995ms 302  (15c52c40)
2017-09-22T18:09:58.3303872+03:00 0HL81NICBB9QM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:09:58.3333888+03:00 0HL81NICBB9QM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:09:58.3333888+03:00 0HL81NICBB9QM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:09:58.3343894+03:00 0HL81NICBB9QM [INF] Request finished in 4.1029ms 200 application/json (15c52c40)
2017-09-22T18:09:58.5760501+03:00 0HL81NICBB9QN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:09:58.5805533+03:00 0HL81NICBB9QN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:09:58.5805533+03:00 0HL81NICBB9QN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:09:58.6080717+03:00 0HL81NICBB9QN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:09:58.6085715+03:00 0HL81NICBB9QN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:09:58.6145755+03:00 0HL81NICBB9QN [INF] Request finished in 44.4369ms 200 application/json (15c52c40)
2017-09-22T18:09:58.7306525+03:00 0HL81NICBB9QO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.226807775960335741506092998443&state=15060929984430.029568313841169314   (e5be5b71)
2017-09-22T18:09:58.7336549+03:00 0HL81NICBB9QO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:09:58.7341550+03:00 0HL81NICBB9QO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:09:58.7346552+03:00 0HL81NICBB9QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:58.7351553+03:00 0HL81NICBB9QO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:09:58.7356558+03:00 0HL81NICBB9QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:58.7361564+03:00 0HL81NICBB9QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:58.7366569+03:00 0HL81NICBB9QO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060929984430.029568313841169314\",
  \"Nonce\": \"N0.226807775960335741506092998443\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.226807775960335741506092998443\",
    \"state\": \"15060929984430.029568313841169314\"
  }
}" (9a175e33)
2017-09-22T18:09:58.7461630+03:00 0HL81NICBB9QO [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:09:58.7731809+03:00 0HL81NICBB9QO [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:09:58.7751823+03:00 0HL81NICBB9QO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:09:58.7781843+03:00 0HL81NICBB9QO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:09:58.7801856+03:00 0HL81NICBB9QO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:09:58.7831876+03:00 0HL81NICBB9QO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:09:58.8062029+03:00 0HL81NICBB9QO [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:09:58.8352221+03:00 0HL81NICBB9QO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060929984430.029568313841169314\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:09:58.8362228+03:00 0HL81NICBB9QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:09:58.8382257+03:00 0HL81NICBB9QO [INF] Request finished in 107.1614ms 302  (15c52c40)
2017-09-22T18:10:02.2112422+03:00 0HL81NICBB9QP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:10:02.2152484+03:00 0HL81NICBB9QP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:10:02.2152484+03:00 0HL81NICBB9QP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:10:02.2167457+03:00 0HL81NICBB9QP [INF] Request finished in 5.5101ms 200 application/json (15c52c40)
2017-09-22T18:10:02.4298872+03:00 0HL81NICBB9QQ [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T18:10:02.4308878+03:00 0HL81NICBB9QQ [INF] Request finished in 1.0792ms 204  (15c52c40)
2017-09-22T18:10:02.5079394+03:00 0HL81NICBB9QR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:10:02.5109410+03:00 0HL81NICBB9QR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:10:02.5114419+03:00 0HL81NICBB9QR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:10:02.5389596+03:00 0HL81NICBB9QR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:10:02.5394601+03:00 0HL81NICBB9QR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:10:02.5404608+03:00 0HL81NICBB9QR [INF] Request finished in 32.6682ms 200 application/json (15c52c40)
2017-09-22T18:10:02.8776846+03:00 0HL81NICBB9QS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T18:10:02.8846909+03:00 0HL81NICBB9QS [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:10:02.8846909+03:00 0HL81NICBB9QS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T18:10:02.8851898+03:00 0HL81NICBB9QS [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T18:10:02.9172103+03:00 0HL81NICBB9QS [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:10:02.9217135+03:00 0HL81NICBB9QS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:10:02.9937613+03:00 0HL81NICBB9QS [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:10:03.0623066+03:00 0HL81NICBB9QS [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:10:03.0723141+03:00 0HL81NICBB9QS [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:10:03.0783173+03:00 0HL81NICBB9QS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:10:03.0833210+03:00 0HL81NICBB9QS [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:10:03.0833210+03:00 0HL81NICBB9QS [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T18:10:03.0963296+03:00 0HL81NICBB9QS [INF] Request finished in 215.8427ms 200 application/json (15c52c40)
2017-09-22T18:14:58.8464367+03:00 0HL81NICBB9QT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.260679551032335871506093298797&state=15060932987980.2486091853132355   (e5be5b71)
2017-09-22T18:14:58.8504386+03:00 0HL81NICBB9QT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:14:58.8514396+03:00 0HL81NICBB9QT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:14:58.8519401+03:00 0HL81NICBB9QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:14:58.8524407+03:00 0HL81NICBB9QT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:14:58.8529428+03:00 0HL81NICBB9QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:14:58.8549421+03:00 0HL81NICBB9QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:14:58.8549421+03:00 0HL81NICBB9QT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060932987980.2486091853132355\",
  \"Nonce\": \"N0.260679551032335871506093298797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.260679551032335871506093298797\",
    \"state\": \"15060932987980.2486091853132355\"
  }
}" (9a175e33)
2017-09-22T18:14:58.8644482+03:00 0HL81NICBB9QT [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:14:58.8824602+03:00 0HL81NICBB9QT [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:14:58.8874639+03:00 0HL81NICBB9QT [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:14:58.8924672+03:00 0HL81NICBB9QT [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:14:58.8984708+03:00 0HL81NICBB9QT [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:14:58.9009731+03:00 0HL81NICBB9QT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:14:58.9059760+03:00 0HL81NICBB9QT [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:14:58.9209864+03:00 0HL81NICBB9QT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060932987980.2486091853132355\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:14:58.9214869+03:00 0HL81NICBB9QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:14:58.9219862+03:00 0HL81NICBB9QT [INF] Request finished in 76.9532ms 302  (15c52c40)
2017-09-22T18:15:03.8584822+03:00 0HL81NICBB9QU [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:15:03.8614845+03:00 0HL81NICBB9QU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:03.8614845+03:00 0HL81NICBB9QU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:15:03.8629853+03:00 0HL81NICBB9QU [INF] Request finished in 3.9193ms 200 application/json (15c52c40)
2017-09-22T18:15:04.1696888+03:00 0HL81NICBB9QV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:15:04.1726904+03:00 0HL81NICBB9QV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:04.1726904+03:00 0HL81NICBB9QV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:15:04.1967071+03:00 0HL81NICBB9QV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:15:04.1972072+03:00 0HL81NICBB9QV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:15:04.1982075+03:00 0HL81NICBB9QV [INF] Request finished in 28.7634ms 200 application/json (15c52c40)
2017-09-22T18:15:04.3483079+03:00 0HL81NICBB9R0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0174593905275233221506093303990&state=15060933039900.6917617391652051   (e5be5b71)
2017-09-22T18:15:04.3513091+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:04.3518101+03:00 0HL81NICBB9R0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:15:04.3518101+03:00 0HL81NICBB9R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:15:04.3523098+03:00 0HL81NICBB9R0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:15:04.3523098+03:00 0HL81NICBB9R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:15:04.3533113+03:00 0HL81NICBB9R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:15:04.3533113+03:00 0HL81NICBB9R0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060933039900.6917617391652051\",
  \"Nonce\": \"N0.0174593905275233221506093303990\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0174593905275233221506093303990\",
    \"state\": \"15060933039900.6917617391652051\"
  }
}" (9a175e33)
2017-09-22T18:15:04.3573135+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:15:04.3773276+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:15:04.3818296+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:15:04.3843311+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:15:04.3863328+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:15:04.3893352+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:15:04.3908364+03:00 0HL81NICBB9R0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:15:04.4143522+03:00 0HL81NICBB9R0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060933039900.6917617391652051\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:15:04.4153525+03:00 0HL81NICBB9R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:15:04.4168533+03:00 0HL81NICBB9R0 [INF] Request finished in 67.9678ms 302  (15c52c40)
2017-09-22T18:15:07.5444299+03:00 0HL81NICBB9R1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:15:07.5484341+03:00 0HL81NICBB9R1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:07.5484341+03:00 0HL81NICBB9R1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:15:07.5494328+03:00 0HL81NICBB9R1 [INF] Request finished in 5.173ms 200 application/json (15c52c40)
2017-09-22T18:15:07.8691453+03:00 0HL81NICBB9R2 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T18:15:07.8701455+03:00 0HL81NICBB9R2 [INF] Request finished in 1.0618ms 204  (15c52c40)
2017-09-22T18:15:07.9557029+03:00 0HL81NICBB9R3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:15:07.9587045+03:00 0HL81NICBB9R3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:07.9592054+03:00 0HL81NICBB9R3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:15:07.9877242+03:00 0HL81NICBB9R3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:15:07.9887244+03:00 0HL81NICBB9R3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:15:07.9902256+03:00 0HL81NICBB9R3 [INF] Request finished in 33.6562ms 200 application/json (15c52c40)
2017-09-22T18:15:08.8793157+03:00 0HL81NICBB9R4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T18:15:08.8838185+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:15:08.8838185+03:00 0HL81NICBB9R4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T18:15:08.8838185+03:00 0HL81NICBB9R4 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T18:15:08.9113370+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:15:08.9138388+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:15:08.9158402+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:15:08.9178411+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:15:08.9203426+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:15:08.9228452+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:15:08.9248457+03:00 0HL81NICBB9R4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:15:08.9248457+03:00 0HL81NICBB9R4 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T18:15:08.9258472+03:00 0HL81NICBB9R4 [INF] Request finished in 46.9933ms 200 application/json (15c52c40)
2017-09-22T18:20:07.8386204+03:00 0HL81NICBB9R5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78217180275390371506093607807&state=15060936078070.5699079284142978   (e5be5b71)
2017-09-22T18:20:08.0862910+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:20:08.0867911+03:00 0HL81NICBB9R5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:20:08.0877922+03:00 0HL81NICBB9R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:08.0882931+03:00 0HL81NICBB9R5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:20:08.0887925+03:00 0HL81NICBB9R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:08.0897927+03:00 0HL81NICBB9R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:08.0897927+03:00 0HL81NICBB9R5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060936078070.5699079284142978\",
  \"Nonce\": \"N0.78217180275390371506093607807\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78217180275390371506093607807\",
    \"state\": \"15060936078070.5699079284142978\"
  }
}" (9a175e33)
2017-09-22T18:20:08.1213162+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (27ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:20:08.1643428+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:20:08.1683470+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:20:08.1733504+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:20:08.1828549+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:20:08.1883595+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:20:08.1978653+03:00 0HL81NICBB9R5 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:20:08.2248836+03:00 0HL81NICBB9R5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060936078070.5699079284142978\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:20:08.2253837+03:00 0HL81NICBB9R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:08.2263848+03:00 0HL81NICBB9R5 [INF] Request finished in 388.7073ms 302  (15c52c40)
2017-09-22T18:20:11.0227407+03:00 0HL81NICBB9R6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.258475961936808441506093610937&state=15060936109370.28967093195088434   (e5be5b71)
2017-09-22T18:20:11.0267430+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:20:11.0272435+03:00 0HL81NICBB9R6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:20:11.0277444+03:00 0HL81NICBB9R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:11.0277444+03:00 0HL81NICBB9R6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:20:11.0282442+03:00 0HL81NICBB9R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:11.0287447+03:00 0HL81NICBB9R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:11.0292448+03:00 0HL81NICBB9R6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060936109370.28967093195088434\",
  \"Nonce\": \"N0.258475961936808441506093610937\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.258475961936808441506093610937\",
    \"state\": \"15060936109370.28967093195088434\"
  }
}" (9a175e33)
2017-09-22T18:20:11.0327474+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:20:11.0522601+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:20:11.0557630+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:20:11.0582645+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:20:11.0612665+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:20:11.0647686+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:20:11.0667699+03:00 0HL81NICBB9R6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:20:11.0927876+03:00 0HL81NICBB9R6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060936109370.28967093195088434\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:20:11.0932877+03:00 0HL81NICBB9R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:20:11.0942880+03:00 0HL81NICBB9R6 [INF] Request finished in 72.4871ms 302  (15c52c40)
2017-09-22T18:20:14.0932799+03:00 0HL81NICBB9R7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:20:14.0962811+03:00 0HL81NICBB9R7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:20:14.0962811+03:00 0HL81NICBB9R7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:20:14.0972817+03:00 0HL81NICBB9R7 [INF] Request finished in 4.3421ms 200 application/json (15c52c40)
2017-09-22T18:20:14.4930447+03:00 0HL81NICBB9R8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:20:14.4955461+03:00 0HL81NICBB9R8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:20:14.4960467+03:00 0HL81NICBB9R8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:20:14.5245654+03:00 0HL81NICBB9R8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:20:14.5250659+03:00 0HL81NICBB9R8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:20:14.5260666+03:00 0HL81NICBB9R8 [INF] Request finished in 34.495ms 200 application/json (15c52c40)
2017-09-22T18:20:16.1266294+03:00 0HL81NICBB9R9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:20:16.1301315+03:00 0HL81NICBB9R9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:20:16.1306325+03:00 0HL81NICBB9R9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:20:16.1601519+03:00 0HL81NICBB9R9 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:20:16.1606524+03:00 0HL81NICBB9R9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:20:16.1621540+03:00 0HL81NICBB9R9 [INF] Request finished in 35.881ms 200 application/json (15c52c40)
2017-09-22T18:25:14.8468812+03:00 0HL81NICBB9RA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83691958195165661506093914801&state=15060939148010.9425780198758777   (e5be5b71)
2017-09-22T18:25:14.8508846+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:25:14.8593940+03:00 0HL81NICBB9RA [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:25:14.8673997+03:00 0HL81NICBB9RA [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:25:14.8724090+03:00 0HL81NICBB9RA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:25:14.8764104+03:00 0HL81NICBB9RA [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:25:14.8824140+03:00 0HL81NICBB9RA [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:25:14.8824140+03:00 0HL81NICBB9RA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:25:14.8844157+03:00 0HL81NICBB9RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:25:14.8844157+03:00 0HL81NICBB9RA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:25:14.8844157+03:00 0HL81NICBB9RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:25:14.8854168+03:00 0HL81NICBB9RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:25:14.8854168+03:00 0HL81NICBB9RA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060939148010.9425780198758777\",
  \"Nonce\": \"N0.83691958195165661506093914801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83691958195165661506093914801\",
    \"state\": \"15060939148010.9425780198758777\"
  }
}" (9a175e33)
2017-09-22T18:25:14.8944228+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:25:14.8964237+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:25:14.8984247+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:25:14.9004264+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:25:14.9024281+03:00 0HL81NICBB9RA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:25:14.9064311+03:00 0HL81NICBB9RA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:25:14.9234417+03:00 0HL81NICBB9RA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060939148010.9425780198758777\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:25:14.9244435+03:00 0HL81NICBB9RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:25:14.9254434+03:00 0HL81NICBB9RA [INF] Request finished in 78.9656ms 302  (15c52c40)
2017-09-22T18:25:20.0922421+03:00 0HL81NICBB9RB [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:25:20.0952445+03:00 0HL81NICBB9RB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:25:20.0952445+03:00 0HL81NICBB9RB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:25:20.0972462+03:00 0HL81NICBB9RB [INF] Request finished in 4.0433ms 200 application/json (15c52c40)
2017-09-22T18:25:20.6326040+03:00 0HL81NICBB9RC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:25:20.6351055+03:00 0HL81NICBB9RC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:25:20.6356064+03:00 0HL81NICBB9RC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:25:20.6596235+03:00 0HL81NICBB9RC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:25:20.6601225+03:00 0HL81NICBB9RC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:25:20.6616237+03:00 0HL81NICBB9RC [INF] Request finished in 28.5258ms 200 application/json (15c52c40)
2017-09-22T18:25:21.2885436+03:00 0HL81NICBB9RD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:25:21.2915456+03:00 0HL81NICBB9RD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:25:21.2915456+03:00 0HL81NICBB9RD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:25:21.3130640+03:00 0HL81NICBB9RD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:25:21.3135642+03:00 0HL81NICBB9RD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:25:21.3140643+03:00 0HL81NICBB9RD [INF] Request finished in 25.3189ms 200 application/json (15c52c40)
2017-09-22T18:30:16.8583322+03:00 0HL81NICBB9RE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86158027990582681506094216799&state=15060942167990.4065231961904807   (e5be5b71)
2017-09-22T18:30:17.1089913+03:00 0HL81NICBB9RE [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:30:17.1109910+03:00 0HL81NICBB9RE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:30:17.1119917+03:00 0HL81NICBB9RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:30:17.1129920+03:00 0HL81NICBB9RE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:30:17.1139918+03:00 0HL81NICBB9RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:30:17.1149937+03:00 0HL81NICBB9RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:30:17.1159967+03:00 0HL81NICBB9RE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060942167990.4065231961904807\",
  \"Nonce\": \"N0.86158027990582681506094216799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86158027990582681506094216799\",
    \"state\": \"15060942167990.4065231961904807\"
  }
}" (9a175e33)
2017-09-22T18:30:17.1639694+03:00 0HL81NICBB9RE [INF] Executed DbCommand (43ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:30:17.1769796+03:00 0HL81NICBB9RE [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:30:17.1819806+03:00 0HL81NICBB9RE [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:30:17.1849849+03:00 0HL81NICBB9RE [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:30:17.1919860+03:00 0HL81NICBB9RE [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:30:17.1929883+03:00 0HL81NICBB9RE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:30:17.1969897+03:00 0HL81NICBB9RE [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:30:17.2129996+03:00 0HL81NICBB9RE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060942167990.4065231961904807\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:30:17.2140093+03:00 0HL81NICBB9RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:30:17.2140093+03:00 0HL81NICBB9RE [INF] Request finished in 357.978ms 302  (15c52c40)
2017-09-22T18:30:20.9778438+03:00 0HL81NICBB9RF [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:30:20.9818469+03:00 0HL81NICBB9RF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:30:20.9823470+03:00 0HL81NICBB9RF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:30:20.9833473+03:00 0HL81NICBB9RF [INF] Request finished in 5.4777ms 200 application/json (15c52c40)
2017-09-22T18:30:21.4711714+03:00 0HL81NICBB9RG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:30:21.4741738+03:00 0HL81NICBB9RG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:30:21.4746739+03:00 0HL81NICBB9RG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:30:21.5031930+03:00 0HL81NICBB9RG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:30:21.5036928+03:00 0HL81NICBB9RG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:30:21.5046950+03:00 0HL81NICBB9RG [INF] Request finished in 34.0154ms 200 application/json (15c52c40)
2017-09-22T18:30:22.9344494+03:00 0HL81NICBB9RH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:30:22.9374513+03:00 0HL81NICBB9RH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:30:22.9379515+03:00 0HL81NICBB9RH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:30:22.9774779+03:00 0HL81NICBB9RH [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:30:22.9779785+03:00 0HL81NICBB9RH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:30:22.9934886+03:00 0HL81NICBB9RH [INF] Request finished in 44.8408ms 200 application/json (15c52c40)
2017-09-22T18:35:20.8773653+03:00 0HL81NICBB9RI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61199365716584891506094520798&state=15060945207980.641148708379502   (e5be5b71)
2017-09-22T18:35:20.8813684+03:00 0HL81NICBB9RI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:35:20.8813684+03:00 0HL81NICBB9RI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:35:20.8823690+03:00 0HL81NICBB9RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:35:20.8823690+03:00 0HL81NICBB9RI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:35:20.8833705+03:00 0HL81NICBB9RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:35:20.8843703+03:00 0HL81NICBB9RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:35:20.8843703+03:00 0HL81NICBB9RI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060945207980.641148708379502\",
  \"Nonce\": \"N0.61199365716584891506094520798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61199365716584891506094520798\",
    \"state\": \"15060945207980.641148708379502\"
  }
}" (9a175e33)
2017-09-22T18:35:20.8903739+03:00 0HL81NICBB9RI [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:35:20.9058884+03:00 0HL81NICBB9RI [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:35:20.9100900+03:00 0HL81NICBB9RI [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:35:20.9150917+03:00 0HL81NICBB9RI [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:35:20.9190948+03:00 0HL81NICBB9RI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:35:20.9210953+03:00 0HL81NICBB9RI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:35:20.9250980+03:00 0HL81NICBB9RI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:35:20.9421089+03:00 0HL81NICBB9RI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060945207980.641148708379502\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:35:20.9431174+03:00 0HL81NICBB9RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:35:20.9431174+03:00 0HL81NICBB9RI [INF] Request finished in 66.6387ms 302  (15c52c40)
2017-09-22T18:35:25.1474914+03:00 0HL81NICBB9RJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:35:25.1539963+03:00 0HL81NICBB9RJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:35:25.1539963+03:00 0HL81NICBB9RJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:35:25.1564978+03:00 0HL81NICBB9RJ [INF] Request finished in 9.4761ms 200 application/json (15c52c40)
2017-09-22T18:35:25.9365577+03:00 0HL81NICBB9RK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:35:25.9395600+03:00 0HL81NICBB9RK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:35:25.9395600+03:00 0HL81NICBB9RK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:35:25.9605732+03:00 0HL81NICBB9RK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:35:25.9615739+03:00 0HL81NICBB9RK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:35:25.9625745+03:00 0HL81NICBB9RK [INF] Request finished in 25.7749ms 200 application/json (15c52c40)
2017-09-22T18:35:26.5954030+03:00 0HL81NICBB9RL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:35:26.5984050+03:00 0HL81NICBB9RL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:35:26.5994060+03:00 0HL81NICBB9RL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:35:26.6234302+03:00 0HL81NICBB9RL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:35:26.6244313+03:00 0HL81NICBB9RL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:35:26.6304353+03:00 0HL81NICBB9RL [INF] Request finished in 29.5588ms 200 application/json (15c52c40)
2017-09-22T18:40:21.8827985+03:00 0HL81NICBB9RM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84795544143284271506094821804&state=15060948218040.7221276349911312   (e5be5b71)
2017-09-22T18:40:22.0913302+03:00 0HL81NICBB9RM [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:40:22.0913302+03:00 0HL81NICBB9RM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:40:22.0913302+03:00 0HL81NICBB9RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:22.0923309+03:00 0HL81NICBB9RM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:40:22.0923309+03:00 0HL81NICBB9RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:22.0923309+03:00 0HL81NICBB9RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:22.0933324+03:00 0HL81NICBB9RM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060948218040.7221276349911312\",
  \"Nonce\": \"N0.84795544143284271506094821804\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84795544143284271506094821804\",
    \"state\": \"15060948218040.7221276349911312\"
  }
}" (9a175e33)
2017-09-22T18:40:22.1153470+03:00 0HL81NICBB9RM [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:40:22.1313580+03:00 0HL81NICBB9RM [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:40:22.1353599+03:00 0HL81NICBB9RM [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:40:22.1403632+03:00 0HL81NICBB9RM [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:40:22.1443662+03:00 0HL81NICBB9RM [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:40:22.1463676+03:00 0HL81NICBB9RM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:40:22.1493692+03:00 0HL81NICBB9RM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:40:22.1717517+03:00 0HL81NICBB9RM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060948218040.7221276349911312\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:40:22.1727523+03:00 0HL81NICBB9RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:22.1747529+03:00 0HL81NICBB9RM [INF] Request finished in 291.4349ms 302  (15c52c40)
2017-09-22T18:40:26.2927882+03:00 0HL81NICBB9RN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78497112222267611506094825799&state=15060948257990.41733006694818964   (e5be5b71)
2017-09-22T18:40:26.2957902+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:40:26.2962908+03:00 0HL81NICBB9RN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:40:26.2972914+03:00 0HL81NICBB9RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:26.2972914+03:00 0HL81NICBB9RN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:40:26.2977916+03:00 0HL81NICBB9RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:26.2987918+03:00 0HL81NICBB9RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:26.2987918+03:00 0HL81NICBB9RN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060948257990.41733006694818964\",
  \"Nonce\": \"N0.78497112222267611506094825799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78497112222267611506094825799\",
    \"state\": \"15060948257990.41733006694818964\"
  }
}" (9a175e33)
2017-09-22T18:40:26.3037959+03:00 0HL81NICBB9RN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:40:26.3183054+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:40:26.3238092+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:40:26.3263111+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:40:26.3288126+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:40:26.3333153+03:00 0HL81NICBB9RN [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:40:26.3353163+03:00 0HL81NICBB9RN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:40:26.3708405+03:00 0HL81NICBB9RN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060948257990.41733006694818964\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:40:26.3733427+03:00 0HL81NICBB9RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:40:26.3748431+03:00 0HL81NICBB9RN [INF] Request finished in 82.06ms 302  (15c52c40)
2017-09-22T18:40:30.1686423+03:00 0HL81NICBB9RO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:40:30.1716431+03:00 0HL81NICBB9RO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:40:30.1726458+03:00 0HL81NICBB9RO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:40:30.1741521+03:00 0HL81NICBB9RO [INF] Request finished in 5.3096ms 200 application/json (15c52c40)
2017-09-22T18:40:30.5629364+03:00 0HL81NICBB9RP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:40:30.5674396+03:00 0HL81NICBB9RP [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:40:30.5674396+03:00 0HL81NICBB9RP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:40:30.5939574+03:00 0HL81NICBB9RP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:40:30.5944580+03:00 0HL81NICBB9RP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:40:30.5959603+03:00 0HL81NICBB9RP [INF] Request finished in 36.1853ms 200 application/json (15c52c40)
2017-09-22T18:40:31.7256654+03:00 0HL81NICBB9RQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:40:31.7286674+03:00 0HL81NICBB9RQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:40:31.7296684+03:00 0HL81NICBB9RQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:40:31.7546846+03:00 0HL81NICBB9RQ [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:40:31.7546846+03:00 0HL81NICBB9RQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:40:31.7566860+03:00 0HL81NICBB9RQ [INF] Request finished in 30.9625ms 200 application/json (15c52c40)
2017-09-22T18:45:26.8392824+03:00 0HL81NICBB9RR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66846880537158811506095126807&state=15060951268070.36651645150175716   (e5be5b71)
2017-09-22T18:45:26.8422848+03:00 0HL81NICBB9RR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:45:26.8432851+03:00 0HL81NICBB9RR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:45:26.8432851+03:00 0HL81NICBB9RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:45:26.8432851+03:00 0HL81NICBB9RR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:45:26.8442869+03:00 0HL81NICBB9RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:45:26.8452876+03:00 0HL81NICBB9RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:45:26.8452876+03:00 0HL81NICBB9RR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060951268070.36651645150175716\",
  \"Nonce\": \"N0.66846880537158811506095126807\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66846880537158811506095126807\",
    \"state\": \"15060951268070.36651645150175716\"
  }
}" (9a175e33)
2017-09-22T18:45:26.8522954+03:00 0HL81NICBB9RR [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:45:26.8698108+03:00 0HL81NICBB9RR [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:45:26.8768154+03:00 0HL81NICBB9RR [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:45:26.8808185+03:00 0HL81NICBB9RR [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:45:26.8838205+03:00 0HL81NICBB9RR [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:45:26.8858218+03:00 0HL81NICBB9RR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:45:26.8898245+03:00 0HL81NICBB9RR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:45:26.9048340+03:00 0HL81NICBB9RR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060951268070.36651645150175716\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:45:26.9058347+03:00 0HL81NICBB9RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:45:26.9058347+03:00 0HL81NICBB9RR [INF] Request finished in 67.8351ms 302  (15c52c40)
2017-09-22T18:45:31.1194519+03:00 0HL81NICBB9RS [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:45:31.1234545+03:00 0HL81NICBB9RS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:45:31.1234545+03:00 0HL81NICBB9RS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:45:31.1244556+03:00 0HL81NICBB9RS [INF] Request finished in 4.7471ms 200 application/json (15c52c40)
2017-09-22T18:45:31.3781447+03:00 0HL81NICBB9RT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:45:31.3836513+03:00 0HL81NICBB9RT [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:45:31.3836513+03:00 0HL81NICBB9RT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:45:31.4116695+03:00 0HL81NICBB9RT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:45:31.4116695+03:00 0HL81NICBB9RT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:45:31.4136713+03:00 0HL81NICBB9RT [INF] Request finished in 40.4371ms 200 application/json (15c52c40)
2017-09-22T18:45:31.9480896+03:00 0HL81NICBB9RU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:45:31.9500909+03:00 0HL81NICBB9RU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:45:31.9510924+03:00 0HL81NICBB9RU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:45:31.9671050+03:00 0HL81NICBB9RU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:45:31.9671050+03:00 0HL81NICBB9RU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:45:31.9676059+03:00 0HL81NICBB9RU [INF] Request finished in 19.4724ms 200 application/json (15c52c40)
2017-09-22T18:50:26.8479608+03:00 0HL81NICBB9RV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50358092259358371506095426799&state=15060954267990.7235277245164116   (e5be5b71)
2017-09-22T18:50:27.0748088+03:00 0HL81NICBB9RV [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:27.0758083+03:00 0HL81NICBB9RV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:50:27.0758083+03:00 0HL81NICBB9RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:27.0758083+03:00 0HL81NICBB9RV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:50:27.0768094+03:00 0HL81NICBB9RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:27.0768094+03:00 0HL81NICBB9RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:27.0768094+03:00 0HL81NICBB9RV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060954267990.7235277245164116\",
  \"Nonce\": \"N0.50358092259358371506095426799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50358092259358371506095426799\",
    \"state\": \"15060954267990.7235277245164116\"
  }
}" (9a175e33)
2017-09-22T18:50:27.1095068+03:00 0HL81NICBB9RV [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:27.1286102+03:00 0HL81NICBB9RV [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:27.1326109+03:00 0HL81NICBB9RV [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:50:27.1356141+03:00 0HL81NICBB9RV [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:50:27.1396159+03:00 0HL81NICBB9RV [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:50:27.1416177+03:00 0HL81NICBB9RV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:27.1466214+03:00 0HL81NICBB9RV [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:50:27.1676345+03:00 0HL81NICBB9RV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060954267990.7235277245164116\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:50:27.1676345+03:00 0HL81NICBB9RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:27.1686356+03:00 0HL81NICBB9RV [INF] Request finished in 321.6186ms 302  (15c52c40)
2017-09-22T18:50:30.2421673+03:00 0HL81NICBB9S0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80557257773385091506095430167&state=15060954301670.7386718863354433   (e5be5b71)
2017-09-22T18:50:30.2456698+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:30.2466701+03:00 0HL81NICBB9S0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:50:30.2466701+03:00 0HL81NICBB9S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:30.2471710+03:00 0HL81NICBB9S0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:50:30.2476707+03:00 0HL81NICBB9S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:30.2486714+03:00 0HL81NICBB9S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:30.2486714+03:00 0HL81NICBB9S0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060954301670.7386718863354433\",
  \"Nonce\": \"N0.80557257773385091506095430167\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80557257773385091506095430167\",
    \"state\": \"15060954301670.7386718863354433\"
  }
}" (9a175e33)
2017-09-22T18:50:30.2656831+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:30.3332285+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:30.4337947+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:50:30.4397983+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:50:30.4443015+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:50:30.4613135+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:30.4638146+03:00 0HL81NICBB9S0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:50:30.4933344+03:00 0HL81NICBB9S0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060954301670.7386718863354433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:50:30.5478708+03:00 0HL81NICBB9S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:30.5823931+03:00 0HL81NICBB9S0 [INF] Request finished in 309.8356ms 302  (15c52c40)
2017-09-22T18:50:39.0134695+03:00 0HL81NICBB9S1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:50:39.0164719+03:00 0HL81NICBB9S1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:39.0174725+03:00 0HL81NICBB9S1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:50:39.0174725+03:00 0HL81NICBB9S1 [INF] Request finished in 4.736ms 200 application/json (15c52c40)
2017-09-22T18:50:39.3402075+03:00 0HL81NICBB9S2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:50:39.3427094+03:00 0HL81NICBB9S2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:39.3432099+03:00 0HL81NICBB9S2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:50:39.3697265+03:00 0HL81NICBB9S2 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:39.3697265+03:00 0HL81NICBB9S2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:50:39.3707276+03:00 0HL81NICBB9S2 [INF] Request finished in 30.9546ms 200 application/json (15c52c40)
2017-09-22T18:50:39.4998251+03:00 0HL81NICBB9S3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59294136141345891506095439175&state=15060954391750.6719822060425265   (e5be5b71)
2017-09-22T18:50:39.5028279+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:39.5038282+03:00 0HL81NICBB9S3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:50:39.5038282+03:00 0HL81NICBB9S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:39.5048284+03:00 0HL81NICBB9S3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:50:39.5048284+03:00 0HL81NICBB9S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:39.5058295+03:00 0HL81NICBB9S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:39.5058295+03:00 0HL81NICBB9S3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060954391750.6719822060425265\",
  \"Nonce\": \"N0.59294136141345891506095439175\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59294136141345891506095439175\",
    \"state\": \"15060954391750.6719822060425265\"
  }
}" (9a175e33)
2017-09-22T18:50:39.5498587+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:39.5793825+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:39.5863871+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:50:39.5918906+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:50:39.6013975+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:50:39.6134050+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:39.6304163+03:00 0HL81NICBB9S3 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:50:39.6629381+03:00 0HL81NICBB9S3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060954391750.6719822060425265\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:50:39.6864535+03:00 0HL81NICBB9S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:50:39.7119707+03:00 0HL81NICBB9S3 [INF] Request finished in 187.3669ms 302  (15c52c40)
2017-09-22T18:50:44.1532779+03:00 0HL81NICBB9S4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:50:44.1587817+03:00 0HL81NICBB9S4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:44.1592823+03:00 0HL81NICBB9S4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:50:44.1632841+03:00 0HL81NICBB9S4 [INF] Request finished in 7.9291ms 200 application/json (15c52c40)
2017-09-22T18:50:44.5830630+03:00 0HL81NICBB9S5 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T18:50:44.5840637+03:00 0HL81NICBB9S5 [INF] Request finished in 1.4107ms 204  (15c52c40)
2017-09-22T18:50:44.9813278+03:00 0HL81NICBB9S6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T18:50:44.9843302+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:44.9848299+03:00 0HL81NICBB9S6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T18:50:44.9848299+03:00 0HL81NICBB9S6 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T18:50:45.0113477+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:45.0163515+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:45.0183520+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:50:45.0208543+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:50:45.0238578+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:50:45.0273580+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:50:45.0298594+03:00 0HL81NICBB9S6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:50:45.0298594+03:00 0HL81NICBB9S6 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T18:50:45.0318616+03:00 0HL81NICBB9S6 [INF] Request finished in 49.6574ms 200 application/json (15c52c40)
2017-09-22T18:50:45.0608800+03:00 0HL81NICBB9S7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:50:45.0633819+03:00 0HL81NICBB9S7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:50:45.0633819+03:00 0HL81NICBB9S7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:50:45.0853977+03:00 0HL81NICBB9S7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:50:45.0858974+03:00 0HL81NICBB9S7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:50:45.0863976+03:00 0HL81NICBB9S7 [INF] Request finished in 26.0563ms 200 application/json (15c52c40)
2017-09-22T18:55:39.8435953+03:00 0HL81NICBB9S8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83606769136417781506095739799&state=15060957397990.692529439953365   (e5be5b71)
2017-09-22T18:55:39.8480981+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:39.8621078+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:39.8701147+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:39.8776183+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:55:39.8826217+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:55:39.8876250+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:55:39.8911271+03:00 0HL81NICBB9S8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:55:39.8926279+03:00 0HL81NICBB9S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:39.8931284+03:00 0HL81NICBB9S8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:55:39.8951302+03:00 0HL81NICBB9S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:39.8981318+03:00 0HL81NICBB9S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:39.8981318+03:00 0HL81NICBB9S8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060957397990.692529439953365\",
  \"Nonce\": \"N0.83606769136417781506095739799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83606769136417781506095739799\",
    \"state\": \"15060957397990.692529439953365\"
  }
}" (9a175e33)
2017-09-22T18:55:39.9166438+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:39.9201464+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:55:39.9321567+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:55:39.9366575+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:55:39.9426607+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:39.9476644+03:00 0HL81NICBB9S8 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:55:39.9671772+03:00 0HL81NICBB9S8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060957397990.692529439953365\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:55:39.9676785+03:00 0HL81NICBB9S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:39.9681783+03:00 0HL81NICBB9S8 [INF] Request finished in 129.8964ms 302  (15c52c40)
2017-09-22T18:55:41.0934942+03:00 0HL81NICBB9S9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83745453514984191506095740917&state=15060957409170.49735639819100075   (e5be5b71)
2017-09-22T18:55:41.0989973+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:41.1014995+03:00 0HL81NICBB9S9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:55:41.1024994+03:00 0HL81NICBB9S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:41.1029999+03:00 0HL81NICBB9S9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:55:41.1040010+03:00 0HL81NICBB9S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:41.1050016+03:00 0HL81NICBB9S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:41.1050016+03:00 0HL81NICBB9S9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060957409170.49735639819100075\",
  \"Nonce\": \"N0.83745453514984191506095740917\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83745453514984191506095740917\",
    \"state\": \"15060957409170.49735639819100075\"
  }
}" (9a175e33)
2017-09-22T18:55:41.1120067+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:41.1310197+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:41.1340209+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:55:41.1375230+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:55:41.1460289+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:55:41.1500315+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:41.1615394+03:00 0HL81NICBB9S9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:55:41.2050677+03:00 0HL81NICBB9S9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060957409170.49735639819100075\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:55:41.2095717+03:00 0HL81NICBB9S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:41.2125736+03:00 0HL81NICBB9S9 [INF] Request finished in 119.8428ms 302  (15c52c40)
2017-09-22T18:55:45.5582276+03:00 0HL81NICBB9SA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94668504134803391506095745466&state=15060957454660.561860458189194   (e5be5b71)
2017-09-22T18:55:45.5617293+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:45.5627296+03:00 0HL81NICBB9SA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:55:45.5632301+03:00 0HL81NICBB9SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:45.5632301+03:00 0HL81NICBB9SA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:55:45.5637303+03:00 0HL81NICBB9SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:45.5647309+03:00 0HL81NICBB9SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:45.5647309+03:00 0HL81NICBB9SA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060957454660.561860458189194\",
  \"Nonce\": \"N0.94668504134803391506095745466\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94668504134803391506095745466\",
    \"state\": \"15060957454660.561860458189194\"
  }
}" (9a175e33)
2017-09-22T18:55:45.5702348+03:00 0HL81NICBB9SA [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:45.5872461+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:45.5897491+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:55:45.5927499+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:55:45.5967526+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:55:45.6007552+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:45.6027570+03:00 0HL81NICBB9SA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:55:45.6322760+03:00 0HL81NICBB9SA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060957454660.561860458189194\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:55:45.6327761+03:00 0HL81NICBB9SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:45.6362790+03:00 0HL81NICBB9SA [INF] Request finished in 77.8382ms 302  (15c52c40)
2017-09-22T18:55:48.8459113+03:00 0HL81NICBB9SB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66337967799729821506095748812&state=15060957488120.20454454631194796   (e5be5b71)
2017-09-22T18:55:48.8484127+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:48.8489137+03:00 0HL81NICBB9SB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T18:55:48.8494138+03:00 0HL81NICBB9SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:48.8499139+03:00 0HL81NICBB9SB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T18:55:48.8504145+03:00 0HL81NICBB9SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:48.8509146+03:00 0HL81NICBB9SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:48.8509146+03:00 0HL81NICBB9SB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060957488120.20454454631194796\",
  \"Nonce\": \"N0.66337967799729821506095748812\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66337967799729821506095748812\",
    \"state\": \"15060957488120.20454454631194796\"
  }
}" (9a175e33)
2017-09-22T18:55:48.8544167+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:48.8709279+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:48.8734301+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T18:55:48.8764317+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T18:55:48.8784335+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T18:55:48.8824357+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T18:55:48.8849380+03:00 0HL81NICBB9SB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T18:55:48.9094537+03:00 0HL81NICBB9SB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060957488120.20454454631194796\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T18:55:48.9104547+03:00 0HL81NICBB9SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T18:55:48.9109553+03:00 0HL81NICBB9SB [INF] Request finished in 65.3814ms 302  (15c52c40)
2017-09-22T18:55:52.8875366+03:00 0HL81NICBB9SC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T18:55:52.8910395+03:00 0HL81NICBB9SC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:52.8910395+03:00 0HL81NICBB9SC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T18:55:52.8920453+03:00 0HL81NICBB9SC [INF] Request finished in 4.6871ms 200 application/json (15c52c40)
2017-09-22T18:55:53.3083386+03:00 0HL81NICBB9SD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:55:53.3303524+03:00 0HL81NICBB9SD [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:53.3303524+03:00 0HL81NICBB9SD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:55:53.3538671+03:00 0HL81NICBB9SD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:53.3543680+03:00 0HL81NICBB9SD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:55:53.3548685+03:00 0HL81NICBB9SD [INF] Request finished in 84.2705ms 200 application/json (15c52c40)
2017-09-22T18:55:53.9746741+03:00 0HL81NICBB9SE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T18:55:53.9766746+03:00 0HL81NICBB9SE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T18:55:53.9766746+03:00 0HL81NICBB9SE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T18:55:53.9916862+03:00 0HL81NICBB9SE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T18:55:53.9926857+03:00 0HL81NICBB9SE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T18:55:53.9926857+03:00 0HL81NICBB9SE [INF] Request finished in 18.4923ms 200 application/json (15c52c40)
2017-09-22T19:00:48.8455777+03:00 0HL81NICBB9SF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95479195329354851506096048799&state=15060960487990.4516715058696805   (e5be5b71)
2017-09-22T19:00:49.1442987+03:00 0HL81NICBB9SF [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:00:49.1462989+03:00 0HL81NICBB9SF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:00:49.1477993+03:00 0HL81NICBB9SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:49.1482978+03:00 0HL81NICBB9SF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:00:49.1492981+03:00 0HL81NICBB9SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:49.1503007+03:00 0HL81NICBB9SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:49.1508005+03:00 0HL81NICBB9SF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060960487990.4516715058696805\",
  \"Nonce\": \"N0.95479195329354851506096048799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95479195329354851506096048799\",
    \"state\": \"15060960487990.4516715058696805\"
  }
}" (9a175e33)
2017-09-22T19:00:49.1990799+03:00 0HL81NICBB9SF [INF] Executed DbCommand (43ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:00:49.2197405+03:00 0HL81NICBB9SF [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:00:49.2227437+03:00 0HL81NICBB9SF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:00:49.2262462+03:00 0HL81NICBB9SF [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:00:49.2307494+03:00 0HL81NICBB9SF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:00:49.2327504+03:00 0HL81NICBB9SF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:00:49.2357516+03:00 0HL81NICBB9SF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:00:49.2572660+03:00 0HL81NICBB9SF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060960487990.4516715058696805\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:00:49.2582659+03:00 0HL81NICBB9SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:49.2587668+03:00 0HL81NICBB9SF [INF] Request finished in 413.9999ms 302  (15c52c40)
2017-09-22T19:00:51.8900167+03:00 0HL81NICBB9SG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36917660995441891506096051803&state=15060960518030.009430633289642554   (e5be5b71)
2017-09-22T19:00:51.8940194+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:00:51.8950196+03:00 0HL81NICBB9SG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:00:51.8950196+03:00 0HL81NICBB9SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:51.8955202+03:00 0HL81NICBB9SG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:00:51.8960207+03:00 0HL81NICBB9SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:51.8970210+03:00 0HL81NICBB9SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:51.8970210+03:00 0HL81NICBB9SG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060960518030.009430633289642554\",
  \"Nonce\": \"N0.36917660995441891506096051803\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36917660995441891506096051803\",
    \"state\": \"15060960518030.009430633289642554\"
  }
}" (9a175e33)
2017-09-22T19:00:51.9015241+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:00:51.9165345+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:00:51.9270409+03:00 0HL81NICBB9SG [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:00:51.9295427+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:00:51.9340479+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:00:51.9365474+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:00:51.9425518+03:00 0HL81NICBB9SG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:00:51.9715710+03:00 0HL81NICBB9SG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060960518030.009430633289642554\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:00:51.9745726+03:00 0HL81NICBB9SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:00:51.9765744+03:00 0HL81NICBB9SG [INF] Request finished in 85.9331ms 302  (15c52c40)
2017-09-22T19:00:56.0306347+03:00 0HL81NICBB9SH [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:00:56.0341368+03:00 0HL81NICBB9SH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:00:56.0341368+03:00 0HL81NICBB9SH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:00:56.0351379+03:00 0HL81NICBB9SH [INF] Request finished in 4.5695ms 200 application/json (15c52c40)
2017-09-22T19:00:56.5885049+03:00 0HL81NICBB9SI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:00:56.5915065+03:00 0HL81NICBB9SI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:00:56.5920074+03:00 0HL81NICBB9SI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:00:56.6195255+03:00 0HL81NICBB9SI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:00:56.6200256+03:00 0HL81NICBB9SI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:00:56.6210263+03:00 0HL81NICBB9SI [INF] Request finished in 32.8423ms 200 application/json (15c52c40)
2017-09-22T19:00:57.9419040+03:00 0HL81NICBB9SJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:00:57.9589145+03:00 0HL81NICBB9SJ [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:00:57.9594154+03:00 0HL81NICBB9SJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:00:57.9919364+03:00 0HL81NICBB9SJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:00:57.9929375+03:00 0HL81NICBB9SJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:00:57.9934376+03:00 0HL81NICBB9SJ [INF] Request finished in 53.4974ms 200 application/json (15c52c40)
2017-09-22T19:05:54.8590151+03:00 0HL81NICBB9SK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66171192660709121506096354800&state=15060963548000.8297974860484789   (e5be5b71)
2017-09-22T19:05:54.8635186+03:00 0HL81NICBB9SK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:05:54.8650190+03:00 0HL81NICBB9SK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:05:54.8660197+03:00 0HL81NICBB9SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:05:54.8660197+03:00 0HL81NICBB9SK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:05:54.8670208+03:00 0HL81NICBB9SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:05:54.8690260+03:00 0HL81NICBB9SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:05:54.8690260+03:00 0HL81NICBB9SK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060963548000.8297974860484789\",
  \"Nonce\": \"N0.66171192660709121506096354800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66171192660709121506096354800\",
    \"state\": \"15060963548000.8297974860484789\"
  }
}" (9a175e33)
2017-09-22T19:05:54.8780316+03:00 0HL81NICBB9SK [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:05:54.8950429+03:00 0HL81NICBB9SK [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:05:54.9000458+03:00 0HL81NICBB9SK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:05:54.9030490+03:00 0HL81NICBB9SK [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:05:54.9070509+03:00 0HL81NICBB9SK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:05:54.9100529+03:00 0HL81NICBB9SK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:05:54.9140555+03:00 0HL81NICBB9SK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:05:54.9360698+03:00 0HL81NICBB9SK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060963548000.8297974860484789\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:05:54.9360698+03:00 0HL81NICBB9SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:05:54.9370712+03:00 0HL81NICBB9SK [INF] Request finished in 79.3935ms 302  (15c52c40)
2017-09-22T19:05:59.6546083+03:00 0HL81NICBB9SL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:05:59.6596247+03:00 0HL81NICBB9SL [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:05:59.6596247+03:00 0HL81NICBB9SL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:05:59.6616256+03:00 0HL81NICBB9SL [INF] Request finished in 6.8104ms 200 application/json (15c52c40)
2017-09-22T19:06:00.3181293+03:00 0HL81NICBB9SM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:06:00.3211309+03:00 0HL81NICBB9SM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:06:00.3211309+03:00 0HL81NICBB9SM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:06:00.3506551+03:00 0HL81NICBB9SM [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:06:00.3511552+03:00 0HL81NICBB9SM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:06:00.3521559+03:00 0HL81NICBB9SM [INF] Request finished in 34.2235ms 200 application/json (15c52c40)
2017-09-22T19:06:00.9620906+03:00 0HL81NICBB9SN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:06:00.9650938+03:00 0HL81NICBB9SN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:06:00.9650938+03:00 0HL81NICBB9SN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:06:00.9821094+03:00 0HL81NICBB9SN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:06:00.9826095+03:00 0HL81NICBB9SN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:06:00.9831097+03:00 0HL81NICBB9SN [INF] Request finished in 20.3938ms 200 application/json (15c52c40)
2017-09-22T19:10:55.8568787+03:00 0HL81NICBB9SO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0615073326119679461506096655800&state=15060966558000.5066156054768627   (e5be5b71)
2017-09-22T19:10:55.8598803+03:00 0HL81NICBB9SO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:10:55.8608806+03:00 0HL81NICBB9SO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:10:55.8618817+03:00 0HL81NICBB9SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:10:55.8618817+03:00 0HL81NICBB9SO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:10:55.8618817+03:00 0HL81NICBB9SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:10:55.8633872+03:00 0HL81NICBB9SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:10:55.8633872+03:00 0HL81NICBB9SO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060966558000.5066156054768627\",
  \"Nonce\": \"N0.0615073326119679461506096655800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0615073326119679461506096655800\",
    \"state\": \"15060966558000.5066156054768627\"
  }
}" (9a175e33)
2017-09-22T19:10:55.8703907+03:00 0HL81NICBB9SO [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:10:55.8825182+03:00 0HL81NICBB9SO [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:10:55.8855202+03:00 0HL81NICBB9SO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:10:55.8875219+03:00 0HL81NICBB9SO [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:10:55.8915238+03:00 0HL81NICBB9SO [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:10:55.8935263+03:00 0HL81NICBB9SO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:10:55.8975290+03:00 0HL81NICBB9SO [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:10:55.9125382+03:00 0HL81NICBB9SO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060966558000.5066156054768627\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:10:55.9125382+03:00 0HL81NICBB9SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:10:55.9135400+03:00 0HL81NICBB9SO [INF] Request finished in 58.0622ms 302  (15c52c40)
2017-09-22T19:10:59.8283470+03:00 0HL81NICBB9SP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:10:59.8318483+03:00 0HL81NICBB9SP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:10:59.8318483+03:00 0HL81NICBB9SP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:10:59.8323488+03:00 0HL81NICBB9SP [INF] Request finished in 4.5493ms 200 application/json (15c52c40)
2017-09-22T19:11:00.2656649+03:00 0HL81NICBB9SQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:11:00.2681672+03:00 0HL81NICBB9SQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:11:00.2686673+03:00 0HL81NICBB9SQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:11:00.2951855+03:00 0HL81NICBB9SQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:11:00.2956852+03:00 0HL81NICBB9SQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:11:00.2966859+03:00 0HL81NICBB9SQ [INF] Request finished in 30.9807ms 200 application/json (15c52c40)
2017-09-22T19:11:01.2395426+03:00 0HL81NICBB9SR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:11:01.2425442+03:00 0HL81NICBB9SR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:11:01.2425442+03:00 0HL81NICBB9SR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:11:01.2664260+03:00 0HL81NICBB9SR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:11:01.2664260+03:00 0HL81NICBB9SR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:11:01.2674274+03:00 0HL81NICBB9SR [INF] Request finished in 28.4887ms 200 application/json (15c52c40)
2017-09-22T19:15:58.8464197+03:00 0HL81NICBB9SS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95299702501001971506096958800&state=15060969588000.4174008335308401   (e5be5b71)
2017-09-22T19:16:02.8499822+03:00 0HL81NICBB9ST [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.323354824597320341506096962798&state=15060969627980.9033403390765817   (e5be5b71)
2017-09-22T19:16:04.8139279+03:00 0HL81NICBB9ST [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:04.8139279+03:00 0HL81NICBB9SS [INF] Executed DbCommand (159ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:04.8149286+03:00 0HL81NICBB9ST [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:16:04.8149286+03:00 0HL81NICBB9ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8149286+03:00 0HL81NICBB9ST [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:16:04.8149286+03:00 0HL81NICBB9SS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:16:04.8159296+03:00 0HL81NICBB9ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8159296+03:00 0HL81NICBB9SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8159296+03:00 0HL81NICBB9SS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:16:04.8159296+03:00 0HL81NICBB9ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8169295+03:00 0HL81NICBB9ST [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060969627980.9033403390765817\",
  \"Nonce\": \"N0.323354824597320341506096962798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.323354824597320341506096962798\",
    \"state\": \"15060969627980.9033403390765817\"
  }
}" (9a175e33)
2017-09-22T19:16:04.8169295+03:00 0HL81NICBB9SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8179306+03:00 0HL81NICBB9SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:04.8179306+03:00 0HL81NICBB9SS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060969588000.4174008335308401\",
  \"Nonce\": \"N0.95299702501001971506096958800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95299702501001971506096958800\",
    \"state\": \"15060969588000.4174008335308401\"
  }
}" (9a175e33)
2017-09-22T19:16:05.4311898+03:00 0HL81NICBB9ST [INF] Executed DbCommand (611ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:05.4321905+03:00 0HL81NICBB9SS [INF] Executed DbCommand (610ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:05.5122499+03:00 0HL81NICBB9ST [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:05.5122499+03:00 0HL81NICBB9SS [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:05.5162530+03:00 0HL81NICBB9ST [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:16:05.5182543+03:00 0HL81NICBB9SS [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:16:05.5222570+03:00 0HL81NICBB9ST [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:16:05.5242583+03:00 0HL81NICBB9SS [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:16:05.5272599+03:00 0HL81NICBB9ST [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:16:05.5292612+03:00 0HL81NICBB9SS [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:16:05.5322632+03:00 0HL81NICBB9ST [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:05.5332643+03:00 0HL81NICBB9SS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:05.5362663+03:00 0HL81NICBB9ST [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:16:05.5422702+03:00 0HL81NICBB9SS [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:16:05.5597860+03:00 0HL81NICBB9ST [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060969627980.9033403390765817\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:16:05.5602858+03:00 0HL81NICBB9ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:05.5612868+03:00 0HL81NICBB9ST [INF] Request finished in 2712.3198ms 302  (15c52c40)
2017-09-22T19:16:05.5627876+03:00 0HL81NICBB9SS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060969588000.4174008335308401\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:16:05.5632881+03:00 0HL81NICBB9SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:05.5642884+03:00 0HL81NICBB9SS [INF] Request finished in 6717.4463ms 302  (15c52c40)
2017-09-22T19:16:07.0127072+03:00 0HL81NICBB9SU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.263480239159099351506096966810&state=15060969668100.9684498162636799   (e5be5b71)
2017-09-22T19:16:07.0167095+03:00 0HL81NICBB9SU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:07.0177106+03:00 0HL81NICBB9SU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:16:07.0187108+03:00 0HL81NICBB9SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:07.0187108+03:00 0HL81NICBB9SU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:16:07.0197119+03:00 0HL81NICBB9SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:07.0207121+03:00 0HL81NICBB9SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:07.0212131+03:00 0HL81NICBB9SU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060969668100.9684498162636799\",
  \"Nonce\": \"N0.263480239159099351506096966810\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.263480239159099351506096966810\",
    \"state\": \"15060969668100.9684498162636799\"
  }
}" (9a175e33)
2017-09-22T19:16:07.0247152+03:00 0HL81NICBB9SU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:07.0427279+03:00 0HL81NICBB9SU [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:07.0457292+03:00 0HL81NICBB9SU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:16:07.0547351+03:00 0HL81NICBB9SU [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:16:07.0807524+03:00 0HL81NICBB9SU [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:16:07.1072698+03:00 0HL81NICBB9SU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:07.1162762+03:00 0HL81NICBB9SU [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:16:07.1497982+03:00 0HL81NICBB9SU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060969668100.9684498162636799\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:16:07.1528002+03:00 0HL81NICBB9SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:07.1563028+03:00 0HL81NICBB9SU [INF] Request finished in 142.2684ms 302  (15c52c40)
2017-09-22T19:16:10.8325269+03:00 0HL81NICBB9SV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74678647853365041506096970798&state=15060969707980.7084722599526512   (e5be5b71)
2017-09-22T19:16:10.8355289+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:10.8365295+03:00 0HL81NICBB9SV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:16:10.8365295+03:00 0HL81NICBB9SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:10.8375298+03:00 0HL81NICBB9SV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:16:10.8375298+03:00 0HL81NICBB9SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:10.8385304+03:00 0HL81NICBB9SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:10.8385304+03:00 0HL81NICBB9SV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060969707980.7084722599526512\",
  \"Nonce\": \"N0.74678647853365041506096970798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74678647853365041506096970798\",
    \"state\": \"15060969707980.7084722599526512\"
  }
}" (9a175e33)
2017-09-22T19:16:10.8425331+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:10.8565428+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:10.8595444+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:16:10.8625468+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:16:10.8645477+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:16:10.8675497+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:16:10.8705517+03:00 0HL81NICBB9SV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:16:11.0277413+03:00 0HL81NICBB9SV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060969707980.7084722599526512\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:16:11.0277413+03:00 0HL81NICBB9SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:16:11.0297430+03:00 0HL81NICBB9SV [INF] Request finished in 196.7953ms 302  (15c52c40)
2017-09-22T19:16:14.4566797+03:00 0HL81NICBB9T0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:16:14.4596817+03:00 0HL81NICBB9T0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:14.4596817+03:00 0HL81NICBB9T0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:16:14.4606820+03:00 0HL81NICBB9T0 [INF] Request finished in 3.7918ms 200 application/json (15c52c40)
2017-09-22T19:16:14.7798114+03:00 0HL81NICBB9T1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:16:14.7833175+03:00 0HL81NICBB9T1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:14.7833175+03:00 0HL81NICBB9T1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:16:34.8510883+03:00 0HL81NICBB9T2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:16:34.8540871+03:00 0HL81NICBB9T2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:16:34.8550874+03:00 0HL81NICBB9T2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:16:34.8791037+03:00 0HL81NICBB9T2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:34.8791037+03:00 0HL81NICBB9T2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:16:34.8801040+03:00 0HL81NICBB9T2 [INF] Request finished in 29.8004ms 200 application/json (15c52c40)
2017-09-22T19:16:45.0115345+03:00 0HL81NICBB9T1 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:16:45.0120354+03:00 0HL81NICBB9T1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:16:45.0130353+03:00 0HL81NICBB9T1 [INF] Request finished in 30232.7095ms 200 application/json (15c52c40)
2017-09-22T19:21:12.8523980+03:00 0HL81NICBB9T3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50480525748930361506097272798&state=15060972727980.985910497533008   (e5be5b71)
2017-09-22T19:21:13.4507610+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:13.4512615+03:00 0HL81NICBB9T3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:13.4517616+03:00 0HL81NICBB9T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:13.4522618+03:00 0HL81NICBB9T3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:13.4527623+03:00 0HL81NICBB9T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:13.4537630+03:00 0HL81NICBB9T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:13.4537630+03:00 0HL81NICBB9T3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972727980.985910497533008\",
  \"Nonce\": \"N0.50480525748930361506097272798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50480525748930361506097272798\",
    \"state\": \"15060972727980.985910497533008\"
  }
}" (9a175e33)
2017-09-22T19:21:13.4637728+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:13.4767810+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:13.4797826+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:13.4827850+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:13.4867880+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:13.4917910+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:13.4957936+03:00 0HL81NICBB9T3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:13.5118039+03:00 0HL81NICBB9T3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972727980.985910497533008\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:13.5118039+03:00 0HL81NICBB9T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:13.5128045+03:00 0HL81NICBB9T3 [INF] Request finished in 660.9705ms 302  (15c52c40)
2017-09-22T19:21:15.8918597+03:00 0HL81NICBB9T4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69029471955846571506097275852&state=15060972758520.6280564897389178   (e5be5b71)
2017-09-22T19:21:17.1147509+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:17.1157524+03:00 0HL81NICBB9T4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:17.1157524+03:00 0HL81NICBB9T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:17.1167522+03:00 0HL81NICBB9T4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:17.1167522+03:00 0HL81NICBB9T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:17.1177541+03:00 0HL81NICBB9T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:17.1177541+03:00 0HL81NICBB9T4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972758520.6280564897389178\",
  \"Nonce\": \"N0.69029471955846571506097275852\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69029471955846571506097275852\",
    \"state\": \"15060972758520.6280564897389178\"
  }
}" (9a175e33)
2017-09-22T19:21:17.1257578+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:17.1377682+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:17.1407682+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:17.1447704+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:17.1487731+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:17.1507740+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:17.1547818+03:00 0HL81NICBB9T4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:17.1682914+03:00 0HL81NICBB9T4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972758520.6280564897389178\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:17.1692924+03:00 0HL81NICBB9T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:17.1692924+03:00 0HL81NICBB9T4 [INF] Request finished in 1278.0978ms 302  (15c52c40)
2017-09-22T19:21:19.8316008+03:00 0HL81NICBB9T5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.184153049105323371506097279799&state=15060972797990.8494545014367674   (e5be5b71)
2017-09-22T19:21:20.5431466+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:20.5451479+03:00 0HL81NICBB9T5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:20.5461490+03:00 0HL81NICBB9T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:20.5461490+03:00 0HL81NICBB9T5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:20.5471492+03:00 0HL81NICBB9T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:20.5491506+03:00 0HL81NICBB9T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:20.5491506+03:00 0HL81NICBB9T5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972797990.8494545014367674\",
  \"Nonce\": \"N0.184153049105323371506097279799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.184153049105323371506097279799\",
    \"state\": \"15060972797990.8494545014367674\"
  }
}" (9a175e33)
2017-09-22T19:21:20.5536565+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:20.5641621+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:20.5661646+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:20.5681655+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:20.5701961+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:20.5721974+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:20.5731981+03:00 0HL81NICBB9T5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:20.5882088+03:00 0HL81NICBB9T5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972797990.8494545014367674\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:20.5892115+03:00 0HL81NICBB9T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:20.5892115+03:00 0HL81NICBB9T5 [INF] Request finished in 758.6255ms 302  (15c52c40)
2017-09-22T19:21:22.8346967+03:00 0HL81NICBB9T6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8109948789299311506097282804&state=15060972828040.15994276620711778   (e5be5b71)
2017-09-22T19:21:23.4370501+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:23.4390522+03:00 0HL81NICBB9T6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:23.4400521+03:00 0HL81NICBB9T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:23.4410524+03:00 0HL81NICBB9T6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:23.4420530+03:00 0HL81NICBB9T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:23.4430541+03:00 0HL81NICBB9T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:23.4430541+03:00 0HL81NICBB9T6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972828040.15994276620711778\",
  \"Nonce\": \"N0.8109948789299311506097282804\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8109948789299311506097282804\",
    \"state\": \"15060972828040.15994276620711778\"
  }
}" (9a175e33)
2017-09-22T19:21:23.4520612+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:23.4690832+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:23.4710833+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:23.4735252+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:23.4745259+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:23.4775294+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:23.4815301+03:00 0HL81NICBB9T6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:23.4955406+03:00 0HL81NICBB9T6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972828040.15994276620711778\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:23.4965460+03:00 0HL81NICBB9T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:23.4975423+03:00 0HL81NICBB9T6 [INF] Request finished in 662.8601ms 302  (15c52c40)
2017-09-22T19:21:26.8340798+03:00 0HL81NICBB9T7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92328592319458761506097286798&state=15060972867980.7191512689308812   (e5be5b71)
2017-09-22T19:21:27.6078144+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:27.6078144+03:00 0HL81NICBB9T7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:27.6088138+03:00 0HL81NICBB9T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:27.6088138+03:00 0HL81NICBB9T7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:27.6098137+03:00 0HL81NICBB9T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:27.6108144+03:00 0HL81NICBB9T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:27.6108144+03:00 0HL81NICBB9T7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972867980.7191512689308812\",
  \"Nonce\": \"N0.92328592319458761506097286798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92328592319458761506097286798\",
    \"state\": \"15060972867980.7191512689308812\"
  }
}" (9a175e33)
2017-09-22T19:21:27.6158197+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:27.6318275+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:27.6328286+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:27.6348299+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:27.6358318+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:27.6378331+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:27.6388338+03:00 0HL81NICBB9T7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:27.6528423+03:00 0HL81NICBB9T7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972867980.7191512689308812\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:27.6538425+03:00 0HL81NICBB9T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:27.6538425+03:00 0HL81NICBB9T7 [INF] Request finished in 820.3485ms 302  (15c52c40)
2017-09-22T19:21:30.8315013+03:00 0HL81NICBB9T8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.191872968124257251506097290806&state=15060972908060.5539794887873117   (e5be5b71)
2017-09-22T19:21:31.6752654+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:31.6767670+03:00 0HL81NICBB9T8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:31.6782670+03:00 0HL81NICBB9T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:31.6787672+03:00 0HL81NICBB9T8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:31.6797678+03:00 0HL81NICBB9T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:31.6807744+03:00 0HL81NICBB9T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:31.6807744+03:00 0HL81NICBB9T8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972908060.5539794887873117\",
  \"Nonce\": \"N0.191872968124257251506097290806\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.191872968124257251506097290806\",
    \"state\": \"15060972908060.5539794887873117\"
  }
}" (9a175e33)
2017-09-22T19:21:31.6837748+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:31.6927812+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:31.6937819+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:31.6957828+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:31.6967835+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:31.6987848+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:31.6997859+03:00 0HL81NICBB9T8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:31.7127941+03:00 0HL81NICBB9T8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972908060.5539794887873117\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:31.7127941+03:00 0HL81NICBB9T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:31.7137948+03:00 0HL81NICBB9T8 [INF] Request finished in 883.1279ms 302  (15c52c40)
2017-09-22T19:21:34.8489950+03:00 0HL81NICBB9T9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.112977057184061151506097294798&state=15060972947980.4611936934067089   (e5be5b71)
2017-09-22T19:21:35.0116892+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:35.0126895+03:00 0HL81NICBB9T9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:35.0136901+03:00 0HL81NICBB9T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:35.0136901+03:00 0HL81NICBB9T9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:35.0146908+03:00 0HL81NICBB9T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:35.0146908+03:00 0HL81NICBB9T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:35.0156930+03:00 0HL81NICBB9T9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972947980.4611936934067089\",
  \"Nonce\": \"N0.112977057184061151506097294798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.112977057184061151506097294798\",
    \"state\": \"15060972947980.4611936934067089\"
  }
}" (9a175e33)
2017-09-22T19:21:35.0186950+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:35.0317029+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:35.0327051+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:35.0347041+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:35.0367062+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:35.0377057+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:35.0407077+03:00 0HL81NICBB9T9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:35.0527168+03:00 0HL81NICBB9T9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972947980.4611936934067089\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:35.0537175+03:00 0HL81NICBB9T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:35.0537175+03:00 0HL81NICBB9T9 [INF] Request finished in 206.3634ms 302  (15c52c40)
2017-09-22T19:21:38.8530884+03:00 0HL81NICBB9TA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.218282001395806671506097298799&state=15060972987990.09861899683297293   (e5be5b71)
2017-09-22T19:21:39.2186811+03:00 0HL81NICBB9TA [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:39.2186811+03:00 0HL81NICBB9TA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:39.2196813+03:00 0HL81NICBB9TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:39.2196813+03:00 0HL81NICBB9TA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:39.2206820+03:00 0HL81NICBB9TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:39.2216827+03:00 0HL81NICBB9TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:39.2216827+03:00 0HL81NICBB9TA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060972987990.09861899683297293\",
  \"Nonce\": \"N0.218282001395806671506097298799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.218282001395806671506097298799\",
    \"state\": \"15060972987990.09861899683297293\"
  }
}" (9a175e33)
2017-09-22T19:21:39.2296884+03:00 0HL81NICBB9TA [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:39.2416959+03:00 0HL81NICBB9TA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:39.2446979+03:00 0HL81NICBB9TA [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:39.2476999+03:00 0HL81NICBB9TA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:39.2497020+03:00 0HL81NICBB9TA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:39.2527040+03:00 0HL81NICBB9TA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:39.2547046+03:00 0HL81NICBB9TA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:39.2732214+03:00 0HL81NICBB9TA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060972987990.09861899683297293\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:39.2737215+03:00 0HL81NICBB9TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:39.2742213+03:00 0HL81NICBB9TA [INF] Request finished in 421.0965ms 302  (15c52c40)
2017-09-22T19:21:42.8206199+03:00 0HL81NICBB9TB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59517827243983291506097302799&state=15060973027990.5156370399911616   (e5be5b71)
2017-09-22T19:21:43.7198426+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:43.7208428+03:00 0HL81NICBB9TB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:43.7218435+03:00 0HL81NICBB9TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:43.7218435+03:00 0HL81NICBB9TB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:43.7228450+03:00 0HL81NICBB9TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:43.7228450+03:00 0HL81NICBB9TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:43.7238452+03:00 0HL81NICBB9TB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973027990.5156370399911616\",
  \"Nonce\": \"N0.59517827243983291506097302799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59517827243983291506097302799\",
    \"state\": \"15060973027990.5156370399911616\"
  }
}" (9a175e33)
2017-09-22T19:21:43.7288505+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:43.7418564+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:43.7438581+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:43.7458610+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:43.7478604+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:43.7508628+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:43.7538648+03:00 0HL81NICBB9TB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:43.7708772+03:00 0HL81NICBB9TB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973027990.5156370399911616\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:43.7723820+03:00 0HL81NICBB9TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:43.7728833+03:00 0HL81NICBB9TB [INF] Request finished in 952.5957ms 302  (15c52c40)
2017-09-22T19:21:45.8776744+03:00 0HL81NICBB9TC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90631425378591661506097305844&state=15060973058440.6061893365442492   (e5be5b71)
2017-09-22T19:21:46.3588214+03:00 0HL81NICBB9TC [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:46.3588214+03:00 0HL81NICBB9TC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:46.3598213+03:00 0HL81NICBB9TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:46.3598213+03:00 0HL81NICBB9TC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:46.3608224+03:00 0HL81NICBB9TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:46.3618226+03:00 0HL81NICBB9TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:46.3618226+03:00 0HL81NICBB9TC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973058440.6061893365442492\",
  \"Nonce\": \"N0.90631425378591661506097305844\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90631425378591661506097305844\",
    \"state\": \"15060973058440.6061893365442492\"
  }
}" (9a175e33)
2017-09-22T19:21:46.3678274+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:46.3838424+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:46.3853432+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:46.3868448+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:46.3888453+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:46.3898464+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:46.3921663+03:00 0HL81NICBB9TC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:46.4091764+03:00 0HL81NICBB9TC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973058440.6061893365442492\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:46.4111789+03:00 0HL81NICBB9TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:46.4121791+03:00 0HL81NICBB9TC [INF] Request finished in 534.7546ms 302  (15c52c40)
2017-09-22T19:21:49.8311772+03:00 0HL81NICBB9TD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75060486590507971506097309798&state=15060973097980.6051971371586611   (e5be5b71)
2017-09-22T19:21:50.1507113+03:00 0HL81NICBB9TD [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:50.1527130+03:00 0HL81NICBB9TD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:50.1537145+03:00 0HL81NICBB9TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:50.1547151+03:00 0HL81NICBB9TD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:50.1557197+03:00 0HL81NICBB9TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:50.1577199+03:00 0HL81NICBB9TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:50.1577199+03:00 0HL81NICBB9TD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973097980.6051971371586611\",
  \"Nonce\": \"N0.75060486590507971506097309798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75060486590507971506097309798\",
    \"state\": \"15060973097980.6051971371586611\"
  }
}" (9a175e33)
2017-09-22T19:21:50.1627181+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:50.1717248+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:50.1737273+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:50.1747276+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:50.1767286+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:50.1787342+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:50.1802330+03:00 0HL81NICBB9TD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:50.1927439+03:00 0HL81NICBB9TD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973097980.6051971371586611\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:50.1937450+03:00 0HL81NICBB9TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:50.1937450+03:00 0HL81NICBB9TD [INF] Request finished in 363.0007ms 302  (15c52c40)
2017-09-22T19:21:53.8235568+03:00 0HL81NICBB9TE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.459583686843672461506097313798&state=15060973137980.004170671236964907   (e5be5b71)
2017-09-22T19:21:53.9576640+03:00 0HL81NICBB9TE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:53.9586650+03:00 0HL81NICBB9TE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:53.9586650+03:00 0HL81NICBB9TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:53.9596653+03:00 0HL81NICBB9TE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:53.9596653+03:00 0HL81NICBB9TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:53.9616674+03:00 0HL81NICBB9TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:53.9616674+03:00 0HL81NICBB9TE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973137980.004170671236964907\",
  \"Nonce\": \"N0.459583686843672461506097313798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.459583686843672461506097313798\",
    \"state\": \"15060973137980.004170671236964907\"
  }
}" (9a175e33)
2017-09-22T19:21:53.9706730+03:00 0HL81NICBB9TE [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:53.9886850+03:00 0HL81NICBB9TE [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:53.9906863+03:00 0HL81NICBB9TE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:53.9926872+03:00 0HL81NICBB9TE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:53.9946890+03:00 0HL81NICBB9TE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:53.9996923+03:00 0HL81NICBB9TE [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:54.0006929+03:00 0HL81NICBB9TE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:54.0237078+03:00 0HL81NICBB9TE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973137980.004170671236964907\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:54.0247089+03:00 0HL81NICBB9TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:54.0247089+03:00 0HL81NICBB9TE [INF] Request finished in 201.9538ms 302  (15c52c40)
2017-09-22T19:21:58.2197816+03:00 0HL81NICBB9TF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88590724820027521506097317882&state=15060973178820.23628990031673847   (e5be5b71)
2017-09-22T19:21:58.2232837+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:21:58.2237846+03:00 0HL81NICBB9TF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:21:58.2242844+03:00 0HL81NICBB9TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:58.2247849+03:00 0HL81NICBB9TF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:21:58.2252850+03:00 0HL81NICBB9TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:58.2257856+03:00 0HL81NICBB9TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:58.2262857+03:00 0HL81NICBB9TF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973178820.23628990031673847\",
  \"Nonce\": \"N0.88590724820027521506097317882\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88590724820027521506097317882\",
    \"state\": \"15060973178820.23628990031673847\"
  }
}" (9a175e33)
2017-09-22T19:21:58.2312890+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:21:58.2493010+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:58.2513023+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:21:58.2543043+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:21:58.2583070+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:21:58.2628102+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:21:58.2663127+03:00 0HL81NICBB9TF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:21:58.2913289+03:00 0HL81NICBB9TF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973178820.23628990031673847\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:21:58.2923296+03:00 0HL81NICBB9TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:21:58.2943313+03:00 0HL81NICBB9TF [INF] Request finished in 74.2188ms 302  (15c52c40)
2017-09-22T19:22:02.2710547+03:00 0HL81NICBB9TG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:22:02.2740567+03:00 0HL81NICBB9TG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:22:02.2740567+03:00 0HL81NICBB9TG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:22:02.2750573+03:00 0HL81NICBB9TG [INF] Request finished in 4.5079ms 200 application/json (15c52c40)
2017-09-22T19:22:02.5292845+03:00 0HL81NICBB9TH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T19:22:02.5322865+03:00 0HL81NICBB9TH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:22:02.5332872+03:00 0HL81NICBB9TH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T19:22:02.5573075+03:00 0HL81NICBB9TH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:22:02.5578084+03:00 0HL81NICBB9TH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T19:22:02.5598089+03:00 0HL81NICBB9TH [INF] Request finished in 29.1487ms 200 application/json (15c52c40)
2017-09-22T19:22:02.5883277+03:00 0HL81NICBB9TI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.412407151666391861506097322390&state=15060973223900.34478543546355755   (e5be5b71)
2017-09-22T19:22:02.5913336+03:00 0HL81NICBB9TI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:22:02.5913336+03:00 0HL81NICBB9TI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T19:22:02.5923343+03:00 0HL81NICBB9TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:22:02.5923343+03:00 0HL81NICBB9TI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T19:22:02.5923343+03:00 0HL81NICBB9TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:22:02.5933349+03:00 0HL81NICBB9TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:22:02.5933349+03:00 0HL81NICBB9TI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15060973223900.34478543546355755\",
  \"Nonce\": \"N0.412407151666391861506097322390\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.412407151666391861506097322390\",
    \"state\": \"15060973223900.34478543546355755\"
  }
}" (9a175e33)
2017-09-22T19:22:02.6043426+03:00 0HL81NICBB9TI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T19:22:02.6213535+03:00 0HL81NICBB9TI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:22:02.6253566+03:00 0HL81NICBB9TI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T19:22:02.6283578+03:00 0HL81NICBB9TI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T19:22:02.6353624+03:00 0HL81NICBB9TI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T19:22:02.6443688+03:00 0HL81NICBB9TI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T19:22:02.6473708+03:00 0HL81NICBB9TI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T19:22:02.6693850+03:00 0HL81NICBB9TI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15060973223900.34478543546355755\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T19:22:02.6723878+03:00 0HL81NICBB9TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T19:22:02.6778956+03:00 0HL81NICBB9TI [INF] Request finished in 85.2893ms 302  (15c52c40)
2017-09-22T19:22:35.5975334+03:00 0HL81NICBB9TJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T19:22:35.6005350+03:00 0HL81NICBB9TJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T19:22:35.6005350+03:00 0HL81NICBB9TJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T19:22:35.6015356+03:00 0HL81NICBB9TJ [INF] Request finished in 4.3981ms 200 application/json (15c52c40)
2017-09-22T22:58:34.9455060+03:00 0HL81NICBB9TK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T22:59:03.9748280+03:00 0HL81NICBB9TK [INF] Executed DbCommand (369ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:04.3800110+03:00 0HL81NICBB9TK [INF] Executed DbCommand (398ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T22:59:04.4744939+03:00 0HL81NICBB9TK [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T22:59:04.6080903+03:00 0HL81NICBB9TK [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T22:59:04.6301136+03:00 0HL81NICBB9TK [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T22:59:04.6501269+03:00 0HL81NICBB9TK [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T22:59:04.6511275+03:00 0HL81NICBB9TK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T22:59:04.6511275+03:00 0HL81NICBB9TK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:04.6511275+03:00 0HL81NICBB9TK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T22:59:04.6541299+03:00 0HL81NICBB9TK [INF] Request finished in 29711.7837ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T22:59:13.0121139+03:00 0HL81NICBB9TL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45271817583324661506110352957&state=15061103529570.9622081748421429   (e5be5b71)
2017-09-22T22:59:13.0141153+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:13.0141153+03:00 0HL81NICBB9TL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T22:59:13.0151163+03:00 0HL81NICBB9TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:13.0151163+03:00 0HL81NICBB9TL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T22:59:13.0151163+03:00 0HL81NICBB9TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:13.0161170+03:00 0HL81NICBB9TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:13.0161170+03:00 0HL81NICBB9TL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061103529570.9622081748421429\",
  \"Nonce\": \"N0.45271817583324661506110352957\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45271817583324661506110352957\",
    \"state\": \"15061103529570.9622081748421429\"
  }
}" (9a175e33)
2017-09-22T22:59:13.0196227+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T22:59:13.0311293+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T22:59:13.0336343+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T22:59:13.0366774+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T22:59:13.0376773+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T22:59:13.0406796+03:00 0HL81NICBB9TL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T22:59:13.0446839+03:00 0HL81NICBB9TL [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T22:59:13.0596935+03:00 0HL81NICBB9TL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061103529570.9622081748421429\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T22:59:13.0606969+03:00 0HL81NICBB9TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:13.0616940+03:00 0HL81NICBB9TL [INF] Request finished in 50.1512ms 302  (15c52c40)
2017-09-22T22:59:20.7432873+03:00 0HL81NICBB9TM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T22:59:20.7457916+03:00 0HL81NICBB9TM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:20.7462917+03:00 0HL81NICBB9TM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T22:59:20.7467930+03:00 0HL81NICBB9TM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T22:59:20.7467930+03:00 0HL81NICBB9TM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T22:59:20.7477937+03:00 0HL81NICBB9TM [INF] Request finished in 4.7206ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T22:59:20.8113400+03:00 0HL81NICBB9TN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T22:59:20.8273506+03:00 0HL81NICBB9TN [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:20.8273506+03:00 0HL81NICBB9TN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T22:59:20.8313533+03:00 0HL81NICBB9TN [INF] Request finished in 23.3977ms 200 application/json (15c52c40)
2017-09-22T22:59:20.8934024+03:00 0HL81NICBB9TO [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T22:59:20.8944038+03:00 0HL81NICBB9TO [INF] Request finished in 1.1218ms 204  (15c52c40)
2017-09-22T22:59:20.9194193+03:00 0HL81NICBB9TP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T22:59:20.9334290+03:00 0HL81NICBB9TP [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:20.9334290+03:00 0HL81NICBB9TP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T22:59:20.9334290+03:00 0HL81NICBB9TP [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T22:59:21.0710248+03:00 0HL81NICBB9TP [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T22:59:21.0830332+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T22:59:21.1040472+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T22:59:21.1115519+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T22:59:21.1145539+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T22:59:21.1340671+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T22:59:21.1375696+03:00 0HL81NICBB9TP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T22:59:21.1375696+03:00 0HL81NICBB9TP [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T22:59:21.1916059+03:00 0HL81NICBB9TP [INF] Request finished in 223.8677ms 200 application/json (15c52c40)
2017-09-22T22:59:22.4298828+03:00 0HL81NICBB9TQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-22T22:59:22.4328848+03:00 0HL81NICBB9TQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:22.4328848+03:00 0HL81NICBB9TQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-22T22:59:22.4548994+03:00 0HL81NICBB9TQ [INF] Request finished in 25.0663ms 200 application/json (15c52c40)
2017-09-22T22:59:22.6159393+03:00 0HL81NICBB9TR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T22:59:22.6179426+03:00 0HL81NICBB9TR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T22:59:22.6179426+03:00 0HL81NICBB9TR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T22:59:22.6369540+03:00 0HL81NICBB9TR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T22:59:22.6379543+03:00 0HL81NICBB9TR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T22:59:22.6379543+03:00 0HL81NICBB9TR [INF] Request finished in 22.9114ms 200 application/json (15c52c40)
2017-09-22T23:00:22.1099213+03:00 0HL81NICBB9TS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:22.1129221+03:00 0HL81NICBB9TS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:22.1129221+03:00 0HL81NICBB9TS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:22.1344413+03:00 0HL81NICBB9TS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:22.1344413+03:00 0HL81NICBB9TS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:22.1354408+03:00 0HL81NICBB9TS [INF] Request finished in 25.9552ms 200 application/json (15c52c40)
2017-09-22T23:00:23.9049694+03:00 0HL81NICBB9TT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:23.9079714+03:00 0HL81NICBB9TT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:23.9079714+03:00 0HL81NICBB9TT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:23.9480039+03:00 0HL81NICBB9TT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:23.9490050+03:00 0HL81NICBB9TT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:23.9490050+03:00 0HL81NICBB9TT [INF] Request finished in 44.7152ms 200 application/json (15c52c40)
2017-09-22T23:00:27.6781774+03:00 0HL81NICBB9TU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:27.6836856+03:00 0HL81NICBB9TU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:27.6836856+03:00 0HL81NICBB9TU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:27.7102082+03:00 0HL81NICBB9TU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:27.7112088+03:00 0HL81NICBB9TU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:27.7122095+03:00 0HL81NICBB9TU [INF] Request finished in 35.5841ms 200 application/json (15c52c40)
2017-09-22T23:00:33.6873599+03:00 0HL81NICBB9TV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:33.6903615+03:00 0HL81NICBB9TV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:33.6908616+03:00 0HL81NICBB9TV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:33.7359089+03:00 0HL81NICBB9TV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:33.7369091+03:00 0HL81NICBB9TV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:33.7379102+03:00 0HL81NICBB9TV [INF] Request finished in 50.5736ms 200 application/json (15c52c40)
2017-09-22T23:00:41.9745707+03:00 0HL81NICBB9U0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:00:41.9995873+03:00 0HL81NICBB9U0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:42.0005875+03:00 0HL81NICBB9U0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:00:42.0005875+03:00 0HL81NICBB9U0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:00:42.0005875+03:00 0HL81NICBB9U0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:00:42.0015886+03:00 0HL81NICBB9U0 [INF] Request finished in 27.2235ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:00:42.3458365+03:00 0HL81NICBB9U1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:42.3493390+03:00 0HL81NICBB9U1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:42.3493390+03:00 0HL81NICBB9U1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:42.3803588+03:00 0HL81NICBB9U1 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:42.3803588+03:00 0HL81NICBB9U1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:42.3818604+03:00 0HL81NICBB9U1 [INF] Request finished in 38.157ms 200 application/json (15c52c40)
2017-09-22T23:00:42.5034413+03:00 0HL81NICBB9U2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:42.5064433+03:00 0HL81NICBB9U2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:42.5064433+03:00 0HL81NICBB9U2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:42.5564769+03:00 0HL81NICBB9U2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:42.5569767+03:00 0HL81NICBB9U2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:42.5579773+03:00 0HL81NICBB9U2 [INF] Request finished in 54.9887ms 200 application/json (15c52c40)
2017-09-22T23:00:46.1163334+03:00 0HL81NICBB9U3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:00:46.1183344+03:00 0HL81NICBB9U3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:00:46.1183344+03:00 0HL81NICBB9U3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:00:46.1353460+03:00 0HL81NICBB9U3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:00:46.1353460+03:00 0HL81NICBB9U3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:00:46.1363467+03:00 0HL81NICBB9U3 [INF] Request finished in 20.4111ms 200 application/json (15c52c40)
2017-09-22T23:02:19.2774353+03:00 0HL81NICBB9U4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:19.2824382+03:00 0HL81NICBB9U4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:19.2824382+03:00 0HL81NICBB9U4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:19.3284687+03:00 0HL81NICBB9U4 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:19.3289697+03:00 0HL81NICBB9U4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:19.3755094+03:00 0HL81NICBB9U4 [INF] Request finished in 55.2686ms 200 application/json (15c52c40)
2017-09-22T23:02:28.3021286+03:00 0HL81NICBB9U5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:28.3051310+03:00 0HL81NICBB9U5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:28.3051310+03:00 0HL81NICBB9U5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:28.3301472+03:00 0HL81NICBB9U5 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:28.3301472+03:00 0HL81NICBB9U5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:28.3311478+03:00 0HL81NICBB9U5 [INF] Request finished in 29.2995ms 200 application/json (15c52c40)
2017-09-22T23:02:28.9622023+03:00 0HL81NICBB9U6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:28.9652039+03:00 0HL81NICBB9U6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:28.9652039+03:00 0HL81NICBB9U6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:28.9907277+03:00 0HL81NICBB9U6 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:28.9907277+03:00 0HL81NICBB9U6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:28.9917284+03:00 0HL81NICBB9U6 [INF] Request finished in 29.7649ms 200 application/json (15c52c40)
2017-09-22T23:02:31.8316912+03:00 0HL81NICBB9U7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:31.8356935+03:00 0HL81NICBB9U7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:31.8356935+03:00 0HL81NICBB9U7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:31.8567078+03:00 0HL81NICBB9U7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:31.8577085+03:00 0HL81NICBB9U7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:31.8587091+03:00 0HL81NICBB9U7 [INF] Request finished in 26.9129ms 200 application/json (15c52c40)
2017-09-22T23:02:39.9327370+03:00 0HL81NICBB9U8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:39.9357402+03:00 0HL81NICBB9U8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:39.9367400+03:00 0HL81NICBB9U8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:39.9517496+03:00 0HL81NICBB9U8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:39.9527507+03:00 0HL81NICBB9U8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:39.9537509+03:00 0HL81NICBB9U8 [INF] Request finished in 20.434ms 200 application/json (15c52c40)
2017-09-22T23:02:41.0465498+03:00 0HL81NICBB9U9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:41.0495522+03:00 0HL81NICBB9U9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:41.0495522+03:00 0HL81NICBB9U9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:41.0745688+03:00 0HL81NICBB9U9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:41.0755691+03:00 0HL81NICBB9U9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:41.0755691+03:00 0HL81NICBB9U9 [INF] Request finished in 29.712ms 200 application/json (15c52c40)
2017-09-22T23:02:42.2914272+03:00 0HL81NICBB9UA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:42.2934281+03:00 0HL81NICBB9UA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:42.2934281+03:00 0HL81NICBB9UA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:42.3194497+03:00 0HL81NICBB9UA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:42.3204504+03:00 0HL81NICBB9UA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:42.3219516+03:00 0HL81NICBB9UA [INF] Request finished in 30.269ms 200 application/json (15c52c40)
2017-09-22T23:02:46.7081690+03:00 0HL81NICBB9UB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:46.7101699+03:00 0HL81NICBB9UB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:46.7101699+03:00 0HL81NICBB9UB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:46.7281862+03:00 0HL81NICBB9UB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:46.7281862+03:00 0HL81NICBB9UB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:46.7291868+03:00 0HL81NICBB9UB [INF] Request finished in 21.715ms 200 application/json (15c52c40)
2017-09-22T23:02:48.6160024+03:00 0HL81NICBB9UC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:48.6190056+03:00 0HL81NICBB9UC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:48.6190056+03:00 0HL81NICBB9UC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:48.6325183+03:00 0HL81NICBB9UC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:48.6330181+03:00 0HL81NICBB9UC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:48.6335186+03:00 0HL81NICBB9UC [INF] Request finished in 17.2126ms 200 application/json (15c52c40)
2017-09-22T23:02:49.8647976+03:00 0HL81NICBB9UD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:49.8677992+03:00 0HL81NICBB9UD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:49.8677992+03:00 0HL81NICBB9UD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:49.8928162+03:00 0HL81NICBB9UD [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:49.8928162+03:00 0HL81NICBB9UD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:49.8998208+03:00 0HL81NICBB9UD [INF] Request finished in 29.5201ms 200 application/json (15c52c40)
2017-09-22T23:02:54.2648656+03:00 0HL81NICBB9UE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:02:54.2688686+03:00 0HL81NICBB9UE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:02:54.2688686+03:00 0HL81NICBB9UE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:02:54.3003933+03:00 0HL81NICBB9UE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:02:54.3003933+03:00 0HL81NICBB9UE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:02:54.3023954+03:00 0HL81NICBB9UE [INF] Request finished in 38.1377ms 200 application/json (15c52c40)
2017-09-22T23:03:28.9471908+03:00 0HL81NICBB9UF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:03:28.9511934+03:00 0HL81NICBB9UF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:03:28.9511934+03:00 0HL81NICBB9UF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:03:28.9732076+03:00 0HL81NICBB9UF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:03:28.9732076+03:00 0HL81NICBB9UF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:03:28.9742079+03:00 0HL81NICBB9UF [INF] Request finished in 27.2504ms 200 application/json (15c52c40)
2017-09-22T23:03:30.9320221+03:00 0HL81NICBB9UG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:03:30.9340230+03:00 0HL81NICBB9UG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:03:30.9340230+03:00 0HL81NICBB9UG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:03:30.9560373+03:00 0HL81NICBB9UG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:03:30.9560373+03:00 0HL81NICBB9UG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:03:30.9570383+03:00 0HL81NICBB9UG [INF] Request finished in 25.3635ms 200 application/json (15c52c40)
2017-09-22T23:03:40.3883468+03:00 0HL81NICBB9UH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:03:40.3913487+03:00 0HL81NICBB9UH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:03:40.3913487+03:00 0HL81NICBB9UH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:03:40.4163654+03:00 0HL81NICBB9UH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:03:40.4173668+03:00 0HL81NICBB9UH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:03:40.4173668+03:00 0HL81NICBB9UH [INF] Request finished in 29.8959ms 200 application/json (15c52c40)
2017-09-22T23:06:36.4946067+03:00 0HL81NICBB9UI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:06:36.4976086+03:00 0HL81NICBB9UI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:06:36.4986093+03:00 0HL81NICBB9UI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:06:36.4986093+03:00 0HL81NICBB9UI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:06:36.4996100+03:00 0HL81NICBB9UI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:06:36.5006102+03:00 0HL81NICBB9UI [INF] Request finished in 6.583ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:06:37.6710903+03:00 0HL81NICBB9UJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:06:37.6740927+03:00 0HL81NICBB9UJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:06:37.6750929+03:00 0HL81NICBB9UJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:06:37.6750929+03:00 0HL81NICBB9UJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:06:37.6750929+03:00 0HL81NICBB9UJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:06:37.6760932+03:00 0HL81NICBB9UJ [INF] Request finished in 4.8675ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:08:40.8023482+03:00 0HL81NICBB9UK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:08:40.8068510+03:00 0HL81NICBB9UK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:08:40.8073516+03:00 0HL81NICBB9UK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:08:40.8083518+03:00 0HL81NICBB9UK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:08:40.8083518+03:00 0HL81NICBB9UK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:08:40.8098530+03:00 0HL81NICBB9UK [INF] Request finished in 8.4707ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:08:41.7454742+03:00 0HL81NICBB9UL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-22T23:08:41.7509784+03:00 0HL81NICBB9UL [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:08:41.7509784+03:00 0HL81NICBB9UL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-22T23:08:41.7519791+03:00 0HL81NICBB9UL [INF] Request finished in 135.0608ms 200 application/json (15c52c40)
2017-09-22T23:08:41.7955078+03:00 0HL81NICBB9UM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:08:41.7985098+03:00 0HL81NICBB9UM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:08:41.7990103+03:00 0HL81NICBB9UM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:08:41.8305307+03:00 0HL81NICBB9UM [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:08:41.8310312+03:00 0HL81NICBB9UM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:08:41.8340336+03:00 0HL81NICBB9UM [INF] Request finished in 40.3593ms 200 application/json (15c52c40)
2017-09-22T23:09:34.0995377+03:00 0HL81NICBB9UN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:09:34.1025404+03:00 0HL81NICBB9UN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:09:34.1025404+03:00 0HL81NICBB9UN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:09:34.1215519+03:00 0HL81NICBB9UN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:09:34.1215519+03:00 0HL81NICBB9UN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:09:34.1225521+03:00 0HL81NICBB9UN [INF] Request finished in 26.4285ms 200 application/json (15c52c40)
2017-09-22T23:09:53.7497796+03:00 0HL81NICBB9UO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:09:53.7527828+03:00 0HL81NICBB9UO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:09:53.7527828+03:00 0HL81NICBB9UO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:09:53.7728040+03:00 0HL81NICBB9UO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:09:53.7733049+03:00 0HL81NICBB9UO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:09:53.7743052+03:00 0HL81NICBB9UO [INF] Request finished in 23.9397ms 200 application/json (15c52c40)
2017-09-22T23:10:03.5217327+03:00 0HL81NICBB9UP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:10:03.5247336+03:00 0HL81NICBB9UP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:10:03.5247336+03:00 0HL81NICBB9UP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:10:03.5407537+03:00 0HL81NICBB9UP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:10:03.5417452+03:00 0HL81NICBB9UP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:10:03.5427459+03:00 0HL81NICBB9UP [INF] Request finished in 20.1431ms 200 application/json (15c52c40)
2017-09-22T23:10:08.9505547+03:00 0HL81NICBB9UQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:10:08.9535563+03:00 0HL81NICBB9UQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:10:08.9535563+03:00 0HL81NICBB9UQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:10:08.9765763+03:00 0HL81NICBB9UQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:10:08.9770761+03:00 0HL81NICBB9UQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:10:08.9775778+03:00 0HL81NICBB9UQ [INF] Request finished in 27.672ms 200 application/json (15c52c40)
2017-09-22T23:10:35.6168349+03:00 0HL81NICBB9UR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:10:35.6228445+03:00 0HL81NICBB9UR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:10:35.6228445+03:00 0HL81NICBB9UR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:10:35.6488558+03:00 0HL81NICBB9UR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:10:35.6488558+03:00 0HL81NICBB9UR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:10:35.6498573+03:00 0HL81NICBB9UR [INF] Request finished in 33.7107ms 200 application/json (15c52c40)
2017-09-22T23:10:39.0186453+03:00 0HL81NICBB9US [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:10:39.0206470+03:00 0HL81NICBB9US [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:10:39.0206470+03:00 0HL81NICBB9US [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:10:39.0446622+03:00 0HL81NICBB9US [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:10:39.0456628+03:00 0HL81NICBB9US [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:10:39.0456628+03:00 0HL81NICBB9US [INF] Request finished in 28.3454ms 200 application/json (15c52c40)
2017-09-22T23:10:47.6174645+03:00 0HL81NICBB9UT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:10:47.6269762+03:00 0HL81NICBB9UT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:10:47.6269762+03:00 0HL81NICBB9UT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:10:47.6539941+03:00 0HL81NICBB9UT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:10:47.6549936+03:00 0HL81NICBB9UT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:10:47.6549936+03:00 0HL81NICBB9UT [INF] Request finished in 40.1351ms 200 application/json (15c52c40)
2017-09-22T23:12:52.6485100+03:00 0HL81NICBB9UU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:12:52.6535125+03:00 0HL81NICBB9UU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:12:52.6545132+03:00 0HL81NICBB9UU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:12:52.6545132+03:00 0HL81NICBB9UU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:12:52.6545132+03:00 0HL81NICBB9UU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:12:52.6555143+03:00 0HL81NICBB9UU [INF] Request finished in 8.0329ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:12:53.5148122+03:00 0HL81NICBB9UV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-22T23:12:53.5168151+03:00 0HL81NICBB9UV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:12:53.5168151+03:00 0HL81NICBB9UV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-22T23:12:53.5198187+03:00 0HL81NICBB9UV [INF] Request finished in 3.3134ms 200 application/json (15c52c40)
2017-09-22T23:12:53.6794374+03:00 0HL81NICBB9V0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:12:53.6824390+03:00 0HL81NICBB9V0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:12:53.6824390+03:00 0HL81NICBB9V0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:12:53.7244666+03:00 0HL81NICBB9V0 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:12:53.7244666+03:00 0HL81NICBB9V0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:12:53.7284692+03:00 0HL81NICBB9V0 [INF] Request finished in 51.3666ms 200 application/json (15c52c40)
2017-09-22T23:13:13.3291911+03:00 0HL81NICBB9V1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhNDgyYTBjNzRjMmJlZDA2ODE0ZTkyNjAzYWYwNjgzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYxMTAzNTMsImV4cCI6MTUwNjExMDY1MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjQ1MjcxODE3NTgzMzI0NjYxNTA2MTEwMzUyOTU3IiwiaWF0IjoxNTA2MTEwMzUzLCJhdF9oYXNoIjoiNUZZNV9PT2NHTDNnTUw4bTFYMG5oZyIsInNpZCI6IjU4MTVmZjQ1OGE0ZmI4NzcwMjIzMDg5MWY2ZmQxOTA0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1ODYwMjI0LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.G6PmK8YPSGjHSt3tGhegsIsNAUbYiKGnKUCtY-hlzUtGnjaU89Fs1_6Moxh2OT13qGodMLegtkYt5dZh1rdjqtOABOOpT1KV9WeH3hYeLWIaHVVdKem6iFpy7BY5eiMp_q79OnG6yaqmUAyCO1lfDf0eWJyZp7RwXJf_z-D_e1jTxxZhgZ0ufdrbYNPRqMB8EVD6RM04o2Kltgh1NnYgfMx8L-or2t4--86KWwhgq-DQgsAtvUwGLcvQVrXOckcLbiymm6IWEbT3L7xqGgRZtGk4ZmviCjFm7Wnc59CxG_NGs9UJ2qKDw3cfWZJzMxNmHixZRonu7ofWRCc4JPMPfQ&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-22T23:13:13.3311936+03:00 0HL81NICBB9V1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:13.3321931+03:00 0HL81NICBB9V1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:13:13.3321931+03:00 0HL81NICBB9V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.3341944+03:00 0HL81NICBB9V1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-22T23:13:13.4863159+03:00 0HL81NICBB9V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.7126915+03:00 0HL81NICBB9V1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:13.7166937+03:00 0HL81NICBB9V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.7277018+03:00 0HL81NICBB9V1 [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhNDgyYTBjNzRjMmJlZDA2ODE0ZTkyNjAzYWYwNjgzIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDYxMTAzNTMsImV4cCI6MTUwNjExMDY1MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjQ1MjcxODE3NTgzMzI0NjYxNTA2MTEwMzUyOTU3IiwiaWF0IjoxNTA2MTEwMzUzLCJhdF9oYXNoIjoiNUZZNV9PT2NHTDNnTUw4bTFYMG5oZyIsInNpZCI6IjU4MTVmZjQ1OGE0ZmI4NzcwMjIzMDg5MWY2ZmQxOTA0Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1ODYwMjI0LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.G6PmK8YPSGjHSt3tGhegsIsNAUbYiKGnKUCtY-hlzUtGnjaU89Fs1_6Moxh2OT13qGodMLegtkYt5dZh1rdjqtOABOOpT1KV9WeH3hYeLWIaHVVdKem6iFpy7BY5eiMp_q79OnG6yaqmUAyCO1lfDf0eWJyZp7RwXJf_z-D_e1jTxxZhgZ0ufdrbYNPRqMB8EVD6RM04o2Kltgh1NnYgfMx8L-or2t4--86KWwhgq-DQgsAtvUwGLcvQVrXOckcLbiymm6IWEbT3L7xqGgRZtGk4ZmviCjFm7Wnc59CxG_NGs9UJ2qKDw3cfWZJzMxNmHixZRonu7ofWRCc4JPMPfQ\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-22T23:13:13.7757337+03:00 0HL81NICBB9V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.7767344+03:00 0HL81NICBB9V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.7807363+03:00 0HL81NICBB9V1 [INF] Request finished in 455.7096ms 302  (15c52c40)
2017-09-22T23:13:13.7837390+03:00 0HL81NICBB9V2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=3f7e69410bb95ce58837138995ec9102   (e5be5b71)
2017-09-22T23:13:13.7867454+03:00 0HL81NICBB9V2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:13.7872447+03:00 0HL81NICBB9V2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:13:13.7872447+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.8930645+03:00 0HL81NICBB9V2 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["3f7e69410bb95ce58837138995ec9102"]) - ModelState is Valid (ba7f4ac2)
2017-09-22T23:13:13.9196510+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9206524+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9566756+03:00 0HL81NICBB9V3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61794607559439091506111193942&state=15061111939420.03422847103864002   (e5be5b71)
2017-09-22T23:13:13.9606782+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:13.9616793+03:00 0HL81NICBB9V3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:13:13.9616793+03:00 0HL81NICBB9V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9616793+03:00 0HL81NICBB9V3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:13:13.9626795+03:00 0HL81NICBB9V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9636806+03:00 0HL81NICBB9V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9636806+03:00 0HL81NICBB9V3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061111939420.03422847103864002\",
  \"Nonce\": \"N0.61794607559439091506111193942\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61794607559439091506111193942\",
    \"state\": \"15061111939420.03422847103864002\"
  }
}" (9a175e33)
2017-09-22T23:13:13.9666822+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:13.9892017+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:13:13.9902027+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-22T23:13:13.9907029+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-22T23:13:13.9917035+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-22T23:13:13.9937045+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9947047+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:13:13.9947047+03:00 0HL81NICBB9V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:13.9987102+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:13:14.0038509+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:13:14.0058522+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:13:14.0088542+03:00 0HL81NICBB9V3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:13:14.0238641+03:00 0HL81NICBB9V3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061111939420.03422847103864002\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:13:14.0248648+03:00 0HL81NICBB9V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:14.0258655+03:00 0HL81NICBB9V3 [INF] Request finished in 74.2927ms 302  (15c52c40)
2017-09-22T23:13:14.4056920+03:00 0HL81NICBB9V2 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-22T23:13:14.4207024+03:00 0HL81NICBB9V2 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 629.2027ms (afa2e885)
2017-09-22T23:13:14.4217018+03:00 0HL81NICBB9V2 [INF] Request finished in 638.4278ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-22T23:13:14.4217018+03:00  [INF] Connection id ""0HL81NG3G7D46"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-22T23:13:19.5476099+03:00 0HL81NICBB9V4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:13:19.5516118+03:00 0HL81NICBB9V4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:19.5516118+03:00 0HL81NICBB9V4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:13:19.5526128+03:00 0HL81NICBB9V4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:13:19.5526128+03:00 0HL81NICBB9V4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:13:19.5536135+03:00 0HL81NICBB9V4 [INF] Request finished in 5.2847ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:13:19.5756285+03:00 0HL81NICBB9V5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T23:13:19.5806318+03:00 0HL81NICBB9V5 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:19.5806318+03:00 0HL81NICBB9V5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T23:13:19.5826324+03:00 0HL81NICBB9V5 [INF] Request finished in 5.5164ms 200 application/json (15c52c40)
2017-09-22T23:13:19.7177331+03:00 0HL81NICBB9V6 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T23:13:19.7187342+03:00 0HL81NICBB9V6 [INF] Request finished in 5.6372ms 204  (15c52c40)
2017-09-22T23:13:19.7442513+03:00 0HL81NICBB9V7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T23:13:19.7497551+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:19.7497551+03:00 0HL81NICBB9V7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T23:13:19.7497551+03:00 0HL81NICBB9V7 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T23:13:19.8418159+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:19.8458189+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:13:19.8488209+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:13:19.8613294+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:13:19.8743373+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:13:19.8813423+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:13:19.8833436+03:00 0HL81NICBB9V7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:13:19.8838438+03:00 0HL81NICBB9V7 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T23:13:19.8848444+03:00 0HL81NICBB9V7 [INF] Request finished in 148.0943ms 200 application/json (15c52c40)
2017-09-22T23:13:19.9388811+03:00 0HL81NICBB9V8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:13:19.9428841+03:00 0HL81NICBB9V8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:19.9428841+03:00 0HL81NICBB9V8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:13:19.9689006+03:00 0HL81NICBB9V8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:19.9694016+03:00 0HL81NICBB9V8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:13:19.9709016+03:00 0HL81NICBB9V8 [INF] Request finished in 53.3916ms 200 application/json (15c52c40)
2017-09-22T23:13:22.1743447+03:00 0HL81NICBB9V9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:13:22.1763460+03:00 0HL81NICBB9V9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:22.1763460+03:00 0HL81NICBB9V9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:13:22.1983603+03:00 0HL81NICBB9V9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:22.1983603+03:00 0HL81NICBB9V9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:13:22.1993613+03:00 0HL81NICBB9V9 [INF] Request finished in 25.0612ms 200 application/json (15c52c40)
2017-09-22T23:13:24.3176860+03:00 0HL81NICBB9VA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:13:24.3246942+03:00 0HL81NICBB9VA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:24.3246942+03:00 0HL81NICBB9VA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:13:24.3467085+03:00 0HL81NICBB9VA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:24.3477095+03:00 0HL81NICBB9VA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:13:24.3477095+03:00 0HL81NICBB9VA [INF] Request finished in 33.901ms 200 application/json (15c52c40)
2017-09-22T23:13:29.4761490+03:00 0HL81NICBB9VB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:13:29.4791510+03:00 0HL81NICBB9VB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:29.4791510+03:00 0HL81NICBB9VB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:13:29.4971661+03:00 0HL81NICBB9VB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:29.4971661+03:00 0HL81NICBB9VB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:13:29.4981668+03:00 0HL81NICBB9VB [INF] Request finished in 22.1665ms 200 application/json (15c52c40)
2017-09-22T23:13:37.7290858+03:00 0HL81NICBB9VC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:13:37.7320882+03:00 0HL81NICBB9VC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:13:37.7320882+03:00 0HL81NICBB9VC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:13:37.7561069+03:00 0HL81NICBB9VC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:13:37.7566074+03:00 0HL81NICBB9VC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:13:37.7576081+03:00 0HL81NICBB9VC [INF] Request finished in 27.8729ms 200 application/json (15c52c40)
2017-09-22T23:14:29.9794011+03:00 0HL81NICBB9VD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:29.9869063+03:00 0HL81NICBB9VD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:29.9869063+03:00 0HL81NICBB9VD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:30.0119225+03:00 0HL81NICBB9VD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:30.0124230+03:00 0HL81NICBB9VD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:30.0134233+03:00 0HL81NICBB9VD [INF] Request finished in 39.8726ms 200 application/json (15c52c40)
2017-09-22T23:14:33.6513391+03:00 0HL81NICBB9VE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:33.6548428+03:00 0HL81NICBB9VE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:33.6548428+03:00 0HL81NICBB9VE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:33.6803576+03:00 0HL81NICBB9VE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:33.6808577+03:00 0HL81NICBB9VE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:33.6818592+03:00 0HL81NICBB9VE [INF] Request finished in 30.8023ms 200 application/json (15c52c40)
2017-09-22T23:14:34.3763202+03:00 0HL81NICBB9VF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:34.3793222+03:00 0HL81NICBB9VF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:34.3798235+03:00 0HL81NICBB9VF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:34.4038379+03:00 0HL81NICBB9VF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:34.4043384+03:00 0HL81NICBB9VF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:34.4053395+03:00 0HL81NICBB9VF [INF] Request finished in 29.2347ms 200 application/json (15c52c40)
2017-09-22T23:14:34.8776531+03:00 0HL81NICBB9VG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:34.8891605+03:00 0HL81NICBB9VG [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:34.8891605+03:00 0HL81NICBB9VG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:34.9171791+03:00 0HL81NICBB9VG [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:34.9176796+03:00 0HL81NICBB9VG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:34.9201811+03:00 0HL81NICBB9VG [INF] Request finished in 42.3942ms 200 application/json (15c52c40)
2017-09-22T23:14:46.2130513+03:00 0HL81NICBB9VH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:46.2150526+03:00 0HL81NICBB9VH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:46.2160541+03:00 0HL81NICBB9VH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:46.2310628+03:00 0HL81NICBB9VH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:46.2310628+03:00 0HL81NICBB9VH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:46.2320639+03:00 0HL81NICBB9VH [INF] Request finished in 19.2877ms 200 application/json (15c52c40)
2017-09-22T23:14:55.6901530+03:00 0HL81NICBB9VI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:55.6941561+03:00 0HL81NICBB9VI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:55.6951576+03:00 0HL81NICBB9VI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:55.7151704+03:00 0HL81NICBB9VI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:55.7161707+03:00 0HL81NICBB9VI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:55.7161707+03:00 0HL81NICBB9VI [INF] Request finished in 26.3796ms 200 application/json (15c52c40)
2017-09-22T23:14:56.1404990+03:00 0HL81NICBB9VJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:56.1435022+03:00 0HL81NICBB9VJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:56.1435022+03:00 0HL81NICBB9VJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:56.1600169+03:00 0HL81NICBB9VJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:56.1605166+03:00 0HL81NICBB9VJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:56.1610167+03:00 0HL81NICBB9VJ [INF] Request finished in 20.7475ms 200 application/json (15c52c40)
2017-09-22T23:14:56.9898613+03:00 0HL81NICBB9VK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:56.9938640+03:00 0HL81NICBB9VK [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:56.9948650+03:00 0HL81NICBB9VK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:57.0213899+03:00 0HL81NICBB9VK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:57.0213899+03:00 0HL81NICBB9VK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:57.0223910+03:00 0HL81NICBB9VK [INF] Request finished in 33.1853ms 200 application/json (15c52c40)
2017-09-22T23:14:59.5616377+03:00 0HL81NICBB9VL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:14:59.5646401+03:00 0HL81NICBB9VL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:14:59.5646401+03:00 0HL81NICBB9VL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:14:59.5866551+03:00 0HL81NICBB9VL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:14:59.5866551+03:00 0HL81NICBB9VL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:14:59.5876558+03:00 0HL81NICBB9VL [INF] Request finished in 26.3137ms 200 application/json (15c52c40)
2017-09-22T23:15:02.8709026+03:00 0HL81NICBB9VM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:02.8739050+03:00 0HL81NICBB9VM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:02.8739050+03:00 0HL81NICBB9VM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:02.8959196+03:00 0HL81NICBB9VM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:02.8969203+03:00 0HL81NICBB9VM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:02.8969203+03:00 0HL81NICBB9VM [INF] Request finished in 27.0463ms 200 application/json (15c52c40)
2017-09-22T23:15:06.8170594+03:00 0HL81NICBB9VN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:06.8230602+03:00 0HL81NICBB9VN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:06.8230602+03:00 0HL81NICBB9VN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:06.8480764+03:00 0HL81NICBB9VN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:06.8480764+03:00 0HL81NICBB9VN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:06.8490775+03:00 0HL81NICBB9VN [INF] Request finished in 35.1547ms 200 application/json (15c52c40)
2017-09-22T23:15:35.3405091+03:00 0HL81NICBB9VO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:35.3475137+03:00 0HL81NICBB9VO [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:35.3475137+03:00 0HL81NICBB9VO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:35.3735314+03:00 0HL81NICBB9VO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:35.3735314+03:00 0HL81NICBB9VO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:35.3750326+03:00 0HL81NICBB9VO [INF] Request finished in 35.6208ms 200 application/json (15c52c40)
2017-09-22T23:15:43.4296519+03:00 0HL81NICBB9VP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:43.4336549+03:00 0HL81NICBB9VP [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:43.4336549+03:00 0HL81NICBB9VP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:43.4576709+03:00 0HL81NICBB9VP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:43.4576709+03:00 0HL81NICBB9VP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:43.4586716+03:00 0HL81NICBB9VP [INF] Request finished in 29.4929ms 200 application/json (15c52c40)
2017-09-22T23:15:45.2168388+03:00 0HL81NICBB9VQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:45.2193403+03:00 0HL81NICBB9VQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:45.2198408+03:00 0HL81NICBB9VQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:45.2443573+03:00 0HL81NICBB9VQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:45.2443573+03:00 0HL81NICBB9VQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:45.2453575+03:00 0HL81NICBB9VQ [INF] Request finished in 29.3334ms 200 application/json (15c52c40)
2017-09-22T23:15:46.2245315+03:00 0HL81NICBB9VR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:46.2295352+03:00 0HL81NICBB9VR [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:46.2295352+03:00 0HL81NICBB9VR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:46.2535515+03:00 0HL81NICBB9VR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:46.2545522+03:00 0HL81NICBB9VR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:46.2555537+03:00 0HL81NICBB9VR [INF] Request finished in 30.7833ms 200 application/json (15c52c40)
2017-09-22T23:15:46.6969193+03:00 0HL81NICBB9VS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:46.6999228+03:00 0HL81NICBB9VS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:46.7009223+03:00 0HL81NICBB9VS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:46.7219363+03:00 0HL81NICBB9VS [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:46.7229373+03:00 0HL81NICBB9VS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:46.7229373+03:00 0HL81NICBB9VS [INF] Request finished in 26.1992ms 200 application/json (15c52c40)
2017-09-22T23:15:50.6732396+03:00 0HL81NICBB9VT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:15:50.6762428+03:00 0HL81NICBB9VT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:15:50.6762428+03:00 0HL81NICBB9VT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:15:50.6922558+03:00 0HL81NICBB9VT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:15:50.6927567+03:00 0HL81NICBB9VT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:15:50.6932553+03:00 0HL81NICBB9VT [INF] Request finished in 20.0496ms 200 application/json (15c52c40)
2017-09-22T23:16:14.7249513+03:00 0HL81NICBB9VU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:16:14.7279537+03:00 0HL81NICBB9VU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:16:14.7279537+03:00 0HL81NICBB9VU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:16:14.7419626+03:00 0HL81NICBB9VU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:16:14.7419626+03:00 0HL81NICBB9VU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:16:14.7429656+03:00 0HL81NICBB9VU [INF] Request finished in 18.5823ms 200 application/json (15c52c40)
2017-09-22T23:17:29.3737446+03:00 0HL81NICBB9VV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:17:29.3767473+03:00 0HL81NICBB9VV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:17:29.3767473+03:00 0HL81NICBB9VV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:17:29.3947585+03:00 0HL81NICBB9VV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:17:29.3947585+03:00 0HL81NICBB9VV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:17:29.3957604+03:00 0HL81NICBB9VV [INF] Request finished in 22.6304ms 200 application/json (15c52c40)
2017-09-22T23:17:30.9643844+03:00 0HL81NICBBA00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:17:30.9663865+03:00 0HL81NICBBA00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:17:30.9673872+03:00 0HL81NICBBA00 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:17:30.9813973+03:00 0HL81NICBBA00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:17:30.9823956+03:00 0HL81NICBBA00 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:17:30.9823956+03:00 0HL81NICBBA00 [INF] Request finished in 18.9313ms 200 application/json (15c52c40)
2017-09-22T23:17:33.3580841+03:00 0HL81NICBBA01 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:17:33.3610861+03:00 0HL81NICBBA01 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:17:33.3610861+03:00 0HL81NICBBA01 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:17:33.3846058+03:00 0HL81NICBBA01 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:17:33.3860154+03:00 0HL81NICBBA01 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:17:33.3860154+03:00 0HL81NICBBA01 [INF] Request finished in 28.6691ms 200 application/json (15c52c40)
2017-09-22T23:17:55.5429334+03:00 0HL81NICBBA02 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:17:55.5459354+03:00 0HL81NICBBA02 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:17:55.5459354+03:00 0HL81NICBBA02 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:17:55.5639478+03:00 0HL81NICBBA02 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:17:55.5639478+03:00 0HL81NICBBA02 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:17:55.5649480+03:00 0HL81NICBBA02 [INF] Request finished in 22.2692ms 200 application/json (15c52c40)
2017-09-22T23:18:15.0021219+03:00 0HL81NICBBA03 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99467564980931941506111494809&state=15061114948090.46921672713954177   (e5be5b71)
2017-09-22T23:18:15.0051243+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:15.0056260+03:00 0HL81NICBBA03 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:15.0056260+03:00 0HL81NICBBA03 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:15.0061253+03:00 0HL81NICBBA03 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:15.0061253+03:00 0HL81NICBBA03 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:15.0066251+03:00 0HL81NICBBA03 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:15.0071256+03:00 0HL81NICBBA03 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061114948090.46921672713954177\",
  \"Nonce\": \"N0.99467564980931941506111494809\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99467564980931941506111494809\",
    \"state\": \"15061114948090.46921672713954177\"
  }
}" (9a175e33)
2017-09-22T23:18:15.0111283+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:15.0221352+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:15.0241369+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:15.0266388+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:15.0291398+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:15.0311416+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:15.0331429+03:00 0HL81NICBBA03 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:15.0541568+03:00 0HL81NICBBA03 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061114948090.46921672713954177\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:15.0546570+03:00 0HL81NICBBA03 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:15.0556576+03:00 0HL81NICBBA03 [INF] Request finished in 53.9739ms 302  (15c52c40)
2017-09-22T23:18:18.9013789+03:00 0HL81NICBBA04 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.379224527053695361506111498809&state=15061114988090.20846488192658463   (e5be5b71)
2017-09-22T23:18:18.9043817+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:18.9053811+03:00 0HL81NICBBA04 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:18.9053811+03:00 0HL81NICBBA04 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:18.9053811+03:00 0HL81NICBBA04 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:18.9053811+03:00 0HL81NICBBA04 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:18.9063814+03:00 0HL81NICBBA04 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:18.9063814+03:00 0HL81NICBBA04 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061114988090.20846488192658463\",
  \"Nonce\": \"N0.379224527053695361506111498809\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.379224527053695361506111498809\",
    \"state\": \"15061114988090.20846488192658463\"
  }
}" (9a175e33)
2017-09-22T23:18:18.9093842+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:18.9208960+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:18.9223968+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:18.9243981+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:18.9258993+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:18.9279002+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:18.9304021+03:00 0HL81NICBBA04 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:18.9494143+03:00 0HL81NICBBA04 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061114988090.20846488192658463\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:18.9499149+03:00 0HL81NICBBA04 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:18.9504158+03:00 0HL81NICBBA04 [INF] Request finished in 48.7724ms 302  (15c52c40)
2017-09-22T23:18:22.8351890+03:00 0HL81NICBBA05 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76324244272293851506111502801&state=15061115028010.871433638028078   (e5be5b71)
2017-09-22T23:18:22.8381910+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:22.8381910+03:00 0HL81NICBBA05 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:22.8391912+03:00 0HL81NICBBA05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:22.8391912+03:00 0HL81NICBBA05 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:22.8391912+03:00 0HL81NICBBA05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:22.8401923+03:00 0HL81NICBBA05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:22.8401923+03:00 0HL81NICBBA05 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115028010.871433638028078\",
  \"Nonce\": \"N0.76324244272293851506111502801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76324244272293851506111502801\",
    \"state\": \"15061115028010.871433638028078\"
  }
}" (9a175e33)
2017-09-22T23:18:22.8431943+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:22.8562025+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:22.8572044+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:22.8592053+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:22.8612063+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:22.8632080+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:22.8652085+03:00 0HL81NICBBA05 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:22.8822230+03:00 0HL81NICBBA05 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115028010.871433638028078\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:22.8827235+03:00 0HL81NICBBA05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:22.8837246+03:00 0HL81NICBBA05 [INF] Request finished in 48.5411ms 302  (15c52c40)
2017-09-22T23:18:26.8351167+03:00 0HL81NICBBA06 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0389844115509816461506111506799&state=15061115067990.5633515861076779   (e5be5b71)
2017-09-22T23:18:26.8391194+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:26.8391194+03:00 0HL81NICBBA06 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:26.8401201+03:00 0HL81NICBBA06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:26.8401201+03:00 0HL81NICBBA06 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:26.8401201+03:00 0HL81NICBBA06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:26.8411203+03:00 0HL81NICBBA06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:26.8411203+03:00 0HL81NICBBA06 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115067990.5633515861076779\",
  \"Nonce\": \"N0.0389844115509816461506111506799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0389844115509816461506111506799\",
    \"state\": \"15061115067990.5633515861076779\"
  }
}" (9a175e33)
2017-09-22T23:18:26.8451230+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:26.8591331+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:26.8611344+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:26.8631357+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:26.8651371+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:26.8671388+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:26.8681395+03:00 0HL81NICBBA06 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:26.8856533+03:00 0HL81NICBBA06 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115067990.5633515861076779\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:26.8861534+03:00 0HL81NICBBA06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:26.8871548+03:00 0HL81NICBBA06 [INF] Request finished in 51.8434ms 302  (15c52c40)
2017-09-22T23:18:30.8304099+03:00 0HL81NICBBA07 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.116575631845881041506111510798&state=15061115107980.10944645911504813   (e5be5b71)
2017-09-22T23:18:30.8334119+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:30.8334119+03:00 0HL81NICBBA07 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:30.8344125+03:00 0HL81NICBBA07 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:30.8344125+03:00 0HL81NICBBA07 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:30.8354132+03:00 0HL81NICBBA07 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:30.8354132+03:00 0HL81NICBBA07 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:30.8354132+03:00 0HL81NICBBA07 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115107980.10944645911504813\",
  \"Nonce\": \"N0.116575631845881041506111510798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.116575631845881041506111510798\",
    \"state\": \"15061115107980.10944645911504813\"
  }
}" (9a175e33)
2017-09-22T23:18:30.8394158+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:30.8524253+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:30.8544262+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:30.8564271+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:30.8584289+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:30.8604298+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:30.8624315+03:00 0HL81NICBBA07 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:30.8819486+03:00 0HL81NICBBA07 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115107980.10944645911504813\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:30.8824495+03:00 0HL81NICBBA07 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:30.8829493+03:00 0HL81NICBBA07 [INF] Request finished in 52.8062ms 302  (15c52c40)
2017-09-22T23:18:34.8395149+03:00 0HL81NICBBA08 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0251294324947222151506111514799&state=15061115147990.2269331874135212   (e5be5b71)
2017-09-22T23:18:34.8425165+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:34.8425165+03:00 0HL81NICBBA08 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:34.8435172+03:00 0HL81NICBBA08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:34.8435172+03:00 0HL81NICBBA08 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:34.8435172+03:00 0HL81NICBBA08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:34.8445175+03:00 0HL81NICBBA08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:34.8445175+03:00 0HL81NICBBA08 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115147990.2269331874135212\",
  \"Nonce\": \"N0.0251294324947222151506111514799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0251294324947222151506111514799\",
    \"state\": \"15061115147990.2269331874135212\"
  }
}" (9a175e33)
2017-09-22T23:18:34.8475195+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:34.8605281+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:34.8625298+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:34.8655314+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:34.8675327+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:34.8715358+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:34.8735367+03:00 0HL81NICBBA08 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:34.8950563+03:00 0HL81NICBBA08 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115147990.2269331874135212\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:34.8955569+03:00 0HL81NICBBA08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:34.8965579+03:00 0HL81NICBBA08 [INF] Request finished in 57.1487ms 302  (15c52c40)
2017-09-22T23:18:38.8390894+03:00 0HL81NICBBA09 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47152008543771861506111518800&state=15061115188000.7881097130781578   (e5be5b71)
2017-09-22T23:18:38.8420910+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:38.8420910+03:00 0HL81NICBBA09 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:38.8430921+03:00 0HL81NICBBA09 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:38.8430921+03:00 0HL81NICBBA09 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:38.8440927+03:00 0HL81NICBBA09 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:38.8440927+03:00 0HL81NICBBA09 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:38.8440927+03:00 0HL81NICBBA09 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115188000.7881097130781578\",
  \"Nonce\": \"N0.47152008543771861506111518800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47152008543771861506111518800\",
    \"state\": \"15061115188000.7881097130781578\"
  }
}" (9a175e33)
2017-09-22T23:18:38.8480954+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:38.8621047+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:38.8641060+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:38.8661077+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:38.8691093+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:38.8721113+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:38.8751133+03:00 0HL81NICBBA09 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:38.8981325+03:00 0HL81NICBBA09 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115188000.7881097130781578\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:38.8991336+03:00 0HL81NICBBA09 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:38.8996341+03:00 0HL81NICBBA09 [INF] Request finished in 61.4546ms 302  (15c52c40)
2017-09-22T23:18:42.8957246+03:00 0HL81NICBBA0A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31443655996287181506111522799&state=15061115227990.1776902646298757   (e5be5b71)
2017-09-22T23:18:42.8982261+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:42.8987278+03:00 0HL81NICBBA0A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:42.8992264+03:00 0HL81NICBBA0A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:42.8992264+03:00 0HL81NICBBA0A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:42.8997265+03:00 0HL81NICBBA0A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:42.9002274+03:00 0HL81NICBBA0A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:42.9007276+03:00 0HL81NICBBA0A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115227990.1776902646298757\",
  \"Nonce\": \"N0.31443655996287181506111522799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31443655996287181506111522799\",
    \"state\": \"15061115227990.1776902646298757\"
  }
}" (9a175e33)
2017-09-22T23:18:42.9032286+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:42.9142423+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:42.9152433+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:42.9172450+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:42.9192460+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:42.9212469+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:42.9222464+03:00 0HL81NICBBA0A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:42.9382570+03:00 0HL81NICBBA0A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115227990.1776902646298757\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:42.9382570+03:00 0HL81NICBBA0A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:42.9392581+03:00 0HL81NICBBA0A [INF] Request finished in 44.3793ms 302  (15c52c40)
2017-09-22T23:18:46.8310999+03:00 0HL81NICBBA0B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87915695058214821506111526799&state=15061115267990.8042327939241101   (e5be5b71)
2017-09-22T23:18:46.8341019+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:46.8351029+03:00 0HL81NICBBA0B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:46.8351029+03:00 0HL81NICBBA0B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:46.8351029+03:00 0HL81NICBBA0B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:46.8361028+03:00 0HL81NICBBA0B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:46.8361028+03:00 0HL81NICBBA0B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:46.8361028+03:00 0HL81NICBBA0B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115267990.8042327939241101\",
  \"Nonce\": \"N0.87915695058214821506111526799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87915695058214821506111526799\",
    \"state\": \"15061115267990.8042327939241101\"
  }
}" (9a175e33)
2017-09-22T23:18:46.8391048+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:46.8501125+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:46.8521150+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:46.8541144+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:46.8551154+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:46.8571164+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:46.8591177+03:00 0HL81NICBBA0B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:46.8731266+03:00 0HL81NICBBA0B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115267990.8042327939241101\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:46.8741277+03:00 0HL81NICBBA0B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:46.8741277+03:00 0HL81NICBBA0B [INF] Request finished in 43.7055ms 302  (15c52c40)
2017-09-22T23:18:50.8278030+03:00 0HL81NICBBA0C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50090200280504461506111530799&state=15061115307990.20516151364455282   (e5be5b71)
2017-09-22T23:18:50.8308062+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:50.8318057+03:00 0HL81NICBBA0C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:50.8318057+03:00 0HL81NICBBA0C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:50.8318057+03:00 0HL81NICBBA0C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:50.8318057+03:00 0HL81NICBBA0C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:50.8328059+03:00 0HL81NICBBA0C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:50.8328059+03:00 0HL81NICBBA0C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115307990.20516151364455282\",
  \"Nonce\": \"N0.50090200280504461506111530799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50090200280504461506111530799\",
    \"state\": \"15061115307990.20516151364455282\"
  }
}" (9a175e33)
2017-09-22T23:18:50.8358083+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:50.8458154+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:50.8468164+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:50.8488178+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:50.8508187+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:50.8528196+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:50.8538207+03:00 0HL81NICBBA0C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:50.8938461+03:00 0HL81NICBBA0C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115307990.20516151364455282\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:50.8948479+03:00 0HL81NICBBA0C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:50.8958482+03:00 0HL81NICBBA0C [INF] Request finished in 67.6828ms 302  (15c52c40)
2017-09-22T23:18:54.8405578+03:00 0HL81NICBBA0D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.34291353715562491506111534799&state=15061115347990.027737842654151246   (e5be5b71)
2017-09-22T23:18:54.8435590+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:54.8445597+03:00 0HL81NICBBA0D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:54.8445597+03:00 0HL81NICBBA0D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:54.8445597+03:00 0HL81NICBBA0D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:54.8455604+03:00 0HL81NICBBA0D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:54.8455604+03:00 0HL81NICBBA0D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:54.8455604+03:00 0HL81NICBBA0D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115347990.027737842654151246\",
  \"Nonce\": \"N0.34291353715562491506111534799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.34291353715562491506111534799\",
    \"state\": \"15061115347990.027737842654151246\"
  }
}" (9a175e33)
2017-09-22T23:18:54.8515643+03:00 0HL81NICBBA0D [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:54.8635727+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:54.8655740+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:54.8675754+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:54.8695771+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:54.8725787+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:54.8735801+03:00 0HL81NICBBA0D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:54.8965942+03:00 0HL81NICBBA0D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115347990.027737842654151246\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:54.8975957+03:00 0HL81NICBBA0D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:54.8985960+03:00 0HL81NICBBA0D [INF] Request finished in 57.9745ms 302  (15c52c40)
2017-09-22T23:18:58.8382016+03:00 0HL81NICBBA0E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.465751921142601331506111538800&state=15061115388000.11017469267189073   (e5be5b71)
2017-09-22T23:18:58.8412040+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:18:58.8412040+03:00 0HL81NICBBA0E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:18:58.8422043+03:00 0HL81NICBBA0E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:58.8422043+03:00 0HL81NICBBA0E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:18:58.8422043+03:00 0HL81NICBBA0E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:58.8432050+03:00 0HL81NICBBA0E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:58.8432050+03:00 0HL81NICBBA0E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115388000.11017469267189073\",
  \"Nonce\": \"N0.465751921142601331506111538800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.465751921142601331506111538800\",
    \"state\": \"15061115388000.11017469267189073\"
  }
}" (9a175e33)
2017-09-22T23:18:58.8502092+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:18:58.8632182+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:58.8652196+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:18:58.8672209+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:18:58.8692226+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:18:58.8712232+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:18:58.8732249+03:00 0HL81NICBBA0E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:18:58.8962402+03:00 0HL81NICBBA0E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115388000.11017469267189073\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:18:58.8972404+03:00 0HL81NICBBA0E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:18:58.8972404+03:00 0HL81NICBBA0E [INF] Request finished in 60.2147ms 302  (15c52c40)
2017-09-22T23:19:02.8371714+03:00 0HL81NICBBA0F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51862131046052261506111542798&state=15061115427980.5949619787856235   (e5be5b71)
2017-09-22T23:19:02.8401734+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:02.8411740+03:00 0HL81NICBBA0F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:02.8421755+03:00 0HL81NICBBA0F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:02.8421755+03:00 0HL81NICBBA0F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:02.8431761+03:00 0HL81NICBBA0F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:02.8441760+03:00 0HL81NICBBA0F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:02.8441760+03:00 0HL81NICBBA0F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115427980.5949619787856235\",
  \"Nonce\": \"N0.51862131046052261506111542798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51862131046052261506111542798\",
    \"state\": \"15061115427980.5949619787856235\"
  }
}" (9a175e33)
2017-09-22T23:19:02.8501824+03:00 0HL81NICBBA0F [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:02.8611877+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:02.8621884+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:02.8641901+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:02.8661906+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:02.8681920+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:02.8701937+03:00 0HL81NICBBA0F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:02.8862039+03:00 0HL81NICBBA0F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115427980.5949619787856235\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:02.8872050+03:00 0HL81NICBBA0F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:02.8872050+03:00 0HL81NICBBA0F [INF] Request finished in 50.6537ms 302  (15c52c40)
2017-09-22T23:19:06.8292422+03:00 0HL81NICBBA0G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25081916939684671506111546797&state=15061115467970.982936045836388   (e5be5b71)
2017-09-22T23:19:06.8317433+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:06.8327436+03:00 0HL81NICBBA0G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:06.8332441+03:00 0HL81NICBBA0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:06.8332441+03:00 0HL81NICBBA0G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:06.8337442+03:00 0HL81NICBBA0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:06.8342444+03:00 0HL81NICBBA0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:06.8342444+03:00 0HL81NICBBA0G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115467970.982936045836388\",
  \"Nonce\": \"N0.25081916939684671506111546797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25081916939684671506111546797\",
    \"state\": \"15061115467970.982936045836388\"
  }
}" (9a175e33)
2017-09-22T23:19:06.8385877+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:06.8495954+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:06.8505957+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:06.8525970+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:06.8545987+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:06.8566000+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:06.8576011+03:00 0HL81NICBBA0G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:06.8746116+03:00 0HL81NICBBA0G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115467970.982936045836388\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:06.8746116+03:00 0HL81NICBBA0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:06.8756119+03:00 0HL81NICBBA0G [INF] Request finished in 46.893ms 302  (15c52c40)
2017-09-22T23:19:10.8329563+03:00 0HL81NICBBA0H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8817826368094251506111550799&state=15061115507990.07892618362883685   (e5be5b71)
2017-09-22T23:19:10.8359587+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:10.8364596+03:00 0HL81NICBBA0H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:10.8369594+03:00 0HL81NICBBA0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:10.8374599+03:00 0HL81NICBBA0H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:10.8379601+03:00 0HL81NICBBA0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:10.8384602+03:00 0HL81NICBBA0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:10.8384602+03:00 0HL81NICBBA0H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115507990.07892618362883685\",
  \"Nonce\": \"N0.8817826368094251506111550799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8817826368094251506111550799\",
    \"state\": \"15061115507990.07892618362883685\"
  }
}" (9a175e33)
2017-09-22T23:19:10.8419667+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:10.8559756+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:10.8579777+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:10.8599790+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:10.8629802+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:10.8659826+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:10.8689842+03:00 0HL81NICBBA0H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:10.8909992+03:00 0HL81NICBBA0H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115507990.07892618362883685\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:10.8919995+03:00 0HL81NICBBA0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:10.8930005+03:00 0HL81NICBBA0H [INF] Request finished in 60.6809ms 302  (15c52c40)
2017-09-22T23:19:14.8550227+03:00 0HL81NICBBA0I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.109506710673818341506111554798&state=15061115547980.6965620144775577   (e5be5b71)
2017-09-22T23:19:14.8590253+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:14.8600260+03:00 0HL81NICBBA0I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:14.8605265+03:00 0HL81NICBBA0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:14.8605265+03:00 0HL81NICBBA0I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:14.8610266+03:00 0HL81NICBBA0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:14.8615272+03:00 0HL81NICBBA0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:14.8615272+03:00 0HL81NICBBA0I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115547980.6965620144775577\",
  \"Nonce\": \"N0.109506710673818341506111554798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.109506710673818341506111554798\",
    \"state\": \"15061115547980.6965620144775577\"
  }
}" (9a175e33)
2017-09-22T23:19:14.8650293+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:14.8765407+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:14.8795431+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:14.8825447+03:00 0HL81NICBBA0I [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:14.8845460+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:14.8875480+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:14.8915511+03:00 0HL81NICBBA0I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:14.9125650+03:00 0HL81NICBBA0I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115547980.6965620144775577\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:14.9125650+03:00 0HL81NICBBA0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:14.9155666+03:00 0HL81NICBBA0I [INF] Request finished in 62.4304ms 302  (15c52c40)
2017-09-22T23:19:19.3009649+03:00 0HL81NICBBA0J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.008708430085308861506111559168&state=15061115591680.14768292649510628   (e5be5b71)
2017-09-22T23:19:19.3039665+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:19.3044670+03:00 0HL81NICBBA0J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:19.3049671+03:00 0HL81NICBBA0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:19.3049671+03:00 0HL81NICBBA0J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:19.3054677+03:00 0HL81NICBBA0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:19.3059678+03:00 0HL81NICBBA0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:19.3064683+03:00 0HL81NICBBA0J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115591680.14768292649510628\",
  \"Nonce\": \"N0.008708430085308861506111559168\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.008708430085308861506111559168\",
    \"state\": \"15061115591680.14768292649510628\"
  }
}" (9a175e33)
2017-09-22T23:19:19.3099701+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:19.3209778+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:19.3234792+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:19.3249800+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:19.3269818+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:19.3289827+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:19.3309840+03:00 0HL81NICBBA0J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:19.3555009+03:00 0HL81NICBBA0J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115591680.14768292649510628\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:19.3565016+03:00 0HL81NICBBA0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:19.3585033+03:00 0HL81NICBBA0J [INF] Request finished in 56.9897ms 302  (15c52c40)
2017-09-22T23:19:22.8412032+03:00 0HL81NICBBA0K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55601186191875931506111562802&state=15061115628020.19587203419568788   (e5be5b71)
2017-09-22T23:19:22.8442052+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:22.8442052+03:00 0HL81NICBBA0K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:22.8452063+03:00 0HL81NICBBA0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:22.8452063+03:00 0HL81NICBBA0K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:22.8452063+03:00 0HL81NICBBA0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:22.8462066+03:00 0HL81NICBBA0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:22.8462066+03:00 0HL81NICBBA0K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115628020.19587203419568788\",
  \"Nonce\": \"N0.55601186191875931506111562802\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55601186191875931506111562802\",
    \"state\": \"15061115628020.19587203419568788\"
  }
}" (9a175e33)
2017-09-22T23:19:22.8502092+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:22.8632178+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:22.8662198+03:00 0HL81NICBBA0K [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:22.8682216+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:22.8702233+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:22.8722246+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:22.8742252+03:00 0HL81NICBBA0K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:22.8987468+03:00 0HL81NICBBA0K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115628020.19587203419568788\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:22.8997470+03:00 0HL81NICBBA0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:22.9007477+03:00 0HL81NICBBA0K [INF] Request finished in 59.7998ms 302  (15c52c40)
2017-09-22T23:19:26.5794373+03:00 0HL81NICBBA0L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27064572291787071506111565867&state=15061115658670.5666192195129476   (e5be5b71)
2017-09-22T23:19:26.5824401+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:26.5829399+03:00 0HL81NICBBA0L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:26.5834400+03:00 0HL81NICBBA0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:26.5834400+03:00 0HL81NICBBA0L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:26.5839401+03:00 0HL81NICBBA0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:26.5844407+03:00 0HL81NICBBA0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:26.5844407+03:00 0HL81NICBBA0L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115658670.5666192195129476\",
  \"Nonce\": \"N0.27064572291787071506111565867\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27064572291787071506111565867\",
    \"state\": \"15061115658670.5666192195129476\"
  }
}" (9a175e33)
2017-09-22T23:19:26.5879432+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:26.6134603+03:00 0HL81NICBBA0L [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:26.6154612+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:26.6174626+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:26.6189638+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:26.6204650+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:26.6229664+03:00 0HL81NICBBA0L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:26.6419787+03:00 0HL81NICBBA0L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115658670.5666192195129476\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:26.6424792+03:00 0HL81NICBBA0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:26.6434802+03:00 0HL81NICBBA0L [INF] Request finished in 64.1427ms 302  (15c52c40)
2017-09-22T23:19:29.8375440+03:00 0HL81NICBBA0M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.323481200569832651506111569797&state=15061115697970.6071316928203057   (e5be5b71)
2017-09-22T23:19:29.8405460+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:29.8415463+03:00 0HL81NICBBA0M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:29.8415463+03:00 0HL81NICBBA0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:29.8415463+03:00 0HL81NICBBA0M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:29.8425473+03:00 0HL81NICBBA0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:29.8435472+03:00 0HL81NICBBA0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:29.8435472+03:00 0HL81NICBBA0M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115697970.6071316928203057\",
  \"Nonce\": \"N0.323481200569832651506111569797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.323481200569832651506111569797\",
    \"state\": \"15061115697970.6071316928203057\"
  }
}" (9a175e33)
2017-09-22T23:19:29.8475502+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:29.8615599+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:29.8635609+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:29.8655622+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:29.8675639+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:29.8705663+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:29.8715670+03:00 0HL81NICBBA0M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:29.8935820+03:00 0HL81NICBBA0M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115697970.6071316928203057\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:29.8945819+03:00 0HL81NICBBA0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:29.8955821+03:00 0HL81NICBBA0M [INF] Request finished in 58.0274ms 302  (15c52c40)
2017-09-22T23:19:32.8701408+03:00 0HL81NICBBA0N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30495274136586261506111572804&state=15061115728040.9608248773993884   (e5be5b71)
2017-09-22T23:19:32.8726422+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:32.8731424+03:00 0HL81NICBBA0N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:32.8736437+03:00 0HL81NICBBA0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:32.8741446+03:00 0HL81NICBBA0N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:32.8746436+03:00 0HL81NICBBA0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:32.8751445+03:00 0HL81NICBBA0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:32.8756462+03:00 0HL81NICBBA0N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115728040.9608248773993884\",
  \"Nonce\": \"N0.30495274136586261506111572804\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30495274136586261506111572804\",
    \"state\": \"15061115728040.9608248773993884\"
  }
}" (9a175e33)
2017-09-22T23:19:32.8791464+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:32.8911543+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:32.8946565+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:32.8971583+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:32.8991597+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:32.9016615+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:32.9031623+03:00 0HL81NICBBA0N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:32.9256771+03:00 0HL81NICBBA0N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115728040.9608248773993884\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:32.9281789+03:00 0HL81NICBBA0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:32.9301803+03:00 0HL81NICBBA0N [INF] Request finished in 60.3753ms 302  (15c52c40)
2017-09-22T23:19:36.6165511+03:00 0HL81NICBBA0O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90440079458746991506111576117&state=15061115761170.5695040660307722   (e5be5b71)
2017-09-22T23:19:36.6200529+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:36.6205534+03:00 0HL81NICBBA0O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:36.6205534+03:00 0HL81NICBBA0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:36.6210539+03:00 0HL81NICBBA0O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:36.6210539+03:00 0HL81NICBBA0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:36.6220546+03:00 0HL81NICBBA0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:36.6220546+03:00 0HL81NICBBA0O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115761170.5695040660307722\",
  \"Nonce\": \"N0.90440079458746991506111576117\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90440079458746991506111576117\",
    \"state\": \"15061115761170.5695040660307722\"
  }
}" (9a175e33)
2017-09-22T23:19:36.6250558+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:36.6360635+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:36.6370641+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:36.6390655+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:36.6405667+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:36.6425676+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:36.6450699+03:00 0HL81NICBBA0O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:36.6615802+03:00 0HL81NICBBA0O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115761170.5695040660307722\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:36.6620808+03:00 0HL81NICBBA0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:36.6630818+03:00 0HL81NICBBA0O [INF] Request finished in 46.5279ms 302  (15c52c40)
2017-09-22T23:19:40.7140486+03:00 0HL81NICBBA0P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61375403961412321506111580004&state=15061115800040.09550692768089175   (e5be5b71)
2017-09-22T23:19:40.7165501+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:40.7170506+03:00 0HL81NICBBA0P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:40.7175507+03:00 0HL81NICBBA0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:40.7175507+03:00 0HL81NICBBA0P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:40.7175507+03:00 0HL81NICBBA0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:40.7185514+03:00 0HL81NICBBA0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:40.7185514+03:00 0HL81NICBBA0P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115800040.09550692768089175\",
  \"Nonce\": \"N0.61375403961412321506111580004\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61375403961412321506111580004\",
    \"state\": \"15061115800040.09550692768089175\"
  }
}" (9a175e33)
2017-09-22T23:19:40.7210528+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:40.7320606+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:40.7335617+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:40.7360636+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:40.7380645+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:40.7415671+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:40.7430683+03:00 0HL81NICBBA0P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:40.7650825+03:00 0HL81NICBBA0P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115800040.09550692768089175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:40.7655826+03:00 0HL81NICBBA0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:40.7665837+03:00 0HL81NICBBA0P [INF] Request finished in 52.5145ms 302  (15c52c40)
2017-09-22T23:19:45.7459862+03:00 0HL81NICBBA0Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63481618674966221506111584091&state=15061115840910.6569336783279063   (e5be5b71)
2017-09-22T23:19:45.7489882+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:45.7494887+03:00 0HL81NICBBA0Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:45.7499888+03:00 0HL81NICBBA0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:45.7499888+03:00 0HL81NICBBA0Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:45.7504894+03:00 0HL81NICBBA0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:45.7509899+03:00 0HL81NICBBA0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:45.7509899+03:00 0HL81NICBBA0Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115840910.6569336783279063\",
  \"Nonce\": \"N0.63481618674966221506111584091\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63481618674966221506111584091\",
    \"state\": \"15061115840910.6569336783279063\"
  }
}" (9a175e33)
2017-09-22T23:19:45.7549921+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:45.7664996+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:45.7685009+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:45.7700017+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:45.7725036+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:45.7745049+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:45.7765066+03:00 0HL81NICBBA0Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:45.7960190+03:00 0HL81NICBBA0Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115840910.6569336783279063\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:45.7970197+03:00 0HL81NICBBA0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:45.7975198+03:00 0HL81NICBBA0Q [INF] Request finished in 52.0637ms 302  (15c52c40)
2017-09-22T23:19:48.3832673+03:00 0HL81NICBBA0R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.08116198323425251506111587918&state=15061115879180.8070435983051092   (e5be5b71)
2017-09-22T23:19:48.3862692+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:48.3867694+03:00 0HL81NICBBA0R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:48.3872699+03:00 0HL81NICBBA0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:48.3872699+03:00 0HL81NICBBA0R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:48.3877700+03:00 0HL81NICBBA0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:48.3882702+03:00 0HL81NICBBA0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:48.3882702+03:00 0HL81NICBBA0R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115879180.8070435983051092\",
  \"Nonce\": \"N0.08116198323425251506111587918\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.08116198323425251506111587918\",
    \"state\": \"15061115879180.8070435983051092\"
  }
}" (9a175e33)
2017-09-22T23:19:48.3927734+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:48.4047813+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:48.4062821+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:48.4082835+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:48.4102848+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:48.4132868+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:48.4147880+03:00 0HL81NICBBA0R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:48.4353018+03:00 0HL81NICBBA0R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115879180.8070435983051092\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:48.4368030+03:00 0HL81NICBBA0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:48.4418055+03:00 0HL81NICBBA0R [INF] Request finished in 57.9805ms 302  (15c52c40)
2017-09-22T23:19:51.8335575+03:00 0HL81NICBBA0S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.174044790033792251506111591799&state=15061115917990.3243634725698208   (e5be5b71)
2017-09-22T23:19:51.8360590+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:51.8365595+03:00 0HL81NICBBA0S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:51.8370596+03:00 0HL81NICBBA0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:51.8370596+03:00 0HL81NICBBA0S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:51.8375602+03:00 0HL81NICBBA0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:51.8380607+03:00 0HL81NICBBA0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:51.8380607+03:00 0HL81NICBBA0S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115917990.3243634725698208\",
  \"Nonce\": \"N0.174044790033792251506111591799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.174044790033792251506111591799\",
    \"state\": \"15061115917990.3243634725698208\"
  }
}" (9a175e33)
2017-09-22T23:19:51.8410623+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:51.8510690+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:51.8530703+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:51.8550724+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:51.8570729+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:51.8585737+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:51.8610760+03:00 0HL81NICBBA0S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:51.8755858+03:00 0HL81NICBBA0S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115917990.3243634725698208\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:51.8760856+03:00 0HL81NICBBA0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:51.8770866+03:00 0HL81NICBBA0S [INF] Request finished in 43.1809ms 302  (15c52c40)
2017-09-22T23:19:55.8314619+03:00 0HL81NICBBA0T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49856155909866051506111595798&state=15061115957980.26503371086485505   (e5be5b71)
2017-09-22T23:19:55.8344634+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:55.8344634+03:00 0HL81NICBBA0T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:55.8354641+03:00 0HL81NICBBA0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:55.8354641+03:00 0HL81NICBBA0T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:55.8354641+03:00 0HL81NICBBA0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:55.8364664+03:00 0HL81NICBBA0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:55.8364664+03:00 0HL81NICBBA0T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115957980.26503371086485505\",
  \"Nonce\": \"N0.49856155909866051506111595798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49856155909866051506111595798\",
    \"state\": \"15061115957980.26503371086485505\"
  }
}" (9a175e33)
2017-09-22T23:19:55.8409711+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:55.8539794+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:55.8559807+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:55.8579852+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:55.8599869+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:55.8619882+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:55.8639896+03:00 0HL81NICBBA0T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:55.8860038+03:00 0HL81NICBBA0T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115957980.26503371086485505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:55.8870048+03:00 0HL81NICBBA0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:55.8880055+03:00 0HL81NICBBA0T [INF] Request finished in 56.7658ms 302  (15c52c40)
2017-09-22T23:19:59.4631199+03:00 0HL81NICBBA0U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.451915776739135741506111599208&state=15061115992080.5899799290535921   (e5be5b71)
2017-09-22T23:19:59.4661223+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:19:59.4671229+03:00 0HL81NICBBA0U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:19:59.4671229+03:00 0HL81NICBBA0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:59.4676227+03:00 0HL81NICBBA0U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:19:59.4681232+03:00 0HL81NICBBA0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:59.4691239+03:00 0HL81NICBBA0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:59.4691239+03:00 0HL81NICBBA0U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061115992080.5899799290535921\",
  \"Nonce\": \"N0.451915776739135741506111599208\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.451915776739135741506111599208\",
    \"state\": \"15061115992080.5899799290535921\"
  }
}" (9a175e33)
2017-09-22T23:19:59.4726260+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:19:59.4841338+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:59.4861348+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:19:59.4881365+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:19:59.4901378+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:19:59.4921391+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:19:59.4941401+03:00 0HL81NICBBA0U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:19:59.5161551+03:00 0HL81NICBBA0U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061115992080.5899799290535921\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:19:59.5171557+03:00 0HL81NICBBA0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:19:59.5181564+03:00 0HL81NICBBA0U [INF] Request finished in 55.1371ms 302  (15c52c40)
2017-09-22T23:20:02.8411598+03:00 0HL81NICBBA0V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76347939669488561506111602798&state=15061116027980.778207119170877   (e5be5b71)
2017-09-22T23:20:02.8441622+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:02.8441622+03:00 0HL81NICBBA0V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:02.8451629+03:00 0HL81NICBBA0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:02.8451629+03:00 0HL81NICBBA0V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:02.8451629+03:00 0HL81NICBBA0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:02.8461631+03:00 0HL81NICBBA0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:02.8461631+03:00 0HL81NICBBA0V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116027980.778207119170877\",
  \"Nonce\": \"N0.76347939669488561506111602798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76347939669488561506111602798\",
    \"state\": \"15061116027980.778207119170877\"
  }
}" (9a175e33)
2017-09-22T23:20:02.8501662+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:02.8611735+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:02.8631748+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:02.8651754+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:02.8661776+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:02.8681781+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:02.8701795+03:00 0HL81NICBBA0V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:02.8861893+03:00 0HL81NICBBA0V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116027980.778207119170877\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:02.8861893+03:00 0HL81NICBBA0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:02.8871900+03:00 0HL81NICBBA0V [INF] Request finished in 46.7264ms 302  (15c52c40)
2017-09-22T23:20:06.4717220+03:00 0HL81NICBBA10 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.064719074860043471506111605801&state=15061116058010.9953510940547878   (e5be5b71)
2017-09-22T23:20:06.4742239+03:00 0HL81NICBBA10 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:06.4747240+03:00 0HL81NICBBA10 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:06.4752246+03:00 0HL81NICBBA10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:06.4752246+03:00 0HL81NICBBA10 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:06.4757251+03:00 0HL81NICBBA10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:06.4767254+03:00 0HL81NICBBA10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:06.4767254+03:00 0HL81NICBBA10 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116058010.9953510940547878\",
  \"Nonce\": \"N0.064719074860043471506111605801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.064719074860043471506111605801\",
    \"state\": \"15061116058010.9953510940547878\"
  }
}" (9a175e33)
2017-09-22T23:20:06.4817287+03:00 0HL81NICBBA10 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:06.4967390+03:00 0HL81NICBBA10 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:06.4987400+03:00 0HL81NICBBA10 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:06.5047447+03:00 0HL81NICBBA10 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:06.5097473+03:00 0HL81NICBBA10 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:06.5117486+03:00 0HL81NICBBA10 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:06.5167519+03:00 0HL81NICBBA10 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:06.5407683+03:00 0HL81NICBBA10 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116058010.9953510940547878\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:06.5412680+03:00 0HL81NICBBA10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:06.5417685+03:00 0HL81NICBBA10 [INF] Request finished in 70.7151ms 302  (15c52c40)
2017-09-22T23:20:09.2005657+03:00 0HL81NICBBA11 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90205986080280561506111608972&state=15061116089720.6552150824151921   (e5be5b71)
2017-09-22T23:20:09.2035677+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:09.2040678+03:00 0HL81NICBBA11 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:09.2045683+03:00 0HL81NICBBA11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:09.2045683+03:00 0HL81NICBBA11 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:09.2050685+03:00 0HL81NICBBA11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:09.2055690+03:00 0HL81NICBBA11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:09.2060699+03:00 0HL81NICBBA11 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116089720.6552150824151921\",
  \"Nonce\": \"N0.90205986080280561506111608972\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90205986080280561506111608972\",
    \"state\": \"15061116089720.6552150824151921\"
  }
}" (9a175e33)
2017-09-22T23:20:09.2095721+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:09.2215796+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:09.2235810+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:09.2255823+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:09.2275836+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:09.2295845+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:09.2315859+03:00 0HL81NICBBA11 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:09.2536013+03:00 0HL81NICBBA11 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116089720.6552150824151921\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:09.2546016+03:00 0HL81NICBBA11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:09.2561027+03:00 0HL81NICBBA11 [INF] Request finished in 55.1454ms 302  (15c52c40)
2017-09-22T23:20:12.8437911+03:00 0HL81NICBBA12 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.159573246336210951506111612798&state=15061116127980.9817512634559735   (e5be5b71)
2017-09-22T23:20:12.8472933+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:12.8482935+03:00 0HL81NICBBA12 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:12.8487941+03:00 0HL81NICBBA12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:12.8487941+03:00 0HL81NICBBA12 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:12.8492938+03:00 0HL81NICBBA12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:12.8502949+03:00 0HL81NICBBA12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:12.8502949+03:00 0HL81NICBBA12 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116127980.9817512634559735\",
  \"Nonce\": \"N0.159573246336210951506111612798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.159573246336210951506111612798\",
    \"state\": \"15061116127980.9817512634559735\"
  }
}" (9a175e33)
2017-09-22T23:20:12.8542975+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:12.8733145+03:00 0HL81NICBBA12 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:12.8793177+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:12.8823197+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:12.8853217+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:12.8903250+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:12.8933274+03:00 0HL81NICBBA12 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:12.9143409+03:00 0HL81NICBBA12 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116127980.9817512634559735\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:12.9153416+03:00 0HL81NICBBA12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:12.9163431+03:00 0HL81NICBBA12 [INF] Request finished in 73.1527ms 302  (15c52c40)
2017-09-22T23:20:15.8428821+03:00 0HL81NICBBA13 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52098623685926171506111615810&state=15061116158100.6816892523155185   (e5be5b71)
2017-09-22T23:20:15.8458840+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:15.8458840+03:00 0HL81NICBBA13 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:15.8468843+03:00 0HL81NICBBA13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:15.8468843+03:00 0HL81NICBBA13 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:15.8468843+03:00 0HL81NICBBA13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:15.8478850+03:00 0HL81NICBBA13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:15.8478850+03:00 0HL81NICBBA13 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116158100.6816892523155185\",
  \"Nonce\": \"N0.52098623685926171506111615810\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52098623685926171506111615810\",
    \"state\": \"15061116158100.6816892523155185\"
  }
}" (9a175e33)
2017-09-22T23:20:15.8508874+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:15.8628957+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:15.8648971+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:15.8668984+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:15.8689001+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:15.8709007+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:15.8729020+03:00 0HL81NICBBA13 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:15.8929149+03:00 0HL81NICBBA13 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116158100.6816892523155185\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:15.8939159+03:00 0HL81NICBBA13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:15.8959173+03:00 0HL81NICBBA13 [INF] Request finished in 52.2595ms 302  (15c52c40)
2017-09-22T23:20:19.8357385+03:00 0HL81NICBBA14 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67280251886060461506111619799&state=15061116197990.3569859697503197   (e5be5b71)
2017-09-22T23:20:19.8387401+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:19.8397403+03:00 0HL81NICBBA14 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:19.8397403+03:00 0HL81NICBBA14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:19.8397403+03:00 0HL81NICBBA14 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:19.8407414+03:00 0HL81NICBBA14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:19.8407414+03:00 0HL81NICBBA14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:19.8407414+03:00 0HL81NICBBA14 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116197990.3569859697503197\",
  \"Nonce\": \"N0.67280251886060461506111619799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67280251886060461506111619799\",
    \"state\": \"15061116197990.3569859697503197\"
  }
}" (9a175e33)
2017-09-22T23:20:19.8437434+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:19.8597544+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:19.8617553+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:19.8637567+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:19.8677593+03:00 0HL81NICBBA14 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:19.8697610+03:00 0HL81NICBBA14 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:19.8737637+03:00 0HL81NICBBA14 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:19.8967786+03:00 0HL81NICBBA14 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116197990.3569859697503197\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:19.8982841+03:00 0HL81NICBBA14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:19.8992852+03:00 0HL81NICBBA14 [INF] Request finished in 63.3852ms 302  (15c52c40)
2017-09-22T23:20:24.4682854+03:00 0HL81NICBBA15 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.213441785830923441506111623919&state=15061116239190.72014464557286   (e5be5b71)
2017-09-22T23:20:24.4717880+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:24.4722881+03:00 0HL81NICBBA15 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:24.4727886+03:00 0HL81NICBBA15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:24.4732911+03:00 0HL81NICBBA15 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:24.4737889+03:00 0HL81NICBBA15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:24.4742898+03:00 0HL81NICBBA15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:24.4742898+03:00 0HL81NICBBA15 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116239190.72014464557286\",
  \"Nonce\": \"N0.213441785830923441506111623919\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.213441785830923441506111623919\",
    \"state\": \"15061116239190.72014464557286\"
  }
}" (9a175e33)
2017-09-22T23:20:24.4777919+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:24.4892994+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:24.4908002+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:24.4933020+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:24.4948032+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:24.4968046+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:24.4988059+03:00 0HL81NICBBA15 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:24.5188188+03:00 0HL81NICBBA15 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116239190.72014464557286\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:24.5193193+03:00 0HL81NICBBA15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:24.5198198+03:00 0HL81NICBBA15 [INF] Request finished in 52.1805ms 302  (15c52c40)
2017-09-22T23:20:27.8423338+03:00 0HL81NICBBA16 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.34558416383970171506111627799&state=15061116277990.1421913488987785   (e5be5b71)
2017-09-22T23:20:27.8453354+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:27.8463360+03:00 0HL81NICBBA16 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:27.8463360+03:00 0HL81NICBBA16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:27.8463360+03:00 0HL81NICBBA16 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:27.8473363+03:00 0HL81NICBBA16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:27.8473363+03:00 0HL81NICBBA16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:27.8473363+03:00 0HL81NICBBA16 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116277990.1421913488987785\",
  \"Nonce\": \"N0.34558416383970171506111627799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.34558416383970171506111627799\",
    \"state\": \"15061116277990.1421913488987785\"
  }
}" (9a175e33)
2017-09-22T23:20:27.8503391+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:27.8603453+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:27.8623467+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:27.8633477+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:27.8653486+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:27.8668526+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:27.8678537+03:00 0HL81NICBBA16 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:27.8888720+03:00 0HL81NICBBA16 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116277990.1421913488987785\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:27.8898730+03:00 0HL81NICBBA16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:27.8908741+03:00 0HL81NICBBA16 [INF] Request finished in 47.9782ms 302  (15c52c40)
2017-09-22T23:20:31.4845440+03:00 0HL81NICBBA17 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97874251914448741506111631141&state=15061116311410.527915158028355   (e5be5b71)
2017-09-22T23:20:31.4875456+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:31.4880461+03:00 0HL81NICBBA17 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:31.4885462+03:00 0HL81NICBBA17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:31.4885462+03:00 0HL81NICBBA17 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:31.4890471+03:00 0HL81NICBBA17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:31.4895477+03:00 0HL81NICBBA17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:31.4900478+03:00 0HL81NICBBA17 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116311410.527915158028355\",
  \"Nonce\": \"N0.97874251914448741506111631141\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97874251914448741506111631141\",
    \"state\": \"15061116311410.527915158028355\"
  }
}" (9a175e33)
2017-09-22T23:20:31.4925489+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:31.5040563+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:31.5055579+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:31.5075592+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:31.5095602+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:31.5115615+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:31.5140634+03:00 0HL81NICBBA17 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:31.5325754+03:00 0HL81NICBBA17 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116311410.527915158028355\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:31.5330760+03:00 0HL81NICBBA17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:31.5335765+03:00 0HL81NICBBA17 [INF] Request finished in 49.3684ms 302  (15c52c40)
2017-09-22T23:20:35.0139491+03:00 0HL81NICBBA18 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.483510008054565571506111634856&state=15061116348560.9865145633000012   (e5be5b71)
2017-09-22T23:20:35.0169503+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:35.0174512+03:00 0HL81NICBBA18 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:35.0174512+03:00 0HL81NICBBA18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:35.0174512+03:00 0HL81NICBBA18 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:35.0179513+03:00 0HL81NICBBA18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:35.0184515+03:00 0HL81NICBBA18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:35.0189520+03:00 0HL81NICBBA18 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116348560.9865145633000012\",
  \"Nonce\": \"N0.483510008054565571506111634856\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.483510008054565571506111634856\",
    \"state\": \"15061116348560.9865145633000012\"
  }
}" (9a175e33)
2017-09-22T23:20:35.0214539+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:35.0319606+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:35.0334618+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:35.0354632+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:35.0369636+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:35.0389657+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:35.0409666+03:00 0HL81NICBBA18 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:35.0569773+03:00 0HL81NICBBA18 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116348560.9865145633000012\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:35.0579779+03:00 0HL81NICBBA18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:35.0584781+03:00 0HL81NICBBA18 [INF] Request finished in 44.658ms 302  (15c52c40)
2017-09-22T23:20:38.8438882+03:00 0HL81NICBBA19 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6411562949525641506111638798&state=15061116387980.9150801027607167   (e5be5b71)
2017-09-22T23:20:38.8478913+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:38.8488920+03:00 0HL81NICBBA19 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:38.8488920+03:00 0HL81NICBBA19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:38.8498926+03:00 0HL81NICBBA19 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:38.8498926+03:00 0HL81NICBBA19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:38.8508929+03:00 0HL81NICBBA19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:38.8508929+03:00 0HL81NICBBA19 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116387980.9150801027607167\",
  \"Nonce\": \"N0.6411562949525641506111638798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6411562949525641506111638798\",
    \"state\": \"15061116387980.9150801027607167\"
  }
}" (9a175e33)
2017-09-22T23:20:38.8538953+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:38.8649030+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:38.8669035+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:38.8689049+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:38.8719068+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:38.8739082+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:38.8759099+03:00 0HL81NICBBA19 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:38.8979245+03:00 0HL81NICBBA19 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116387980.9150801027607167\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:38.8999258+03:00 0HL81NICBBA19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:38.9009265+03:00 0HL81NICBBA19 [INF] Request finished in 56.9395ms 302  (15c52c40)
2017-09-22T23:20:42.7037550+03:00 0HL81NICBBA1A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.19252598038806281506111641806&state=15061116418060.25257730661669675   (e5be5b71)
2017-09-22T23:20:42.7072583+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:42.7077572+03:00 0HL81NICBBA1A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:42.7082578+03:00 0HL81NICBBA1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:42.7082578+03:00 0HL81NICBBA1A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:42.7087579+03:00 0HL81NICBBA1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:42.7092584+03:00 0HL81NICBBA1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:42.7097590+03:00 0HL81NICBBA1A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116418060.25257730661669675\",
  \"Nonce\": \"N0.19252598038806281506111641806\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.19252598038806281506111641806\",
    \"state\": \"15061116418060.25257730661669675\"
  }
}" (9a175e33)
2017-09-22T23:20:42.7127610+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:42.7242684+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:42.7257696+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:42.7277713+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:42.7297719+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:42.7317736+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:42.7332744+03:00 0HL81NICBBA1A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:42.7552890+03:00 0HL81NICBBA1A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116418060.25257730661669675\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:42.7562901+03:00 0HL81NICBBA1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:42.7567902+03:00 0HL81NICBBA1A [INF] Request finished in 53.8487ms 302  (15c52c40)
2017-09-22T23:20:45.8478613+03:00 0HL81NICBBA1B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0420638319952550971506111645799&state=15061116457990.913730246939974   (e5be5b71)
2017-09-22T23:20:45.8518644+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:45.8528630+03:00 0HL81NICBBA1B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:45.8538657+03:00 0HL81NICBBA1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:45.8538657+03:00 0HL81NICBBA1B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:45.8548663+03:00 0HL81NICBBA1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:45.8558670+03:00 0HL81NICBBA1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:45.8558670+03:00 0HL81NICBBA1B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116457990.913730246939974\",
  \"Nonce\": \"N0.0420638319952550971506111645799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0420638319952550971506111645799\",
    \"state\": \"15061116457990.913730246939974\"
  }
}" (9a175e33)
2017-09-22T23:20:45.8598681+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:45.8718622+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:45.8728621+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:45.8748634+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:45.8758633+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:45.8768652+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:45.8778666+03:00 0HL81NICBBA1B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:45.8888739+03:00 0HL81NICBBA1B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116457990.913730246939974\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:45.8898742+03:00 0HL81NICBBA1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:45.8908737+03:00 0HL81NICBBA1B [INF] Request finished in 43.3775ms 302  (15c52c40)
2017-09-22T23:20:49.8211153+03:00 0HL81NICBBA1C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86849915809576171506111649798&state=15061116497980.04152794426484707   (e5be5b71)
2017-09-22T23:20:49.8241173+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:49.8241173+03:00 0HL81NICBBA1C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:49.8251176+03:00 0HL81NICBBA1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:49.8251176+03:00 0HL81NICBBA1C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:49.8251176+03:00 0HL81NICBBA1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:49.8261191+03:00 0HL81NICBBA1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:49.8261191+03:00 0HL81NICBBA1C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116497980.04152794426484707\",
  \"Nonce\": \"N0.86849915809576171506111649798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86849915809576171506111649798\",
    \"state\": \"15061116497980.04152794426484707\"
  }
}" (9a175e33)
2017-09-22T23:20:49.8301209+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:49.8401280+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:49.8411298+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:49.8431296+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:49.8461319+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:49.8481333+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:49.8501350+03:00 0HL81NICBBA1C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:49.8661452+03:00 0HL81NICBBA1C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116497980.04152794426484707\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:49.8661452+03:00 0HL81NICBBA1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:49.8671459+03:00 0HL81NICBBA1C [INF] Request finished in 46.6479ms 302  (15c52c40)
2017-09-22T23:20:53.8487743+03:00 0HL81NICBBA1D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.017287473925156951506111653798&state=15061116537980.775370145914879   (e5be5b71)
2017-09-22T23:20:53.8537784+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:53.8537784+03:00 0HL81NICBBA1D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:53.8547783+03:00 0HL81NICBBA1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:53.8547783+03:00 0HL81NICBBA1D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:53.8557794+03:00 0HL81NICBBA1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:53.8557794+03:00 0HL81NICBBA1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:53.8557794+03:00 0HL81NICBBA1D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116537980.775370145914879\",
  \"Nonce\": \"N0.017287473925156951506111653798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.017287473925156951506111653798\",
    \"state\": \"15061116537980.775370145914879\"
  }
}" (9a175e33)
2017-09-22T23:20:53.8597805+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:53.8707882+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:53.8727891+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:53.8747896+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:53.8767921+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:53.8787935+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:53.8807940+03:00 0HL81NICBBA1D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:53.8928016+03:00 0HL81NICBBA1D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116537980.775370145914879\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:53.8938023+03:00 0HL81NICBBA1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:53.8948037+03:00 0HL81NICBBA1D [INF] Request finished in 47.2345ms 302  (15c52c40)
2017-09-22T23:20:57.8494975+03:00 0HL81NICBBA1E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98603120570324541506111657798&state=15061116577980.893482253725548   (e5be5b71)
2017-09-22T23:20:57.8524987+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:20:57.8534998+03:00 0HL81NICBBA1E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:20:57.8544992+03:00 0HL81NICBBA1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:57.8544992+03:00 0HL81NICBBA1E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:20:57.8544992+03:00 0HL81NICBBA1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:57.8555031+03:00 0HL81NICBBA1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:57.8555031+03:00 0HL81NICBBA1E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116577980.893482253725548\",
  \"Nonce\": \"N0.98603120570324541506111657798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98603120570324541506111657798\",
    \"state\": \"15061116577980.893482253725548\"
  }
}" (9a175e33)
2017-09-22T23:20:57.8595065+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:20:57.8725124+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:57.8735134+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:20:57.8745129+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:20:57.8765150+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:20:57.8775149+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:20:57.8795166+03:00 0HL81NICBBA1E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:20:57.8905251+03:00 0HL81NICBBA1E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116577980.893482253725548\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:20:57.8915238+03:00 0HL81NICBBA1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:20:57.8925257+03:00 0HL81NICBBA1E [INF] Request finished in 44.1602ms 302  (15c52c40)
2017-09-22T23:21:01.8505771+03:00 0HL81NICBBA1F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.241801670850260831506111661799&state=15061116617990.7205832151938472   (e5be5b71)
2017-09-22T23:21:01.8555792+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:01.8565807+03:00 0HL81NICBBA1F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:01.8595819+03:00 0HL81NICBBA1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:01.8595819+03:00 0HL81NICBBA1F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:01.8605822+03:00 0HL81NICBBA1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:01.8605822+03:00 0HL81NICBBA1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:01.8615824+03:00 0HL81NICBBA1F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116617990.7205832151938472\",
  \"Nonce\": \"N0.241801670850260831506111661799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.241801670850260831506111661799\",
    \"state\": \"15061116617990.7205832151938472\"
  }
}" (9a175e33)
2017-09-22T23:21:01.8645844+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:01.8735908+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:01.8755913+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:01.8765928+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:01.8785937+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:01.8805962+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:01.8815969+03:00 0HL81NICBBA1F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:01.8946067+03:00 0HL81NICBBA1F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116617990.7205832151938472\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:01.8956046+03:00 0HL81NICBBA1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:01.8966092+03:00 0HL81NICBBA1F [INF] Request finished in 47.6268ms 302  (15c52c40)
2017-09-22T23:21:05.8483216+03:00 0HL81NICBBA1G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79765606588899481506111665798&state=15061116657980.6274217932251722   (e5be5b71)
2017-09-22T23:21:05.8533229+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:05.8543240+03:00 0HL81NICBBA1G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:05.8543240+03:00 0HL81NICBBA1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:05.8543240+03:00 0HL81NICBBA1G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:05.8553246+03:00 0HL81NICBBA1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:05.8563261+03:00 0HL81NICBBA1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:05.8573264+03:00 0HL81NICBBA1G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116657980.6274217932251722\",
  \"Nonce\": \"N0.79765606588899481506111665798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79765606588899481506111665798\",
    \"state\": \"15061116657980.6274217932251722\"
  }
}" (9a175e33)
2017-09-22T23:21:05.8603264+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:05.8723355+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:05.8743361+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:05.8763378+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:05.8783379+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:05.8803393+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:05.8813415+03:00 0HL81NICBBA1G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:05.8943502+03:00 0HL81NICBBA1G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116657980.6274217932251722\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:05.8943502+03:00 0HL81NICBBA1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:05.8953492+03:00 0HL81NICBBA1G [INF] Request finished in 48.4649ms 302  (15c52c40)
2017-09-22T23:21:09.8435811+03:00 0HL81NICBBA1H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59457543026093011506111669799&state=15061116697990.717238216395657   (e5be5b71)
2017-09-22T23:21:09.8465839+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:09.8465839+03:00 0HL81NICBBA1H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:09.8475862+03:00 0HL81NICBBA1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:09.8475862+03:00 0HL81NICBBA1H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:09.8475862+03:00 0HL81NICBBA1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:09.8485841+03:00 0HL81NICBBA1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:09.8485841+03:00 0HL81NICBBA1H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116697990.717238216395657\",
  \"Nonce\": \"N0.59457543026093011506111669799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59457543026093011506111669799\",
    \"state\": \"15061116697990.717238216395657\"
  }
}" (9a175e33)
2017-09-22T23:21:09.8515865+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:09.8615931+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:09.8625942+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:09.8645951+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:09.8665964+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:09.8675971+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:09.8685977+03:00 0HL81NICBBA1H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:09.8806061+03:00 0HL81NICBBA1H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116697990.717238216395657\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:09.8816064+03:00 0HL81NICBBA1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:09.8816064+03:00 0HL81NICBBA1H [INF] Request finished in 38.9315ms 302  (15c52c40)
2017-09-22T23:21:13.8450883+03:00 0HL81NICBBA1I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59275859087559571506111673798&state=15061116737980.4911405261217796   (e5be5b71)
2017-09-22T23:21:13.8485975+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:13.8495978+03:00 0HL81NICBBA1I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:13.8495978+03:00 0HL81NICBBA1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:13.8495978+03:00 0HL81NICBBA1I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:13.8505980+03:00 0HL81NICBBA1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:13.8515979+03:00 0HL81NICBBA1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:13.8515979+03:00 0HL81NICBBA1I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116737980.4911405261217796\",
  \"Nonce\": \"N0.59275859087559571506111673798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59275859087559571506111673798\",
    \"state\": \"15061116737980.4911405261217796\"
  }
}" (9a175e33)
2017-09-22T23:21:13.8556017+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:13.8636059+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:13.8646057+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:13.8666075+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:13.8676077+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:13.8686104+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:13.8696091+03:00 0HL81NICBBA1I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:13.8806164+03:00 0HL81NICBBA1I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116737980.4911405261217796\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:13.8816707+03:00 0HL81NICBBA1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:13.8816707+03:00 0HL81NICBBA1I [INF] Request finished in 37.9123ms 302  (15c52c40)
2017-09-22T23:21:17.8385908+03:00 0HL81NICBBA1J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40357690890639831506111677799&state=15061116777990.29198582657622096   (e5be5b71)
2017-09-22T23:21:17.8415932+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:17.8425919+03:00 0HL81NICBBA1J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:17.8430925+03:00 0HL81NICBBA1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:17.8430925+03:00 0HL81NICBBA1J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:17.8435934+03:00 0HL81NICBBA1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:17.8440935+03:00 0HL81NICBBA1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:17.8445936+03:00 0HL81NICBBA1J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116777990.29198582657622096\",
  \"Nonce\": \"N0.40357690890639831506111677799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40357690890639831506111677799\",
    \"state\": \"15061116777990.29198582657622096\"
  }
}" (9a175e33)
2017-09-22T23:21:17.8480981+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:17.8566087+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:17.8576082+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:17.8596099+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:17.8606110+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:17.8616120+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:17.8636134+03:00 0HL81NICBBA1J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:17.8736200+03:00 0HL81NICBBA1J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116777990.29198582657622096\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:17.8746187+03:00 0HL81NICBBA1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:17.8756210+03:00 0HL81NICBBA1J [INF] Request finished in 37.3924ms 302  (15c52c40)
2017-09-22T23:21:21.8218898+03:00 0HL81NICBBA1K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67549321625850261506111681797&state=15061116817970.6057684672514871   (e5be5b71)
2017-09-22T23:21:21.8238911+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:21.8238911+03:00 0HL81NICBBA1K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:21.8248918+03:00 0HL81NICBBA1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:21.8248918+03:00 0HL81NICBBA1K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:21.8248918+03:00 0HL81NICBBA1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:21.8258921+03:00 0HL81NICBBA1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:21.8258921+03:00 0HL81NICBBA1K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116817970.6057684672514871\",
  \"Nonce\": \"N0.67549321625850261506111681797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67549321625850261506111681797\",
    \"state\": \"15061116817970.6057684672514871\"
  }
}" (9a175e33)
2017-09-22T23:21:21.8288941+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:21.8368990+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:21.8384033+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:21.8394040+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:21.8409056+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:21.8419055+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:21.8434075+03:00 0HL81NICBBA1K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:21.8559160+03:00 0HL81NICBBA1K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116817970.6057684672514871\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:21.8559160+03:00 0HL81NICBBA1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:21.8569178+03:00 0HL81NICBBA1K [INF] Request finished in 35.5462ms 302  (15c52c40)
2017-09-22T23:21:24.9376819+03:00 0HL81NICBBA1L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61401686640875111506111684806&state=15061116848060.441116756985358   (e5be5b71)
2017-09-22T23:21:24.9406843+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:24.9411844+03:00 0HL81NICBBA1L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:24.9416865+03:00 0HL81NICBBA1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:24.9421855+03:00 0HL81NICBBA1L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:24.9426852+03:00 0HL81NICBBA1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:24.9431853+03:00 0HL81NICBBA1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:24.9431853+03:00 0HL81NICBBA1L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116848060.441116756985358\",
  \"Nonce\": \"N0.61401686640875111506111684806\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61401686640875111506111684806\",
    \"state\": \"15061116848060.441116756985358\"
  }
}" (9a175e33)
2017-09-22T23:21:24.9471884+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:24.9591960+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:24.9606972+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:24.9631990+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:24.9657005+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:24.9677018+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:24.9697027+03:00 0HL81NICBBA1L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:24.9942192+03:00 0HL81NICBBA1L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116848060.441116756985358\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:24.9952203+03:00 0HL81NICBBA1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:24.9967215+03:00 0HL81NICBBA1L [INF] Request finished in 58.6061ms 302  (15c52c40)
2017-09-22T23:21:28.9239521+03:00 0HL81NICBBA1M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80256712152906461506111688811&state=15061116888110.5994903174904258   (e5be5b71)
2017-09-22T23:21:28.9279539+03:00 0HL81NICBBA1M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:28.9279539+03:00 0HL81NICBBA1M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:28.9289550+03:00 0HL81NICBBA1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:28.9289550+03:00 0HL81NICBBA1M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:28.9289550+03:00 0HL81NICBBA1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:28.9299560+03:00 0HL81NICBBA1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:28.9299560+03:00 0HL81NICBBA1M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116888110.5994903174904258\",
  \"Nonce\": \"N0.80256712152906461506111688811\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80256712152906461506111688811\",
    \"state\": \"15061116888110.5994903174904258\"
  }
}" (9a175e33)
2017-09-22T23:21:28.9339622+03:00 0HL81NICBBA1M [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:28.9464704+03:00 0HL81NICBBA1M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:28.9489718+03:00 0HL81NICBBA1M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:28.9524747+03:00 0HL81NICBBA1M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:28.9769912+03:00 0HL81NICBBA1M [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:28.9814944+03:00 0HL81NICBBA1M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:28.9849961+03:00 0HL81NICBBA1M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:29.0100135+03:00 0HL81NICBBA1M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116888110.5994903174904258\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:29.0940689+03:00 0HL81NICBBA1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:29.1090785+03:00 0HL81NICBBA1M [INF] Request finished in 175.4703ms 302  (15c52c40)
2017-09-22T23:21:32.9895021+03:00 0HL81NICBBA1N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.1271839120719661506111692925&state=15061116929250.14605386463181724   (e5be5b71)
2017-09-22T23:21:32.9920035+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:32.9925041+03:00 0HL81NICBBA1N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:32.9930042+03:00 0HL81NICBBA1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:32.9930042+03:00 0HL81NICBBA1N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:32.9935047+03:00 0HL81NICBBA1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:32.9940053+03:00 0HL81NICBBA1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:32.9945054+03:00 0HL81NICBBA1N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116929250.14605386463181724\",
  \"Nonce\": \"N0.1271839120719661506111692925\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.1271839120719661506111692925\",
    \"state\": \"15061116929250.14605386463181724\"
  }
}" (9a175e33)
2017-09-22T23:21:32.9985085+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:33.0090152+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:33.0105160+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:33.0125174+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:33.0145187+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:33.0170205+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:33.0185213+03:00 0HL81NICBBA1N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:33.0405356+03:00 0HL81NICBBA1N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116929250.14605386463181724\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:33.0410361+03:00 0HL81NICBBA1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:33.0420372+03:00 0HL81NICBBA1N [INF] Request finished in 52.8591ms 302  (15c52c40)
2017-09-22T23:21:36.8372665+03:00 0HL81NICBBA1O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.20575261726494711506111696798&state=15061116967980.7399940720320302   (e5be5b71)
2017-09-22T23:21:36.8412692+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:36.8422698+03:00 0HL81NICBBA1O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:36.8422698+03:00 0HL81NICBBA1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:36.8422698+03:00 0HL81NICBBA1O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:36.8432709+03:00 0HL81NICBBA1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:36.8442715+03:00 0HL81NICBBA1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:36.8452734+03:00 0HL81NICBBA1O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116967980.7399940720320302\",
  \"Nonce\": \"N0.20575261726494711506111696798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.20575261726494711506111696798\",
    \"state\": \"15061116967980.7399940720320302\"
  }
}" (9a175e33)
2017-09-22T23:21:36.8522765+03:00 0HL81NICBBA1O [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:36.8672868+03:00 0HL81NICBBA1O [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:36.8692878+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:36.8727942+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:36.8757958+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:36.8787978+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:36.8813009+03:00 0HL81NICBBA1O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:36.9058205+03:00 0HL81NICBBA1O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116967980.7399940720320302\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:36.9068212+03:00 0HL81NICBBA1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:36.9088229+03:00 0HL81NICBBA1O [INF] Request finished in 70.4972ms 302  (15c52c40)
2017-09-22T23:21:40.2593870+03:00 0HL81NICBBA1P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89957179149224851506111699977&state=15061116999770.39528342959243856   (e5be5b71)
2017-09-22T23:21:40.2618884+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:40.2623894+03:00 0HL81NICBBA1P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:40.2628887+03:00 0HL81NICBBA1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:40.2628887+03:00 0HL81NICBBA1P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:40.2633892+03:00 0HL81NICBBA1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:40.2633892+03:00 0HL81NICBBA1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:40.2638906+03:00 0HL81NICBBA1P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061116999770.39528342959243856\",
  \"Nonce\": \"N0.89957179149224851506111699977\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89957179149224851506111699977\",
    \"state\": \"15061116999770.39528342959243856\"
  }
}" (9a175e33)
2017-09-22T23:21:40.2663912+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:40.2738996+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:40.2748998+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:40.2758997+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:40.2779026+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:40.2799024+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:40.2809034+03:00 0HL81NICBBA1P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:40.2919107+03:00 0HL81NICBBA1P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061116999770.39528342959243856\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:40.2929110+03:00 0HL81NICBBA1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:40.2929110+03:00 0HL81NICBBA1P [INF] Request finished in 34.2661ms 302  (15c52c40)
2017-09-22T23:21:43.8395584+03:00 0HL81NICBBA1Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29838395938278131506111703799&state=15061117037990.03408803136866223   (e5be5b71)
2017-09-22T23:21:43.8425607+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:43.8425607+03:00 0HL81NICBBA1Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:43.8425607+03:00 0HL81NICBBA1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:43.8425607+03:00 0HL81NICBBA1Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:43.8435614+03:00 0HL81NICBBA1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:43.8435614+03:00 0HL81NICBBA1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:43.8435614+03:00 0HL81NICBBA1Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117037990.03408803136866223\",
  \"Nonce\": \"N0.29838395938278131506111703799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29838395938278131506111703799\",
    \"state\": \"15061117037990.03408803136866223\"
  }
}" (9a175e33)
2017-09-22T23:21:43.8495650+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:43.8605766+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:43.8625780+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:43.8640788+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:43.8670812+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:43.8695826+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:43.8710838+03:00 0HL81NICBBA1Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:43.8850935+03:00 0HL81NICBBA1Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117037990.03408803136866223\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:43.8860954+03:00 0HL81NICBBA1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:43.8860954+03:00 0HL81NICBBA1Q [INF] Request finished in 48.0595ms 302  (15c52c40)
2017-09-22T23:21:47.8337869+03:00 0HL81NICBBA1R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66741395614679241506111707799&state=15061117077990.6569982787660282   (e5be5b71)
2017-09-22T23:21:47.8367889+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:47.8367889+03:00 0HL81NICBBA1R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:47.8367889+03:00 0HL81NICBBA1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:47.8377895+03:00 0HL81NICBBA1R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:47.8377895+03:00 0HL81NICBBA1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:47.8377895+03:00 0HL81NICBBA1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:47.8387898+03:00 0HL81NICBBA1R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117077990.6569982787660282\",
  \"Nonce\": \"N0.66741395614679241506111707799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66741395614679241506111707799\",
    \"state\": \"15061117077990.6569982787660282\"
  }
}" (9a175e33)
2017-09-22T23:21:47.8407911+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:47.8518000+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:47.8538013+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:47.8548028+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:47.8568021+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:47.8588051+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:47.8608044+03:00 0HL81NICBBA1R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:47.8738198+03:00 0HL81NICBBA1R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117077990.6569982787660282\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:47.8743199+03:00 0HL81NICBBA1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:47.8748200+03:00 0HL81NICBBA1R [INF] Request finished in 41.2648ms 302  (15c52c40)
2017-09-22T23:21:51.8564106+03:00 0HL81NICBBA1S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62677676874679961506111711798&state=15061117117980.06997849238630738   (e5be5b71)
2017-09-22T23:21:51.8594130+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:51.8594130+03:00 0HL81NICBBA1S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:51.8594130+03:00 0HL81NICBBA1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:51.8594130+03:00 0HL81NICBBA1S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:51.8604132+03:00 0HL81NICBBA1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:51.8604132+03:00 0HL81NICBBA1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:51.8614135+03:00 0HL81NICBBA1S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117117980.06997849238630738\",
  \"Nonce\": \"N0.62677676874679961506111711798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62677676874679961506111711798\",
    \"state\": \"15061117117980.06997849238630738\"
  }
}" (9a175e33)
2017-09-22T23:21:51.8634152+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:51.8724220+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:51.8734270+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:51.8754279+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:51.8769299+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:51.8784307+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:51.8799311+03:00 0HL81NICBBA1S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:51.9014495+03:00 0HL81NICBBA1S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117117980.06997849238630738\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:51.9024502+03:00 0HL81NICBBA1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:51.9034509+03:00 0HL81NICBBA1S [INF] Request finished in 46.7643ms 302  (15c52c40)
2017-09-22T23:21:55.8511380+03:00 0HL81NICBBA1T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78536567494115151506111715798&state=15061117157980.5490173943179804   (e5be5b71)
2017-09-22T23:21:55.8551403+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:21:55.8551403+03:00 0HL81NICBBA1T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:21:55.8561414+03:00 0HL81NICBBA1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:55.8561414+03:00 0HL81NICBBA1T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:21:55.8571420+03:00 0HL81NICBBA1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:55.8581427+03:00 0HL81NICBBA1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:55.8581427+03:00 0HL81NICBBA1T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117157980.5490173943179804\",
  \"Nonce\": \"N0.78536567494115151506111715798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78536567494115151506111715798\",
    \"state\": \"15061117157980.5490173943179804\"
  }
}" (9a175e33)
2017-09-22T23:21:55.8611447+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:21:55.8731526+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:55.8756573+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:21:55.8781587+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:21:55.8796603+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:21:55.8816620+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:21:55.8826627+03:00 0HL81NICBBA1T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:21:55.9012143+03:00 0HL81NICBBA1T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117157980.5490173943179804\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:21:55.9022130+03:00 0HL81NICBBA1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:21:55.9032136+03:00 0HL81NICBBA1T [INF] Request finished in 52.0965ms 302  (15c52c40)
2017-09-22T23:22:01.0371452+03:00 0HL81NICBBA1U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50952687895239191506111720574&state=15061117205740.7657566309902701   (e5be5b71)
2017-09-22T23:22:01.0396462+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:01.0401467+03:00 0HL81NICBBA1U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:01.0406473+03:00 0HL81NICBBA1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:01.0406473+03:00 0HL81NICBBA1U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:01.0411478+03:00 0HL81NICBBA1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:01.0416483+03:00 0HL81NICBBA1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:01.0416483+03:00 0HL81NICBBA1U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117205740.7657566309902701\",
  \"Nonce\": \"N0.50952687895239191506111720574\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50952687895239191506111720574\",
    \"state\": \"15061117205740.7657566309902701\"
  }
}" (9a175e33)
2017-09-22T23:22:01.0446503+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:01.0556568+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:01.0576586+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:01.0591594+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:01.0606602+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:01.0626615+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:01.0651630+03:00 0HL81NICBBA1U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:01.0826748+03:00 0HL81NICBBA1U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117205740.7657566309902701\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:01.0831749+03:00 0HL81NICBBA1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:01.0841764+03:00 0HL81NICBBA1U [INF] Request finished in 47.3853ms 302  (15c52c40)
2017-09-22T23:22:05.7808799+03:00 0HL81NICBBA1V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55130008431624681506111724503&state=15061117245030.9882211422562239   (e5be5b71)
2017-09-22T23:22:05.7848798+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:05.7853800+03:00 0HL81NICBBA1V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:05.7858801+03:00 0HL81NICBBA1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:05.7863814+03:00 0HL81NICBBA1V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:05.7868812+03:00 0HL81NICBBA1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:05.7873813+03:00 0HL81NICBBA1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:05.7873813+03:00 0HL81NICBBA1V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117245030.9882211422562239\",
  \"Nonce\": \"N0.55130008431624681506111724503\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55130008431624681506111724503\",
    \"state\": \"15061117245030.9882211422562239\"
  }
}" (9a175e33)
2017-09-22T23:22:05.7923846+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:05.8053933+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:05.8073946+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:05.8093959+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:05.8113972+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:05.8159004+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:05.8184015+03:00 0HL81NICBBA1V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:05.8799426+03:00 0HL81NICBBA1V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117245030.9882211422562239\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:05.8814441+03:00 0HL81NICBBA1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:05.8869472+03:00 0HL81NICBBA1V [INF] Request finished in 102.3539ms 302  (15c52c40)
2017-09-22T23:22:07.8757867+03:00 0HL81NICBBA20 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.058274467603926631506111727797&state=15061117277970.3301761086595405   (e5be5b71)
2017-09-22T23:22:07.8777893+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:07.8787879+03:00 0HL81NICBBA20 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:07.8787879+03:00 0HL81NICBBA20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:07.8787879+03:00 0HL81NICBBA20 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:07.8787879+03:00 0HL81NICBBA20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:07.8797886+03:00 0HL81NICBBA20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:07.8797886+03:00 0HL81NICBBA20 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117277970.3301761086595405\",
  \"Nonce\": \"N0.058274467603926631506111727797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.058274467603926631506111727797\",
    \"state\": \"15061117277970.3301761086595405\"
  }
}" (9a175e33)
2017-09-22T23:22:07.8817915+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:07.8887958+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:07.8907967+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:07.8927980+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:07.8947998+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:07.8957996+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:07.8968015+03:00 0HL81NICBBA20 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:07.9078088+03:00 0HL81NICBBA20 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117277970.3301761086595405\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:07.9088312+03:00 0HL81NICBBA20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:07.9098074+03:00 0HL81NICBBA20 [INF] Request finished in 34.2807ms 302  (15c52c40)
2017-09-22T23:22:11.8672319+03:00 0HL81NICBBA21 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.264025929178753671506111731797&state=15061117317970.9006238109696989   (e5be5b71)
2017-09-22T23:22:11.8702339+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:11.8712342+03:00 0HL81NICBBA21 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:11.8712342+03:00 0HL81NICBBA21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:11.8712342+03:00 0HL81NICBBA21 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:11.8722353+03:00 0HL81NICBBA21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:11.8722353+03:00 0HL81NICBBA21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:11.8732359+03:00 0HL81NICBBA21 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117317970.9006238109696989\",
  \"Nonce\": \"N0.264025929178753671506111731797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.264025929178753671506111731797\",
    \"state\": \"15061117317970.9006238109696989\"
  }
}" (9a175e33)
2017-09-22T23:22:11.8762375+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:11.8882459+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:11.8902472+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:11.8922490+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:11.8952506+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:11.8972515+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:11.8992536+03:00 0HL81NICBBA21 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:11.9162649+03:00 0HL81NICBBA21 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117317970.9006238109696989\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:11.9172644+03:00 0HL81NICBBA21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:11.9182658+03:00 0HL81NICBBA21 [INF] Request finished in 52.4892ms 302  (15c52c40)
2017-09-22T23:22:15.8364975+03:00 0HL81NICBBA22 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52054755220244031506111735797&state=15061117357970.44221891777650857   (e5be5b71)
2017-09-22T23:22:15.8390026+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:15.8390026+03:00 0HL81NICBBA22 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:15.8400032+03:00 0HL81NICBBA22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:15.8400032+03:00 0HL81NICBBA22 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:15.8400032+03:00 0HL81NICBBA22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:15.8410039+03:00 0HL81NICBBA22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:15.8410039+03:00 0HL81NICBBA22 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117357970.44221891777650857\",
  \"Nonce\": \"N0.52054755220244031506111735797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52054755220244031506111735797\",
    \"state\": \"15061117357970.44221891777650857\"
  }
}" (9a175e33)
2017-09-22T23:22:15.8460100+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:15.8580144+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:15.8600161+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:15.8610180+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:15.8640192+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:15.8660213+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:15.8680222+03:00 0HL81NICBBA22 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:15.8870344+03:00 0HL81NICBBA22 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117357970.44221891777650857\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:15.8890358+03:00 0HL81NICBBA22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:15.8920378+03:00 0HL81NICBBA22 [INF] Request finished in 53.5775ms 302  (15c52c40)
2017-09-22T23:22:19.8333037+03:00 0HL81NICBBA23 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87009000084959311506111739797&state=15061117397970.4548355305862912   (e5be5b71)
2017-09-22T23:22:19.8358056+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:19.8363061+03:00 0HL81NICBBA23 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:19.8368062+03:00 0HL81NICBBA23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:19.8368062+03:00 0HL81NICBBA23 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:19.8373072+03:00 0HL81NICBBA23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:19.8378069+03:00 0HL81NICBBA23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:19.8378069+03:00 0HL81NICBBA23 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117397970.4548355305862912\",
  \"Nonce\": \"N0.87009000084959311506111739797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87009000084959311506111739797\",
    \"state\": \"15061117397970.4548355305862912\"
  }
}" (9a175e33)
2017-09-22T23:22:19.8408085+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:19.8528204+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:19.8548217+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:19.8558236+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:19.8578237+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:19.8598258+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:19.8618260+03:00 0HL81NICBBA23 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:19.8788389+03:00 0HL81NICBBA23 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117397970.4548355305862912\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:19.8798391+03:00 0HL81NICBBA23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:19.8808390+03:00 0HL81NICBBA23 [INF] Request finished in 48.0729ms 302  (15c52c40)
2017-09-22T23:22:23.0059536+03:00 0HL81NICBBA24 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95161731608432691506111742913&state=15061117429130.9432014894389331   (e5be5b71)
2017-09-22T23:22:23.0084551+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:23.0089556+03:00 0HL81NICBBA24 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:23.0094562+03:00 0HL81NICBBA24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:23.0094562+03:00 0HL81NICBBA24 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:23.0099563+03:00 0HL81NICBBA24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:23.0104564+03:00 0HL81NICBBA24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:23.0109570+03:00 0HL81NICBBA24 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117429130.9432014894389331\",
  \"Nonce\": \"N0.95161731608432691506111742913\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95161731608432691506111742913\",
    \"state\": \"15061117429130.9432014894389331\"
  }
}" (9a175e33)
2017-09-22T23:22:23.0134584+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:23.0239652+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:23.0259669+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:23.0274677+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:23.0289685+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:23.0314704+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:23.0334717+03:00 0HL81NICBBA24 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:23.0559861+03:00 0HL81NICBBA24 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117429130.9432014894389331\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:23.0564874+03:00 0HL81NICBBA24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:23.0574880+03:00 0HL81NICBBA24 [INF] Request finished in 51.8316ms 302  (15c52c40)
2017-09-22T23:22:26.8282633+03:00 0HL81NICBBA25 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44455081370583761506111746799&state=15061117467990.764739124487575   (e5be5b71)
2017-09-22T23:22:26.8312653+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:26.8312653+03:00 0HL81NICBBA25 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:26.8322659+03:00 0HL81NICBBA25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:26.8322659+03:00 0HL81NICBBA25 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:26.8332666+03:00 0HL81NICBBA25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:26.8332666+03:00 0HL81NICBBA25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:26.8332666+03:00 0HL81NICBBA25 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117467990.764739124487575\",
  \"Nonce\": \"N0.44455081370583761506111746799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44455081370583761506111746799\",
    \"state\": \"15061117467990.764739124487575\"
  }
}" (9a175e33)
2017-09-22T23:22:26.8362686+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:26.8497813+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:26.8512825+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:26.8532834+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:26.8552848+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:26.8582872+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:26.8597915+03:00 0HL81NICBBA25 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:26.8798040+03:00 0HL81NICBBA25 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117467990.764739124487575\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:26.8808047+03:00 0HL81NICBBA25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:26.8818069+03:00 0HL81NICBBA25 [INF] Request finished in 53.4066ms 302  (15c52c40)
2017-09-22T23:22:31.4024350+03:00 0HL81NICBBA26 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99380908568792451506111750800&state=15061117508000.7024536703937632   (e5be5b71)
2017-09-22T23:22:31.4054366+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:31.4059367+03:00 0HL81NICBBA26 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:31.4064377+03:00 0HL81NICBBA26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:31.4064377+03:00 0HL81NICBBA26 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:31.4069378+03:00 0HL81NICBBA26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:31.4074379+03:00 0HL81NICBBA26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:31.4074379+03:00 0HL81NICBBA26 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117508000.7024536703937632\",
  \"Nonce\": \"N0.99380908568792451506111750800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99380908568792451506111750800\",
    \"state\": \"15061117508000.7024536703937632\"
  }
}" (9a175e33)
2017-09-22T23:22:31.4114410+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:31.4229484+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:31.4244492+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:31.4264506+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:31.4289524+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:31.4309537+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:31.4329547+03:00 0HL81NICBBA26 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:31.4534685+03:00 0HL81NICBBA26 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117508000.7024536703937632\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:31.4544692+03:00 0HL81NICBBA26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:31.4554706+03:00 0HL81NICBBA26 [INF] Request finished in 53.2045ms 302  (15c52c40)
2017-09-22T23:22:35.5151655+03:00 0HL81NICBBA27 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69834028802405771506111755189&state=15061117551890.6845471491947557   (e5be5b71)
2017-09-22T23:22:35.5176669+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:35.5181671+03:00 0HL81NICBBA27 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:35.5186676+03:00 0HL81NICBBA27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:35.5186676+03:00 0HL81NICBBA27 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:35.5191677+03:00 0HL81NICBBA27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:35.5196679+03:00 0HL81NICBBA27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:35.5196679+03:00 0HL81NICBBA27 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117551890.6845471491947557\",
  \"Nonce\": \"N0.69834028802405771506111755189\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69834028802405771506111755189\",
    \"state\": \"15061117551890.6845471491947557\"
  }
}" (9a175e33)
2017-09-22T23:22:35.5226695+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:35.5336784+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:35.5351780+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:35.5366792+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:35.5386809+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:35.5401817+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:35.5426831+03:00 0HL81NICBBA27 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:35.5606959+03:00 0HL81NICBBA27 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117551890.6845471491947557\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:35.5611952+03:00 0HL81NICBBA27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:35.5616962+03:00 0HL81NICBBA27 [INF] Request finished in 47.2143ms 302  (15c52c40)
2017-09-22T23:22:39.5978871+03:00 0HL81NICBBA28 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.258199492019264071506111758803&state=15061117588030.38420162098695787   (e5be5b71)
2017-09-22T23:22:39.6008894+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:39.6013892+03:00 0HL81NICBBA28 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:39.6013892+03:00 0HL81NICBBA28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:39.6018901+03:00 0HL81NICBBA28 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:39.6018901+03:00 0HL81NICBBA28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:39.6023902+03:00 0HL81NICBBA28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:39.6028908+03:00 0HL81NICBBA28 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117588030.38420162098695787\",
  \"Nonce\": \"N0.258199492019264071506111758803\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.258199492019264071506111758803\",
    \"state\": \"15061117588030.38420162098695787\"
  }
}" (9a175e33)
2017-09-22T23:22:39.6058928+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:39.6163999+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:39.6179003+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:39.6194015+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:39.6214029+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:39.6229037+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:39.6249050+03:00 0HL81NICBBA28 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:39.6429166+03:00 0HL81NICBBA28 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117588030.38420162098695787\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:39.6434171+03:00 0HL81NICBBA28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:39.6439180+03:00 0HL81NICBBA28 [INF] Request finished in 46.6258ms 302  (15c52c40)
2017-09-22T23:22:42.8381065+03:00 0HL81NICBBA29 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.28219236863851261506111762798&state=15061117627980.9490674825394969   (e5be5b71)
2017-09-22T23:22:42.8411085+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:42.8411085+03:00 0HL81NICBBA29 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:42.8421092+03:00 0HL81NICBBA29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:42.8421092+03:00 0HL81NICBBA29 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:42.8421092+03:00 0HL81NICBBA29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:42.8431098+03:00 0HL81NICBBA29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:42.8431098+03:00 0HL81NICBBA29 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117627980.9490674825394969\",
  \"Nonce\": \"N0.28219236863851261506111762798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.28219236863851261506111762798\",
    \"state\": \"15061117627980.9490674825394969\"
  }
}" (9a175e33)
2017-09-22T23:22:42.8471125+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:42.8601219+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:42.8621224+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:42.8646282+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:42.8666304+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:42.8686309+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:42.8706334+03:00 0HL81NICBBA29 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:42.8876471+03:00 0HL81NICBBA29 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117627980.9490674825394969\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:42.8876471+03:00 0HL81NICBBA29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:42.8886477+03:00 0HL81NICBBA29 [INF] Request finished in 51.2703ms 302  (15c52c40)
2017-09-22T23:22:46.8609718+03:00 0HL81NICBBA2A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.021472080623143431506111766798&state=15061117667980.720845623312093   (e5be5b71)
2017-09-22T23:22:46.8649768+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:46.8659747+03:00 0HL81NICBBA2A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:46.8659747+03:00 0HL81NICBBA2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:46.8659747+03:00 0HL81NICBBA2A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:46.8669758+03:00 0HL81NICBBA2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:46.8669758+03:00 0HL81NICBBA2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:46.8679764+03:00 0HL81NICBBA2A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117667980.720845623312093\",
  \"Nonce\": \"N0.021472080623143431506111766798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.021472080623143431506111766798\",
    \"state\": \"15061117667980.720845623312093\"
  }
}" (9a175e33)
2017-09-22T23:22:46.8709832+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:46.8814899+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:46.8829911+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:46.8854961+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:46.8874975+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:46.8894988+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:46.8904991+03:00 0HL81NICBBA2A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:46.9055094+03:00 0HL81NICBBA2A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117667980.720845623312093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:46.9065105+03:00 0HL81NICBBA2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:46.9075108+03:00 0HL81NICBBA2A [INF] Request finished in 46.9321ms 302  (15c52c40)
2017-09-22T23:22:50.8414488+03:00 0HL81NICBBA2B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67468288155139431506111770798&state=15061117707980.14721958067271568   (e5be5b71)
2017-09-22T23:22:50.8444508+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:50.8454510+03:00 0HL81NICBBA2B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:50.8464517+03:00 0HL81NICBBA2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:50.8464517+03:00 0HL81NICBBA2B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:50.8464517+03:00 0HL81NICBBA2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:50.8474523+03:00 0HL81NICBBA2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:50.8474523+03:00 0HL81NICBBA2B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117707980.14721958067271568\",
  \"Nonce\": \"N0.67468288155139431506111770798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67468288155139431506111770798\",
    \"state\": \"15061117707980.14721958067271568\"
  }
}" (9a175e33)
2017-09-22T23:22:50.8534559+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:50.8724690+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:50.8744703+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:50.8764716+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:50.8779764+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:50.8859817+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:50.8879830+03:00 0HL81NICBBA2B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:50.9069715+03:00 0HL81NICBBA2B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117707980.14721958067271568\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:50.9199798+03:00 0HL81NICBBA2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:50.9209808+03:00 0HL81NICBBA2B [INF] Request finished in 80.1032ms 302  (15c52c40)
2017-09-22T23:22:54.8478593+03:00 0HL81NICBBA2C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.225653978083461221506111774799&state=15061117747990.03479696251336395   (e5be5b71)
2017-09-22T23:22:54.8508621+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:54.8513618+03:00 0HL81NICBBA2C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:54.8518620+03:00 0HL81NICBBA2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:54.8518620+03:00 0HL81NICBBA2C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:54.8523625+03:00 0HL81NICBBA2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:54.8528630+03:00 0HL81NICBBA2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:54.8533632+03:00 0HL81NICBBA2C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117747990.03479696251336395\",
  \"Nonce\": \"N0.225653978083461221506111774799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.225653978083461221506111774799\",
    \"state\": \"15061117747990.03479696251336395\"
  }
}" (9a175e33)
2017-09-22T23:22:54.8568653+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:54.8688729+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:54.8708742+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:54.8728759+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:54.8753774+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:54.8778793+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:54.8793801+03:00 0HL81NICBBA2C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:54.8993937+03:00 0HL81NICBBA2C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117747990.03479696251336395\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:54.8998939+03:00 0HL81NICBBA2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:54.9003944+03:00 0HL81NICBBA2C [INF] Request finished in 53.2854ms 302  (15c52c40)
2017-09-22T23:22:57.8552248+03:00 0HL81NICBBA2D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68092824590810231506111777816&state=15061117778160.3834794474996721   (e5be5b71)
2017-09-22T23:22:57.8572261+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:22:57.8582272+03:00 0HL81NICBBA2D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:22:57.8582272+03:00 0HL81NICBBA2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:57.8582272+03:00 0HL81NICBBA2D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:22:57.8592274+03:00 0HL81NICBBA2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:57.8592274+03:00 0HL81NICBBA2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:57.8602277+03:00 0HL81NICBBA2D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117778160.3834794474996721\",
  \"Nonce\": \"N0.68092824590810231506111777816\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68092824590810231506111777816\",
    \"state\": \"15061117778160.3834794474996721\"
  }
}" (9a175e33)
2017-09-22T23:22:57.8622294+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:22:57.8742405+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:57.8757417+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:22:57.8772425+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:22:57.8787437+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:22:57.8807486+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:22:57.8817501+03:00 0HL81NICBBA2D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:22:57.8997608+03:00 0HL81NICBBA2D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117778160.3834794474996721\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:22:57.8997608+03:00 0HL81NICBBA2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:22:57.9007619+03:00 0HL81NICBBA2D [INF] Request finished in 45.5375ms 302  (15c52c40)
2017-09-22T23:23:02.1054055+03:00 0HL81NICBBA2E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9978609968007431506111781877&state=15061117818770.9677399003934892   (e5be5b71)
2017-09-22T23:23:02.1084075+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:02.1089076+03:00 0HL81NICBBA2E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:02.1089076+03:00 0HL81NICBBA2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:02.1094081+03:00 0HL81NICBBA2E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:02.1094081+03:00 0HL81NICBBA2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:02.1104092+03:00 0HL81NICBBA2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:02.1104092+03:00 0HL81NICBBA2E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117818770.9677399003934892\",
  \"Nonce\": \"N0.9978609968007431506111781877\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9978609968007431506111781877\",
    \"state\": \"15061117818770.9677399003934892\"
  }
}" (9a175e33)
2017-09-22T23:23:02.1134108+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:02.1234174+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:02.1254187+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:02.1269195+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:02.1284207+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:02.1304221+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:02.1329239+03:00 0HL81NICBBA2E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:02.1509359+03:00 0HL81NICBBA2E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117818770.9677399003934892\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:02.1514360+03:00 0HL81NICBBA2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:02.1519362+03:00 0HL81NICBBA2E [INF] Request finished in 46.8756ms 302  (15c52c40)
2017-09-22T23:23:05.9694706+03:00 0HL81NICBBA2F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88889708217940871506111785892&state=15061117858920.2770448814560347   (e5be5b71)
2017-09-22T23:23:05.9724726+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:05.9729728+03:00 0HL81NICBBA2F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:05.9729728+03:00 0HL81NICBBA2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:05.9734733+03:00 0HL81NICBBA2F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:05.9734733+03:00 0HL81NICBBA2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:05.9739734+03:00 0HL81NICBBA2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:05.9744740+03:00 0HL81NICBBA2F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117858920.2770448814560347\",
  \"Nonce\": \"N0.88889708217940871506111785892\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88889708217940871506111785892\",
    \"state\": \"15061117858920.2770448814560347\"
  }
}" (9a175e33)
2017-09-22T23:23:05.9769754+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:05.9884833+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:05.9899845+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:05.9919854+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:05.9934866+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:05.9954879+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:05.9969891+03:00 0HL81NICBBA2F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:06.0130005+03:00 0HL81NICBBA2F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117858920.2770448814560347\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:06.0134999+03:00 0HL81NICBBA2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:06.0140004+03:00 0HL81NICBBA2F [INF] Request finished in 45.0551ms 302  (15c52c40)
2017-09-22T23:23:09.8543934+03:00 0HL81NICBBA2G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75058872741299561506111789798&state=15061117897980.07948951764474277   (e5be5b71)
2017-09-22T23:23:09.8573954+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:09.8578960+03:00 0HL81NICBBA2G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:09.8583965+03:00 0HL81NICBBA2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:09.8588966+03:00 0HL81NICBBA2G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:09.8588966+03:00 0HL81NICBBA2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:09.8598973+03:00 0HL81NICBBA2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:09.8598973+03:00 0HL81NICBBA2G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117897980.07948951764474277\",
  \"Nonce\": \"N0.75058872741299561506111789798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75058872741299561506111789798\",
    \"state\": \"15061117897980.07948951764474277\"
  }
}" (9a175e33)
2017-09-22T23:23:09.8633994+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:09.8759079+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:09.8774083+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:09.8794097+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:09.8814118+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:09.8834127+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:09.8849135+03:00 0HL81NICBBA2G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:09.9059279+03:00 0HL81NICBBA2G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117897980.07948951764474277\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:09.9064284+03:00 0HL81NICBBA2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:09.9074291+03:00 0HL81NICBBA2G [INF] Request finished in 53.3521ms 302  (15c52c40)
2017-09-22T23:23:13.9338257+03:00 0HL81NICBBA2H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97278933479221031506111793810&state=15061117938100.9683625814662014   (e5be5b71)
2017-09-22T23:23:13.9368273+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:13.9378279+03:00 0HL81NICBBA2H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:13.9383285+03:00 0HL81NICBBA2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:13.9383285+03:00 0HL81NICBBA2H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:13.9388286+03:00 0HL81NICBBA2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:13.9393291+03:00 0HL81NICBBA2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:13.9393291+03:00 0HL81NICBBA2H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117938100.9683625814662014\",
  \"Nonce\": \"N0.97278933479221031506111793810\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97278933479221031506111793810\",
    \"state\": \"15061117938100.9683625814662014\"
  }
}" (9a175e33)
2017-09-22T23:23:13.9433318+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:13.9573423+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:13.9603431+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:13.9623448+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:13.9643457+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:13.9663471+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:13.9683484+03:00 0HL81NICBBA2H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:13.9883613+03:00 0HL81NICBBA2H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117938100.9683625814662014\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:13.9893623+03:00 0HL81NICBBA2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:13.9898629+03:00 0HL81NICBBA2H [INF] Request finished in 56.4658ms 302  (15c52c40)
2017-09-22T23:23:18.1636354+03:00 0HL81NICBBA2I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29108265166518721506111797896&state=15061117978960.5821844613200615   (e5be5b71)
2017-09-22T23:23:18.1671380+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:18.1676381+03:00 0HL81NICBBA2I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:18.1681382+03:00 0HL81NICBBA2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:18.1681382+03:00 0HL81NICBBA2I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:18.1696390+03:00 0HL81NICBBA2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:18.1706397+03:00 0HL81NICBBA2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:18.1706397+03:00 0HL81NICBBA2I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061117978960.5821844613200615\",
  \"Nonce\": \"N0.29108265166518721506111797896\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29108265166518721506111797896\",
    \"state\": \"15061117978960.5821844613200615\"
  }
}" (9a175e33)
2017-09-22T23:23:18.1751433+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:18.1871512+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:18.1886520+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:18.1906534+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:18.1926547+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:18.1991592+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:18.2021608+03:00 0HL81NICBBA2I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:18.2231756+03:00 0HL81NICBBA2I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061117978960.5821844613200615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:18.2241758+03:00 0HL81NICBBA2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:18.2331814+03:00 0HL81NICBBA2I [INF] Request finished in 62.5377ms 302  (15c52c40)
2017-09-22T23:23:21.8250706+03:00 0HL81NICBBA2J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14916179849216871506111801798&state=15061118017980.613549236977408   (e5be5b71)
2017-09-22T23:23:21.8270720+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:21.8280718+03:00 0HL81NICBBA2J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:21.8280718+03:00 0HL81NICBBA2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:21.8280718+03:00 0HL81NICBBA2J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:21.8280718+03:00 0HL81NICBBA2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:21.8290721+03:00 0HL81NICBBA2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:21.8290721+03:00 0HL81NICBBA2J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118017980.613549236977408\",
  \"Nonce\": \"N0.14916179849216871506111801798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14916179849216871506111801798\",
    \"state\": \"15061118017980.613549236977408\"
  }
}" (9a175e33)
2017-09-22T23:23:21.8320749+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:21.8440896+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:21.8465898+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:21.8485924+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:21.8500935+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:21.8515932+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:21.8535945+03:00 0HL81NICBBA2J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:21.8666623+03:00 0HL81NICBBA2J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118017980.613549236977408\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:21.8676634+03:00 0HL81NICBBA2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:21.8676634+03:00 0HL81NICBBA2J [INF] Request finished in 43.8883ms 302  (15c52c40)
2017-09-22T23:23:25.8265316+03:00 0HL81NICBBA2K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41646636541172181506111805798&state=15061118057980.5889009164122112   (e5be5b71)
2017-09-22T23:23:25.8285337+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:25.8295335+03:00 0HL81NICBBA2K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:25.8295335+03:00 0HL81NICBBA2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:25.8295335+03:00 0HL81NICBBA2K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:25.8305338+03:00 0HL81NICBBA2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:25.8305338+03:00 0HL81NICBBA2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:25.8305338+03:00 0HL81NICBBA2K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118057980.5889009164122112\",
  \"Nonce\": \"N0.41646636541172181506111805798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.41646636541172181506111805798\",
    \"state\": \"15061118057980.5889009164122112\"
  }
}" (9a175e33)
2017-09-22T23:23:25.8335362+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:25.8445435+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:25.8465583+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:25.8480587+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:25.8495599+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:25.8515600+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:25.8535621+03:00 0HL81NICBBA2K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:25.8695755+03:00 0HL81NICBBA2K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118057980.5889009164122112\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:25.8695755+03:00 0HL81NICBBA2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:25.8705762+03:00 0HL81NICBBA2K [INF] Request finished in 44.5585ms 302  (15c52c40)
2017-09-22T23:23:29.8461588+03:00 0HL81NICBBA2L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.489627217843305431506111809804&state=15061118098040.3574568707743173   (e5be5b71)
2017-09-22T23:23:29.8501611+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:29.8506655+03:00 0HL81NICBBA2L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:29.8511661+03:00 0HL81NICBBA2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:29.8511661+03:00 0HL81NICBBA2L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:29.8516662+03:00 0HL81NICBBA2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:29.8521667+03:00 0HL81NICBBA2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:29.8521667+03:00 0HL81NICBBA2L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118098040.3574568707743173\",
  \"Nonce\": \"N0.489627217843305431506111809804\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.489627217843305431506111809804\",
    \"state\": \"15061118098040.3574568707743173\"
  }
}" (9a175e33)
2017-09-22T23:23:29.8561690+03:00 0HL81NICBBA2L [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:29.8661760+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:29.8681817+03:00 0HL81NICBBA2L [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:29.8701834+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:29.8731854+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:29.8751867+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:29.8771885+03:00 0HL81NICBBA2L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:29.8901947+03:00 0HL81NICBBA2L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118098040.3574568707743173\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:29.8911974+03:00 0HL81NICBBA2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:29.8911974+03:00 0HL81NICBBA2L [INF] Request finished in 45.6093ms 302  (15c52c40)
2017-09-22T23:23:33.8327601+03:00 0HL81NICBBA2M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86772728180385241506111813797&state=15061118137970.16723943298622812   (e5be5b71)
2017-09-22T23:23:33.8357621+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:33.8357621+03:00 0HL81NICBBA2M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:33.8367628+03:00 0HL81NICBBA2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:33.8367628+03:00 0HL81NICBBA2M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:33.8377635+03:00 0HL81NICBBA2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:33.8377635+03:00 0HL81NICBBA2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:33.8377635+03:00 0HL81NICBBA2M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118137970.16723943298622812\",
  \"Nonce\": \"N0.86772728180385241506111813797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86772728180385241506111813797\",
    \"state\": \"15061118137970.16723943298622812\"
  }
}" (9a175e33)
2017-09-22T23:23:33.8407655+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:33.8527738+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:33.8547756+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:33.8567765+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:33.8587774+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:33.8597789+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:33.8617794+03:00 0HL81NICBBA2M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:33.8747877+03:00 0HL81NICBBA2M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118137970.16723943298622812\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:33.8747877+03:00 0HL81NICBBA2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:33.8757887+03:00 0HL81NICBBA2M [INF] Request finished in 43.2038ms 302  (15c52c40)
2017-09-22T23:23:36.8299441+03:00 0HL81NICBBA2N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36375714037972861506111816802&state=15061118168020.5302705389839915   (e5be5b71)
2017-09-22T23:23:36.8329453+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:36.8339467+03:00 0HL81NICBBA2N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:36.8339467+03:00 0HL81NICBBA2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:36.8339467+03:00 0HL81NICBBA2N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:36.8349466+03:00 0HL81NICBBA2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:36.8349466+03:00 0HL81NICBBA2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:36.8349466+03:00 0HL81NICBBA2N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118168020.5302705389839915\",
  \"Nonce\": \"N0.36375714037972861506111816802\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36375714037972861506111816802\",
    \"state\": \"15061118168020.5302705389839915\"
  }
}" (9a175e33)
2017-09-22T23:23:36.8379490+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:36.8499570+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:36.8519583+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:36.8539596+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:36.8559606+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:36.8579619+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:36.8589633+03:00 0HL81NICBBA2N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:36.8739721+03:00 0HL81NICBBA2N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118168020.5302705389839915\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:36.8739721+03:00 0HL81NICBBA2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:36.8749736+03:00 0HL81NICBBA2N [INF] Request finished in 44.8739ms 302  (15c52c40)
2017-09-22T23:23:41.5453330+03:00 0HL81NICBBA2O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.486070358491600631506111820952&state=15061118209520.5784052166496136   (e5be5b71)
2017-09-22T23:23:41.5478349+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:41.5483358+03:00 0HL81NICBBA2O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:41.5488356+03:00 0HL81NICBBA2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:41.5493361+03:00 0HL81NICBBA2O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:41.5498362+03:00 0HL81NICBBA2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:41.5503383+03:00 0HL81NICBBA2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:41.5508381+03:00 0HL81NICBBA2O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118209520.5784052166496136\",
  \"Nonce\": \"N0.486070358491600631506111820952\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.486070358491600631506111820952\",
    \"state\": \"15061118209520.5784052166496136\"
  }
}" (9a175e33)
2017-09-22T23:23:41.5543390+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:41.5643457+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:41.5658465+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:41.5678482+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:41.5693490+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:41.5718508+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:41.5738518+03:00 0HL81NICBBA2O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:41.5923647+03:00 0HL81NICBBA2O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118209520.5784052166496136\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:41.5928648+03:00 0HL81NICBBA2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:41.5933649+03:00 0HL81NICBBA2O [INF] Request finished in 48.4128ms 302  (15c52c40)
2017-09-22T23:23:44.9947849+03:00 0HL81NICBBA2P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27876674409780321506111824856&state=15061118248560.13675000332057485   (e5be5b71)
2017-09-22T23:23:44.9977873+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:44.9982874+03:00 0HL81NICBBA2P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:44.9982874+03:00 0HL81NICBBA2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:44.9987875+03:00 0HL81NICBBA2P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:44.9992877+03:00 0HL81NICBBA2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:44.9997882+03:00 0HL81NICBBA2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:44.9997882+03:00 0HL81NICBBA2P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118248560.13675000332057485\",
  \"Nonce\": \"N0.27876674409780321506111824856\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27876674409780321506111824856\",
    \"state\": \"15061118248560.13675000332057485\"
  }
}" (9a175e33)
2017-09-22T23:23:45.0022897+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:45.0178002+03:00 0HL81NICBBA2P [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:45.0213027+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:45.0238045+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:45.0288075+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:45.0318095+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:45.0343113+03:00 0HL81NICBBA2P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:45.0538245+03:00 0HL81NICBBA2P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118248560.13675000332057485\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:45.0548247+03:00 0HL81NICBBA2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:45.0558258+03:00 0HL81NICBBA2P [INF] Request finished in 60.9947ms 302  (15c52c40)
2017-09-22T23:23:49.2164820+03:00 0HL81NICBBA2Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.207837264872132051506111828824&state=15061118288240.08590554166288622   (e5be5b71)
2017-09-22T23:23:49.2189850+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:49.2199845+03:00 0HL81NICBBA2Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:49.2204846+03:00 0HL81NICBBA2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:49.2214857+03:00 0HL81NICBBA2Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:49.2219862+03:00 0HL81NICBBA2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:49.2229869+03:00 0HL81NICBBA2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:49.2229869+03:00 0HL81NICBBA2Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118288240.08590554166288622\",
  \"Nonce\": \"N0.207837264872132051506111828824\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.207837264872132051506111828824\",
    \"state\": \"15061118288240.08590554166288622\"
  }
}" (9a175e33)
2017-09-22T23:23:49.2324926+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:49.2470024+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:49.2500040+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:49.2525059+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:49.2595113+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:49.2730197+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:49.2765222+03:00 0HL81NICBBA2Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:49.2960346+03:00 0HL81NICBBA2Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118288240.08590554166288622\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:49.3055415+03:00 0HL81NICBBA2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:49.3075428+03:00 0HL81NICBBA2Q [INF] Request finished in 90.6874ms 302  (15c52c40)
2017-09-22T23:23:52.9072052+03:00 0HL81NICBBA2R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92537283268071711506111832852&state=15061118328520.6467180059783004   (e5be5b71)
2017-09-22T23:23:52.9097114+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:52.9102120+03:00 0HL81NICBBA2R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:52.9107121+03:00 0HL81NICBBA2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:52.9107121+03:00 0HL81NICBBA2R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:52.9112126+03:00 0HL81NICBBA2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:52.9117132+03:00 0HL81NICBBA2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:52.9117132+03:00 0HL81NICBBA2R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118328520.6467180059783004\",
  \"Nonce\": \"N0.92537283268071711506111832852\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92537283268071711506111832852\",
    \"state\": \"15061118328520.6467180059783004\"
  }
}" (9a175e33)
2017-09-22T23:23:52.9152165+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:52.9252219+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:52.9262265+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:52.9282271+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:52.9302280+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:52.9312295+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:52.9342307+03:00 0HL81NICBBA2R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:52.9512424+03:00 0HL81NICBBA2R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118328520.6467180059783004\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:52.9522430+03:00 0HL81NICBBA2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:52.9522430+03:00 0HL81NICBBA2R [INF] Request finished in 46.085ms 302  (15c52c40)
2017-09-22T23:23:56.9864460+03:00 0HL81NICBBA2S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65612421224781771506111836810&state=15061118368100.5231820970992578   (e5be5b71)
2017-09-22T23:23:56.9909488+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:23:56.9914493+03:00 0HL81NICBBA2S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:23:56.9919495+03:00 0HL81NICBBA2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:56.9919495+03:00 0HL81NICBBA2S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:23:56.9924500+03:00 0HL81NICBBA2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:56.9929505+03:00 0HL81NICBBA2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:56.9934507+03:00 0HL81NICBBA2S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118368100.5231820970992578\",
  \"Nonce\": \"N0.65612421224781771506111836810\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65612421224781771506111836810\",
    \"state\": \"15061118368100.5231820970992578\"
  }
}" (9a175e33)
2017-09-22T23:23:56.9974533+03:00 0HL81NICBBA2S [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:23:57.0084606+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:57.0109621+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:23:57.0139649+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:23:57.0159658+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:23:57.0339774+03:00 0HL81NICBBA2S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:23:57.0629966+03:00 0HL81NICBBA2S [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:23:57.0890143+03:00 0HL81NICBBA2S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118368100.5231820970992578\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:23:57.0935175+03:00 0HL81NICBBA2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:23:57.0940176+03:00 0HL81NICBBA2S [INF] Request finished in 108.247ms 302  (15c52c40)
2017-09-22T23:24:00.8308840+03:00 0HL81NICBBA2T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75969578638428461506111840799&state=15061118407990.37183301193874696   (e5be5b71)
2017-09-22T23:24:00.8333854+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:00.8338859+03:00 0HL81NICBBA2T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:00.8343861+03:00 0HL81NICBBA2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:00.8348866+03:00 0HL81NICBBA2T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:00.8348866+03:00 0HL81NICBBA2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:00.8358869+03:00 0HL81NICBBA2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:00.8358869+03:00 0HL81NICBBA2T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118407990.37183301193874696\",
  \"Nonce\": \"N0.75969578638428461506111840799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75969578638428461506111840799\",
    \"state\": \"15061118407990.37183301193874696\"
  }
}" (9a175e33)
2017-09-22T23:24:00.8398895+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:00.8509004+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:00.8529017+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:00.8559037+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:00.8579050+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:00.8599064+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:00.8619081+03:00 0HL81NICBBA2T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:00.8799193+03:00 0HL81NICBBA2T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118407990.37183301193874696\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:00.8809203+03:00 0HL81NICBBA2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:00.8819214+03:00 0HL81NICBBA2T [INF] Request finished in 51.3619ms 302  (15c52c40)
2017-09-22T23:24:04.8455955+03:00 0HL81NICBBA2U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2658612273881481506111844798&state=15061118447980.85985696712919   (e5be5b71)
2017-09-22T23:24:04.8486014+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:04.8486014+03:00 0HL81NICBBA2U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:04.8496021+03:00 0HL81NICBBA2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:04.8496021+03:00 0HL81NICBBA2U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:04.8496021+03:00 0HL81NICBBA2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:04.8506028+03:00 0HL81NICBBA2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:04.8506028+03:00 0HL81NICBBA2U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118447980.85985696712919\",
  \"Nonce\": \"N0.2658612273881481506111844798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2658612273881481506111844798\",
    \"state\": \"15061118447980.85985696712919\"
  }
}" (9a175e33)
2017-09-22T23:24:04.8546054+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:04.8696150+03:00 0HL81NICBBA2U [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:04.8736184+03:00 0HL81NICBBA2U [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:04.8766196+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:04.8786222+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:04.8856280+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:04.8886288+03:00 0HL81NICBBA2U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:04.9096420+03:00 0HL81NICBBA2U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118447980.85985696712919\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:04.9116433+03:00 0HL81NICBBA2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:04.9146457+03:00 0HL81NICBBA2U [INF] Request finished in 68.9538ms 302  (15c52c40)
2017-09-22T23:24:08.8274130+03:00 0HL81NICBBA2V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.239862356634352961506111848798&state=15061118487980.8585897315016255   (e5be5b71)
2017-09-22T23:24:08.8304154+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:08.8304154+03:00 0HL81NICBBA2V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:08.8314157+03:00 0HL81NICBBA2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:08.8314157+03:00 0HL81NICBBA2V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:08.8314157+03:00 0HL81NICBBA2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:08.8324167+03:00 0HL81NICBBA2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:08.8324167+03:00 0HL81NICBBA2V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118487980.8585897315016255\",
  \"Nonce\": \"N0.239862356634352961506111848798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.239862356634352961506111848798\",
    \"state\": \"15061118487980.8585897315016255\"
  }
}" (9a175e33)
2017-09-22T23:24:08.8364229+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:08.8489314+03:00 0HL81NICBBA2V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:08.8509367+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:08.8529384+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:08.8549394+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:08.8569411+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:08.8589420+03:00 0HL81NICBBA2V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:08.8759529+03:00 0HL81NICBBA2V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118487980.8585897315016255\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:08.8769540+03:00 0HL81NICBBA2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:08.8769540+03:00 0HL81NICBBA2V [INF] Request finished in 50.4765ms 302  (15c52c40)
2017-09-22T23:24:11.9278564+03:00 0HL81NICBBA30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.093661606798272731506111851816&state=15061118518160.5817808910877129   (e5be5b71)
2017-09-22T23:24:11.9308584+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:11.9318587+03:00 0HL81NICBBA30 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:11.9318587+03:00 0HL81NICBBA30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:11.9318587+03:00 0HL81NICBBA30 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:11.9328593+03:00 0HL81NICBBA30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:11.9328593+03:00 0HL81NICBBA30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:11.9338600+03:00 0HL81NICBBA30 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118518160.5817808910877129\",
  \"Nonce\": \"N0.093661606798272731506111851816\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.093661606798272731506111851816\",
    \"state\": \"15061118518160.5817808910877129\"
  }
}" (9a175e33)
2017-09-22T23:24:11.9378627+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:11.9518759+03:00 0HL81NICBBA30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:11.9588810+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:11.9613824+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:11.9633834+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:11.9658852+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:11.9673860+03:00 0HL81NICBBA30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:11.9889005+03:00 0HL81NICBBA30 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118518160.5817808910877129\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:11.9899012+03:00 0HL81NICBBA30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:11.9904013+03:00 0HL81NICBBA30 [INF] Request finished in 62.5484ms 302  (15c52c40)
2017-09-22T23:24:15.8265821+03:00 0HL81NICBBA31 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87889476078076111506111855798&state=15061118557980.7984980936842712   (e5be5b71)
2017-09-22T23:24:15.8295841+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:15.8295841+03:00 0HL81NICBBA31 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:15.8305832+03:00 0HL81NICBBA31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:15.8305832+03:00 0HL81NICBBA31 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:15.8315842+03:00 0HL81NICBBA31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:15.8315842+03:00 0HL81NICBBA31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:15.8315842+03:00 0HL81NICBBA31 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118557980.7984980936842712\",
  \"Nonce\": \"N0.87889476078076111506111855798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87889476078076111506111855798\",
    \"state\": \"15061118557980.7984980936842712\"
  }
}" (9a175e33)
2017-09-22T23:24:15.8355865+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:15.8465954+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:15.8475972+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:15.8495958+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:15.8505968+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:15.8536012+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:15.8545995+03:00 0HL81NICBBA31 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:15.8696138+03:00 0HL81NICBBA31 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118557980.7984980936842712\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:15.8701132+03:00 0HL81NICBBA31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:15.8711146+03:00 0HL81NICBBA31 [INF] Request finished in 44.6458ms 302  (15c52c40)
2017-09-22T23:24:19.8235998+03:00 0HL81NICBBA32 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96121192164698541506111859798&state=15061118597980.8702628933911112   (e5be5b71)
2017-09-22T23:24:19.8256015+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:19.8266014+03:00 0HL81NICBBA32 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:19.8266014+03:00 0HL81NICBBA32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:19.8266014+03:00 0HL81NICBBA32 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:19.8276037+03:00 0HL81NICBBA32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:19.8276037+03:00 0HL81NICBBA32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:19.8276037+03:00 0HL81NICBBA32 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118597980.8702628933911112\",
  \"Nonce\": \"N0.96121192164698541506111859798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96121192164698541506111859798\",
    \"state\": \"15061118597980.8702628933911112\"
  }
}" (9a175e33)
2017-09-22T23:24:19.8326054+03:00 0HL81NICBBA32 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:19.8436135+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:19.8456176+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:19.8476177+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:19.8486156+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:19.8506182+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:19.8526199+03:00 0HL81NICBBA32 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:19.8636272+03:00 0HL81NICBBA32 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118597980.8702628933911112\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:19.8646263+03:00 0HL81NICBBA32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:19.8646263+03:00 0HL81NICBBA32 [INF] Request finished in 41.9517ms 302  (15c52c40)
2017-09-22T23:24:22.8647467+03:00 0HL81NICBBA33 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14085540726130041506111862803&state=15061118628030.42221143066164535   (e5be5b71)
2017-09-22T23:24:22.8667492+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:22.8677487+03:00 0HL81NICBBA33 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:22.8677487+03:00 0HL81NICBBA33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:22.8677487+03:00 0HL81NICBBA33 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:22.8677487+03:00 0HL81NICBBA33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:22.8687493+03:00 0HL81NICBBA33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:22.8687493+03:00 0HL81NICBBA33 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118628030.42221143066164535\",
  \"Nonce\": \"N0.14085540726130041506111862803\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14085540726130041506111862803\",
    \"state\": \"15061118628030.42221143066164535\"
  }
}" (9a175e33)
2017-09-22T23:24:22.8717525+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:22.8842646+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:22.8862655+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:22.8877671+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:22.8907722+03:00 0HL81NICBBA33 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:22.8957748+03:00 0HL81NICBBA33 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:22.8977765+03:00 0HL81NICBBA33 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:22.9177898+03:00 0HL81NICBBA33 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118628030.42221143066164535\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:22.9207922+03:00 0HL81NICBBA33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:22.9267961+03:00 0HL81NICBBA33 [INF] Request finished in 60.6821ms 302  (15c52c40)
2017-09-22T23:24:26.8454629+03:00 0HL81NICBBA34 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53400419628754771506111866798&state=15061118667980.5248218460002068   (e5be5b71)
2017-09-22T23:24:26.8484656+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:26.8489662+03:00 0HL81NICBBA34 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:26.8499684+03:00 0HL81NICBBA34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:26.8499684+03:00 0HL81NICBBA34 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:26.8504666+03:00 0HL81NICBBA34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:26.8514676+03:00 0HL81NICBBA34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:26.8514676+03:00 0HL81NICBBA34 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118667980.5248218460002068\",
  \"Nonce\": \"N0.53400419628754771506111866798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53400419628754771506111866798\",
    \"state\": \"15061118667980.5248218460002068\"
  }
}" (9a175e33)
2017-09-22T23:24:26.8579749+03:00 0HL81NICBBA34 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:26.8699825+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:26.8719842+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:26.8749858+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:26.8769875+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:26.8789893+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:26.8799903+03:00 0HL81NICBBA34 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:26.8980035+03:00 0HL81NICBBA34 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118667980.5248218460002068\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:26.8980035+03:00 0HL81NICBBA34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:26.8990025+03:00 0HL81NICBBA34 [INF] Request finished in 54.2999ms 302  (15c52c40)
2017-09-22T23:24:30.0445923+03:00 0HL81NICBBA35 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78849414927534591506111869955&state=15061118699550.1154953985709164   (e5be5b71)
2017-09-22T23:24:30.0470942+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:30.0480948+03:00 0HL81NICBBA35 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:30.0480948+03:00 0HL81NICBBA35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:30.0485950+03:00 0HL81NICBBA35 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:30.0490951+03:00 0HL81NICBBA35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:30.0495956+03:00 0HL81NICBBA35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:30.0495956+03:00 0HL81NICBBA35 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118699550.1154953985709164\",
  \"Nonce\": \"N0.78849414927534591506111869955\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78849414927534591506111869955\",
    \"state\": \"15061118699550.1154953985709164\"
  }
}" (9a175e33)
2017-09-22T23:24:30.0535979+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:30.0661064+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:30.0681081+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:30.0696089+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:30.0731110+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:30.0756125+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:30.0776138+03:00 0HL81NICBBA35 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:30.0986274+03:00 0HL81NICBBA35 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118699550.1154953985709164\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:30.0991283+03:00 0HL81NICBBA35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:30.1006291+03:00 0HL81NICBBA35 [INF] Request finished in 55.6187ms 302  (15c52c40)
2017-09-22T23:24:33.8274762+03:00 0HL81NICBBA36 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58513137472663491506111873798&state=15061118737980.3961791299500914   (e5be5b71)
2017-09-22T23:24:33.8304793+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:33.8314796+03:00 0HL81NICBBA36 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:33.8314796+03:00 0HL81NICBBA36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:33.8314796+03:00 0HL81NICBBA36 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:33.8324803+03:00 0HL81NICBBA36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:33.8324803+03:00 0HL81NICBBA36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:33.8334798+03:00 0HL81NICBBA36 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118737980.3961791299500914\",
  \"Nonce\": \"N0.58513137472663491506111873798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58513137472663491506111873798\",
    \"state\": \"15061118737980.3961791299500914\"
  }
}" (9a175e33)
2017-09-22T23:24:33.8364825+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:33.8474891+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:33.8504911+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:33.8524920+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:33.8534934+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:33.8564946+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:33.8574965+03:00 0HL81NICBBA36 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:33.8785132+03:00 0HL81NICBBA36 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118737980.3961791299500914\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:33.8790141+03:00 0HL81NICBBA36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:33.8800144+03:00 0HL81NICBBA36 [INF] Request finished in 52.2753ms 302  (15c52c40)
2017-09-22T23:24:38.2625125+03:00 0HL81NICBBA37 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.373088799299573061506111877978&state=15061118779780.4549668498233792   (e5be5b71)
2017-09-22T23:24:38.2655141+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:38.2660150+03:00 0HL81NICBBA37 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:38.2665148+03:00 0HL81NICBBA37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:38.2670157+03:00 0HL81NICBBA37 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:38.2675158+03:00 0HL81NICBBA37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:38.2680160+03:00 0HL81NICBBA37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:38.2680160+03:00 0HL81NICBBA37 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118779780.4549668498233792\",
  \"Nonce\": \"N0.373088799299573061506111877978\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.373088799299573061506111877978\",
    \"state\": \"15061118779780.4549668498233792\"
  }
}" (9a175e33)
2017-09-22T23:24:38.2720190+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:38.2840270+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:38.2860279+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:38.2880297+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:38.2900330+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:38.2920319+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:38.2945338+03:00 0HL81NICBBA37 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:38.3180496+03:00 0HL81NICBBA37 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118779780.4549668498233792\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:38.3190499+03:00 0HL81NICBBA37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:38.3205511+03:00 0HL81NICBBA37 [INF] Request finished in 57.4985ms 302  (15c52c40)
2017-09-22T23:24:41.8261301+03:00 0HL81NICBBA38 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.459642723146557851506111881798&state=15061118817980.8899252559547113   (e5be5b71)
2017-09-22T23:24:41.8291325+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:41.8291325+03:00 0HL81NICBBA38 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:41.8301343+03:00 0HL81NICBBA38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:41.8301343+03:00 0HL81NICBBA38 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:41.8301343+03:00 0HL81NICBBA38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:41.8311338+03:00 0HL81NICBBA38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:41.8311338+03:00 0HL81NICBBA38 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118817980.8899252559547113\",
  \"Nonce\": \"N0.459642723146557851506111881798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.459642723146557851506111881798\",
    \"state\": \"15061118817980.8899252559547113\"
  }
}" (9a175e33)
2017-09-22T23:24:41.8351361+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:41.8461442+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:41.8481443+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:41.8501472+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:41.8511475+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:41.8531496+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:41.8551498+03:00 0HL81NICBBA38 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:41.8681616+03:00 0HL81NICBBA38 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118817980.8899252559547113\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:41.8686617+03:00 0HL81NICBBA38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:41.8696631+03:00 0HL81NICBBA38 [INF] Request finished in 43.7122ms 302  (15c52c40)
2017-09-22T23:24:45.8287046+03:00 0HL81NICBBA39 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72342386547467651506111885799&state=15061118857990.9185240326689792   (e5be5b71)
2017-09-22T23:24:45.8317074+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:45.8317074+03:00 0HL81NICBBA39 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:45.8327069+03:00 0HL81NICBBA39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:45.8327069+03:00 0HL81NICBBA39 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:45.8327069+03:00 0HL81NICBBA39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:45.8337079+03:00 0HL81NICBBA39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:45.8337079+03:00 0HL81NICBBA39 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118857990.9185240326689792\",
  \"Nonce\": \"N0.72342386547467651506111885799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72342386547467651506111885799\",
    \"state\": \"15061118857990.9185240326689792\"
  }
}" (9a175e33)
2017-09-22T23:24:45.8367099+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:45.8477176+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:45.8497189+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:45.8517199+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:45.8537212+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:45.8567236+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:45.8587241+03:00 0HL81NICBBA39 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:45.8792427+03:00 0HL81NICBBA39 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118857990.9185240326689792\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:45.8802433+03:00 0HL81NICBBA39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:45.8807439+03:00 0HL81NICBBA39 [INF] Request finished in 51.6303ms 302  (15c52c40)
2017-09-22T23:24:49.8484739+03:00 0HL81NICBBA3A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61858813677086991506111889801&state=15061118898010.1709999995413385   (e5be5b71)
2017-09-22T23:24:49.8514751+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:49.8514751+03:00 0HL81NICBBA3A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:49.8524762+03:00 0HL81NICBBA3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:49.8524762+03:00 0HL81NICBBA3A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:49.8534773+03:00 0HL81NICBBA3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:49.8534773+03:00 0HL81NICBBA3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:49.8534773+03:00 0HL81NICBBA3A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118898010.1709999995413385\",
  \"Nonce\": \"N0.61858813677086991506111889801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61858813677086991506111889801\",
    \"state\": \"15061118898010.1709999995413385\"
  }
}" (9a175e33)
2017-09-22T23:24:49.8564789+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:49.8644838+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:49.8664855+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:49.8684868+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:49.8694871+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:49.8714884+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:49.8724899+03:00 0HL81NICBBA3A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:49.8875034+03:00 0HL81NICBBA3A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118898010.1709999995413385\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:49.8880039+03:00 0HL81NICBBA3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:49.8885045+03:00 0HL81NICBBA3A [INF] Request finished in 39.9874ms 302  (15c52c40)
2017-09-22T23:24:53.8257287+03:00 0HL81NICBBA3B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.455984879903109431506111893798&state=15061118937980.8912393575388666   (e5be5b71)
2017-09-22T23:24:53.8277300+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:53.8287306+03:00 0HL81NICBBA3B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:53.8297337+03:00 0HL81NICBBA3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:53.8297337+03:00 0HL81NICBBA3B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:53.8297337+03:00 0HL81NICBBA3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:53.8307316+03:00 0HL81NICBBA3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:53.8307316+03:00 0HL81NICBBA3B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118937980.8912393575388666\",
  \"Nonce\": \"N0.455984879903109431506111893798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.455984879903109431506111893798\",
    \"state\": \"15061118937980.8912393575388666\"
  }
}" (9a175e33)
2017-09-22T23:24:53.8337340+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:53.8457415+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:53.8477433+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:53.8497446+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:53.8507453+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:53.8527482+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:53.8547479+03:00 0HL81NICBBA3B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:53.8687568+03:00 0HL81NICBBA3B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118937980.8912393575388666\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:53.8697575+03:00 0HL81NICBBA3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:53.8707589+03:00 0HL81NICBBA3B [INF] Request finished in 44.8412ms 302  (15c52c40)
2017-09-22T23:24:57.8377445+03:00 0HL81NICBBA3C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7665971796903651506111897797&state=15061118977970.2355193073350068   (e5be5b71)
2017-09-22T23:24:57.8407461+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:24:57.8417472+03:00 0HL81NICBBA3C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:24:57.8427474+03:00 0HL81NICBBA3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:57.8427474+03:00 0HL81NICBBA3C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:24:57.8427474+03:00 0HL81NICBBA3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:57.8437481+03:00 0HL81NICBBA3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:57.8437481+03:00 0HL81NICBBA3C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061118977970.2355193073350068\",
  \"Nonce\": \"N0.7665971796903651506111897797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7665971796903651506111897797\",
    \"state\": \"15061118977970.2355193073350068\"
  }
}" (9a175e33)
2017-09-22T23:24:57.8477508+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:24:57.8597595+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:57.8607606+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:24:57.8627607+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:24:57.8647621+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:24:57.8667642+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:24:57.8687655+03:00 0HL81NICBBA3C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:24:57.8817730+03:00 0HL81NICBBA3C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061118977970.2355193073350068\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:24:57.8827744+03:00 0HL81NICBBA3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:24:57.8827744+03:00 0HL81NICBBA3C [INF] Request finished in 45.5742ms 302  (15c52c40)
2017-09-22T23:25:01.8291510+03:00 0HL81NICBBA3D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.253925289824071141506111901798&state=15061119017980.7639025145801761   (e5be5b71)
2017-09-22T23:25:01.8321530+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:01.8326536+03:00 0HL81NICBBA3D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:01.8331537+03:00 0HL81NICBBA3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:01.8336542+03:00 0HL81NICBBA3D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:01.8336542+03:00 0HL81NICBBA3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:01.8346608+03:00 0HL81NICBBA3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:01.8346608+03:00 0HL81NICBBA3D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119017980.7639025145801761\",
  \"Nonce\": \"N0.253925289824071141506111901798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.253925289824071141506111901798\",
    \"state\": \"15061119017980.7639025145801761\"
  }
}" (9a175e33)
2017-09-22T23:25:01.8366594+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:01.8506683+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:01.8526700+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:01.8546713+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:01.8566731+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:01.8596743+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:01.8616772+03:00 0HL81NICBBA3D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:01.8746842+03:00 0HL81NICBBA3D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119017980.7639025145801761\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:01.8746842+03:00 0HL81NICBBA3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:01.8756853+03:00 0HL81NICBBA3D [INF] Request finished in 47.4334ms 302  (15c52c40)
2017-09-22T23:25:04.8450527+03:00 0HL81NICBBA3E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.12984983543849961506111904805&state=15061119048050.11241593869035427   (e5be5b71)
2017-09-22T23:25:04.8480543+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:04.8490546+03:00 0HL81NICBBA3E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:04.8490546+03:00 0HL81NICBBA3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:04.8490546+03:00 0HL81NICBBA3E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:04.8500557+03:00 0HL81NICBBA3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:04.8500557+03:00 0HL81NICBBA3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:04.8500557+03:00 0HL81NICBBA3E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119048050.11241593869035427\",
  \"Nonce\": \"N0.12984983543849961506111904805\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.12984983543849961506111904805\",
    \"state\": \"15061119048050.11241593869035427\"
  }
}" (9a175e33)
2017-09-22T23:25:04.8610626+03:00 0HL81NICBBA3E [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:04.8770740+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:04.8790749+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:04.8810759+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:04.8830776+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:04.8860800+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:04.8880809+03:00 0HL81NICBBA3E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:04.9120968+03:00 0HL81NICBBA3E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119048050.11241593869035427\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:04.9130975+03:00 0HL81NICBBA3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:04.9150988+03:00 0HL81NICBBA3E [INF] Request finished in 69.1133ms 302  (15c52c40)
2017-09-22T23:25:08.5174400+03:00 0HL81NICBBA3F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.300681940353336951506111907877&state=15061119078770.1722776879747936   (e5be5b71)
2017-09-22T23:25:08.5204416+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:08.5209421+03:00 0HL81NICBBA3F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:08.5214422+03:00 0HL81NICBBA3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:08.5214422+03:00 0HL81NICBBA3F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:08.5219424+03:00 0HL81NICBBA3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:08.5224429+03:00 0HL81NICBBA3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:08.5224429+03:00 0HL81NICBBA3F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119078770.1722776879747936\",
  \"Nonce\": \"N0.300681940353336951506111907877\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.300681940353336951506111907877\",
    \"state\": \"15061119078770.1722776879747936\"
  }
}" (9a175e33)
2017-09-22T23:25:08.5254453+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:08.5354515+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:08.5369527+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:08.5389540+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:08.5404548+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:08.5424562+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:08.5444575+03:00 0HL81NICBBA3F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:08.5629692+03:00 0HL81NICBBA3F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119078770.1722776879747936\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:08.5634701+03:00 0HL81NICBBA3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:08.5644708+03:00 0HL81NICBBA3F [INF] Request finished in 46.9025ms 302  (15c52c40)
2017-09-22T23:25:12.5701302+03:00 0HL81NICBBA3G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.4132908945250041506111912038&state=15061119120380.6259709131076905   (e5be5b71)
2017-09-22T23:25:12.5731326+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:12.5736331+03:00 0HL81NICBBA3G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:12.5741328+03:00 0HL81NICBBA3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:12.5741328+03:00 0HL81NICBBA3G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:12.5746337+03:00 0HL81NICBBA3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:12.5751335+03:00 0HL81NICBBA3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:12.5756348+03:00 0HL81NICBBA3G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119120380.6259709131076905\",
  \"Nonce\": \"N0.4132908945250041506111912038\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.4132908945250041506111912038\",
    \"state\": \"15061119120380.6259709131076905\"
  }
}" (9a175e33)
2017-09-22T23:25:12.5791361+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:12.5891428+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:12.5906436+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:12.5926449+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:12.5941461+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:12.5956469+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:12.5976486+03:00 0HL81NICBBA3G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:12.6141598+03:00 0HL81NICBBA3G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119120380.6259709131076905\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:12.6146599+03:00 0HL81NICBBA3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:12.6156614+03:00 0HL81NICBBA3G [INF] Request finished in 45.7368ms 302  (15c52c40)
2017-09-22T23:25:15.8402784+03:00 0HL81NICBBA3H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64571494400131631506111915798&state=15061119157980.3580654723394896   (e5be5b71)
2017-09-22T23:25:15.8432803+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:15.8442806+03:00 0HL81NICBBA3H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:15.8442806+03:00 0HL81NICBBA3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:15.8452817+03:00 0HL81NICBBA3H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:15.8452817+03:00 0HL81NICBBA3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:15.8462819+03:00 0HL81NICBBA3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:15.8462819+03:00 0HL81NICBBA3H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119157980.3580654723394896\",
  \"Nonce\": \"N0.64571494400131631506111915798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64571494400131631506111915798\",
    \"state\": \"15061119157980.3580654723394896\"
  }
}" (9a175e33)
2017-09-22T23:25:15.8502846+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:15.8627967+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:15.8642975+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:15.8662996+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:15.8678000+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:15.8698017+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:15.8713033+03:00 0HL81NICBBA3H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:15.8888171+03:00 0HL81NICBBA3H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119157980.3580654723394896\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:15.8888171+03:00 0HL81NICBBA3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:15.8898181+03:00 0HL81NICBBA3H [INF] Request finished in 49.6368ms 302  (15c52c40)
2017-09-22T23:25:19.8371895+03:00 0HL81NICBBA3I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.013630660789580641506111919798&state=15061119197980.9988144238032219   (e5be5b71)
2017-09-22T23:25:19.8401911+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:19.8401911+03:00 0HL81NICBBA3I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:19.8411914+03:00 0HL81NICBBA3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:19.8411914+03:00 0HL81NICBBA3I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:19.8411914+03:00 0HL81NICBBA3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:19.8421921+03:00 0HL81NICBBA3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:19.8421921+03:00 0HL81NICBBA3I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119197980.9988144238032219\",
  \"Nonce\": \"N0.013630660789580641506111919798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.013630660789580641506111919798\",
    \"state\": \"15061119197980.9988144238032219\"
  }
}" (9a175e33)
2017-09-22T23:25:19.8451944+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:19.8582035+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:19.8612051+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:19.8632064+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:19.8652117+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:19.8692139+03:00 0HL81NICBBA3I [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:19.8717158+03:00 0HL81NICBBA3I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:19.9012387+03:00 0HL81NICBBA3I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119197980.9988144238032219\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:19.9022390+03:00 0HL81NICBBA3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:19.9022390+03:00 0HL81NICBBA3I [INF] Request finished in 65.7035ms 302  (15c52c40)
2017-09-22T23:25:23.8262659+03:00 0HL81NICBBA3J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.192405797590857081506111923798&state=15061119237980.48756925107765214   (e5be5b71)
2017-09-22T23:25:23.8292679+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:23.8292679+03:00 0HL81NICBBA3J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:23.8302674+03:00 0HL81NICBBA3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:23.8302674+03:00 0HL81NICBBA3J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:23.8302674+03:00 0HL81NICBBA3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:23.8312680+03:00 0HL81NICBBA3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:23.8312680+03:00 0HL81NICBBA3J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119237980.48756925107765214\",
  \"Nonce\": \"N0.192405797590857081506111923798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.192405797590857081506111923798\",
    \"state\": \"15061119237980.48756925107765214\"
  }
}" (9a175e33)
2017-09-22T23:25:23.8352703+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:23.8452773+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:23.8472798+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:23.8492796+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:23.8502818+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:23.8532823+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:23.8542833+03:00 0HL81NICBBA3J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:23.8702939+03:00 0HL81NICBBA3J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119237980.48756925107765214\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:23.8702939+03:00 0HL81NICBBA3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:23.8717991+03:00 0HL81NICBBA3J [INF] Request finished in 45.817ms 302  (15c52c40)
2017-09-22T23:25:27.8272160+03:00 0HL81NICBBA3K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78710418958652851506111927798&state=15061119277980.20932065484721996   (e5be5b71)
2017-09-22T23:25:27.8302172+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:27.8302172+03:00 0HL81NICBBA3K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:27.8312175+03:00 0HL81NICBBA3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:27.8312175+03:00 0HL81NICBBA3K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:27.8312175+03:00 0HL81NICBBA3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:27.8322186+03:00 0HL81NICBBA3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:27.8322186+03:00 0HL81NICBBA3K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119277980.20932065484721996\",
  \"Nonce\": \"N0.78710418958652851506111927798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78710418958652851506111927798\",
    \"state\": \"15061119277980.20932065484721996\"
  }
}" (9a175e33)
2017-09-22T23:25:27.8352206+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:27.8432267+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:27.8462314+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:27.8472285+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:27.8492299+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:27.8512312+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:27.8522315+03:00 0HL81NICBBA3K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:27.8652405+03:00 0HL81NICBBA3K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119277980.20932065484721996\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:27.8662408+03:00 0HL81NICBBA3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:27.8662408+03:00 0HL81NICBBA3K [INF] Request finished in 39.8963ms 302  (15c52c40)
2017-09-22T23:25:30.8575644+03:00 0HL81NICBBA3L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58415112171242091506111930812&state=15061119308120.9406544497352309   (e5be5b71)
2017-09-22T23:25:30.8615670+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:30.8625673+03:00 0HL81NICBBA3L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:30.8635684+03:00 0HL81NICBBA3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:30.8635684+03:00 0HL81NICBBA3L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:30.8635684+03:00 0HL81NICBBA3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:30.8645694+03:00 0HL81NICBBA3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:30.8655717+03:00 0HL81NICBBA3L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119308120.9406544497352309\",
  \"Nonce\": \"N0.58415112171242091506111930812\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58415112171242091506111930812\",
    \"state\": \"15061119308120.9406544497352309\"
  }
}" (9a175e33)
2017-09-22T23:25:30.8725740+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:30.8870877+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:30.8890891+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:30.8905899+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:30.8925916+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:30.8965974+03:00 0HL81NICBBA3L [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:30.8995998+03:00 0HL81NICBBA3L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:30.9236153+03:00 0HL81NICBBA3L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119308120.9406544497352309\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:30.9246160+03:00 0HL81NICBBA3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:30.9276184+03:00 0HL81NICBBA3L [INF] Request finished in 69.8207ms 302  (15c52c40)
2017-09-22T23:25:34.0549605+03:00 0HL81NICBBA3M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88137991342663761506111933871&state=15061119338710.10192323482335452   (e5be5b71)
2017-09-22T23:25:34.0574655+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:34.0574655+03:00 0HL81NICBBA3M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:34.0584654+03:00 0HL81NICBBA3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:34.0584654+03:00 0HL81NICBBA3M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:34.0584654+03:00 0HL81NICBBA3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:34.0594661+03:00 0HL81NICBBA3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:34.0594661+03:00 0HL81NICBBA3M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119338710.10192323482335452\",
  \"Nonce\": \"N0.88137991342663761506111933871\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88137991342663761506111933871\",
    \"state\": \"15061119338710.10192323482335452\"
  }
}" (9a175e33)
2017-09-22T23:25:34.0624681+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:34.0714748+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:34.0734758+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:34.0754771+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:34.0764778+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:34.0784791+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:34.0794798+03:00 0HL81NICBBA3M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:34.0984924+03:00 0HL81NICBBA3M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119338710.10192323482335452\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:34.0984924+03:00 0HL81NICBBA3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:34.0994934+03:00 0HL81NICBBA3M [INF] Request finished in 45.2023ms 302  (15c52c40)
2017-09-22T23:25:38.1887113+03:00 0HL81NICBBA3N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.119098827802189171506111938029&state=15061119380290.1542164215607722   (e5be5b71)
2017-09-22T23:25:38.1912123+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:38.1917129+03:00 0HL81NICBBA3N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:38.1922134+03:00 0HL81NICBBA3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:38.1922134+03:00 0HL81NICBBA3N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:38.1927143+03:00 0HL81NICBBA3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:38.1932141+03:00 0HL81NICBBA3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:38.1932141+03:00 0HL81NICBBA3N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119380290.1542164215607722\",
  \"Nonce\": \"N0.119098827802189171506111938029\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.119098827802189171506111938029\",
    \"state\": \"15061119380290.1542164215607722\"
  }
}" (9a175e33)
2017-09-22T23:25:38.1957155+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:38.2052216+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:38.2067224+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:38.2082240+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:38.2097248+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:38.2117261+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:38.2132269+03:00 0HL81NICBBA3N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:38.2297381+03:00 0HL81NICBBA3N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119380290.1542164215607722\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:38.2302382+03:00 0HL81NICBBA3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:38.2307388+03:00 0HL81NICBBA3N [INF] Request finished in 42.6089ms 302  (15c52c40)
2017-09-22T23:25:42.2149981+03:00 0HL81NICBBA3O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61055689377035741506111941858&state=15061119418580.1789175530110494   (e5be5b71)
2017-09-22T23:25:42.2179997+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:42.2185003+03:00 0HL81NICBBA3O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:42.2190008+03:00 0HL81NICBBA3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:42.2190008+03:00 0HL81NICBBA3O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:42.2195009+03:00 0HL81NICBBA3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:42.2200011+03:00 0HL81NICBBA3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:42.2200011+03:00 0HL81NICBBA3O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119418580.1789175530110494\",
  \"Nonce\": \"N0.61055689377035741506111941858\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61055689377035741506111941858\",
    \"state\": \"15061119418580.1789175530110494\"
  }
}" (9a175e33)
2017-09-22T23:25:42.2230035+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:42.2330097+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:42.2345109+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:42.2370128+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:42.2400155+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:42.2430163+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:42.2450181+03:00 0HL81NICBBA3O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:42.2650318+03:00 0HL81NICBBA3O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119418580.1789175530110494\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:42.2670335+03:00 0HL81NICBBA3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:42.2675336+03:00 0HL81NICBBA3O [INF] Request finished in 53.0292ms 302  (15c52c40)
2017-09-22T23:25:45.8316932+03:00 0HL81NICBBA3P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5674813960506751506111945798&state=15061119457980.7503142680475179   (e5be5b71)
2017-09-22T23:25:45.8346952+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:45.8351953+03:00 0HL81NICBBA3P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:45.8356958+03:00 0HL81NICBBA3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:45.8356958+03:00 0HL81NICBBA3P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:45.8361964+03:00 0HL81NICBBA3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:45.8366965+03:00 0HL81NICBBA3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:45.8366965+03:00 0HL81NICBBA3P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119457980.7503142680475179\",
  \"Nonce\": \"N0.5674813960506751506111945798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5674813960506751506111945798\",
    \"state\": \"15061119457980.7503142680475179\"
  }
}" (9a175e33)
2017-09-22T23:25:45.8406999+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:45.8532124+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:45.8562144+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:45.8582157+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:45.8602166+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:45.8632194+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:45.8642205+03:00 0HL81NICBBA3P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:45.8832319+03:00 0HL81NICBBA3P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119457980.7503142680475179\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:45.8842342+03:00 0HL81NICBBA3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:45.8852332+03:00 0HL81NICBBA3P [INF] Request finished in 53.8341ms 302  (15c52c40)
2017-09-22T23:25:48.8351910+03:00 0HL81NICBBA3Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72719198207569251506111948800&state=15061119488000.6339693263040336   (e5be5b71)
2017-09-22T23:25:48.8381933+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:48.8386935+03:00 0HL81NICBBA3Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:48.8391936+03:00 0HL81NICBBA3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:48.8396945+03:00 0HL81NICBBA3Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:48.8401943+03:00 0HL81NICBBA3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:48.8406948+03:00 0HL81NICBBA3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:48.8406948+03:00 0HL81NICBBA3Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119488000.6339693263040336\",
  \"Nonce\": \"N0.72719198207569251506111948800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72719198207569251506111948800\",
    \"state\": \"15061119488000.6339693263040336\"
  }
}" (9a175e33)
2017-09-22T23:25:48.8446979+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:48.8602084+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:48.8627094+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:48.8662119+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:48.8687134+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:48.8742173+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:48.8797211+03:00 0HL81NICBBA3Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:48.9022359+03:00 0HL81NICBBA3Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119488000.6339693263040336\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:48.9037367+03:00 0HL81NICBBA3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:48.9047373+03:00 0HL81NICBBA3Q [INF] Request finished in 69.4642ms 302  (15c52c40)
2017-09-22T23:25:53.1406498+03:00 0HL81NICBBA3R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36539528395654131506111952812&state=15061119528120.04606356519239818   (e5be5b71)
2017-09-22T23:25:53.1436518+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:53.1441519+03:00 0HL81NICBBA3R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:53.1446524+03:00 0HL81NICBBA3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:53.1451526+03:00 0HL81NICBBA3R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:53.1456527+03:00 0HL81NICBBA3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:53.1461532+03:00 0HL81NICBBA3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:53.1461532+03:00 0HL81NICBBA3R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119528120.04606356519239818\",
  \"Nonce\": \"N0.36539528395654131506111952812\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36539528395654131506111952812\",
    \"state\": \"15061119528120.04606356519239818\"
  }
}" (9a175e33)
2017-09-22T23:25:53.1501563+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:53.1611632+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:53.1631645+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:53.1646657+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:53.1671672+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:53.1691685+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:53.1706697+03:00 0HL81NICBBA3R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:53.1901825+03:00 0HL81NICBBA3R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119528120.04606356519239818\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:53.1906830+03:00 0HL81NICBBA3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:53.1911827+03:00 0HL81NICBBA3R [INF] Request finished in 51.1704ms 302  (15c52c40)
2017-09-22T23:25:56.3132555+03:00 0HL81NICBBA3S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.478799468822094451506111956058&state=15061119560580.39125193145821724   (e5be5b71)
2017-09-22T23:25:56.3157573+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:25:56.3162579+03:00 0HL81NICBBA3S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:25:56.3167580+03:00 0HL81NICBBA3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:56.3167580+03:00 0HL81NICBBA3S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:25:56.3172581+03:00 0HL81NICBBA3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:56.3177583+03:00 0HL81NICBBA3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:56.3182592+03:00 0HL81NICBBA3S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119560580.39125193145821724\",
  \"Nonce\": \"N0.478799468822094451506111956058\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.478799468822094451506111956058\",
    \"state\": \"15061119560580.39125193145821724\"
  }
}" (9a175e33)
2017-09-22T23:25:56.3207603+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:25:56.3317680+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:56.3332688+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:25:56.3347700+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:25:56.3362708+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:25:56.3382721+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:25:56.3402734+03:00 0HL81NICBBA3S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:25:56.3577852+03:00 0HL81NICBBA3S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119560580.39125193145821724\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:25:56.3582858+03:00 0HL81NICBBA3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:25:56.3587859+03:00 0HL81NICBBA3S [INF] Request finished in 45.8245ms 302  (15c52c40)
2017-09-22T23:26:00.2489438+03:00 0HL81NICBBA3T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50817664503884541506111960136&state=15061119601360.6634407621631995   (e5be5b71)
2017-09-22T23:26:00.2519457+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:00.2524459+03:00 0HL81NICBBA3T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:00.2529464+03:00 0HL81NICBBA3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:00.2529464+03:00 0HL81NICBBA3T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:00.2534469+03:00 0HL81NICBBA3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:00.2539467+03:00 0HL81NICBBA3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:00.2539467+03:00 0HL81NICBBA3T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119601360.6634407621631995\",
  \"Nonce\": \"N0.50817664503884541506111960136\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50817664503884541506111960136\",
    \"state\": \"15061119601360.6634407621631995\"
  }
}" (9a175e33)
2017-09-22T23:26:00.2584503+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:00.2749610+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:00.2779630+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:00.2814651+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:00.2859679+03:00 0HL81NICBBA3T [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:00.2889699+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:00.3189907+03:00 0HL81NICBBA3T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:00.3425061+03:00 0HL81NICBBA3T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119601360.6634407621631995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:00.3435067+03:00 0HL81NICBBA3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:00.3440073+03:00 0HL81NICBBA3T [INF] Request finished in 95.4357ms 302  (15c52c40)
2017-09-22T23:26:03.8386828+03:00 0HL81NICBBA3U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97039905965917071506111963802&state=15061119638020.8170343041312889   (e5be5b71)
2017-09-22T23:26:03.8416848+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:03.8421853+03:00 0HL81NICBBA3U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:03.8426859+03:00 0HL81NICBBA3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:03.8426859+03:00 0HL81NICBBA3U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:03.8431856+03:00 0HL81NICBBA3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:03.8436861+03:00 0HL81NICBBA3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:03.8436861+03:00 0HL81NICBBA3U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119638020.8170343041312889\",
  \"Nonce\": \"N0.97039905965917071506111963802\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97039905965917071506111963802\",
    \"state\": \"15061119638020.8170343041312889\"
  }
}" (9a175e33)
2017-09-22T23:26:03.8476888+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:03.8627035+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:03.8637046+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:03.8657059+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:03.8677068+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:03.8707088+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:03.8717095+03:00 0HL81NICBBA3U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:03.8917228+03:00 0HL81NICBBA3U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119638020.8170343041312889\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:03.8917228+03:00 0HL81NICBBA3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:03.8927234+03:00 0HL81NICBBA3U [INF] Request finished in 54.7053ms 302  (15c52c40)
2017-09-22T23:26:07.0650623+03:00 0HL81NICBBA3V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.421012109120900261506111966814&state=15061119668140.24536578134782605   (e5be5b71)
2017-09-22T23:26:07.0670636+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:07.0675638+03:00 0HL81NICBBA3V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:07.0680647+03:00 0HL81NICBBA3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:07.0680647+03:00 0HL81NICBBA3V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:07.0685644+03:00 0HL81NICBBA3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:07.0690650+03:00 0HL81NICBBA3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:07.0690650+03:00 0HL81NICBBA3V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119668140.24536578134782605\",
  \"Nonce\": \"N0.421012109120900261506111966814\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.421012109120900261506111966814\",
    \"state\": \"15061119668140.24536578134782605\"
  }
}" (9a175e33)
2017-09-22T23:26:07.0720670+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:07.0810725+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:07.0825737+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:07.0840745+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:07.0855757+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:07.0875771+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:07.0890779+03:00 0HL81NICBBA3V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:07.1060891+03:00 0HL81NICBBA3V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119668140.24536578134782605\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:07.1065897+03:00 0HL81NICBBA3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:07.1070898+03:00 0HL81NICBBA3V [INF] Request finished in 42.6196ms 302  (15c52c40)
2017-09-22T23:26:11.3594313+03:00 0HL81NICBBA40 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55516764117706271506111970877&state=15061119708770.2509589120957245   (e5be5b71)
2017-09-22T23:26:11.3624333+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:11.3629338+03:00 0HL81NICBBA40 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:11.3634336+03:00 0HL81NICBBA40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:11.3634336+03:00 0HL81NICBBA40 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:11.3639337+03:00 0HL81NICBBA40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:11.3644342+03:00 0HL81NICBBA40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:11.3644342+03:00 0HL81NICBBA40 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119708770.2509589120957245\",
  \"Nonce\": \"N0.55516764117706271506111970877\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55516764117706271506111970877\",
    \"state\": \"15061119708770.2509589120957245\"
  }
}" (9a175e33)
2017-09-22T23:26:11.3684365+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:11.3789445+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:11.3809454+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:11.3829463+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:11.3844475+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:11.3864488+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:11.3879500+03:00 0HL81NICBBA40 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:11.4069627+03:00 0HL81NICBBA40 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119708770.2509589120957245\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:11.4074628+03:00 0HL81NICBBA40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:11.4084639+03:00 0HL81NICBBA40 [INF] Request finished in 49.3834ms 302  (15c52c40)
2017-09-22T23:26:14.8352715+03:00 0HL81NICBBA41 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57610215184875151506111974800&state=15061119748000.45168162723114236   (e5be5b71)
2017-09-22T23:26:14.8382762+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:14.8382762+03:00 0HL81NICBBA41 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:14.8392773+03:00 0HL81NICBBA41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:14.8392773+03:00 0HL81NICBBA41 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:14.8392773+03:00 0HL81NICBBA41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:14.8402780+03:00 0HL81NICBBA41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:14.8402780+03:00 0HL81NICBBA41 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119748000.45168162723114236\",
  \"Nonce\": \"N0.57610215184875151506111974800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57610215184875151506111974800\",
    \"state\": \"15061119748000.45168162723114236\"
  }
}" (9a175e33)
2017-09-22T23:26:14.8442806+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:14.8562886+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:14.8592906+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:14.8622926+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:14.8642939+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:14.8662960+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:14.8682966+03:00 0HL81NICBBA41 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:14.8903116+03:00 0HL81NICBBA41 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119748000.45168162723114236\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:14.8903116+03:00 0HL81NICBBA41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:14.8913118+03:00 0HL81NICBBA41 [INF] Request finished in 56.7958ms 302  (15c52c40)
2017-09-22T23:26:18.8232943+03:00 0HL81NICBBA42 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61603131837579331506111978800&state=15061119788000.13914394696673482   (e5be5b71)
2017-09-22T23:26:18.8262959+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:18.8272966+03:00 0HL81NICBBA42 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:18.8272966+03:00 0HL81NICBBA42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:18.8272966+03:00 0HL81NICBBA42 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:18.8282968+03:00 0HL81NICBBA42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:18.8282968+03:00 0HL81NICBBA42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:18.8292983+03:00 0HL81NICBBA42 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119788000.13914394696673482\",
  \"Nonce\": \"N0.61603131837579331506111978800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61603131837579331506111978800\",
    \"state\": \"15061119788000.13914394696673482\"
  }
}" (9a175e33)
2017-09-22T23:26:18.8333041+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:18.8423097+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:18.8438113+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:18.8458169+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:18.8478187+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:18.8498204+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:18.8518221+03:00 0HL81NICBBA42 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:18.8638293+03:00 0HL81NICBBA42 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119788000.13914394696673482\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:18.8648292+03:00 0HL81NICBBA42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:18.8648292+03:00 0HL81NICBBA42 [INF] Request finished in 42.183ms 302  (15c52c40)
2017-09-22T23:26:22.8255980+03:00 0HL81NICBBA43 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.175046273230271781506111982800&state=15061119828000.8485697729386579   (e5be5b71)
2017-09-22T23:26:22.8275981+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:22.8285992+03:00 0HL81NICBBA43 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:22.8295999+03:00 0HL81NICBBA43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:22.8295999+03:00 0HL81NICBBA43 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:22.8295999+03:00 0HL81NICBBA43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:22.8306001+03:00 0HL81NICBBA43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:22.8306001+03:00 0HL81NICBBA43 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119828000.8485697729386579\",
  \"Nonce\": \"N0.175046273230271781506111982800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.175046273230271781506111982800\",
    \"state\": \"15061119828000.8485697729386579\"
  }
}" (9a175e33)
2017-09-22T23:26:22.8346087+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:22.8451151+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:22.8476177+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:22.8496305+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:22.8506300+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:22.8526321+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:22.8546338+03:00 0HL81NICBBA43 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:22.8696422+03:00 0HL81NICBBA43 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119828000.8485697729386579\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:22.8706433+03:00 0HL81NICBBA43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:22.8716440+03:00 0HL81NICBBA43 [INF] Request finished in 46.1687ms 302  (15c52c40)
2017-09-22T23:26:26.8268635+03:00 0HL81NICBBA44 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.202490987498958891506111986799&state=15061119867990.23064099147208883   (e5be5b71)
2017-09-22T23:26:26.8298651+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:26.8308658+03:00 0HL81NICBBA44 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:26.8308658+03:00 0HL81NICBBA44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:26.8308658+03:00 0HL81NICBBA44 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:26.8318665+03:00 0HL81NICBBA44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:26.8318665+03:00 0HL81NICBBA44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:26.8318665+03:00 0HL81NICBBA44 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119867990.23064099147208883\",
  \"Nonce\": \"N0.202490987498958891506111986799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.202490987498958891506111986799\",
    \"state\": \"15061119867990.23064099147208883\"
  }
}" (9a175e33)
2017-09-22T23:26:26.8358687+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:26.8473809+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:26.8493814+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:26.8513828+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:26.8523838+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:26.8544621+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:26.8564635+03:00 0HL81NICBBA44 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:26.8744738+03:00 0HL81NICBBA44 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119867990.23064099147208883\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:26.8754745+03:00 0HL81NICBBA44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:26.8754745+03:00 0HL81NICBBA44 [INF] Request finished in 49.5843ms 302  (15c52c40)
2017-09-22T23:26:30.8441196+03:00 0HL81NICBBA45 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7873148603916581506111990800&state=15061119908000.6127474362261025   (e5be5b71)
2017-09-22T23:26:30.8471220+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:30.8476229+03:00 0HL81NICBBA45 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:30.8481222+03:00 0HL81NICBBA45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:30.8481222+03:00 0HL81NICBBA45 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:30.8486224+03:00 0HL81NICBBA45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:30.8491221+03:00 0HL81NICBBA45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:30.8491221+03:00 0HL81NICBBA45 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119908000.6127474362261025\",
  \"Nonce\": \"N0.7873148603916581506111990800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7873148603916581506111990800\",
    \"state\": \"15061119908000.6127474362261025\"
  }
}" (9a175e33)
2017-09-22T23:26:30.8521249+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:30.8591311+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:30.8611340+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:30.8631342+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:30.8651367+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:30.8661377+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:30.8681375+03:00 0HL81NICBBA45 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:30.8851492+03:00 0HL81NICBBA45 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119908000.6127474362261025\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:30.8861498+03:00 0HL81NICBBA45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:30.8871501+03:00 0HL81NICBBA45 [INF] Request finished in 43.1679ms 302  (15c52c40)
2017-09-22T23:26:34.8261767+03:00 0HL81NICBBA46 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.271045396603531331506111994800&state=15061119948000.9373214504565679   (e5be5b71)
2017-09-22T23:26:34.8291783+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:34.8291783+03:00 0HL81NICBBA46 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:34.8291783+03:00 0HL81NICBBA46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:34.8301789+03:00 0HL81NICBBA46 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:34.8301789+03:00 0HL81NICBBA46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:34.8311792+03:00 0HL81NICBBA46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:34.8311792+03:00 0HL81NICBBA46 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119948000.9373214504565679\",
  \"Nonce\": \"N0.271045396603531331506111994800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.271045396603531331506111994800\",
    \"state\": \"15061119948000.9373214504565679\"
  }
}" (9a175e33)
2017-09-22T23:26:34.8351819+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:34.8486958+03:00 0HL81NICBBA46 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:34.8501962+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:34.8526980+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:34.8546998+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:34.8567003+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:34.8587020+03:00 0HL81NICBBA46 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:34.8772177+03:00 0HL81NICBBA46 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119948000.9373214504565679\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:34.8782195+03:00 0HL81NICBBA46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:34.8782195+03:00 0HL81NICBBA46 [INF] Request finished in 53.0265ms 302  (15c52c40)
2017-09-22T23:26:39.0571130+03:00 0HL81NICBBA47 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80072127244429071506111998821&state=15061119988210.9628965903621265   (e5be5b71)
2017-09-22T23:26:39.0611161+03:00 0HL81NICBBA47 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:39.0616170+03:00 0HL81NICBBA47 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:39.0621168+03:00 0HL81NICBBA47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:39.0621168+03:00 0HL81NICBBA47 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:39.0626177+03:00 0HL81NICBBA47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:39.0666203+03:00 0HL81NICBBA47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:39.0666203+03:00 0HL81NICBBA47 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061119988210.9628965903621265\",
  \"Nonce\": \"N0.80072127244429071506111998821\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80072127244429071506111998821\",
    \"state\": \"15061119988210.9628965903621265\"
  }
}" (9a175e33)
2017-09-22T23:26:39.1041443+03:00 0HL81NICBBA47 [INF] Executed DbCommand (34ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:39.1301615+03:00 0HL81NICBBA47 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:39.1346663+03:00 0HL81NICBBA47 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:39.1366672+03:00 0HL81NICBBA47 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:39.1386674+03:00 0HL81NICBBA47 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:39.1411692+03:00 0HL81NICBBA47 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:39.1861987+03:00 0HL81NICBBA47 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:39.2147202+03:00 0HL81NICBBA47 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061119988210.9628965903621265\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:39.2162195+03:00 0HL81NICBBA47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:39.2407355+03:00 0HL81NICBBA47 [INF] Request finished in 179.767ms 302  (15c52c40)
2017-09-22T23:26:44.8260539+03:00 0HL81NICBBA48 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.103248470590044051506112003439&state=15061120034390.2582910212528786   (e5be5b71)
2017-09-22T23:26:44.8290559+03:00 0HL81NICBBA48 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:44.8315578+03:00 0HL81NICBBA48 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:44.8325576+03:00 0HL81NICBBA48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:44.8325576+03:00 0HL81NICBBA48 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:44.8345594+03:00 0HL81NICBBA48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:44.8355600+03:00 0HL81NICBBA48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:44.8355600+03:00 0HL81NICBBA48 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120034390.2582910212528786\",
  \"Nonce\": \"N0.103248470590044051506112003439\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.103248470590044051506112003439\",
    \"state\": \"15061120034390.2582910212528786\"
  }
}" (9a175e33)
2017-09-22T23:26:44.8410635+03:00 0HL81NICBBA48 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:44.9271206+03:00 0HL81NICBBA48 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:44.9976681+03:00 0HL81NICBBA48 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:45.0016703+03:00 0HL81NICBBA48 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:45.0401961+03:00 0HL81NICBBA48 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:45.0827237+03:00 0HL81NICBBA48 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:45.0877275+03:00 0HL81NICBBA48 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:45.1177470+03:00 0HL81NICBBA48 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120034390.2582910212528786\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:45.1207494+03:00 0HL81NICBBA48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:45.1217500+03:00 0HL81NICBBA48 [INF] Request finished in 296.3588ms 302  (15c52c40)
2017-09-22T23:26:46.8572790+03:00 0HL81NICBBA49 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29765550335882951506112006800&state=15061120068000.5285177720437242   (e5be5b71)
2017-09-22T23:26:46.8592811+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:46.8602810+03:00 0HL81NICBBA49 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:46.8602810+03:00 0HL81NICBBA49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:46.8602810+03:00 0HL81NICBBA49 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:46.8612816+03:00 0HL81NICBBA49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:46.8612816+03:00 0HL81NICBBA49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:46.8612816+03:00 0HL81NICBBA49 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120068000.5285177720437242\",
  \"Nonce\": \"N0.29765550335882951506112006800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29765550335882951506112006800\",
    \"state\": \"15061120068000.5285177720437242\"
  }
}" (9a175e33)
2017-09-22T23:26:46.8662846+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:46.8782973+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:46.8797981+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:46.8817994+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:46.8843009+03:00 0HL81NICBBA49 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:46.8873029+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:46.8898047+03:00 0HL81NICBBA49 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:46.9108222+03:00 0HL81NICBBA49 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120068000.5285177720437242\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:46.9128240+03:00 0HL81NICBBA49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:46.9148253+03:00 0HL81NICBBA49 [INF] Request finished in 57.4894ms 302  (15c52c40)
2017-09-22T23:26:50.8328403+03:00 0HL81NICBBA4A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67188746790061131506112010801&state=15061120108010.06367407027920935   (e5be5b71)
2017-09-22T23:26:50.8358423+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:50.8358423+03:00 0HL81NICBBA4A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:50.8368433+03:00 0HL81NICBBA4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:50.8368433+03:00 0HL81NICBBA4A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:50.8368433+03:00 0HL81NICBBA4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:50.8378436+03:00 0HL81NICBBA4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:50.8378436+03:00 0HL81NICBBA4A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120108010.06367407027920935\",
  \"Nonce\": \"N0.67188746790061131506112010801\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67188746790061131506112010801\",
    \"state\": \"15061120108010.06367407027920935\"
  }
}" (9a175e33)
2017-09-22T23:26:50.8438519+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:50.8578652+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:50.8598681+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:50.8618674+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:50.8648694+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:50.8678714+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:50.8698732+03:00 0HL81NICBBA4A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:50.8888858+03:00 0HL81NICBBA4A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120108010.06367407027920935\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:50.8898856+03:00 0HL81NICBBA4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:50.8898856+03:00 0HL81NICBBA4A [INF] Request finished in 58.7534ms 302  (15c52c40)
2017-09-22T23:26:54.8505471+03:00 0HL81NICBBA4B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.18526973817734471506112014800&state=15061120148000.3219557037223335   (e5be5b71)
2017-09-22T23:26:54.8555532+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:54.8565503+03:00 0HL81NICBBA4B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:54.8580515+03:00 0HL81NICBBA4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:54.8585516+03:00 0HL81NICBBA4B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:54.8595527+03:00 0HL81NICBBA4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:54.8610531+03:00 0HL81NICBBA4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:54.8615548+03:00 0HL81NICBBA4B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120148000.3219557037223335\",
  \"Nonce\": \"N0.18526973817734471506112014800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.18526973817734471506112014800\",
    \"state\": \"15061120148000.3219557037223335\"
  }
}" (9a175e33)
2017-09-22T23:26:54.8690667+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:54.8840755+03:00 0HL81NICBBA4B [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:54.8860764+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:54.8880801+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:54.8900799+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:54.8920824+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:54.8940825+03:00 0HL81NICBBA4B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:54.9110950+03:00 0HL81NICBBA4B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120148000.3219557037223335\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:54.9120953+03:00 0HL81NICBBA4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:54.9130951+03:00 0HL81NICBBA4B [INF] Request finished in 64.9026ms 302  (15c52c40)
2017-09-22T23:26:58.8484925+03:00 0HL81NICBBA4C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0431604654867852041506112018802&state=15061120188020.9509795864893431   (e5be5b71)
2017-09-22T23:26:58.8540050+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:26:58.8550100+03:00 0HL81NICBBA4C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:26:58.8565120+03:00 0HL81NICBBA4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:58.8570118+03:00 0HL81NICBBA4C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:26:58.8580132+03:00 0HL81NICBBA4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:58.8590119+03:00 0HL81NICBBA4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:58.8595093+03:00 0HL81NICBBA4C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120188020.9509795864893431\",
  \"Nonce\": \"N0.0431604654867852041506112018802\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0431604654867852041506112018802\",
    \"state\": \"15061120188020.9509795864893431\"
  }
}" (9a175e33)
2017-09-22T23:26:58.8630110+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:26:58.8730244+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:58.8750225+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:26:58.8770239+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:26:58.8780261+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:26:58.8800262+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:26:58.8820292+03:00 0HL81NICBBA4C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:26:58.8940351+03:00 0HL81NICBBA4C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120188020.9509795864893431\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:26:58.8962488+03:00 0HL81NICBBA4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:26:58.8962488+03:00 0HL81NICBBA4C [INF] Request finished in 49.6112ms 302  (15c52c40)
2017-09-22T23:27:02.8217473+03:00 0HL81NICBBA4D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.692276397797441506112022800&state=15061120228000.9497605780246643   (e5be5b71)
2017-09-22T23:27:02.8242492+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:02.8247497+03:00 0HL81NICBBA4D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:02.8252494+03:00 0HL81NICBBA4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:02.8252494+03:00 0HL81NICBBA4D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:02.8257500+03:00 0HL81NICBBA4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:02.8262505+03:00 0HL81NICBBA4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:02.8262505+03:00 0HL81NICBBA4D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120228000.9497605780246643\",
  \"Nonce\": \"N0.692276397797441506112022800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.692276397797441506112022800\",
    \"state\": \"15061120228000.9497605780246643\"
  }
}" (9a175e33)
2017-09-22T23:27:02.8287524+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:02.8392623+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:02.8412636+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:02.8422643+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:02.8442652+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:02.8462669+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:02.8472676+03:00 0HL81NICBBA4D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:02.8622772+03:00 0HL81NICBBA4D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120228000.9497605780246643\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:02.8622772+03:00 0HL81NICBBA4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:02.8632782+03:00 0HL81NICBBA4D [INF] Request finished in 41.669ms 302  (15c52c40)
2017-09-22T23:27:06.8238817+03:00 0HL81NICBBA4E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39965839898938741506112026800&state=15061120268000.4011757169814396   (e5be5b71)
2017-09-22T23:27:06.8268848+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:06.8273838+03:00 0HL81NICBBA4E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:06.8278843+03:00 0HL81NICBBA4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:06.8278843+03:00 0HL81NICBBA4E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:06.8283853+03:00 0HL81NICBBA4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:06.8288858+03:00 0HL81NICBBA4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:06.8293855+03:00 0HL81NICBBA4E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120268000.4011757169814396\",
  \"Nonce\": \"N0.39965839898938741506112026800\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39965839898938741506112026800\",
    \"state\": \"15061120268000.4011757169814396\"
  }
}" (9a175e33)
2017-09-22T23:27:06.8323867+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:06.8423989+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:06.8443998+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:06.8464012+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:06.8474022+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:06.8504034+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:06.8514049+03:00 0HL81NICBBA4E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:06.8694164+03:00 0HL81NICBBA4E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120268000.4011757169814396\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:06.8704171+03:00 0HL81NICBBA4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:06.8724184+03:00 0HL81NICBBA4E [INF] Request finished in 47.6699ms 302  (15c52c40)
2017-09-22T23:27:10.8253390+03:00 0HL81NICBBA4F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.24115926633305531506112030799&state=15061120307990.6884114575087084   (e5be5b71)
2017-09-22T23:27:10.8278409+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:10.8283414+03:00 0HL81NICBBA4F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:10.8283414+03:00 0HL81NICBBA4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:10.8288416+03:00 0HL81NICBBA4F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:10.8288416+03:00 0HL81NICBBA4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:10.8293417+03:00 0HL81NICBBA4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:10.8298418+03:00 0HL81NICBBA4F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120307990.6884114575087084\",
  \"Nonce\": \"N0.24115926633305531506112030799\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.24115926633305531506112030799\",
    \"state\": \"15061120307990.6884114575087084\"
  }
}" (9a175e33)
2017-09-22T23:27:10.8323437+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:10.8438555+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:10.8448565+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:10.8468579+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:10.8478581+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:10.8498595+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:10.8508609+03:00 0HL81NICBBA4F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:10.8638684+03:00 0HL81NICBBA4F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120307990.6884114575087084\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:10.8648686+03:00 0HL81NICBBA4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:10.8658705+03:00 0HL81NICBBA4F [INF] Request finished in 41.0667ms 302  (15c52c40)
2017-09-22T23:27:14.8420294+03:00 0HL81NICBBA4G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0608831074957527641506112034798&state=15061120347980.7209272097225179   (e5be5b71)
2017-09-22T23:27:14.8445309+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:14.8445309+03:00 0HL81NICBBA4G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:14.8445309+03:00 0HL81NICBBA4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:14.8445309+03:00 0HL81NICBBA4G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:14.8458497+03:00 0HL81NICBBA4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:14.8458497+03:00 0HL81NICBBA4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:14.8458497+03:00 0HL81NICBBA4G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120347980.7209272097225179\",
  \"Nonce\": \"N0.0608831074957527641506112034798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0608831074957527641506112034798\",
    \"state\": \"15061120347980.7209272097225179\"
  }
}" (9a175e33)
2017-09-22T23:27:14.8488529+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:14.8558571+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:14.8568574+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:14.8588587+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:14.8608597+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:14.8618607+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:14.8638617+03:00 0HL81NICBBA4G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:14.8788712+03:00 0HL81NICBBA4G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120347980.7209272097225179\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:14.8798719+03:00 0HL81NICBBA4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:14.8798719+03:00 0HL81NICBBA4G [INF] Request finished in 38.3469ms 302  (15c52c40)
2017-09-22T23:27:18.8286545+03:00 0HL81NICBBA4H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51753972130237051506112038798&state=15061120387980.5658121387425255   (e5be5b71)
2017-09-22T23:27:18.8316569+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:18.8316569+03:00 0HL81NICBBA4H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:18.8326579+03:00 0HL81NICBBA4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:18.8331612+03:00 0HL81NICBBA4H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:18.8331612+03:00 0HL81NICBBA4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:18.8341623+03:00 0HL81NICBBA4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:18.8341623+03:00 0HL81NICBBA4H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120387980.5658121387425255\",
  \"Nonce\": \"N0.51753972130237051506112038798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51753972130237051506112038798\",
    \"state\": \"15061120387980.5658121387425255\"
  }
}" (9a175e33)
2017-09-22T23:27:18.8366649+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:18.8481712+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:18.8496763+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:18.8516784+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:18.8536786+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:18.8546808+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:18.8576816+03:00 0HL81NICBBA4H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:18.8746933+03:00 0HL81NICBBA4H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120387980.5658121387425255\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:18.8756936+03:00 0HL81NICBBA4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:18.8766939+03:00 0HL81NICBBA4H [INF] Request finished in 47.7054ms 302  (15c52c40)
2017-09-22T23:27:22.8313474+03:00 0HL81NICBBA4I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.185683859343875881506112042798&state=15061120427980.14186042469949545   (e5be5b71)
2017-09-22T23:27:22.8343490+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:22.8343490+03:00 0HL81NICBBA4I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:22.8353485+03:00 0HL81NICBBA4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:22.8353485+03:00 0HL81NICBBA4I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:22.8358525+03:00 0HL81NICBBA4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:22.8363527+03:00 0HL81NICBBA4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:22.8363527+03:00 0HL81NICBBA4I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120427980.14186042469949545\",
  \"Nonce\": \"N0.185683859343875881506112042798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.185683859343875881506112042798\",
    \"state\": \"15061120427980.14186042469949545\"
  }
}" (9a175e33)
2017-09-22T23:27:22.8393543+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:22.8513622+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:22.8533671+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:22.8553685+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:22.8563695+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:22.8583708+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:22.8613720+03:00 0HL81NICBBA4I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:22.8773843+03:00 0HL81NICBBA4I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120427980.14186042469949545\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:22.8783841+03:00 0HL81NICBBA4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:22.8783841+03:00 0HL81NICBBA4I [INF] Request finished in 47.7883ms 302  (15c52c40)
2017-09-22T23:27:26.8235469+03:00 0HL81NICBBA4J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29644303957087991506112046798&state=15061120467980.36582891360833614   (e5be5b71)
2017-09-22T23:27:26.8255475+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:26.8265485+03:00 0HL81NICBBA4J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:26.8265485+03:00 0HL81NICBBA4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:26.8265485+03:00 0HL81NICBBA4J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:26.8265485+03:00 0HL81NICBBA4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:26.8275488+03:00 0HL81NICBBA4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:26.8275488+03:00 0HL81NICBBA4J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120467980.36582891360833614\",
  \"Nonce\": \"N0.29644303957087991506112046798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29644303957087991506112046798\",
    \"state\": \"15061120467980.36582891360833614\"
  }
}" (9a175e33)
2017-09-22T23:27:26.8305512+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:26.8410651+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:26.8425639+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:26.8445656+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:26.8460664+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:26.8480689+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:26.8500710+03:00 0HL81NICBBA4J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:26.8635814+03:00 0HL81NICBBA4J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120467980.36582891360833614\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:26.8645829+03:00 0HL81NICBBA4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:26.8655835+03:00 0HL81NICBBA4J [INF] Request finished in 42.2232ms 302  (15c52c40)
2017-09-22T23:27:31.1240565+03:00 0HL81NICBBA4K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.163658988014701251506112050907&state=15061120509070.10054448695641205   (e5be5b71)
2017-09-22T23:27:31.1400663+03:00 0HL81NICBBA4K [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:31.1430691+03:00 0HL81NICBBA4K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:31.1440698+03:00 0HL81NICBBA4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:31.1445699+03:00 0HL81NICBBA4K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:31.1450705+03:00 0HL81NICBBA4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:31.1460711+03:00 0HL81NICBBA4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:31.1465713+03:00 0HL81NICBBA4K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120509070.10054448695641205\",
  \"Nonce\": \"N0.163658988014701251506112050907\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.163658988014701251506112050907\",
    \"state\": \"15061120509070.10054448695641205\"
  }
}" (9a175e33)
2017-09-22T23:27:31.1525752+03:00 0HL81NICBBA4K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:31.1690860+03:00 0HL81NICBBA4K [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:31.1770913+03:00 0HL81NICBBA4K [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:31.1815941+03:00 0HL81NICBBA4K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:31.1901000+03:00 0HL81NICBBA4K [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:31.1971042+03:00 0HL81NICBBA4K [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:31.2011084+03:00 0HL81NICBBA4K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:31.2231223+03:00 0HL81NICBBA4K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120509070.10054448695641205\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:31.2371312+03:00 0HL81NICBBA4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:31.2411338+03:00 0HL81NICBBA4K [INF] Request finished in 115.7162ms 302  (15c52c40)
2017-09-22T23:27:34.8378325+03:00 0HL81NICBBA4L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77603245928522261506112054797&state=15061120547970.05150182673718007   (e5be5b71)
2017-09-22T23:27:34.8408345+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:34.8418348+03:00 0HL81NICBBA4L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:34.8418348+03:00 0HL81NICBBA4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:34.8418348+03:00 0HL81NICBBA4L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:34.8428359+03:00 0HL81NICBBA4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:34.8428359+03:00 0HL81NICBBA4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:34.8428359+03:00 0HL81NICBBA4L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120547970.05150182673718007\",
  \"Nonce\": \"N0.77603245928522261506112054797\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77603245928522261506112054797\",
    \"state\": \"15061120547970.05150182673718007\"
  }
}" (9a175e33)
2017-09-22T23:27:34.8498405+03:00 0HL81NICBBA4L [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:34.8628492+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:34.8658512+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:34.8678529+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:34.8698538+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:34.8718551+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:34.8748571+03:00 0HL81NICBBA4L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:34.9018830+03:00 0HL81NICBBA4L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120547970.05150182673718007\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:34.9028824+03:00 0HL81NICBBA4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:34.9058852+03:00 0HL81NICBBA4L [INF] Request finished in 66.9454ms 302  (15c52c40)
2017-09-22T23:27:42.5974418+03:00 0HL81NICBBA4M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97732242386532551506112062507&state=15061120625070.08339785586907467   (e5be5b71)
2017-09-22T23:27:42.6009435+03:00 0HL81NICBBA4M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:42.6014441+03:00 0HL81NICBBA4M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:42.6019446+03:00 0HL81NICBBA4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:42.6019446+03:00 0HL81NICBBA4M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:42.6024443+03:00 0HL81NICBBA4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:42.6029449+03:00 0HL81NICBBA4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:42.6034450+03:00 0HL81NICBBA4M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120625070.08339785586907467\",
  \"Nonce\": \"N0.97732242386532551506112062507\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97732242386532551506112062507\",
    \"state\": \"15061120625070.08339785586907467\"
  }
}" (9a175e33)
2017-09-22T23:27:42.6074480+03:00 0HL81NICBBA4M [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:42.6209576+03:00 0HL81NICBBA4M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:42.6269612+03:00 0HL81NICBBA4M [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:42.6299628+03:00 0HL81NICBBA4M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:42.6334653+03:00 0HL81NICBBA4M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:42.6374676+03:00 0HL81NICBBA4M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:42.6399690+03:00 0HL81NICBBA4M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:42.6629883+03:00 0HL81NICBBA4M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120625070.08339785586907467\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:42.6664868+03:00 0HL81NICBBA4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:42.6694888+03:00 0HL81NICBBA4M [INF] Request finished in 71.1971ms 302  (15c52c40)
2017-09-22T23:27:45.9897614+03:00 0HL81NICBBA4N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93939878651543381506112065905&state=15061120659050.07011232123755917   (e5be5b71)
2017-09-22T23:27:45.9927638+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:45.9932639+03:00 0HL81NICBBA4N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:45.9937645+03:00 0HL81NICBBA4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:45.9942646+03:00 0HL81NICBBA4N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:45.9947647+03:00 0HL81NICBBA4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:45.9952653+03:00 0HL81NICBBA4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:45.9952653+03:00 0HL81NICBBA4N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120659050.07011232123755917\",
  \"Nonce\": \"N0.93939878651543381506112065905\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93939878651543381506112065905\",
    \"state\": \"15061120659050.07011232123755917\"
  }
}" (9a175e33)
2017-09-22T23:27:45.9992679+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:46.0132768+03:00 0HL81NICBBA4N [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:46.0167794+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:46.0222836+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:46.0247851+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:46.0277875+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:46.0307887+03:00 0HL81NICBBA4N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:46.0553055+03:00 0HL81NICBBA4N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120659050.07011232123755917\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:46.0633105+03:00 0HL81NICBBA4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:46.0663124+03:00 0HL81NICBBA4N [INF] Request finished in 75.2266ms 302  (15c52c40)
2017-09-22T23:27:49.9476779+03:00 0HL81NICBBA4O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68298727629671731506112069798&state=15061120697980.9346998533970183   (e5be5b71)
2017-09-22T23:27:49.9521803+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:27:49.9526808+03:00 0HL81NICBBA4O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:27:49.9531809+03:00 0HL81NICBBA4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:49.9536815+03:00 0HL81NICBBA4O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:27:49.9541816+03:00 0HL81NICBBA4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:49.9546817+03:00 0HL81NICBBA4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:49.9546817+03:00 0HL81NICBBA4O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120697980.9346998533970183\",
  \"Nonce\": \"N0.68298727629671731506112069798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68298727629671731506112069798\",
    \"state\": \"15061120697980.9346998533970183\"
  }
}" (9a175e33)
2017-09-22T23:27:49.9586844+03:00 0HL81NICBBA4O [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:27:49.9766963+03:00 0HL81NICBBA4O [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:49.9796983+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:27:49.9822006+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:27:49.9862048+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:27:49.9912062+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:27:49.9942082+03:00 0HL81NICBBA4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:27:50.0177252+03:00 0HL81NICBBA4O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120697980.9346998533970183\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:27:50.0192252+03:00 0HL81NICBBA4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:27:50.0212261+03:00 0HL81NICBBA4O [INF] Request finished in 73.1827ms 302  (15c52c40)
2017-09-22T23:28:03.1669536+03:00 0HL81NICBBA4P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51408214636860381506112077213&state=15061120772130.25488563197298975   (e5be5b71)
2017-09-22T23:28:03.2069806+03:00 0HL81NICBBA4P [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:03.2244916+03:00 0HL81NICBBA4P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:03.2289952+03:00 0HL81NICBBA4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:03.2294957+03:00 0HL81NICBBA4P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:03.2304964+03:00 0HL81NICBBA4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:03.2314963+03:00 0HL81NICBBA4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:03.2314963+03:00 0HL81NICBBA4P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120772130.25488563197298975\",
  \"Nonce\": \"N0.51408214636860381506112077213\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51408214636860381506112077213\",
    \"state\": \"15061120772130.25488563197298975\"
  }
}" (9a175e33)
2017-09-22T23:28:03.5131835+03:00 0HL81NICBBA4P [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:03.5497079+03:00 0HL81NICBBA4P [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:04.0130151+03:00 0HL81NICBBA4P [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:04.0220215+03:00 0HL81NICBBA4P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:04.0395329+03:00 0HL81NICBBA4P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:04.0425353+03:00 0HL81NICBBA4P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:04.0570444+03:00 0HL81NICBBA4P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:04.0850630+03:00 0HL81NICBBA4P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120772130.25488563197298975\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:04.0975719+03:00 0HL81NICBBA4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:04.1055768+03:00 0HL81NICBBA4P [INF] Request finished in 937.6418ms 302  (15c52c40)
2017-09-22T23:28:13.9145888+03:00 0HL81NICBBA4Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.484979119582004571506112087417&state=15061120874170.7875425290099993   (e5be5b71)
2017-09-22T23:28:14.0947088+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:14.0982113+03:00 0HL81NICBBA4Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:14.0987115+03:00 0HL81NICBBA4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:14.0987115+03:00 0HL81NICBBA4Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:14.0997125+03:00 0HL81NICBBA4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:14.1002119+03:00 0HL81NICBBA4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:14.1002119+03:00 0HL81NICBBA4Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120874170.7875425290099993\",
  \"Nonce\": \"N0.484979119582004571506112087417\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.484979119582004571506112087417\",
    \"state\": \"15061120874170.7875425290099993\"
  }
}" (9a175e33)
2017-09-22T23:28:15.1243924+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (55ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:15.2009430+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:15.7122833+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:15.8418695+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:15.9409349+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:16.0194865+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:16.0695201+03:00 0HL81NICBBA4Q [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:16.0940366+03:00 0HL81NICBBA4Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120874170.7875425290099993\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:16.1345629+03:00 0HL81NICBBA4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:16.2291259+03:00 0HL81NICBBA4Q [INF] Request finished in 2271.9987ms 302  (15c52c40)
2017-09-22T23:28:18.8058362+03:00 0HL81NICBBA4R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.272160123622015471506112093855&state=15061120938550.13640742093828306   (e5be5b71)
2017-09-22T23:28:18.8323544+03:00 0HL81NICBBA4R [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:18.8333546+03:00 0HL81NICBBA4R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:18.8338552+03:00 0HL81NICBBA4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:18.8338552+03:00 0HL81NICBBA4R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:18.8343553+03:00 0HL81NICBBA4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:18.8348558+03:00 0HL81NICBBA4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:18.8348558+03:00 0HL81NICBBA4R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061120938550.13640742093828306\",
  \"Nonce\": \"N0.272160123622015471506112093855\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.272160123622015471506112093855\",
    \"state\": \"15061120938550.13640742093828306\"
  }
}" (9a175e33)
2017-09-22T23:28:18.8593719+03:00 0HL81NICBBA4R [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:19.6809177+03:00 0HL81NICBBA4R [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:20.1177079+03:00 0HL81NICBBA4R [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:20.1272140+03:00 0HL81NICBBA4R [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:20.2072668+03:00 0HL81NICBBA4R [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:20.2778142+03:00 0HL81NICBBA4R [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:20.3758789+03:00 0HL81NICBBA4R [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:20.4018954+03:00 0HL81NICBBA4R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061120938550.13640742093828306\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:20.4549314+03:00 0HL81NICBBA4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:20.5630031+03:00 0HL81NICBBA4R [INF] Request finished in 1831.8181ms 302  (15c52c40)
2017-09-22T23:28:21.9974557+03:00 0HL81NICBBA4S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.236093326246801021506112101284&state=15061121012840.2023887493202503   (e5be5b71)
2017-09-22T23:28:22.0014579+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:22.0064621+03:00 0HL81NICBBA4S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:22.0069614+03:00 0HL81NICBBA4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:22.0074619+03:00 0HL81NICBBA4S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:22.0074619+03:00 0HL81NICBBA4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:22.0084622+03:00 0HL81NICBBA4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:22.0089623+03:00 0HL81NICBBA4S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121012840.2023887493202503\",
  \"Nonce\": \"N0.236093326246801021506112101284\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.236093326246801021506112101284\",
    \"state\": \"15061121012840.2023887493202503\"
  }
}" (9a175e33)
2017-09-22T23:28:22.0129650+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:22.0284759+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:22.0304776+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:22.0329783+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:22.0359807+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:22.0414845+03:00 0HL81NICBBA4S [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:22.0449866+03:00 0HL81NICBBA4S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:22.0715045+03:00 0HL81NICBBA4S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121012840.2023887493202503\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:22.0770083+03:00 0HL81NICBBA4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:22.0785103+03:00 0HL81NICBBA4S [INF] Request finished in 81.5673ms 302  (15c52c40)
2017-09-22T23:28:26.0601269+03:00 0HL81NICBBA4T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98405948983473171506112105755&state=15061121057550.007665365820096914   (e5be5b71)
2017-09-22T23:28:26.0631285+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:26.0636294+03:00 0HL81NICBBA4T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:26.0641291+03:00 0HL81NICBBA4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:26.0641291+03:00 0HL81NICBBA4T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:26.0646297+03:00 0HL81NICBBA4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:26.0651302+03:00 0HL81NICBBA4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:26.0651302+03:00 0HL81NICBBA4T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121057550.007665365820096914\",
  \"Nonce\": \"N0.98405948983473171506112105755\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98405948983473171506112105755\",
    \"state\": \"15061121057550.007665365820096914\"
  }
}" (9a175e33)
2017-09-22T23:28:26.0691329+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:26.0916476+03:00 0HL81NICBBA4T [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:26.0936489+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:26.0971519+03:00 0HL81NICBBA4T [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:26.1006536+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:26.1031554+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:26.1051572+03:00 0HL81NICBBA4T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:26.1256710+03:00 0HL81NICBBA4T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121057550.007665365820096914\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:26.1271726+03:00 0HL81NICBBA4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:26.1286730+03:00 0HL81NICBBA4T [INF] Request finished in 68.2528ms 302  (15c52c40)
2017-09-22T23:28:28.9180381+03:00 0HL81NICBBA4U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0191447710816599061506112108813&state=15061121088130.07300101875380727   (e5be5b71)
2017-09-22T23:28:28.9210401+03:00 0HL81NICBBA4U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:28.9220407+03:00 0HL81NICBBA4U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:28.9220407+03:00 0HL81NICBBA4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:28.9230410+03:00 0HL81NICBBA4U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:28.9230410+03:00 0HL81NICBBA4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:28.9240417+03:00 0HL81NICBBA4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:28.9240417+03:00 0HL81NICBBA4U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121088130.07300101875380727\",
  \"Nonce\": \"N0.0191447710816599061506112108813\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0191447710816599061506112108813\",
    \"state\": \"15061121088130.07300101875380727\"
  }
}" (9a175e33)
2017-09-22T23:28:28.9290446+03:00 0HL81NICBBA4U [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:28.9430539+03:00 0HL81NICBBA4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:28.9475634+03:00 0HL81NICBBA4U [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:28.9510651+03:00 0HL81NICBBA4U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:28.9550678+03:00 0HL81NICBBA4U [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:28.9575696+03:00 0HL81NICBBA4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:28.9590704+03:00 0HL81NICBBA4U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:28.9840874+03:00 0HL81NICBBA4U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121088130.07300101875380727\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:28.9885910+03:00 0HL81NICBBA4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:28.9905912+03:00 0HL81NICBBA4U [INF] Request finished in 71.8094ms 302  (15c52c40)
2017-09-22T23:28:33.1212112+03:00 0HL81NICBBA4V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:28:33.1247122+03:00 0HL81NICBBA4V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:33.1252131+03:00 0HL81NICBBA4V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:33.1262134+03:00 0HL81NICBBA4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:33.1262134+03:00 0HL81NICBBA4V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:28:33.1297159+03:00 0HL81NICBBA4V [INF] Request finished in 6.405ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:28:33.6105353+03:00 0HL81NICBBA50 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-22T23:28:33.6155394+03:00 0HL81NICBBA50 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:33.6155394+03:00 0HL81NICBBA50 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-22T23:28:33.6385543+03:00 0HL81NICBBA50 [INF] Request finished in 22.0398ms 200 application/json (15c52c40)
2017-09-22T23:28:33.9452573+03:00 0HL81NICBBA51 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:33.9557653+03:00 0HL81NICBBA51 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:33.9557653+03:00 0HL81NICBBA51 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:33.9852839+03:00 0HL81NICBBA51 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:33.9857844+03:00 0HL81NICBBA51 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:33.9892873+03:00 0HL81NICBBA51 [INF] Request finished in 46.3574ms 200 application/json (15c52c40)
2017-09-22T23:28:34.2839828+03:00 0HL81NICBBA52 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.108018276123414971506112112044&state=15061121120440.24226733225126318   (e5be5b71)
2017-09-22T23:28:34.2934889+03:00 0HL81NICBBA52 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:34.2944900+03:00 0HL81NICBBA52 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:34.2954902+03:00 0HL81NICBBA52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:34.2954902+03:00 0HL81NICBBA52 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:34.2959904+03:00 0HL81NICBBA52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:34.2964905+03:00 0HL81NICBBA52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:34.2964905+03:00 0HL81NICBBA52 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121120440.24226733225126318\",
  \"Nonce\": \"N0.108018276123414971506112112044\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.108018276123414971506112112044\",
    \"state\": \"15061121120440.24226733225126318\"
  }
}" (9a175e33)
2017-09-22T23:28:34.2994929+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:34.3135022+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:34.3155035+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:34.3170043+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:34.3190057+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:34.3235088+03:00 0HL81NICBBA52 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:34.3260103+03:00 0HL81NICBBA52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:34.3465237+03:00 0HL81NICBBA52 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121120440.24226733225126318\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:34.3475244+03:00 0HL81NICBBA52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:34.3485258+03:00 0HL81NICBBA52 [INF] Request finished in 65.726ms 302  (15c52c40)
2017-09-22T23:28:35.8655476+03:00 0HL81NICBBA53 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65282827821049841506112115798&state=15061121157980.0782330822157149   (e5be5b71)
2017-09-22T23:28:35.8685500+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:35.8695499+03:00 0HL81NICBBA53 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:35.8695499+03:00 0HL81NICBBA53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:35.8705505+03:00 0HL81NICBBA53 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:35.8705505+03:00 0HL81NICBBA53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:35.8715536+03:00 0HL81NICBBA53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:35.8715536+03:00 0HL81NICBBA53 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121157980.0782330822157149\",
  \"Nonce\": \"N0.65282827821049841506112115798\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65282827821049841506112115798\",
    \"state\": \"15061121157980.0782330822157149\"
  }
}" (9a175e33)
2017-09-22T23:28:35.8755538+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:35.8875618+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:35.8915645+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:35.8935662+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:35.8955679+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:35.8985695+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:35.9005708+03:00 0HL81NICBBA53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:35.9180878+03:00 0HL81NICBBA53 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121157980.0782330822157149\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:35.9185860+03:00 0HL81NICBBA53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:35.9190873+03:00 0HL81NICBBA53 [INF] Request finished in 53.5353ms 302  (15c52c40)
2017-09-22T23:28:38.8015817+03:00 0HL81NICBBA54 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:38.8050842+03:00 0HL81NICBBA54 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:38.8050842+03:00 0HL81NICBBA54 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:38.8336021+03:00 0HL81NICBBA54 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:38.8341031+03:00 0HL81NICBBA54 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:38.8356039+03:00 0HL81NICBBA54 [INF] Request finished in 33.6621ms 200 application/json (15c52c40)
2017-09-22T23:28:39.5575830+03:00 0HL81NICBBA55 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.450400948641009661506112119258&state=15061121192580.6773468619280352   (e5be5b71)
2017-09-22T23:28:39.5620866+03:00 0HL81NICBBA55 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:39.5625863+03:00 0HL81NICBBA55 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:28:39.5630868+03:00 0HL81NICBBA55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:39.5630868+03:00 0HL81NICBBA55 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:28:39.5635874+03:00 0HL81NICBBA55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:39.5640875+03:00 0HL81NICBBA55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:39.5640875+03:00 0HL81NICBBA55 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061121192580.6773468619280352\",
  \"Nonce\": \"N0.450400948641009661506112119258\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.450400948641009661506112119258\",
    \"state\": \"15061121192580.6773468619280352\"
  }
}" (9a175e33)
2017-09-22T23:28:39.6066159+03:00 0HL81NICBBA55 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:39.6326332+03:00 0HL81NICBBA55 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:39.6611519+03:00 0HL81NICBBA55 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:28:39.6661545+03:00 0HL81NICBBA55 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:28:39.6741602+03:00 0HL81NICBBA55 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:28:39.6791635+03:00 0HL81NICBBA55 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:28:39.6831662+03:00 0HL81NICBBA55 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:28:39.7031794+03:00 0HL81NICBBA55 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061121192580.6773468619280352\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:28:39.7041805+03:00 0HL81NICBBA55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:28:39.7056829+03:00 0HL81NICBBA55 [INF] Request finished in 147.426ms 302  (15c52c40)
2017-09-22T23:28:42.5999140+03:00 0HL81NICBBA56 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:42.6029164+03:00 0HL81NICBBA56 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:42.6029164+03:00 0HL81NICBBA56 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:42.6329368+03:00 0HL81NICBBA56 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:42.6329368+03:00 0HL81NICBBA56 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:42.6349377+03:00 0HL81NICBBA56 [INF] Request finished in 38.4207ms 200 application/json (15c52c40)
2017-09-22T23:28:44.7215321+03:00 0HL81NICBBA57 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T23:28:44.7245337+03:00 0HL81NICBBA57 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:44.7245337+03:00 0HL81NICBBA57 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T23:28:44.7255343+03:00 0HL81NICBBA57 [INF] Request finished in 4.076ms 200 application/json (15c52c40)
2017-09-22T23:28:45.4675275+03:00 0HL81NICBBA58 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:45.4710297+03:00 0HL81NICBBA58 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:45.4710297+03:00 0HL81NICBBA58 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:45.5205623+03:00 0HL81NICBBA58 [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:45.5210629+03:00 0HL81NICBBA58 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:45.5235647+03:00 0HL81NICBBA58 [INF] Request finished in 55.3898ms 200 application/json (15c52c40)
2017-09-22T23:28:46.5944181+03:00 0HL81NICBBA59 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:46.5974205+03:00 0HL81NICBBA59 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:46.5984207+03:00 0HL81NICBBA59 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:46.6194351+03:00 0HL81NICBBA59 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:46.6204354+03:00 0HL81NICBBA59 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:46.6214368+03:00 0HL81NICBBA59 [INF] Request finished in 27.1004ms 200 application/json (15c52c40)
2017-09-22T23:28:51.4352122+03:00 0HL81NICBBA5A [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:28:51.4382146+03:00 0HL81NICBBA5A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:28:51.4382146+03:00 0HL81NICBBA5A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:28:51.4617335+03:00 0HL81NICBBA5A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:28:51.4627342+03:00 0HL81NICBBA5A [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:28:51.4637349+03:00 0HL81NICBBA5A [INF] Request finished in 28.5558ms 200 application/json (15c52c40)
2017-09-22T23:29:04.5584182+03:00 0HL81NICBBA5B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:29:04.5609201+03:00 0HL81NICBBA5B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:29:04.5609201+03:00 0HL81NICBBA5B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:29:04.5779350+03:00 0HL81NICBBA5B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:29:04.5779350+03:00 0HL81NICBBA5B [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:29:04.5789360+03:00 0HL81NICBBA5B [INF] Request finished in 20.5205ms 200 application/json (15c52c40)
2017-09-22T23:29:47.0873224+03:00 0HL81NICBBA5C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:29:47.0903237+03:00 0HL81NICBBA5C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:29:47.0903237+03:00 0HL81NICBBA5C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:29:47.1078382+03:00 0HL81NICBBA5C [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:29:47.1078382+03:00 0HL81NICBBA5C [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:29:47.1083388+03:00 0HL81NICBBA5C [INF] Request finished in 21.1284ms 200 application/json (15c52c40)
2017-09-22T23:29:49.4248396+03:00 0HL81NICBBA5D [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:29:49.4268402+03:00 0HL81NICBBA5D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:29:49.4278408+03:00 0HL81NICBBA5D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:29:49.4428520+03:00 0HL81NICBBA5D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:29:49.4428520+03:00 0HL81NICBBA5D [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:29:49.4438519+03:00 0HL81NICBBA5D [INF] Request finished in 19.8064ms 200 application/json (15c52c40)
2017-09-22T23:30:14.8245369+03:00 0HL81NICBBA5E [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:14.8280395+03:00 0HL81NICBBA5E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:14.8280395+03:00 0HL81NICBBA5E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:14.8560581+03:00 0HL81NICBBA5E [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:14.8565582+03:00 0HL81NICBBA5E [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:14.8585595+03:00 0HL81NICBBA5E [INF] Request finished in 33.736ms 200 application/json (15c52c40)
2017-09-22T23:30:22.0244756+03:00 0HL81NICBBA5F [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:22.0269775+03:00 0HL81NICBBA5F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:22.0274776+03:00 0HL81NICBBA5F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:22.0484915+03:00 0HL81NICBBA5F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:22.0489921+03:00 0HL81NICBBA5F [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:22.0504933+03:00 0HL81NICBBA5F [INF] Request finished in 25.587ms 200 application/json (15c52c40)
2017-09-22T23:30:24.5875836+03:00 0HL81NICBBA5G [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T23:30:24.5900850+03:00 0HL81NICBBA5G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:24.5905852+03:00 0HL81NICBBA5G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T23:30:24.5925869+03:00 0HL81NICBBA5G [INF] Request finished in 5.5152ms 200 application/json (15c52c40)
2017-09-22T23:30:28.4509658+03:00 0HL81NICBBA5H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0212987208864663381506112228446&state=15061122284460.7414951186751695   (e5be5b71)
2017-09-22T23:30:28.4549689+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:28.4609753+03:00 0HL81NICBBA5H [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:28.4649767+03:00 0HL81NICBBA5H [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:30:28.4679795+03:00 0HL81NICBBA5H [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:30:28.4779838+03:00 0HL81NICBBA5H [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:30:28.4809870+03:00 0HL81NICBBA5H [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:30:28.4819864+03:00 0HL81NICBBA5H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:30:28.4819864+03:00 0HL81NICBBA5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:30:28.4829871+03:00 0HL81NICBBA5H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-22T23:30:28.4829871+03:00 0HL81NICBBA5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:30:28.4829871+03:00 0HL81NICBBA5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:30:28.4839878+03:00 0HL81NICBBA5H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15061122284460.7414951186751695\",
  \"Nonce\": \"N0.0212987208864663381506112228446\",
  \"SessionId\": \"5815ff458a4fb87702230891f6fd1904\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0212987208864663381506112228446\",
    \"state\": \"15061122284460.7414951186751695\"
  }
}" (9a175e33)
2017-09-22T23:30:28.4970007+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:30:28.4985027+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:30:28.5000035+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:30:28.5015043+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:30:28.5030051+03:00 0HL81NICBBA5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:30:28.5055070+03:00 0HL81NICBBA5H [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:30:28.5228724+03:00 0HL81NICBBA5H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15061122284460.7414951186751695\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-22T23:30:28.5228724+03:00 0HL81NICBBA5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:30:28.5238742+03:00 0HL81NICBBA5H [INF] Request finished in 72.9198ms 302  (15c52c40)
2017-09-22T23:30:34.1838291+03:00 0HL81NICBBA5I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-22T23:30:34.1858316+03:00 0HL81NICBBA5I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:34.1868315+03:00 0HL81NICBBA5I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-22T23:30:34.1868315+03:00 0HL81NICBBA5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-22T23:30:34.1868315+03:00 0HL81NICBBA5I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-22T23:30:34.1878318+03:00 0HL81NICBBA5I [INF] Request finished in 3.9114ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-22T23:30:34.2023460+03:00 0HL81NICBBA5J [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-22T23:30:34.2043473+03:00 0HL81NICBBA5J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:34.2043473+03:00 0HL81NICBBA5J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-22T23:30:34.2053476+03:00 0HL81NICBBA5J [INF] Request finished in 3.3418ms 200 application/json (15c52c40)
2017-09-22T23:30:34.2984188+03:00 0HL81NICBBA5K [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-22T23:30:34.3004201+03:00 0HL81NICBBA5K [INF] Request finished in 1.586ms 204  (15c52c40)
2017-09-22T23:30:34.3349472+03:00 0HL81NICBBA5L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-22T23:30:34.3669681+03:00 0HL81NICBBA5L [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:34.3669681+03:00 0HL81NICBBA5L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-22T23:30:34.3669681+03:00 0HL81NICBBA5L [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-22T23:30:34.4009982+03:00 0HL81NICBBA5L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:34.4070017+03:00 0HL81NICBBA5L [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:30:34.4230128+03:00 0HL81NICBBA5L [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-22T23:30:34.4255142+03:00 0HL81NICBBA5L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-22T23:30:34.4275160+03:00 0HL81NICBBA5L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-22T23:30:34.4300174+03:00 0HL81NICBBA5L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-22T23:30:34.4315186+03:00 0HL81NICBBA5L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-22T23:30:34.4320187+03:00 0HL81NICBBA5L [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-22T23:30:34.4335199+03:00 0HL81NICBBA5L [INF] Request finished in 116.5144ms 200 application/json (15c52c40)
2017-09-22T23:30:34.4910583+03:00 0HL81NICBBA5M [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:34.4950610+03:00 0HL81NICBBA5M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:34.4950610+03:00 0HL81NICBBA5M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:34.5315854+03:00 0HL81NICBBA5M [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:34.5315854+03:00 0HL81NICBBA5M [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:34.5340865+03:00 0HL81NICBBA5M [INF] Request finished in 41.8005ms 200 application/json (15c52c40)
2017-09-22T23:30:35.7226042+03:00 0HL81NICBBA5N [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:35.7256062+03:00 0HL81NICBBA5N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:35.7256062+03:00 0HL81NICBBA5N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:35.7516238+03:00 0HL81NICBBA5N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:35.7521244+03:00 0HL81NICBBA5N [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:35.7536252+03:00 0HL81NICBBA5N [INF] Request finished in 30.6246ms 200 application/json (15c52c40)
2017-09-22T23:30:37.4723169+03:00 0HL81NICBBA5O [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:37.4753185+03:00 0HL81NICBBA5O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:37.4758186+03:00 0HL81NICBBA5O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:37.5008349+03:00 0HL81NICBBA5O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:37.5013354+03:00 0HL81NICBBA5O [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:37.5018363+03:00 0HL81NICBBA5O [INF] Request finished in 30.2421ms 200 application/json (15c52c40)
2017-09-22T23:30:40.6552376+03:00 0HL81NICBBA5P [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:40.6582392+03:00 0HL81NICBBA5P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:40.6582392+03:00 0HL81NICBBA5P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:40.6827596+03:00 0HL81NICBBA5P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:40.6832609+03:00 0HL81NICBBA5P [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:40.6852610+03:00 0HL81NICBBA5P [INF] Request finished in 29.142ms 200 application/json (15c52c40)
2017-09-22T23:30:42.6948583+03:00 0HL81NICBBA5Q [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:42.6978611+03:00 0HL81NICBBA5Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:42.6978611+03:00 0HL81NICBBA5Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:42.7158719+03:00 0HL81NICBBA5Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:42.7158719+03:00 0HL81NICBBA5Q [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:42.7168733+03:00 0HL81NICBBA5Q [INF] Request finished in 22.1125ms 200 application/json (15c52c40)
2017-09-22T23:30:44.8146910+03:00 0HL81NICBBA5R [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:44.8166919+03:00 0HL81NICBBA5R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:44.8166919+03:00 0HL81NICBBA5R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:44.8377090+03:00 0HL81NICBBA5R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:44.8387101+03:00 0HL81NICBBA5R [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:44.8397111+03:00 0HL81NICBBA5R [INF] Request finished in 25.2242ms 200 application/json (15c52c40)
2017-09-22T23:30:48.0219047+03:00 0HL81NICBBA5S [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:48.0239060+03:00 0HL81NICBBA5S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:48.0239060+03:00 0HL81NICBBA5S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:48.0449219+03:00 0HL81NICBBA5S [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:48.0459214+03:00 0HL81NICBBA5S [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:48.0469217+03:00 0HL81NICBBA5S [INF] Request finished in 24.7923ms 200 application/json (15c52c40)
2017-09-22T23:30:50.8125716+03:00 0HL81NICBBA5T [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:50.8165743+03:00 0HL81NICBBA5T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:50.8165743+03:00 0HL81NICBBA5T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:50.8480950+03:00 0HL81NICBBA5T [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:50.8485959+03:00 0HL81NICBBA5T [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:50.8495962+03:00 0HL81NICBBA5T [INF] Request finished in 37.516ms 200 application/json (15c52c40)
2017-09-22T23:30:53.6578989+03:00 0HL81NICBBA5U [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:53.6609005+03:00 0HL81NICBBA5U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:53.6609005+03:00 0HL81NICBBA5U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:53.6819144+03:00 0HL81NICBBA5U [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:53.6829155+03:00 0HL81NICBBA5U [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:53.6829155+03:00 0HL81NICBBA5U [INF] Request finished in 26.258ms 200 application/json (15c52c40)
2017-09-22T23:30:57.3652454+03:00 0HL81NICBBA5V [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-22T23:30:57.3682482+03:00 0HL81NICBBA5V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-22T23:30:57.3682482+03:00 0HL81NICBBA5V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-22T23:30:57.3892618+03:00 0HL81NICBBA5V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-22T23:30:57.3892618+03:00 0HL81NICBBA5V [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-22T23:30:57.3902628+03:00 0HL81NICBBA5V [INF] Request finished in 25.2862ms 200 application/json (15c52c40)
