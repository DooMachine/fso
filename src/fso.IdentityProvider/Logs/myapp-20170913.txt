2017-09-13T00:13:40.7242916+03:00 0HL7OIHK18E37 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T00:13:43.1008641+03:00 0HL7OIHK18E38 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T00:13:59.9442866+03:00 0HL7OIHK18E38 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T00:13:59.9452877+03:00 0HL7OIHK18E38 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T00:13:59.9452877+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T00:13:59.9482900+03:00 0HL7OIHK18E38 [INF] Request finished in 16848.4436ms 200 application/json (15c52c40)
2017-09-13T00:14:00.0283423+03:00 0HL7OIHK18E39 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T00:14:00.0313462+03:00 0HL7OIHK18E39 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T00:14:00.0313462+03:00 0HL7OIHK18E39 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T00:14:01.5299735+03:00 0HL7OIHK18E39 [INF] Executed DbCommand (1,474ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T00:14:01.5309746+03:00 0HL7OIHK18E39 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T00:14:01.5309746+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (1,575ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T00:14:01.5409812+03:00 0HL7OIHK18E39 [INF] Request finished in 1503.4016ms 200 application/json (15c52c40)
2017-09-13T00:14:01.9275426+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (369ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T00:14:02.0426192+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T00:14:02.0526258+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T00:14:02.0656340+03:00 0HL7OIHK18E37 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T00:14:02.0786430+03:00 0HL7OIHK18E37 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T00:14:02.0916517+03:00 0HL7OIHK18E37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T00:14:02.0926523+03:00 0HL7OIHK18E37 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T00:14:02.0996574+03:00 0HL7OIHK18E37 [INF] Request finished in 21374.2885ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:22:46.0065981+03:00 0HL7OIHK18E3A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:22:46.2757752+03:00 0HL7OIHK18E3B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:22:50.0429243+03:00 0HL7OIHK18E3B [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:22:50.0434244+03:00 0HL7OIHK18E3B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:22:50.0479276+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:22:50.0504291+03:00 0HL7OIHK18E3B [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:22:50.0504291+03:00 0HL7OIHK18E3B [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:22:50.0634381+03:00 0HL7OIHK18E3B [INF] Request finished in 3785.596ms 200 application/json (15c52c40)
2017-09-13T02:22:50.0879541+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (28ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:22:50.1209756+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:22:50.1274801+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:22:50.1329836+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:22:50.1479943+03:00 0HL7OIHK18E3A [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:22:50.1494947+03:00 0HL7OIHK18E3A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:22:50.1539975+03:00 0HL7OIHK18E3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:22:50.1544980+03:00 0HL7OIHK18E3A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:22:50.1675066+03:00 0HL7OIHK18E3A [INF] Request finished in 4156.3098ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:24:09.1344804+03:00 0HL7OIHK18E3C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:09.1374832+03:00 0HL7OIHK18E3C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:09.1374832+03:00 0HL7OIHK18E3C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:09.1384839+03:00 0HL7OIHK18E3C [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:09.1384839+03:00 0HL7OIHK18E3C [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:09.1389836+03:00 0HL7OIHK18E3C [INF] Request finished in 4.6847ms 200 application/json (15c52c40)
2017-09-13T02:24:15.7898048+03:00 0HL7OIHK18E3D [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:15.7923066+03:00 0HL7OIHK18E3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:15.7928068+03:00 0HL7OIHK18E3D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:15.7938074+03:00 0HL7OIHK18E3D [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:15.7938074+03:00 0HL7OIHK18E3D [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:15.7948085+03:00 0HL7OIHK18E3D [INF] Request finished in 5.2914ms 200 application/json (15c52c40)
2017-09-13T02:24:21.9669916+03:00 0HL7OIHK18E3E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:24:21.9709954+03:00 0HL7OIHK18E3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:21.9719984+03:00 0HL7OIHK18E3E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:24:21.9724950+03:00 0HL7OIHK18E3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:24:21.9724950+03:00 0HL7OIHK18E3E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:24:21.9759979+03:00 0HL7OIHK18E3E [INF] Request finished in 7.7199ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:24:22.1671245+03:00 0HL7OIHK18E3F [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:22.1721274+03:00 0HL7OIHK18E3F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:22.1721274+03:00 0HL7OIHK18E3F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:22.1731281+03:00 0HL7OIHK18E3F [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:22.1736282+03:00 0HL7OIHK18E3F [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:22.1861371+03:00 0HL7OIHK18E3F [INF] Request finished in 8.1012ms 200 application/json (15c52c40)
2017-09-13T02:24:25.8594083+03:00 0HL7OIHK18E3G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:24:25.8629104+03:00 0HL7OIHK18E3G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:25.8639115+03:00 0HL7OIHK18E3G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:24:25.8644112+03:00 0HL7OIHK18E3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:24:25.8644112+03:00 0HL7OIHK18E3G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:24:25.8654123+03:00 0HL7OIHK18E3G [INF] Request finished in 5.9937ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:24:25.9704819+03:00 0HL7OIHK18E3H [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:25.9754848+03:00 0HL7OIHK18E3H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:25.9754848+03:00 0HL7OIHK18E3H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:25.9789873+03:00 0HL7OIHK18E3H [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:25.9789873+03:00 0HL7OIHK18E3H [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:25.9799880+03:00 0HL7OIHK18E3H [INF] Request finished in 12.7686ms 200 application/json (15c52c40)
2017-09-13T02:24:26.3002000+03:00 0HL7OIHK18E3I [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:26.3027019+03:00 0HL7OIHK18E3I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:26.3032020+03:00 0HL7OIHK18E3I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:26.3042027+03:00 0HL7OIHK18E3I [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:26.3047036+03:00 0HL7OIHK18E3I [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:26.3057035+03:00 0HL7OIHK18E3I [INF] Request finished in 5.7777ms 200 application/json (15c52c40)
2017-09-13T02:24:31.1935795+03:00 0HL7OIHK18E3J [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:31.1965811+03:00 0HL7OIHK18E3J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:31.1965811+03:00 0HL7OIHK18E3J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:31.1975814+03:00 0HL7OIHK18E3J [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:31.1975814+03:00 0HL7OIHK18E3J [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:31.1985824+03:00 0HL7OIHK18E3J [INF] Request finished in 4.7676ms 200 application/json (15c52c40)
2017-09-13T02:24:35.4434385+03:00 0HL7OIHK18E3K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:24:35.4479425+03:00 0HL7OIHK18E3K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:35.4494433+03:00 0HL7OIHK18E3K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:24:35.4499430+03:00 0HL7OIHK18E3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:24:35.4499430+03:00 0HL7OIHK18E3K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:24:35.4504443+03:00 0HL7OIHK18E3K [INF] Request finished in 17.3227ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:24:35.5665208+03:00 0HL7OIHK18E3L [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:24:35.5710232+03:00 0HL7OIHK18E3L [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:24:35.5710232+03:00 0HL7OIHK18E3L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:24:35.5720258+03:00 0HL7OIHK18E3L [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:24:35.5720258+03:00 0HL7OIHK18E3L [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:24:35.5725248+03:00 0HL7OIHK18E3L [INF] Request finished in 6.2948ms 200 application/json (15c52c40)
2017-09-13T02:25:36.2747710+03:00 0HL7OIHK18E3M [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:25:36.2777741+03:00 0HL7OIHK18E3M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:25:36.2777741+03:00 0HL7OIHK18E3M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:25:36.2787732+03:00 0HL7OIHK18E3M [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:25:36.2787732+03:00 0HL7OIHK18E3M [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:25:36.2792734+03:00 0HL7OIHK18E3M [INF] Request finished in 4.9654ms 200 application/json (15c52c40)
2017-09-13T02:25:36.9612872+03:00 0HL7OIHK18E3N [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:25:36.9637879+03:00 0HL7OIHK18E3N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:25:36.9637879+03:00 0HL7OIHK18E3N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:25:36.9647889+03:00 0HL7OIHK18E3N [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:25:36.9652930+03:00 0HL7OIHK18E3N [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:25:36.9662901+03:00 0HL7OIHK18E3N [INF] Request finished in 5.2144ms 200 application/json (15c52c40)
2017-09-13T02:26:53.0132763+03:00 0HL7OIHK18E3O [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:26:53.0167788+03:00 0HL7OIHK18E3O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:26:53.0167788+03:00 0HL7OIHK18E3O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:26:53.0177791+03:00 0HL7OIHK18E3O [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"f12eeb6de46fd4a250cf7a4d9ec8ea91267782f7af1c931683e2df9c9b29c6ec\"
}" (c9724191)
2017-09-13T02:26:53.0177791+03:00 0HL7OIHK18E3O [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:26:53.0202829+03:00 0HL7OIHK18E3O [INF] Request finished in 5.8448ms 200 application/json (15c52c40)
2017-09-13T02:27:09.7633770+03:00 0HL7OIHK18E3P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUyNDgxNDMsImV4cCI6MTUwNTI0ODQ0MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjU3ODgxNjMzMjA0ODQ3MTYxNTA1MjQ4MTQzMjk0IiwiaWF0IjoxNTA1MjQ4MTQzLCJhdF9oYXNoIjoiNDJDNFpaNTZqcC1OeUxudGkxdms2USIsInNpZCI6ImZjY2Y4MmQ3ZjQyZTk3NmY2YjQwODlkYjMzMzJjMDNkIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDcxMzE4LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.au_Moqp6vGbah7BCCklaLzBMs4RoverhEZJ7qLX6LhPf2V7UB_J2AKrIiSJcmbmvq-mqANzdAgk_yFL0r8jdakcZJrZbJN9BH4S61ARz6OyPZB8cKMzxNgnSq-0Ajn7AIbcyb-ChfkUbI4MO8SK206ad31ND_naI4A1fXf4K0HoV7FNHup1oUBB4HUC5pzb0tniQK7yXDpkwZt0fZc57OOUUTUqsFFORqUn3LCzw93HmBvHNL0_jcS8NCZ6Uf4UkQ6TXuMgnfCj-2aL1tmVfYH98O6Y7DdU5B5JysFB4eFP9HFKhVyiqsAwS806laYKYHWkHBplEjvOi7-i2GC29kQ&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-13T02:27:09.7663794+03:00 0HL7OIHK18E3P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:09.7673789+03:00 0HL7OIHK18E3P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:09.7678802+03:00 0HL7OIHK18E3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:09.7683796+03:00 0HL7OIHK18E3P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-13T02:27:09.7698807+03:00 0HL7OIHK18E3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:09.9073750+03:00 0HL7OIHK18E3P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:27:09.9098764+03:00 0HL7OIHK18E3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:09.9113776+03:00 0HL7OIHK18E3P [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUyNDgxNDMsImV4cCI6MTUwNTI0ODQ0MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjU3ODgxNjMzMjA0ODQ3MTYxNTA1MjQ4MTQzMjk0IiwiaWF0IjoxNTA1MjQ4MTQzLCJhdF9oYXNoIjoiNDJDNFpaNTZqcC1OeUxudGkxdms2USIsInNpZCI6ImZjY2Y4MmQ3ZjQyZTk3NmY2YjQwODlkYjMzMzJjMDNkIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDcxMzE4LCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.au_Moqp6vGbah7BCCklaLzBMs4RoverhEZJ7qLX6LhPf2V7UB_J2AKrIiSJcmbmvq-mqANzdAgk_yFL0r8jdakcZJrZbJN9BH4S61ARz6OyPZB8cKMzxNgnSq-0Ajn7AIbcyb-ChfkUbI4MO8SK206ad31ND_naI4A1fXf4K0HoV7FNHup1oUBB4HUC5pzb0tniQK7yXDpkwZt0fZc57OOUUTUqsFFORqUn3LCzw93HmBvHNL0_jcS8NCZ6Uf4UkQ6TXuMgnfCj-2aL1tmVfYH98O6Y7DdU5B5JysFB4eFP9HFKhVyiqsAwS806laYKYHWkHBplEjvOi7-i2GC29kQ\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-13T02:27:09.9571661+03:00 0HL7OIHK18E3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:09.9576750+03:00 0HL7OIHK18E3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:09.9757200+03:00 0HL7OIHK18E3P [INF] Request finished in 214.1592ms 302  (15c52c40)
2017-09-13T02:27:09.9787232+03:00 0HL7OIHK18E3Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=0bda862ccd3e639ba81234491cbec7ba   (e5be5b71)
2017-09-13T02:27:09.9817240+03:00 0HL7OIHK18E3Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:09.9822245+03:00 0HL7OIHK18E3Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:09.9828234+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:10.1255747+03:00 0HL7OIHK18E3Q [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["0bda862ccd3e639ba81234491cbec7ba"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T02:27:10.1580984+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:10.1585978+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:10.1861174+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-13T02:27:10.1866179+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-13T02:27:10.1871165+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-13T02:27:10.1881187+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:10.1881187+03:00 0HL7OIHK18E3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:10.7145632+03:00 0HL7OIHK18E3Q [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-13T02:27:10.7460839+03:00 0HL7OIHK18E3Q [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 757.7417ms (afa2e885)
2017-09-13T02:27:10.7465841+03:00 0HL7OIHK18E3Q [INF] Request finished in 767.7716ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T02:27:10.7791058+03:00 0HL7OIHK18E3R [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.min.css?v=G7OG5flN0NdPJ13sNYOv3Hwkc-gAxRfBTYgtu6Sl0yk   (e5be5b71)
2017-09-13T02:27:10.7826083+03:00 0HL7OIHK18E3R [INF] Sending file. Request path: '"/css/site.min.css"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\css\site.min.css"' (27b0a520)
2017-09-13T02:27:10.7931151+03:00 0HL7OIHK18E3S [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.min.js?v=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU   (e5be5b71)
2017-09-13T02:27:10.7941157+03:00 0HL7OIHK18E3R [INF] Request finished in 12.8507ms 200 text/css (15c52c40)
2017-09-13T02:27:10.7946163+03:00 0HL7OIHK18E3S [INF] Sending file. Request path: '"/js/site.min.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.min.js"' (27b0a520)
2017-09-13T02:27:10.7966176+03:00 0HL7OIHK18E3S [INF] Request finished in 23.8631ms 200 application/javascript (15c52c40)
2017-09-13T02:27:12.0439439+03:00 0HL7OIHK18E3T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=fccf82d7f42e976f6b4089db3332c03d&logoutId=0bda862ccd3e639ba81234491cbec7ba   (e5be5b71)
2017-09-13T02:27:12.0464446+03:00 0HL7OIHK18E3T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:12.0464446+03:00 0HL7OIHK18E3T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-13T02:27:12.0589539+03:00 0HL7OIHK18E3T [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-13T02:27:12.0704633+03:00 0HL7OIHK18E3T [INF] Request finished in 26.059ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:27:13.1651864+03:00 0HL7OIHK18E3U [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-13T02:27:13.1711907+03:00 0HL7OIHK18E3U [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:13.1766958+03:00 0HL7OIHK18E3U [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-13T02:27:13.5884671+03:00 0HL7OIHK18E3U [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-13T02:27:13.8211206+03:00 0HL7OIHK18E3U [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 653.5393ms (afa2e885)
2017-09-13T02:27:13.8231219+03:00 0HL7OIHK18E3U [INF] Request finished in 656.7493ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T02:27:18.5963496+03:00 0HL7OIHK18E3V [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-13T02:27:18.6003511+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:18.7049494+03:00 0HL7OIHK18E3V [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T02:27:18.8862197+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-13T02:27:18.9927897+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:27:18.9957917+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:27:18.9982932+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:27:19.0002945+03:00 0HL7OIHK18E3V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:27:19.0303144+03:00 0HL7OIHK18E3V [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T02:27:19.0313162+03:00 0HL7OIHK18E3V [INF] User logged in. (fdce0db4)
2017-09-13T02:27:19.0348184+03:00 0HL7OIHK18E3V [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-13T02:27:19.0353181+03:00 0HL7OIHK18E3V [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 437.6788ms (afa2e885)
2017-09-13T02:27:19.0383225+03:00 0HL7OIHK18E3V [INF] Request finished in 440.0749ms 302  (15c52c40)
2017-09-13T02:27:19.0403214+03:00 0HL7OIHK18E40 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-13T02:27:19.0428233+03:00 0HL7OIHK18E40 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:19.0438235+03:00 0HL7OIHK18E40 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:19.0438235+03:00 0HL7OIHK18E40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:19.0478274+03:00 0HL7OIHK18E40 [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-13T02:27:19.1308816+03:00 0HL7OIHK18E40 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-13T02:27:19.1563983+03:00 0HL7OIHK18E40 [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 97.386ms (afa2e885)
2017-09-13T02:27:19.1729090+03:00 0HL7OIHK18E40 [INF] Request finished in 116.4281ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T02:27:19.1744126+03:00 0HL7OIHK18E41 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-13T02:27:19.1774130+03:00 0HL7OIHK18E41 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:19.1784129+03:00 0HL7OIHK18E41 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:19.1784129+03:00 0HL7OIHK18E41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:19.1794135+03:00 0HL7OIHK18E41 [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-13T02:27:19.1824155+03:00 0HL7OIHK18E41 [INF] Request finished in 8.9001ms 200 image/svg+xml (15c52c40)
2017-09-13T02:27:19.1839171+03:00 0HL7OIHK18E42 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-13T02:27:19.1904204+03:00 0HL7OIHK18E42 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:19.1914211+03:00 0HL7OIHK18E42 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:19.1924225+03:00 0HL7OIHK18E42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:19.1934232+03:00 0HL7OIHK18E42 [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-13T02:27:19.1979260+03:00 0HL7OIHK18E42 [INF] Request finished in 10.772ms 200 image/svg+xml (15c52c40)
2017-09-13T02:27:19.1984261+03:00 0HL7OIHK18E43 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-13T02:27:19.2009284+03:00 0HL7OIHK18E43 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:19.2014281+03:00 0HL7OIHK18E43 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:19.2019286+03:00 0HL7OIHK18E43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:19.2024284+03:00 0HL7OIHK18E43 [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-13T02:27:19.2074325+03:00 0HL7OIHK18E43 [INF] Request finished in 5.3585ms 200 image/svg+xml (15c52c40)
2017-09-13T02:27:19.2094334+03:00 0HL7OIHK18E44 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-13T02:27:19.2119349+03:00 0HL7OIHK18E44 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:19.2124358+03:00 0HL7OIHK18E44 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:19.2129359+03:00 0HL7OIHK18E44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:19.2149369+03:00 0HL7OIHK18E44 [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-13T02:27:19.2159383+03:00 0HL7OIHK18E44 [INF] Request finished in 7.5ms 200 image/svg+xml (15c52c40)
2017-09-13T02:27:29.5755706+03:00 0HL7OIHK18E45 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:27:29.5785742+03:00 0HL7OIHK18E45 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:29.5790775+03:00 0HL7OIHK18E45 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:29.5795744+03:00 0HL7OIHK18E45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:29.5795744+03:00 0HL7OIHK18E45 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:27:29.5805747+03:00 0HL7OIHK18E45 [INF] Request finished in 4.8027ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:27:32.9124316+03:00 0HL7OIHK18E46 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.454716794744374651505258852899&state=15052588528990.8893731592874257   (e5be5b71)
2017-09-13T02:27:32.9154340+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:32.9159341+03:00 0HL7OIHK18E46 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:32.9164346+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:32.9169344+03:00 0HL7OIHK18E46 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:27:32.9174345+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:32.9179354+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:32.9184359+03:00 0HL7OIHK18E46 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052588528990.8893731592874257\",
  \"Nonce\": \"N0.454716794744374651505258852899\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.454716794744374651505258852899\",
    \"state\": \"15052588528990.8893731592874257\"
  }
}" (9a175e33)
2017-09-13T02:27:32.9214379+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:27:32.9309436+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:27:32.9324452+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:27:32.9344458+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:27:32.9369484+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:27:32.9399496+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:27:32.9444528+03:00 0HL7OIHK18E46 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:27:32.9639651+03:00 0HL7OIHK18E46 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052588528990.8893731592874257\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:27:32.9644668+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:32.9709701+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:32.9744727+03:00 0HL7OIHK18E46 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T02:27:32.9759739+03:00 0HL7OIHK18E46 [INF] Request finished in 63.0283ms 302  (15c52c40)
2017-09-13T02:27:35.3910740+03:00 0HL7OIHK18E47 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:27:35.3935751+03:00 0HL7OIHK18E47 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:35.3940752+03:00 0HL7OIHK18E47 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:27:35.3945762+03:00 0HL7OIHK18E47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:27:35.3950759+03:00 0HL7OIHK18E47 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:27:35.3955764+03:00 0HL7OIHK18E47 [INF] Request finished in 4.4056ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:27:35.4140893+03:00 0HL7OIHK18E48 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T02:27:35.4160898+03:00 0HL7OIHK18E48 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:35.4165900+03:00 0HL7OIHK18E48 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T02:27:35.4170905+03:00 0HL7OIHK18E48 [INF] Request finished in 3.1283ms 200 application/json (15c52c40)
2017-09-13T02:27:35.5176573+03:00 0HL7OIHK18E49 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T02:27:35.5181574+03:00 0HL7OIHK18E49 [INF] Request finished in 0.9975ms 204  (15c52c40)
2017-09-13T02:27:35.5776971+03:00 0HL7OIHK18E4A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T02:27:35.5806986+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:35.5811992+03:00 0HL7OIHK18E4A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T02:27:35.5811992+03:00 0HL7OIHK18E4A [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T02:27:35.6022139+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:27:35.6082167+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:27:35.6107189+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:27:35.6132204+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:27:35.6147212+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:27:35.6182233+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:27:35.6202246+03:00 0HL7OIHK18E4B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:27:35.6217270+03:00 0HL7OIHK18E4A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:27:35.6222267+03:00 0HL7OIHK18E4A [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T02:27:35.6232270+03:00 0HL7OIHK18E4A [INF] Request finished in 45.5161ms 200 application/json (15c52c40)
2017-09-13T02:27:35.6242277+03:00 0HL7OIHK18E4B [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:35.6242277+03:00 0HL7OIHK18E4B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:27:35.6432399+03:00 0HL7OIHK18E4B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:27:35.6437404+03:00 0HL7OIHK18E4B [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:27:35.6447415+03:00 0HL7OIHK18E4B [INF] Request finished in 24.608ms 200 application/json (15c52c40)
2017-09-13T02:27:45.5153587+03:00 0HL7OIHK18E4C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:27:45.5173593+03:00 0HL7OIHK18E4C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:27:45.5178598+03:00 0HL7OIHK18E4C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:27:45.5348707+03:00 0HL7OIHK18E4C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:27:45.5348707+03:00 0HL7OIHK18E4C [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:27:45.5358713+03:00 0HL7OIHK18E4C [INF] Request finished in 20.7656ms 200 application/json (15c52c40)
2017-09-13T02:32:26.5387955+03:00 0HL7OIHK18E4D [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:32:26.8248517+03:00 0HL7OIHK18E4D [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:32:26.8248517+03:00 0HL7OIHK18E4D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:32:26.9039048+03:00 0HL7OIHK18E4D [INF] Executed DbCommand (54ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:32:26.9039048+03:00 0HL7OIHK18E4D [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:32:26.9049051+03:00 0HL7OIHK18E4D [INF] Request finished in 366.3412ms 200 application/json (15c52c40)
2017-09-13T02:32:34.4467942+03:00 0HL7OIHK18E4E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8313561150268111505259154435&state=15052591544350.16913459589619362   (e5be5b71)
2017-09-13T02:32:34.4497962+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:32:34.4502963+03:00 0HL7OIHK18E4E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:32:34.4507964+03:00 0HL7OIHK18E4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:32:34.4507964+03:00 0HL7OIHK18E4E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:32:34.4512978+03:00 0HL7OIHK18E4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:32:34.4517975+03:00 0HL7OIHK18E4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:32:34.4522972+03:00 0HL7OIHK18E4E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052591544350.16913459589619362\",
  \"Nonce\": \"N0.8313561150268111505259154435\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8313561150268111505259154435\",
    \"state\": \"15052591544350.16913459589619362\"
  }
}" (9a175e33)
2017-09-13T02:32:34.4583020+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:32:34.5172539+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:32:34.5212581+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:32:34.5242589+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:32:34.5267611+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:32:34.5282619+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:32:34.5307634+03:00 0HL7OIHK18E4E [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:32:34.5442714+03:00 0HL7OIHK18E4E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052591544350.16913459589619362\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:32:34.5447727+03:00 0HL7OIHK18E4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:32:34.5457729+03:00 0HL7OIHK18E4E [INF] Request finished in 99.4429ms 302  (15c52c40)
2017-09-13T02:32:38.4117568+03:00 0HL7OIHK18E4F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T02:32:38.4142582+03:00 0HL7OIHK18E4F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:32:38.4147592+03:00 0HL7OIHK18E4F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T02:32:38.4157594+03:00 0HL7OIHK18E4F [INF] Request finished in 3.8001ms 200 application/json (15c52c40)
2017-09-13T02:32:38.8235305+03:00 0HL7OIHK18E4G [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:32:38.8265317+03:00 0HL7OIHK18E4G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:32:38.8265317+03:00 0HL7OIHK18E4G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:32:38.8495469+03:00 0HL7OIHK18E4G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:32:38.8500482+03:00 0HL7OIHK18E4G [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:32:38.8515479+03:00 0HL7OIHK18E4G [INF] Request finished in 28.1227ms 200 application/json (15c52c40)
2017-09-13T02:32:39.6986091+03:00 0HL7OIHK18E4H [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:32:39.7011109+03:00 0HL7OIHK18E4H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:32:39.7016111+03:00 0HL7OIHK18E4H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:32:39.7436389+03:00 0HL7OIHK18E4H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:32:39.7446408+03:00 0HL7OIHK18E4H [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:32:39.7531454+03:00 0HL7OIHK18E4H [INF] Request finished in 47.7716ms 200 application/json (15c52c40)
2017-09-13T02:33:19.2928579+03:00 0HL7OIHK18E4I [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:33:19.2973603+03:00 0HL7OIHK18E4I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:33:19.2973603+03:00 0HL7OIHK18E4I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:33:19.3173732+03:00 0HL7OIHK18E4I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:33:19.3178737+03:00 0HL7OIHK18E4I [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:33:19.3183746+03:00 0HL7OIHK18E4I [INF] Request finished in 26.2284ms 200 application/json (15c52c40)
2017-09-13T02:33:20.1743893+03:00 0HL7OIHK18E4J [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:33:20.1773909+03:00 0HL7OIHK18E4J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:33:20.1773909+03:00 0HL7OIHK18E4J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:33:20.1994059+03:00 0HL7OIHK18E4J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:33:20.1999060+03:00 0HL7OIHK18E4J [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:33:20.2019069+03:00 0HL7OIHK18E4J [INF] Request finished in 26.9488ms 200 application/json (15c52c40)
2017-09-13T02:33:29.0733772+03:00 0HL7OIHK18E4K [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:33:29.0768797+03:00 0HL7OIHK18E4K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:33:29.0773799+03:00 0HL7OIHK18E4K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:33:29.0963921+03:00 0HL7OIHK18E4K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:33:29.0968930+03:00 0HL7OIHK18E4K [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:33:29.0973935+03:00 0HL7OIHK18E4K [INF] Request finished in 24.5338ms 200 application/json (15c52c40)
2017-09-13T02:33:32.0950215+03:00 0HL7OIHK18E4L [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:33:32.0970229+03:00 0HL7OIHK18E4L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:33:32.0970229+03:00 0HL7OIHK18E4L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:33:32.1150356+03:00 0HL7OIHK18E4L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:33:32.1150356+03:00 0HL7OIHK18E4L [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:33:32.1160355+03:00 0HL7OIHK18E4L [INF] Request finished in 21.1856ms 200 application/json (15c52c40)
2017-09-13T02:37:35.5103495+03:00 0HL7OIHK18E4M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68248946847675881505259455441&state=15052594554410.5922948561080521   (e5be5b71)
2017-09-13T02:37:35.5173537+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:37:35.5183544+03:00 0HL7OIHK18E4M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:37:35.5193551+03:00 0HL7OIHK18E4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:35.5193551+03:00 0HL7OIHK18E4M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:37:35.5203557+03:00 0HL7OIHK18E4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:35.5213564+03:00 0HL7OIHK18E4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:35.5213564+03:00 0HL7OIHK18E4M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594554410.5922948561080521\",
  \"Nonce\": \"N0.68248946847675881505259455441\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68248946847675881505259455441\",
    \"state\": \"15052594554410.5922948561080521\"
  }
}" (9a175e33)
2017-09-13T02:37:35.5393683+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:37:35.5593816+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:35.5643849+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:37:35.5853996+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:37:35.6424362+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:37:35.6614488+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:35.6654518+03:00 0HL7OIHK18E4M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:37:35.6894681+03:00 0HL7OIHK18E4M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594554410.5922948561080521\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:37:35.6924697+03:00 0HL7OIHK18E4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:35.7064790+03:00 0HL7OIHK18E4M [INF] Request finished in 188.1439ms 302  (15c52c40)
2017-09-13T02:37:42.5500117+03:00 0HL7OIHK18E4N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6038142797531681505259462525&state=15052594625260.6654321676923203   (e5be5b71)
2017-09-13T02:37:42.5530144+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:37:42.5540147+03:00 0HL7OIHK18E4N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:37:42.5540147+03:00 0HL7OIHK18E4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:42.5540147+03:00 0HL7OIHK18E4N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:37:42.5550150+03:00 0HL7OIHK18E4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:42.5550150+03:00 0HL7OIHK18E4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:42.5560160+03:00 0HL7OIHK18E4N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594625260.6654321676923203\",
  \"Nonce\": \"N0.6038142797531681505259462525\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6038142797531681505259462525\",
    \"state\": \"15052594625260.6654321676923203\"
  }
}" (9a175e33)
2017-09-13T02:37:42.5600179+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:37:42.5700249+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:42.5800315+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:37:42.5830343+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:37:42.5850352+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:37:42.5890379+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:42.5970424+03:00 0HL7OIHK18E4N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:37:42.6160558+03:00 0HL7OIHK18E4N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594625260.6654321676923203\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:37:42.6190574+03:00 0HL7OIHK18E4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:42.6290636+03:00 0HL7OIHK18E4N [INF] Request finished in 77.8626ms 302  (15c52c40)
2017-09-13T02:37:51.4433181+03:00 0HL7OIHK18E4O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.078487960682048331505259471434&state=15052594714340.7906195961007372   (e5be5b71)
2017-09-13T02:37:51.4460742+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:37:51.4460742+03:00 0HL7OIHK18E4O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:37:51.4460742+03:00 0HL7OIHK18E4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:51.4470737+03:00 0HL7OIHK18E4O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:37:51.4470737+03:00 0HL7OIHK18E4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:51.4470737+03:00 0HL7OIHK18E4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:51.4480751+03:00 0HL7OIHK18E4O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594714340.7906195961007372\",
  \"Nonce\": \"N0.078487960682048331505259471434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.078487960682048331505259471434\",
    \"state\": \"15052594714340.7906195961007372\"
  }
}" (9a175e33)
2017-09-13T02:37:51.4510775+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:37:51.4650698+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:51.4660720+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:37:51.4680726+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:37:51.4700727+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:37:51.4720756+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:51.4740758+03:00 0HL7OIHK18E4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:37:51.5110865+03:00 0HL7OIHK18E4O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594714340.7906195961007372\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:37:51.5120867+03:00 0HL7OIHK18E4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:51.5130874+03:00 0HL7OIHK18E4O [INF] Request finished in 72.1049ms 302  (15c52c40)
2017-09-13T02:37:55.4491042+03:00 0HL7OIHK18E4P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78580279166909681505259475434&state=15052594754340.3910634977029226   (e5be5b71)
2017-09-13T02:37:55.4521058+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:37:55.4531064+03:00 0HL7OIHK18E4P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:37:55.4541075+03:00 0HL7OIHK18E4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:55.4541075+03:00 0HL7OIHK18E4P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:37:55.4551109+03:00 0HL7OIHK18E4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:55.4561092+03:00 0HL7OIHK18E4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:55.4561092+03:00 0HL7OIHK18E4P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594754340.3910634977029226\",
  \"Nonce\": \"N0.78580279166909681505259475434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78580279166909681505259475434\",
    \"state\": \"15052594754340.3910634977029226\"
  }
}" (9a175e33)
2017-09-13T02:37:55.4601111+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:37:55.4791237+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:55.4811258+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:37:55.4851277+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:37:55.4941376+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:37:55.4951347+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:55.4971360+03:00 0HL7OIHK18E4P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:37:55.5171489+03:00 0HL7OIHK18E4P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594754340.3910634977029226\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:37:55.5181499+03:00 0HL7OIHK18E4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:55.5191506+03:00 0HL7OIHK18E4P [INF] Request finished in 69.9836ms 302  (15c52c40)
2017-09-13T02:37:59.0434872+03:00 0HL7OIHK18E4Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96850271107820781505259479026&state=15052594790260.06603032322316915   (e5be5b71)
2017-09-13T02:37:59.0454866+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:37:59.0464876+03:00 0HL7OIHK18E4Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:37:59.0464876+03:00 0HL7OIHK18E4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:59.0474887+03:00 0HL7OIHK18E4Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:37:59.0474887+03:00 0HL7OIHK18E4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:59.0484886+03:00 0HL7OIHK18E4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:59.0484886+03:00 0HL7OIHK18E4Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594790260.06603032322316915\",
  \"Nonce\": \"N0.96850271107820781505259479026\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96850271107820781505259479026\",
    \"state\": \"15052594790260.06603032322316915\"
  }
}" (9a175e33)
2017-09-13T02:37:59.0524912+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:37:59.0654994+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:59.0675008+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:37:59.0735043+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:37:59.0755064+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:37:59.0795083+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:37:59.0825103+03:00 0HL7OIHK18E4Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:37:59.1055259+03:00 0HL7OIHK18E4Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594790260.06603032322316915\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:37:59.1085283+03:00 0HL7OIHK18E4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:37:59.1125310+03:00 0HL7OIHK18E4Q [INF] Request finished in 67.9507ms 302  (15c52c40)
2017-09-13T02:38:03.0321270+03:00 0HL7OIHK18E4R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.229456051170500391505259482992&state=15052594829920.8835236091043972   (e5be5b71)
2017-09-13T02:38:03.0361305+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:38:03.0381314+03:00 0HL7OIHK18E4R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:38:03.0391356+03:00 0HL7OIHK18E4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:03.0401335+03:00 0HL7OIHK18E4R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:38:03.0421340+03:00 0HL7OIHK18E4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:03.0431343+03:00 0HL7OIHK18E4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:03.0431343+03:00 0HL7OIHK18E4R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594829920.8835236091043972\",
  \"Nonce\": \"N0.229456051170500391505259482992\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.229456051170500391505259482992\",
    \"state\": \"15052594829920.8835236091043972\"
  }
}" (9a175e33)
2017-09-13T02:38:03.0481376+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:38:03.0611462+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:03.0651489+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:38:03.0681509+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:38:03.0761566+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:38:03.0861632+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:03.0951688+03:00 0HL7OIHK18E4R [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:38:03.1161835+03:00 0HL7OIHK18E4R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594829920.8835236091043972\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:38:03.1181836+03:00 0HL7OIHK18E4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:03.1291917+03:00 0HL7OIHK18E4R [INF] Request finished in 107.104ms 302  (15c52c40)
2017-09-13T02:38:13.4420214+03:00 0HL7OIHK18E4S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.326503364888933941505259493392&state=15052594933920.9815729535302549   (e5be5b71)
2017-09-13T02:38:13.4700411+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:38:13.4770450+03:00 0HL7OIHK18E4S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:38:13.4770450+03:00 0HL7OIHK18E4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:13.4780460+03:00 0HL7OIHK18E4S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:38:13.4790463+03:00 0HL7OIHK18E4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:13.4860517+03:00 0HL7OIHK18E4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:13.4870520+03:00 0HL7OIHK18E4S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594933920.9815729535302549\",
  \"Nonce\": \"N0.326503364888933941505259493392\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.326503364888933941505259493392\",
    \"state\": \"15052594933920.9815729535302549\"
  }
}" (9a175e33)
2017-09-13T02:38:13.7972571+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:38:13.8322803+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:13.9473565+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:38:14.0204053+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:38:14.0274091+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:38:14.0764416+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:14.1164681+03:00 0HL7OIHK18E4S [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:38:14.1524920+03:00 0HL7OIHK18E4S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594933920.9815729535302549\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:38:14.1544937+03:00 0HL7OIHK18E4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:14.1675023+03:00 0HL7OIHK18E4S [INF] Request finished in 746.8425ms 302  (15c52c40)
2017-09-13T02:38:19.5890932+03:00 0HL7OIHK18E4T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95979603346912071505259499322&state=15052594993220.6587632042597531   (e5be5b71)
2017-09-13T02:38:19.6381252+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:38:19.6791524+03:00 0HL7OIHK18E4T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:38:19.7532015+03:00 0HL7OIHK18E4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:19.7532015+03:00 0HL7OIHK18E4T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:38:19.8252492+03:00 0HL7OIHK18E4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:19.8532677+03:00 0HL7OIHK18E4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:19.8532677+03:00 0HL7OIHK18E4T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052594993220.6587632042597531\",
  \"Nonce\": \"N0.95979603346912071505259499322\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95979603346912071505259499322\",
    \"state\": \"15052594993220.6587632042597531\"
  }
}" (9a175e33)
2017-09-13T02:38:19.9183108+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:38:19.9603383+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:20.0113725+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:38:20.0654082+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:38:20.1134408+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:38:20.1244473+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:38:20.2275152+03:00 0HL7OIHK18E4T [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:38:20.2535332+03:00 0HL7OIHK18E4T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052594993220.6587632042597531\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:38:20.6718099+03:00 0HL7OIHK18E4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:38:20.8129037+03:00 0HL7OIHK18E4T [INF] Request finished in 1309.3382ms 302  (15c52c40)
2017-09-13T02:39:36.4439959+03:00 0HL7OIHK18E4U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.35853844986566831505259576433&state=15052595764330.26747102707517656   (e5be5b71)
2017-09-13T02:39:36.4469987+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:36.4479985+03:00 0HL7OIHK18E4U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:36.4479985+03:00 0HL7OIHK18E4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:36.4479985+03:00 0HL7OIHK18E4U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:36.4489992+03:00 0HL7OIHK18E4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:36.4500002+03:00 0HL7OIHK18E4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:36.4500002+03:00 0HL7OIHK18E4U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595764330.26747102707517656\",
  \"Nonce\": \"N0.35853844986566831505259576433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.35853844986566831505259576433\",
    \"state\": \"15052595764330.26747102707517656\"
  }
}" (9a175e33)
2017-09-13T02:39:36.4530014+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:36.4630093+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:36.4650110+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:36.4670115+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:36.4680126+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:36.4700135+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:36.4720144+03:00 0HL7OIHK18E4U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:36.4880246+03:00 0HL7OIHK18E4U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595764330.26747102707517656\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:36.4890253+03:00 0HL7OIHK18E4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:36.4890253+03:00 0HL7OIHK18E4U [INF] Request finished in 46.6833ms 302  (15c52c40)
2017-09-13T02:39:40.7787711+03:00 0HL7OIHK18E4V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87790667563493521505259580672&state=15052595806720.38461824869843597   (e5be5b71)
2017-09-13T02:39:40.7977836+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:40.7997854+03:00 0HL7OIHK18E4V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:40.8007860+03:00 0HL7OIHK18E4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:40.8007860+03:00 0HL7OIHK18E4V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:40.8027878+03:00 0HL7OIHK18E4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:40.8037884+03:00 0HL7OIHK18E4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:40.8037884+03:00 0HL7OIHK18E4V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595806720.38461824869843597\",
  \"Nonce\": \"N0.87790667563493521505259580672\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87790667563493521505259580672\",
    \"state\": \"15052595806720.38461824869843597\"
  }
}" (9a175e33)
2017-09-13T02:39:40.9708987+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:41.0049208+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:41.0109252+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:41.0419454+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:41.0469487+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:41.0699639+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:41.0859745+03:00 0HL7OIHK18E4V [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:41.1149945+03:00 0HL7OIHK18E4V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595806720.38461824869843597\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:41.1189968+03:00 0HL7OIHK18E4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:41.1209977+03:00 0HL7OIHK18E4V [INF] Request finished in 346.3003ms 302  (15c52c40)
2017-09-13T02:39:44.4572074+03:00 0HL7OIHK18E50 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73496532749254581505259584431&state=15052595844310.6967930585903603   (e5be5b71)
2017-09-13T02:39:44.4592087+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:44.4602098+03:00 0HL7OIHK18E50 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:44.4612140+03:00 0HL7OIHK18E50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:44.4612140+03:00 0HL7OIHK18E50 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:44.4622119+03:00 0HL7OIHK18E50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:44.4622119+03:00 0HL7OIHK18E50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:44.4632118+03:00 0HL7OIHK18E50 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595844310.6967930585903603\",
  \"Nonce\": \"N0.73496532749254581505259584431\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73496532749254581505259584431\",
    \"state\": \"15052595844310.6967930585903603\"
  }
}" (9a175e33)
2017-09-13T02:39:44.4692153+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:44.4822240+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:44.4842253+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:44.4862266+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:44.4942319+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:44.4972343+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:44.4992356+03:00 0HL7OIHK18E50 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:44.5202487+03:00 0HL7OIHK18E50 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595844310.6967930585903603\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:44.5202487+03:00 0HL7OIHK18E50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:44.5212494+03:00 0HL7OIHK18E50 [INF] Request finished in 64.7103ms 302  (15c52c40)
2017-09-13T02:39:47.9054913+03:00 0HL7OIHK18E51 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77705243850807261505259587891&state=15052595878910.48295857078839677   (e5be5b71)
2017-09-13T02:39:47.9084937+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:47.9134966+03:00 0HL7OIHK18E51 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:47.9154979+03:00 0HL7OIHK18E51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:47.9154979+03:00 0HL7OIHK18E51 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:47.9164986+03:00 0HL7OIHK18E51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:47.9164986+03:00 0HL7OIHK18E51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:47.9174996+03:00 0HL7OIHK18E51 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595878910.48295857078839677\",
  \"Nonce\": \"N0.77705243850807261505259587891\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77705243850807261505259587891\",
    \"state\": \"15052595878910.48295857078839677\"
  }
}" (9a175e33)
2017-09-13T02:39:47.9205012+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:47.9375125+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:47.9485194+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:47.9655314+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:47.9755373+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:47.9885459+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:48.0315752+03:00 0HL7OIHK18E51 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:48.0696000+03:00 0HL7OIHK18E51 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595878910.48295857078839677\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:48.1146302+03:00 0HL7OIHK18E51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:48.1186324+03:00 0HL7OIHK18E51 [INF] Request finished in 210.1068ms 302  (15c52c40)
2017-09-13T02:39:51.4558432+03:00 0HL7OIHK18E52 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77816283072077931505259591441&state=15052595914410.045541494250873615   (e5be5b71)
2017-09-13T02:39:51.4588448+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:51.4598458+03:00 0HL7OIHK18E52 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:51.4598458+03:00 0HL7OIHK18E52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:51.4598458+03:00 0HL7OIHK18E52 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:51.4608516+03:00 0HL7OIHK18E52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:51.4608516+03:00 0HL7OIHK18E52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:51.4618471+03:00 0HL7OIHK18E52 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595914410.045541494250873615\",
  \"Nonce\": \"N0.77816283072077931505259591441\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77816283072077931505259591441\",
    \"state\": \"15052595914410.045541494250873615\"
  }
}" (9a175e33)
2017-09-13T02:39:51.4678515+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:51.4858627+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:51.4878644+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:51.4888650+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:51.4918666+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:51.5008726+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:51.5068770+03:00 0HL7OIHK18E52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:51.5268902+03:00 0HL7OIHK18E52 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595914410.045541494250873615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:51.5288927+03:00 0HL7OIHK18E52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:51.5318927+03:00 0HL7OIHK18E52 [INF] Request finished in 75.1878ms 302  (15c52c40)
2017-09-13T02:39:55.4454848+03:00 0HL7OIHK18E53 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.42427298635158771505259595433&state=15052595954330.8320095163437569   (e5be5b71)
2017-09-13T02:39:55.4484880+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:55.4484880+03:00 0HL7OIHK18E53 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:55.4494883+03:00 0HL7OIHK18E53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:55.4494883+03:00 0HL7OIHK18E53 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:55.4494883+03:00 0HL7OIHK18E53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:55.4504889+03:00 0HL7OIHK18E53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:55.4504889+03:00 0HL7OIHK18E53 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595954330.8320095163437569\",
  \"Nonce\": \"N0.42427298635158771505259595433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.42427298635158771505259595433\",
    \"state\": \"15052595954330.8320095163437569\"
  }
}" (9a175e33)
2017-09-13T02:39:55.4544912+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:55.4644982+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:55.4654985+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:55.4675002+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:55.4695015+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:55.4735038+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:55.4745052+03:00 0HL7OIHK18E53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:55.4915161+03:00 0HL7OIHK18E53 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595954330.8320095163437569\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:55.4925168+03:00 0HL7OIHK18E53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:55.4935170+03:00 0HL7OIHK18E53 [INF] Request finished in 48.1111ms 302  (15c52c40)
2017-09-13T02:39:59.4442900+03:00 0HL7OIHK18E54 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47041537583443541505259599432&state=15052595994320.9563381180847341   (e5be5b71)
2017-09-13T02:39:59.4462917+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:39:59.4472923+03:00 0HL7OIHK18E54 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:39:59.4472923+03:00 0HL7OIHK18E54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:59.4482938+03:00 0HL7OIHK18E54 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:39:59.4482938+03:00 0HL7OIHK18E54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:59.4492933+03:00 0HL7OIHK18E54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:59.4492933+03:00 0HL7OIHK18E54 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052595994320.9563381180847341\",
  \"Nonce\": \"N0.47041537583443541505259599432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47041537583443541505259599432\",
    \"state\": \"15052595994320.9563381180847341\"
  }
}" (9a175e33)
2017-09-13T02:39:59.4532955+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:39:59.4643032+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:59.4663053+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:39:59.4693065+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:39:59.4723085+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:39:59.4743102+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:39:59.4783121+03:00 0HL7OIHK18E54 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:39:59.5073321+03:00 0HL7OIHK18E54 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052595994320.9563381180847341\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:39:59.5143360+03:00 0HL7OIHK18E54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:39:59.5193397+03:00 0HL7OIHK18E54 [INF] Request finished in 72.3745ms 302  (15c52c40)
2017-09-13T02:40:02.4486704+03:00 0HL7OIHK18E55 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36962093366903571505259602434&state=15052596024340.14277544995212854   (e5be5b71)
2017-09-13T02:40:02.4536741+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:02.4536741+03:00 0HL7OIHK18E55 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:02.4546747+03:00 0HL7OIHK18E55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:02.4546747+03:00 0HL7OIHK18E55 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:02.4546747+03:00 0HL7OIHK18E55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:02.4556750+03:00 0HL7OIHK18E55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:02.4556750+03:00 0HL7OIHK18E55 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596024340.14277544995212854\",
  \"Nonce\": \"N0.36962093366903571505259602434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36962093366903571505259602434\",
    \"state\": \"15052596024340.14277544995212854\"
  }
}" (9a175e33)
2017-09-13T02:40:02.4656816+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:02.4766889+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:02.4786903+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:02.4876954+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:02.4896971+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:02.4977025+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:02.5057081+03:00 0HL7OIHK18E55 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:02.5247203+03:00 0HL7OIHK18E55 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596024340.14277544995212854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:02.5257214+03:00 0HL7OIHK18E55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:02.5287230+03:00 0HL7OIHK18E55 [INF] Request finished in 77.6948ms 302  (15c52c40)
2017-09-13T02:40:06.4673320+03:00 0HL7OIHK18E56 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.439663595911734761505259606446&state=15052596064460.9403770108612641   (e5be5b71)
2017-09-13T02:40:06.4713351+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:06.4723357+03:00 0HL7OIHK18E56 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:06.4723357+03:00 0HL7OIHK18E56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:06.4733360+03:00 0HL7OIHK18E56 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:06.4753373+03:00 0HL7OIHK18E56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:06.4763384+03:00 0HL7OIHK18E56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:06.4763384+03:00 0HL7OIHK18E56 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596064460.9403770108612641\",
  \"Nonce\": \"N0.439663595911734761505259606446\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.439663595911734761505259606446\",
    \"state\": \"15052596064460.9403770108612641\"
  }
}" (9a175e33)
2017-09-13T02:40:06.4813409+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:06.4993525+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:06.5123650+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:06.5153635+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:06.5183654+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:06.5213674+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:06.5233688+03:00 0HL7OIHK18E56 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:06.5423817+03:00 0HL7OIHK18E56 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596064460.9403770108612641\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:06.5433820+03:00 0HL7OIHK18E56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:06.5443831+03:00 0HL7OIHK18E56 [INF] Request finished in 77.7615ms 302  (15c52c40)
2017-09-13T02:40:16.6190550+03:00 0HL7OIHK18E57 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.462707168996605361505259616601&state=15052596166010.7359948619534766   (e5be5b71)
2017-09-13T02:40:16.6230577+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:16.6230577+03:00 0HL7OIHK18E57 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:16.6240587+03:00 0HL7OIHK18E57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:16.6240587+03:00 0HL7OIHK18E57 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:16.6240587+03:00 0HL7OIHK18E57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:16.6250594+03:00 0HL7OIHK18E57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:16.6260604+03:00 0HL7OIHK18E57 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596166010.7359948619534766\",
  \"Nonce\": \"N0.462707168996605361505259616601\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.462707168996605361505259616601\",
    \"state\": \"15052596166010.7359948619534766\"
  }
}" (9a175e33)
2017-09-13T02:40:16.6300635+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:16.6440716+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:16.6460733+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:16.6550789+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:16.6570806+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:16.6600830+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:16.6620863+03:00 0HL7OIHK18E57 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:16.6810965+03:00 0HL7OIHK18E57 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596166010.7359948619534766\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:16.6820976+03:00 0HL7OIHK18E57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:16.6850992+03:00 0HL7OIHK18E57 [INF] Request finished in 69.0638ms 302  (15c52c40)
2017-09-13T02:40:20.4425874+03:00 0HL7OIHK18E58 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0507264919194363451505259620434&state=15052596204340.030633118258347025   (e5be5b71)
2017-09-13T02:40:20.4455910+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:20.4465901+03:00 0HL7OIHK18E58 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:20.4465901+03:00 0HL7OIHK18E58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:20.4465901+03:00 0HL7OIHK18E58 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:20.4475912+03:00 0HL7OIHK18E58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:20.4485918+03:00 0HL7OIHK18E58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:20.4485918+03:00 0HL7OIHK18E58 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596204340.030633118258347025\",
  \"Nonce\": \"N0.0507264919194363451505259620434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0507264919194363451505259620434\",
    \"state\": \"15052596204340.030633118258347025\"
  }
}" (9a175e33)
2017-09-13T02:40:20.4515946+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:20.4616016+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:20.4646020+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:20.4806130+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:20.4836154+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:20.4856167+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:20.4886183+03:00 0HL7OIHK18E58 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:20.5056292+03:00 0HL7OIHK18E58 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596204340.030633118258347025\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:20.5066303+03:00 0HL7OIHK18E58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:20.5076313+03:00 0HL7OIHK18E58 [INF] Request finished in 66.4625ms 302  (15c52c40)
2017-09-13T02:40:23.4822682+03:00 0HL7OIHK18E59 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.22543033592913521505259623467&state=15052596234670.6821311095449683   (e5be5b71)
2017-09-13T02:40:23.4852705+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:23.4862708+03:00 0HL7OIHK18E59 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:23.4862708+03:00 0HL7OIHK18E59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:23.4862708+03:00 0HL7OIHK18E59 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:23.4872715+03:00 0HL7OIHK18E59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:23.4872715+03:00 0HL7OIHK18E59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:23.4872715+03:00 0HL7OIHK18E59 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596234670.6821311095449683\",
  \"Nonce\": \"N0.22543033592913521505259623467\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.22543033592913521505259623467\",
    \"state\": \"15052596234670.6821311095449683\"
  }
}" (9a175e33)
2017-09-13T02:40:23.4922748+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:23.5052830+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:23.5242964+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:23.5272984+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:23.5633226+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:23.5663234+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:23.5703265+03:00 0HL7OIHK18E59 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:23.5933417+03:00 0HL7OIHK18E59 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596234670.6821311095449683\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:23.5943424+03:00 0HL7OIHK18E59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:23.5973444+03:00 0HL7OIHK18E59 [INF] Request finished in 113.4755ms 302  (15c52c40)
2017-09-13T02:40:27.9972586+03:00 0HL7OIHK18E5A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.158956732629213171505259627981&state=15052596279810.21306141684712965   (e5be5b71)
2017-09-13T02:40:28.0002613+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:28.0012612+03:00 0HL7OIHK18E5A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:28.0012612+03:00 0HL7OIHK18E5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:28.0012612+03:00 0HL7OIHK18E5A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:28.0022615+03:00 0HL7OIHK18E5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:28.0032621+03:00 0HL7OIHK18E5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:28.0032621+03:00 0HL7OIHK18E5A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596279810.21306141684712965\",
  \"Nonce\": \"N0.158956732629213171505259627981\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.158956732629213171505259627981\",
    \"state\": \"15052596279810.21306141684712965\"
  }
}" (9a175e33)
2017-09-13T02:40:28.0072656+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:28.0362840+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:28.0402867+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:28.0502933+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:28.0582990+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:28.0913209+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:28.1063308+03:00 0HL7OIHK18E5A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:28.1343490+03:00 0HL7OIHK18E5A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596279810.21306141684712965\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:28.1353496+03:00 0HL7OIHK18E5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:28.1383520+03:00 0HL7OIHK18E5A [INF] Request finished in 139.5334ms 302  (15c52c40)
2017-09-13T02:40:38.1329721+03:00 0HL7OIHK18E5B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5079715839695921505259638115&state=15052596381150.17900234911931379   (e5be5b71)
2017-09-13T02:40:38.1369748+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:38.1379754+03:00 0HL7OIHK18E5B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:38.1389757+03:00 0HL7OIHK18E5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:38.1399768+03:00 0HL7OIHK18E5B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:38.1399768+03:00 0HL7OIHK18E5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:38.1409774+03:00 0HL7OIHK18E5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:38.1419773+03:00 0HL7OIHK18E5B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596381150.17900234911931379\",
  \"Nonce\": \"N0.5079715839695921505259638115\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5079715839695921505259638115\",
    \"state\": \"15052596381150.17900234911931379\"
  }
}" (9a175e33)
2017-09-13T02:40:38.1439790+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:38.1990155+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:38.2010176+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:38.2040196+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:38.2070208+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:38.2220311+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:38.2240320+03:00 0HL7OIHK18E5B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:38.2420452+03:00 0HL7OIHK18E5B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596381150.17900234911931379\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:38.2440457+03:00 0HL7OIHK18E5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:38.2460466+03:00 0HL7OIHK18E5B [INF] Request finished in 112.5009ms 302  (15c52c40)
2017-09-13T02:40:51.0394913+03:00 0HL7OIHK18E5C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.42654719184879621505259650135&state=15052596501350.7997915373430362   (e5be5b71)
2017-09-13T02:40:51.1860886+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:51.1880903+03:00 0HL7OIHK18E5C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:51.1895911+03:00 0HL7OIHK18E5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:51.1895911+03:00 0HL7OIHK18E5C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:51.1935937+03:00 0HL7OIHK18E5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:51.1955951+03:00 0HL7OIHK18E5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:51.1955951+03:00 0HL7OIHK18E5C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596501350.7997915373430362\",
  \"Nonce\": \"N0.42654719184879621505259650135\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.42654719184879621505259650135\",
    \"state\": \"15052596501350.7997915373430362\"
  }
}" (9a175e33)
2017-09-13T02:40:51.2291171+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:51.4712775+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:51.5683417+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:51.5763470+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:51.8460255+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:52.7060953+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:52.7461218+03:00 0HL7OIHK18E5C [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:40:52.7651360+03:00 0HL7OIHK18E5C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596501350.7997915373430362\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:40:52.7741404+03:00 0HL7OIHK18E5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:52.7746405+03:00 0HL7OIHK18E5C [INF] Request finished in 2633.2312ms 302  (15c52c40)
2017-09-13T02:40:54.0129609+03:00 0HL7OIHK18E5D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26219541716437121505259653433&state=15052596534330.8981373369271457   (e5be5b71)
2017-09-13T02:40:54.0880106+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:40:54.0885107+03:00 0HL7OIHK18E5D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:40:54.0950160+03:00 0HL7OIHK18E5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:54.0955162+03:00 0HL7OIHK18E5D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:40:54.1090249+03:00 0HL7OIHK18E5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:54.1305393+03:00 0HL7OIHK18E5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:40:54.1305393+03:00 0HL7OIHK18E5D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596534330.8981373369271457\",
  \"Nonce\": \"N0.26219541716437121505259653433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26219541716437121505259653433\",
    \"state\": \"15052596534330.8981373369271457\"
  }
}" (9a175e33)
2017-09-13T02:40:55.1372053+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:40:55.1737297+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:40:56.2099170+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:40:57.6178483+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (51ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:40:58.0886603+03:00 0HL7OIHK18E5E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.143485843779013861505259657434&state=15052596574340.8415029848318205   (e5be5b71)
2017-09-13T02:40:58.6915594+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (35ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:40:59.3710103+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:41:00.6578618+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (214ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:41:01.3728359+03:00 0HL7OIHK18E5E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:41:01.3918481+03:00 0HL7OIHK18E5D [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:41:01.4103602+03:00 0HL7OIHK18E5D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596534330.8981373369271457\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:41:01.9757354+03:00 0HL7OIHK18E5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:01.9762360+03:00 0HL7OIHK18E5E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:41:03.2210593+03:00 0HL7OIHK18E5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:04.6244898+03:00 0HL7OIHK18E5F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72812461639833841505259661433&state=15052596614330.24354494626912415   (e5be5b71)
2017-09-13T02:41:05.4665473+03:00 0HL7OIHK18E5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:05.9373597+03:00 0HL7OIHK18E5D [INF] Request finished in 9780.6057ms 302  (15c52c40)
2017-09-13T02:41:05.9378591+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:41:05.9378591+03:00 0HL7OIHK18E5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:05.9383596+03:00 0HL7OIHK18E5E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596574340.8415029848318205\",
  \"Nonce\": \"N0.143485843779013861505259657434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.143485843779013861505259657434\",
    \"state\": \"15052596574340.8415029848318205\"
  }
}" (9a175e33)
2017-09-13T02:41:05.9383596+03:00 0HL7OIHK18E5F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:41:05.9388601+03:00 0HL7OIHK18E5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:05.9388601+03:00 0HL7OIHK18E5F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:41:05.9393610+03:00 0HL7OIHK18E5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:05.9398643+03:00 0HL7OIHK18E5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:05.9398643+03:00 0HL7OIHK18E5F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052596614330.24354494626912415\",
  \"Nonce\": \"N0.72812461639833841505259661433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72812461639833841505259661433\",
    \"state\": \"15052596614330.24354494626912415\"
  }
}" (9a175e33)
2017-09-13T02:41:07.4508620+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (30ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:41:07.4698753+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:41:08.6686678+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:41:09.2005206+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:41:09.2365449+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (147ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:41:09.8309678+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:41:10.7375674+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (39ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:41:10.7525778+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (35ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:41:11.5491053+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (35ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:41:12.1990364+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (21ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:41:12.3671477+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:41:12.5937973+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:41:12.6003018+03:00 0HL7OIHK18E5F [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:41:12.6173130+03:00 0HL7OIHK18E5F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596614330.24354494626912415\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:41:12.6208159+03:00 0HL7OIHK18E5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:12.6448315+03:00 0HL7OIHK18E5F [INF] Request finished in 11165.3221ms 302  (15c52c40)
2017-09-13T02:41:12.8529689+03:00 0HL7OIHK18E5E [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:41:12.8719827+03:00 0HL7OIHK18E5E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052596574340.8415029848318205\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:41:12.9935618+03:00 0HL7OIHK18E5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:41:13.1276518+03:00 0HL7OIHK18E5E [INF] Request finished in 15533.0058ms 302  (15c52c40)
2017-09-13T02:42:09.4414664+03:00 0HL7OIHK18E5G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91604853966361441505259729432&state=15052597294320.677706479875456   (e5be5b71)
2017-09-13T02:42:09.4444688+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:09.4454694+03:00 0HL7OIHK18E5G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:09.4459700+03:00 0HL7OIHK18E5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:09.4459700+03:00 0HL7OIHK18E5G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:09.4469702+03:00 0HL7OIHK18E5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:09.4479709+03:00 0HL7OIHK18E5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:09.4479709+03:00 0HL7OIHK18E5G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597294320.677706479875456\",
  \"Nonce\": \"N0.91604853966361441505259729432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91604853966361441505259729432\",
    \"state\": \"15052597294320.677706479875456\"
  }
}" (9a175e33)
2017-09-13T02:42:09.4549759+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:09.4674836+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:09.4709861+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:09.4729879+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:09.4749904+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:09.4769909+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:09.4784913+03:00 0HL7OIHK18E5G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:09.4960027+03:00 0HL7OIHK18E5G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597294320.677706479875456\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:09.4970034+03:00 0HL7OIHK18E5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:09.4985050+03:00 0HL7OIHK18E5G [INF] Request finished in 57.3002ms 302  (15c52c40)
2017-09-13T02:42:13.4394130+03:00 0HL7OIHK18E5H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70873778258480021505259733432&state=15052597334320.735705338528726   (e5be5b71)
2017-09-13T02:42:13.4419140+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:13.4424145+03:00 0HL7OIHK18E5H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:13.4429155+03:00 0HL7OIHK18E5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:13.4429155+03:00 0HL7OIHK18E5H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:13.4434152+03:00 0HL7OIHK18E5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:13.4434152+03:00 0HL7OIHK18E5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:13.4439146+03:00 0HL7OIHK18E5H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597334320.735705338528726\",
  \"Nonce\": \"N0.70873778258480021505259733432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70873778258480021505259733432\",
    \"state\": \"15052597334320.735705338528726\"
  }
}" (9a175e33)
2017-09-13T02:42:13.4459155+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:13.4559253+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:13.4579234+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:13.4594246+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:13.4609258+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:13.4624278+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:13.4639278+03:00 0HL7OIHK18E5H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:13.4814396+03:00 0HL7OIHK18E5H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597334320.735705338528726\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:13.4824415+03:00 0HL7OIHK18E5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:13.4829420+03:00 0HL7OIHK18E5H [INF] Request finished in 44.3023ms 302  (15c52c40)
2017-09-13T02:42:17.4414569+03:00 0HL7OIHK18E5I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.349464158177533071505259737431&state=15052597374310.13610345083458908   (e5be5b71)
2017-09-13T02:42:17.4439576+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:17.4444581+03:00 0HL7OIHK18E5I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:17.4444581+03:00 0HL7OIHK18E5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:17.4449586+03:00 0HL7OIHK18E5I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:17.4454588+03:00 0HL7OIHK18E5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:17.4459597+03:00 0HL7OIHK18E5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:17.4459597+03:00 0HL7OIHK18E5I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597374310.13610345083458908\",
  \"Nonce\": \"N0.349464158177533071505259737431\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.349464158177533071505259737431\",
    \"state\": \"15052597374310.13610345083458908\"
  }
}" (9a175e33)
2017-09-13T02:42:17.4489625+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:17.4564661+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:17.4579673+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:17.4599690+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:17.4619699+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:17.4639712+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:17.4664731+03:00 0HL7OIHK18E5I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:17.4839845+03:00 0HL7OIHK18E5I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597374310.13610345083458908\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:17.4849852+03:00 0HL7OIHK18E5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:17.4859862+03:00 0HL7OIHK18E5I [INF] Request finished in 44.8644ms 302  (15c52c40)
2017-09-13T02:42:21.4465194+03:00 0HL7OIHK18E5J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.029476192796234371505259741432&state=15052597414320.8657094199824222   (e5be5b71)
2017-09-13T02:42:21.4490209+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:21.4500216+03:00 0HL7OIHK18E5J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:21.4505221+03:00 0HL7OIHK18E5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:21.4510226+03:00 0HL7OIHK18E5J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:21.4515235+03:00 0HL7OIHK18E5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:21.4525238+03:00 0HL7OIHK18E5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:21.4525238+03:00 0HL7OIHK18E5J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597414320.8657094199824222\",
  \"Nonce\": \"N0.029476192796234371505259741432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.029476192796234371505259741432\",
    \"state\": \"15052597414320.8657094199824222\"
  }
}" (9a175e33)
2017-09-13T02:42:21.4570266+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:21.4680339+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:21.4705349+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:21.4735377+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:21.4765397+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:21.4795417+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:21.4820432+03:00 0HL7OIHK18E5J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:21.5010554+03:00 0HL7OIHK18E5J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597414320.8657094199824222\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:21.5015559+03:00 0HL7OIHK18E5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:21.5025573+03:00 0HL7OIHK18E5J [INF] Request finished in 56.6497ms 302  (15c52c40)
2017-09-13T02:42:25.4412955+03:00 0HL7OIHK18E5K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75221027172549571505259745432&state=15052597454320.9576529742468065   (e5be5b71)
2017-09-13T02:42:25.4432980+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:25.4437981+03:00 0HL7OIHK18E5K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:25.4442967+03:00 0HL7OIHK18E5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:25.4442967+03:00 0HL7OIHK18E5K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:25.4447968+03:00 0HL7OIHK18E5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:25.4452993+03:00 0HL7OIHK18E5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:25.4452993+03:00 0HL7OIHK18E5K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597454320.9576529742468065\",
  \"Nonce\": \"N0.75221027172549571505259745432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75221027172549571505259745432\",
    \"state\": \"15052597454320.9576529742468065\"
  }
}" (9a175e33)
2017-09-13T02:42:25.4478008+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:25.4598067+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:25.4618089+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:25.4638094+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:25.4663112+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:25.4693132+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:25.4713146+03:00 0HL7OIHK18E5K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:25.4873256+03:00 0HL7OIHK18E5K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597454320.9576529742468065\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:25.4878257+03:00 0HL7OIHK18E5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:25.4888267+03:00 0HL7OIHK18E5K [INF] Request finished in 48.436ms 302  (15c52c40)
2017-09-13T02:42:30.3288612+03:00 0HL7OIHK18E5L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77419345781935321505259750297&state=15052597502970.05998948179148611   (e5be5b71)
2017-09-13T02:42:30.3358663+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:30.3373675+03:00 0HL7OIHK18E5L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:30.3378672+03:00 0HL7OIHK18E5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:30.3383677+03:00 0HL7OIHK18E5L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:30.3398689+03:00 0HL7OIHK18E5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:30.3403691+03:00 0HL7OIHK18E5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:30.3408696+03:00 0HL7OIHK18E5L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597502970.05998948179148611\",
  \"Nonce\": \"N0.77419345781935321505259750297\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77419345781935321505259750297\",
    \"state\": \"15052597502970.05998948179148611\"
  }
}" (9a175e33)
2017-09-13T02:42:30.3528775+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:30.4939714+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:30.4979736+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:30.5004755+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:30.5510088+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:30.5545105+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:30.5955385+03:00 0HL7OIHK18E5L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:30.6270591+03:00 0HL7OIHK18E5L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597502970.05998948179148611\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:30.6295606+03:00 0HL7OIHK18E5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:30.6460713+03:00 0HL7OIHK18E5L [INF] Request finished in 311.9205ms 302  (15c52c40)
2017-09-13T02:42:44.1845384+03:00 0HL7OIHK18E5M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.304116155394966951505259764130&state=15052597641300.2974619095603248   (e5be5b71)
2017-09-13T02:42:44.2080550+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:44.2085547+03:00 0HL7OIHK18E5M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:44.2090549+03:00 0HL7OIHK18E5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:44.2090549+03:00 0HL7OIHK18E5M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:44.2110578+03:00 0HL7OIHK18E5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:44.2140578+03:00 0HL7OIHK18E5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:44.2145599+03:00 0HL7OIHK18E5M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597641300.2974619095603248\",
  \"Nonce\": \"N0.304116155394966951505259764130\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.304116155394966951505259764130\",
    \"state\": \"15052597641300.2974619095603248\"
  }
}" (9a175e33)
2017-09-13T02:42:44.2180608+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:44.2405755+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:44.2430774+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:44.2465791+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:44.2645914+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:44.2670929+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:44.2685941+03:00 0HL7OIHK18E5M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:44.2861055+03:00 0HL7OIHK18E5M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597641300.2974619095603248\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:44.2911096+03:00 0HL7OIHK18E5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:44.3016160+03:00 0HL7OIHK18E5M [INF] Request finished in 108.4769ms 302  (15c52c40)
2017-09-13T02:42:47.8654766+03:00 0HL7OIHK18E5N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48997324521857321505259767455&state=15052597674550.5055253119317693   (e5be5b71)
2017-09-13T02:42:47.8679789+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:47.8684786+03:00 0HL7OIHK18E5N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:47.8689787+03:00 0HL7OIHK18E5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:47.8694793+03:00 0HL7OIHK18E5N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:47.8714806+03:00 0HL7OIHK18E5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:47.8719819+03:00 0HL7OIHK18E5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:47.8724809+03:00 0HL7OIHK18E5N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597674550.5055253119317693\",
  \"Nonce\": \"N0.48997324521857321505259767455\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48997324521857321505259767455\",
    \"state\": \"15052597674550.5055253119317693\"
  }
}" (9a175e33)
2017-09-13T02:42:47.8779851+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:47.8994987+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:47.9025007+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:47.9125074+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:47.9185113+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:47.9340218+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:47.9495319+03:00 0HL7OIHK18E5N [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:47.9820532+03:00 0HL7OIHK18E5N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597674550.5055253119317693\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:47.9925612+03:00 0HL7OIHK18E5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:48.0010662+03:00 0HL7OIHK18E5N [INF] Request finished in 129.1522ms 302  (15c52c40)
2017-09-13T02:42:51.4409548+03:00 0HL7OIHK18E5O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.091677657880370411505259771431&state=15052597714310.5163105592120207   (e5be5b71)
2017-09-13T02:42:51.4439560+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:51.4444561+03:00 0HL7OIHK18E5O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:51.4449559+03:00 0HL7OIHK18E5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:51.4449559+03:00 0HL7OIHK18E5O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:51.4454564+03:00 0HL7OIHK18E5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:51.4459569+03:00 0HL7OIHK18E5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:51.4459569+03:00 0HL7OIHK18E5O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597714310.5163105592120207\",
  \"Nonce\": \"N0.091677657880370411505259771431\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.091677657880370411505259771431\",
    \"state\": \"15052597714310.5163105592120207\"
  }
}" (9a175e33)
2017-09-13T02:42:51.4489601+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:51.4599662+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:51.4619679+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:51.4634699+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:51.4649695+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:51.4664719+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:51.4689734+03:00 0HL7OIHK18E5O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:51.4839837+03:00 0HL7OIHK18E5O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597714310.5163105592120207\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:51.4844823+03:00 0HL7OIHK18E5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:51.4849844+03:00 0HL7OIHK18E5O [INF] Request finished in 44.8111ms 302  (15c52c40)
2017-09-13T02:42:54.4439426+03:00 0HL7OIHK18E5P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75709183622528411505259774433&state=15052597744330.3407477006602744   (e5be5b71)
2017-09-13T02:42:54.4464444+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:42:54.4469442+03:00 0HL7OIHK18E5P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:42:54.4474447+03:00 0HL7OIHK18E5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:54.4474447+03:00 0HL7OIHK18E5P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:42:54.4479448+03:00 0HL7OIHK18E5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:54.4484454+03:00 0HL7OIHK18E5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:54.4484454+03:00 0HL7OIHK18E5P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597744330.3407477006602744\",
  \"Nonce\": \"N0.75709183622528411505259774433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75709183622528411505259774433\",
    \"state\": \"15052597744330.3407477006602744\"
  }
}" (9a175e33)
2017-09-13T02:42:54.4514478+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:42:54.4639558+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:54.4659572+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:42:54.4684590+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:42:54.4709609+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:42:54.4744626+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:42:54.4779651+03:00 0HL7OIHK18E5P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:42:54.5004802+03:00 0HL7OIHK18E5P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597744330.3407477006602744\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:42:54.5014809+03:00 0HL7OIHK18E5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:42:54.5024816+03:00 0HL7OIHK18E5P [INF] Request finished in 58.7947ms 302  (15c52c40)
2017-09-13T02:43:03.5830541+03:00 0HL7OIHK18E5Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83778217239148821505259777718&state=15052597777180.01900631507703765   (e5be5b71)
2017-09-13T02:43:03.5845545+03:00 0HL7OIHK18E5R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14044405106138981505259783132&state=15052597831320.9553188348103814   (e5be5b71)
2017-09-13T02:43:03.5930607+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:03.5940613+03:00 0HL7OIHK18E5Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:03.5945615+03:00 0HL7OIHK18E5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.5945615+03:00 0HL7OIHK18E5Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:03.5955621+03:00 0HL7OIHK18E5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.5965628+03:00 0HL7OIHK18E5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.5965628+03:00 0HL7OIHK18E5Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597777180.01900631507703765\",
  \"Nonce\": \"N0.83778217239148821505259777718\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83778217239148821505259777718\",
    \"state\": \"15052597777180.01900631507703765\"
  }
}" (9a175e33)
2017-09-13T02:43:03.6480967+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:03.6485969+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:03.7751813+03:00 0HL7OIHK18E5R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:03.7756810+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:03.8282168+03:00 0HL7OIHK18E5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.8282168+03:00 0HL7OIHK18E5R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:03.8287162+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:03.8982632+03:00 0HL7OIHK18E5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.8992635+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:03.9928253+03:00 0HL7OIHK18E5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:03.9943264+03:00 0HL7OIHK18E5R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597831320.9553188348103814\",
  \"Nonce\": \"N0.14044405106138981505259783132\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14044405106138981505259783132\",
    \"state\": \"15052597831320.9553188348103814\"
  }
}" (9a175e33)
2017-09-13T02:43:03.9943264+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:04.1989622+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:04.2009635+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (27ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:04.2990849+03:00 0HL7OIHK18E5Q [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:04.2995854+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:04.3286047+03:00 0HL7OIHK18E5Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597777180.01900631507703765\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:04.5519186+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:04.5524188+03:00 0HL7OIHK18E5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:04.5529197+03:00 0HL7OIHK18E5Q [INF] Request finished in 1411.6304ms 302  (15c52c40)
2017-09-13T02:43:04.6684957+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (47ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:05.2068526+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:05.8287639+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:06.5222244+03:00 0HL7OIHK18E5R [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:06.5467401+03:00 0HL7OIHK18E5R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597831320.9553188348103814\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:07.0365647+03:00 0HL7OIHK18E5S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.430509762221338741505259786433&state=15052597864330.7476009397320429   (e5be5b71)
2017-09-13T02:43:07.0370648+03:00 0HL7OIHK18E5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:07.0375649+03:00 0HL7OIHK18E5R [INF] Request finished in 3895.8722ms 302  (15c52c40)
2017-09-13T02:43:07.0605798+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:07.0610807+03:00 0HL7OIHK18E5S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:07.0615809+03:00 0HL7OIHK18E5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:07.0620810+03:00 0HL7OIHK18E5S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:07.0620810+03:00 0HL7OIHK18E5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:07.0630817+03:00 0HL7OIHK18E5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:07.0630817+03:00 0HL7OIHK18E5S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597864330.7476009397320429\",
  \"Nonce\": \"N0.430509762221338741505259786433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.430509762221338741505259786433\",
    \"state\": \"15052597864330.7476009397320429\"
  }
}" (9a175e33)
2017-09-13T02:43:07.2667167+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:08.1302883+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:08.6481319+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:08.6526343+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:08.6661438+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:08.6866572+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:08.6951622+03:00 0HL7OIHK18E5S [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:08.7161769+03:00 0HL7OIHK18E5S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597864330.7476009397320429\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:08.7176773+03:00 0HL7OIHK18E5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:08.7191785+03:00 0HL7OIHK18E5S [INF] Request finished in 2271.8269ms 302  (15c52c40)
2017-09-13T02:43:10.4458219+03:00 0HL7OIHK18E5T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.318184136334621841505259790432&state=15052597904320.3499600087830905   (e5be5b71)
2017-09-13T02:43:10.4638343+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:10.4773430+03:00 0HL7OIHK18E5T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:10.4953549+03:00 0HL7OIHK18E5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:10.4953549+03:00 0HL7OIHK18E5T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:10.5068624+03:00 0HL7OIHK18E5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:10.5078626+03:00 0HL7OIHK18E5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:10.5078626+03:00 0HL7OIHK18E5T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597904320.3499600087830905\",
  \"Nonce\": \"N0.318184136334621841505259790432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.318184136334621841505259790432\",
    \"state\": \"15052597904320.3499600087830905\"
  }
}" (9a175e33)
2017-09-13T02:43:10.7525253+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:10.8971212+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:10.9751729+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:11.0587289+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:11.0637310+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:11.0747395+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:11.1868129+03:00 0HL7OIHK18E5T [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:11.2078272+03:00 0HL7OIHK18E5T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597904320.3499600087830905\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:11.2473536+03:00 0HL7OIHK18E5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:11.2853780+03:00 0HL7OIHK18E5T [INF] Request finished in 810.206ms 302  (15c52c40)
2017-09-13T02:43:18.6117306+03:00 0HL7OIHK18E5U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74236611482439051505259798572&state=15052597985720.7193588843462408   (e5be5b71)
2017-09-13T02:43:18.6442524+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:18.6467542+03:00 0HL7OIHK18E5U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:18.6647662+03:00 0HL7OIHK18E5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:18.6647662+03:00 0HL7OIHK18E5U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:18.6952858+03:00 0HL7OIHK18E5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:18.6957863+03:00 0HL7OIHK18E5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:18.6962872+03:00 0HL7OIHK18E5U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052597985720.7193588843462408\",
  \"Nonce\": \"N0.74236611482439051505259798572\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74236611482439051505259798572\",
    \"state\": \"15052597985720.7193588843462408\"
  }
}" (9a175e33)
2017-09-13T02:43:18.7213030+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:19.0730405+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:19.0795403+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:19.1365785+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:19.2186324+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:19.2336427+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:19.2396467+03:00 0HL7OIHK18E5U [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:19.2606610+03:00 0HL7OIHK18E5U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052597985720.7193588843462408\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:19.2676649+03:00 0HL7OIHK18E5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:19.2686659+03:00 0HL7OIHK18E5U [INF] Request finished in 682.9856ms 302  (15c52c40)
2017-09-13T02:43:22.7149481+03:00 0HL7OIHK18E5V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7408328957671891505259802645&state=15052598026450.8271010583219156   (e5be5b71)
2017-09-13T02:43:22.7464696+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:22.7479704+03:00 0HL7OIHK18E5V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:22.7494712+03:00 0HL7OIHK18E5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:22.7499717+03:00 0HL7OIHK18E5V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:22.7509720+03:00 0HL7OIHK18E5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:22.7514721+03:00 0HL7OIHK18E5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:22.7519726+03:00 0HL7OIHK18E5V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598026450.8271010583219156\",
  \"Nonce\": \"N0.7408328957671891505259802645\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7408328957671891505259802645\",
    \"state\": \"15052598026450.8271010583219156\"
  }
}" (9a175e33)
2017-09-13T02:43:22.7564758+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:22.7684838+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:22.7719863+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:22.7849949+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:22.7940005+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:22.8040075+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:22.8070095+03:00 0HL7OIHK18E5V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:22.8605463+03:00 0HL7OIHK18E5V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598026450.8271010583219156\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:22.8630462+03:00 0HL7OIHK18E5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:22.8650475+03:00 0HL7OIHK18E5V [INF] Request finished in 183.9423ms 302  (15c52c40)
2017-09-13T02:43:32.3638390+03:00 0HL7OIHK18E60 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63355089352549141505259812344&state=15052598123440.7127469527589099   (e5be5b71)
2017-09-13T02:43:32.3703435+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:32.3718443+03:00 0HL7OIHK18E60 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:32.3733455+03:00 0HL7OIHK18E60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:32.3738457+03:00 0HL7OIHK18E60 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:32.3743458+03:00 0HL7OIHK18E60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:32.3748467+03:00 0HL7OIHK18E60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:32.3753465+03:00 0HL7OIHK18E60 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598123440.7127469527589099\",
  \"Nonce\": \"N0.63355089352549141505259812344\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63355089352549141505259812344\",
    \"state\": \"15052598123440.7127469527589099\"
  }
}" (9a175e33)
2017-09-13T02:43:32.3818510+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:32.3938585+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:32.3978616+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:32.4013637+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:32.4043665+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:32.4158735+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:32.4178744+03:00 0HL7OIHK18E60 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:32.4408901+03:00 0HL7OIHK18E60 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598123440.7127469527589099\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:32.4423917+03:00 0HL7OIHK18E60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:32.4448923+03:00 0HL7OIHK18E60 [INF] Request finished in 80.3526ms 302  (15c52c40)
2017-09-13T02:43:42.4510199+03:00 0HL7OIHK18E61 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79778945596773941505259822434&state=15052598224340.39044855286722613   (e5be5b71)
2017-09-13T02:43:42.4540226+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:42.4545228+03:00 0HL7OIHK18E61 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:42.4550233+03:00 0HL7OIHK18E61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:42.4555230+03:00 0HL7OIHK18E61 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:42.4580249+03:00 0HL7OIHK18E61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:42.4595257+03:00 0HL7OIHK18E61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:42.4600262+03:00 0HL7OIHK18E61 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598224340.39044855286722613\",
  \"Nonce\": \"N0.79778945596773941505259822434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79778945596773941505259822434\",
    \"state\": \"15052598224340.39044855286722613\"
  }
}" (9a175e33)
2017-09-13T02:43:42.4645290+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:42.4870433+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:42.4920470+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:42.5020533+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:42.5050552+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:42.5205661+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:42.5245696+03:00 0HL7OIHK18E61 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:42.5450825+03:00 0HL7OIHK18E61 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598224340.39044855286722613\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:42.6016198+03:00 0HL7OIHK18E61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:42.6111263+03:00 0HL7OIHK18E61 [INF] Request finished in 153.8506ms 302  (15c52c40)
2017-09-13T02:43:49.4416499+03:00 0HL7OIHK18E62 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46710204746044591505259829434&state=15052598294340.8321618021881236   (e5be5b71)
2017-09-13T02:43:49.4451525+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:49.4456530+03:00 0HL7OIHK18E62 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:49.4456530+03:00 0HL7OIHK18E62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:49.4461531+03:00 0HL7OIHK18E62 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:49.4461531+03:00 0HL7OIHK18E62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:49.4466536+03:00 0HL7OIHK18E62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:49.4471538+03:00 0HL7OIHK18E62 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598294340.8321618021881236\",
  \"Nonce\": \"N0.46710204746044591505259829434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46710204746044591505259829434\",
    \"state\": \"15052598294340.8321618021881236\"
  }
}" (9a175e33)
2017-09-13T02:43:49.4516562+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:49.4671662+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:49.4696681+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:49.4726705+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:49.4756729+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:49.4781747+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:49.4796751+03:00 0HL7OIHK18E62 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:49.4996888+03:00 0HL7OIHK18E62 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598294340.8321618021881236\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:49.5031909+03:00 0HL7OIHK18E62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:49.5041920+03:00 0HL7OIHK18E62 [INF] Request finished in 63.7968ms 302  (15c52c40)
2017-09-13T02:43:52.6727904+03:00 0HL7OIHK18E63 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.60093262613795861505259832638&state=15052598326380.17352387920680323   (e5be5b71)
2017-09-13T02:43:52.6792949+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:52.6797950+03:00 0HL7OIHK18E63 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:52.6807961+03:00 0HL7OIHK18E63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:52.6812962+03:00 0HL7OIHK18E63 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:52.6817964+03:00 0HL7OIHK18E63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:52.6822965+03:00 0HL7OIHK18E63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:52.6822965+03:00 0HL7OIHK18E63 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598326380.17352387920680323\",
  \"Nonce\": \"N0.60093262613795861505259832638\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.60093262613795861505259832638\",
    \"state\": \"15052598326380.17352387920680323\"
  }
}" (9a175e33)
2017-09-13T02:43:52.6872998+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:52.7008086+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:52.7028099+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:52.7308288+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (24ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:52.7373330+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:52.7493409+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:52.7518428+03:00 0HL7OIHK18E63 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:52.7823628+03:00 0HL7OIHK18E63 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598326380.17352387920680323\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:52.8293943+03:00 0HL7OIHK18E63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:52.8363986+03:00 0HL7OIHK18E63 [INF] Request finished in 160.0792ms 302  (15c52c40)
2017-09-13T02:43:56.4620465+03:00 0HL7OIHK18E64 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27988830116586461505259836448&state=15052598364480.9493796343205569   (e5be5b71)
2017-09-13T02:43:56.4665497+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:43:56.4670498+03:00 0HL7OIHK18E64 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:43:56.4675499+03:00 0HL7OIHK18E64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:56.4680509+03:00 0HL7OIHK18E64 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:43:56.4680509+03:00 0HL7OIHK18E64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:56.4685510+03:00 0HL7OIHK18E64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:56.4690511+03:00 0HL7OIHK18E64 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598364480.9493796343205569\",
  \"Nonce\": \"N0.27988830116586461505259836448\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27988830116586461505259836448\",
    \"state\": \"15052598364480.9493796343205569\"
  }
}" (9a175e33)
2017-09-13T02:43:56.4720531+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:43:56.4885642+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:56.4925669+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:43:56.5080774+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:43:56.5115795+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:43:56.5200849+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:43:56.5220866+03:00 0HL7OIHK18E64 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:43:56.5511055+03:00 0HL7OIHK18E64 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598364480.9493796343205569\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:43:56.5651155+03:00 0HL7OIHK18E64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:43:56.5671169+03:00 0HL7OIHK18E64 [INF] Request finished in 108.6526ms 302  (15c52c40)
2017-09-13T02:44:00.1019571+03:00 0HL7OIHK18E65 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55230690264819021505259840093&state=15052598400930.5483857413343891   (e5be5b71)
2017-09-13T02:44:00.1054600+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:00.1059598+03:00 0HL7OIHK18E65 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:00.1064603+03:00 0HL7OIHK18E65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:00.1064603+03:00 0HL7OIHK18E65 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:00.1069604+03:00 0HL7OIHK18E65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:00.1084624+03:00 0HL7OIHK18E65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:00.1089637+03:00 0HL7OIHK18E65 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598400930.5483857413343891\",
  \"Nonce\": \"N0.55230690264819021505259840093\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55230690264819021505259840093\",
    \"state\": \"15052598400930.5483857413343891\"
  }
}" (9a175e33)
2017-09-13T02:44:00.1129644+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:00.1259746+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:00.1294751+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:00.1314769+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:00.1379814+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:00.1404832+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:00.1424841+03:00 0HL7OIHK18E65 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:00.1649989+03:00 0HL7OIHK18E65 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598400930.5483857413343891\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:00.1840118+03:00 0HL7OIHK18E65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:00.1860132+03:00 0HL7OIHK18E65 [INF] Request finished in 83.5914ms 302  (15c52c40)
2017-09-13T02:44:11.4505383+03:00 0HL7OIHK18E66 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55097242621676681505259851435&state=15052598514350.5342468578478718   (e5be5b71)
2017-09-13T02:44:11.4540408+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:11.4545409+03:00 0HL7OIHK18E66 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:11.4550415+03:00 0HL7OIHK18E66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:11.4555412+03:00 0HL7OIHK18E66 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:11.4560417+03:00 0HL7OIHK18E66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:11.4565423+03:00 0HL7OIHK18E66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:11.4570424+03:00 0HL7OIHK18E66 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598514350.5342468578478718\",
  \"Nonce\": \"N0.55097242621676681505259851435\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55097242621676681505259851435\",
    \"state\": \"15052598514350.5342468578478718\"
  }
}" (9a175e33)
2017-09-13T02:44:11.4645476+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:11.4830600+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:11.4865617+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:11.4890636+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:11.5010719+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:11.5175827+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:11.5260881+03:00 0HL7OIHK18E66 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:11.5531060+03:00 0HL7OIHK18E66 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598514350.5342468578478718\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:11.7092102+03:00 0HL7OIHK18E66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:11.7222180+03:00 0HL7OIHK18E66 [INF] Request finished in 260.916ms 302  (15c52c40)
2017-09-13T02:44:15.4403876+03:00 0HL7OIHK18E67 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.155129065303146961505259855434&state=15052598554340.18263072683803405   (e5be5b71)
2017-09-13T02:44:15.4423897+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:15.4433919+03:00 0HL7OIHK18E67 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:15.4443918+03:00 0HL7OIHK18E67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:15.4443918+03:00 0HL7OIHK18E67 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:15.4448911+03:00 0HL7OIHK18E67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:15.4453909+03:00 0HL7OIHK18E67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:15.4453909+03:00 0HL7OIHK18E67 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598554340.18263072683803405\",
  \"Nonce\": \"N0.155129065303146961505259855434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.155129065303146961505259855434\",
    \"state\": \"15052598554340.18263072683803405\"
  }
}" (9a175e33)
2017-09-13T02:44:15.4548982+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:15.4659062+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:15.4674066+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:15.4694072+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:15.4709076+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:15.4724092+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:15.4754104+03:00 0HL7OIHK18E67 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:15.4874191+03:00 0HL7OIHK18E67 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598554340.18263072683803405\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:15.4879200+03:00 0HL7OIHK18E67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:15.4889203+03:00 0HL7OIHK18E67 [INF] Request finished in 49.1737ms 302  (15c52c40)
2017-09-13T02:44:19.4401144+03:00 0HL7OIHK18E68 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77694943482485161505259859434&state=15052598594340.14808850406010765   (e5be5b71)
2017-09-13T02:44:19.4426163+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:19.4431176+03:00 0HL7OIHK18E68 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:19.4436169+03:00 0HL7OIHK18E68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:19.4436169+03:00 0HL7OIHK18E68 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:19.4441175+03:00 0HL7OIHK18E68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:19.4446168+03:00 0HL7OIHK18E68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:19.4451177+03:00 0HL7OIHK18E68 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598594340.14808850406010765\",
  \"Nonce\": \"N0.77694943482485161505259859434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77694943482485161505259859434\",
    \"state\": \"15052598594340.14808850406010765\"
  }
}" (9a175e33)
2017-09-13T02:44:19.4491212+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:19.4596275+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:19.4616285+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:19.4636294+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:19.4651310+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:19.4781396+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:19.4796408+03:00 0HL7OIHK18E68 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:19.4976527+03:00 0HL7OIHK18E68 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598594340.14808850406010765\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:19.4991543+03:00 0HL7OIHK18E68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:19.5006543+03:00 0HL7OIHK18E68 [INF] Request finished in 60.7712ms 302  (15c52c40)
2017-09-13T02:44:23.4424248+03:00 0HL7OIHK18E69 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.190569962712777931505259863434&state=15052598634340.2710932769604433   (e5be5b71)
2017-09-13T02:44:23.4459258+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:23.4464255+03:00 0HL7OIHK18E69 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:23.4469256+03:00 0HL7OIHK18E69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:23.4474258+03:00 0HL7OIHK18E69 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:23.4479263+03:00 0HL7OIHK18E69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:23.4484264+03:00 0HL7OIHK18E69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:23.4484264+03:00 0HL7OIHK18E69 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598634340.2710932769604433\",
  \"Nonce\": \"N0.190569962712777931505259863434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.190569962712777931505259863434\",
    \"state\": \"15052598634340.2710932769604433\"
  }
}" (9a175e33)
2017-09-13T02:44:23.4519289+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:23.4644382+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:23.4664391+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:23.4694399+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:23.4759452+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:23.4789464+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:23.4834500+03:00 0HL7OIHK18E69 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:23.5069650+03:00 0HL7OIHK18E69 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598634340.2710932769604433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:23.5074655+03:00 0HL7OIHK18E69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:23.5089671+03:00 0HL7OIHK18E69 [INF] Request finished in 66.8122ms 302  (15c52c40)
2017-09-13T02:44:27.4405672+03:00 0HL7OIHK18E6A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5369297983758131505259867434&state=15052598674340.6172420538405534   (e5be5b71)
2017-09-13T02:44:27.4430694+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:27.4435700+03:00 0HL7OIHK18E6A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:27.4440721+03:00 0HL7OIHK18E6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:27.4445702+03:00 0HL7OIHK18E6A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:27.4450704+03:00 0HL7OIHK18E6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:27.4455705+03:00 0HL7OIHK18E6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:27.4460710+03:00 0HL7OIHK18E6A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598674340.6172420538405534\",
  \"Nonce\": \"N0.5369297983758131505259867434\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5369297983758131505259867434\",
    \"state\": \"15052598674340.6172420538405534\"
  }
}" (9a175e33)
2017-09-13T02:44:27.4500737+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:27.4630823+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:27.4675851+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:27.4710872+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:27.4730885+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:27.4760905+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:27.4780918+03:00 0HL7OIHK18E6A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:27.4991057+03:00 0HL7OIHK18E6A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598674340.6172420538405534\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:27.5001068+03:00 0HL7OIHK18E6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:27.5031088+03:00 0HL7OIHK18E6A [INF] Request finished in 60.8655ms 302  (15c52c40)
2017-09-13T02:44:31.4377045+03:00 0HL7OIHK18E6B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78841731354187331505259871433&state=15052598714330.21160864531180312   (e5be5b71)
2017-09-13T02:44:31.4397059+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:31.4402064+03:00 0HL7OIHK18E6B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:31.4407065+03:00 0HL7OIHK18E6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:31.4407065+03:00 0HL7OIHK18E6B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:31.4412070+03:00 0HL7OIHK18E6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:31.4417072+03:00 0HL7OIHK18E6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:31.4417072+03:00 0HL7OIHK18E6B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598714330.21160864531180312\",
  \"Nonce\": \"N0.78841731354187331505259871433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78841731354187331505259871433\",
    \"state\": \"15052598714330.21160864531180312\"
  }
}" (9a175e33)
2017-09-13T02:44:31.4447107+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:31.4522159+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:31.4542161+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:31.4567183+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:31.4587188+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:31.4622214+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:31.4657231+03:00 0HL7OIHK18E6B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:31.4812328+03:00 0HL7OIHK18E6B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598714330.21160864531180312\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:31.4817337+03:00 0HL7OIHK18E6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:31.4827351+03:00 0HL7OIHK18E6B [INF] Request finished in 45.2911ms 302  (15c52c40)
2017-09-13T02:44:35.4419835+03:00 0HL7OIHK18E6C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.083223659089998631505259875433&state=15052598754330.5401327832696268   (e5be5b71)
2017-09-13T02:44:35.4464875+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:35.4469880+03:00 0HL7OIHK18E6C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:35.4479887+03:00 0HL7OIHK18E6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:35.4484892+03:00 0HL7OIHK18E6C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:35.4489889+03:00 0HL7OIHK18E6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:35.4499896+03:00 0HL7OIHK18E6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:35.4504901+03:00 0HL7OIHK18E6C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598754330.5401327832696268\",
  \"Nonce\": \"N0.083223659089998631505259875433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.083223659089998631505259875433\",
    \"state\": \"15052598754330.5401327832696268\"
  }
}" (9a175e33)
2017-09-13T02:44:35.4534913+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:35.4665007+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:35.4690022+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:35.4720046+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:35.4735046+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:35.4755059+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:35.4790088+03:00 0HL7OIHK18E6C [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:35.5320439+03:00 0HL7OIHK18E6C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598754330.5401327832696268\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:35.5740714+03:00 0HL7OIHK18E6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:35.6211029+03:00 0HL7OIHK18E6C [INF] Request finished in 144.2197ms 302  (15c52c40)
2017-09-13T02:44:40.0065140+03:00 0HL7OIHK18E6D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.35062281738214641505259879672&state=15052598796720.24096733435041595   (e5be5b71)
2017-09-13T02:44:40.0105163+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:40.0125184+03:00 0HL7OIHK18E6D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:40.0130181+03:00 0HL7OIHK18E6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:40.0135179+03:00 0HL7OIHK18E6D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:40.0170212+03:00 0HL7OIHK18E6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:40.0180218+03:00 0HL7OIHK18E6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:40.0180218+03:00 0HL7OIHK18E6D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598796720.24096733435041595\",
  \"Nonce\": \"N0.35062281738214641505259879672\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.35062281738214641505259879672\",
    \"state\": \"15052598796720.24096733435041595\"
  }
}" (9a175e33)
2017-09-13T02:44:40.0250253+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:40.0860661+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:40.0885680+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:40.1451056+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:40.1486081+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:40.1631175+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:40.1661191+03:00 0HL7OIHK18E6D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:40.1911357+03:00 0HL7OIHK18E6D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598796720.24096733435041595\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:40.2186541+03:00 0HL7OIHK18E6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:40.2211560+03:00 0HL7OIHK18E6D [INF] Request finished in 215.4618ms 302  (15c52c40)
2017-09-13T02:44:43.4552980+03:00 0HL7OIHK18E6E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70301445590940741505259883438&state=15052598834380.35406477855103513   (e5be5b71)
2017-09-13T02:44:43.4572994+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:43.4577991+03:00 0HL7OIHK18E6E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:43.4582996+03:00 0HL7OIHK18E6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:43.4582996+03:00 0HL7OIHK18E6E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:43.4588002+03:00 0HL7OIHK18E6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:43.4713078+03:00 0HL7OIHK18E6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:43.4718084+03:00 0HL7OIHK18E6E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598834380.35406477855103513\",
  \"Nonce\": \"N0.70301445590940741505259883438\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70301445590940741505259883438\",
    \"state\": \"15052598834380.35406477855103513\"
  }
}" (9a175e33)
2017-09-13T02:44:43.4918216+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:43.5048306+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:43.5088333+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:43.5148377+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:43.5218419+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:43.5243438+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:43.5378525+03:00 0HL7OIHK18E6E [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:43.5688731+03:00 0HL7OIHK18E6E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598834380.35406477855103513\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:43.5878857+03:00 0HL7OIHK18E6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:43.5923884+03:00 0HL7OIHK18E6E [INF] Request finished in 134.6169ms 302  (15c52c40)
2017-09-13T02:44:52.0414851+03:00 0HL7OIHK18E6F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.044086144000824221505259891771&state=15052598917710.14887053814297002   (e5be5b71)
2017-09-13T02:44:52.0589973+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:52.0725056+03:00 0HL7OIHK18E6F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:52.0760078+03:00 0HL7OIHK18E6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:52.0760078+03:00 0HL7OIHK18E6F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:52.0995235+03:00 0HL7OIHK18E6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:52.1000237+03:00 0HL7OIHK18E6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:52.1000237+03:00 0HL7OIHK18E6F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598917710.14887053814297002\",
  \"Nonce\": \"N0.044086144000824221505259891771\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.044086144000824221505259891771\",
    \"state\": \"15052598917710.14887053814297002\"
  }
}" (9a175e33)
2017-09-13T02:44:52.4832771+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (21ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:52.5373129+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:52.5748387+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:52.5928495+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:52.5958519+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:52.5988547+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:52.6193673+03:00 0HL7OIHK18E6F [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:52.6618960+03:00 0HL7OIHK18E6F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598917710.14887053814297002\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:52.6643979+03:00 0HL7OIHK18E6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:52.6689003+03:00 0HL7OIHK18E6F [INF] Request finished in 843.126ms 302  (15c52c40)
2017-09-13T02:44:54.7873037+03:00 0HL7OIHK18E6G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0293218966169790371505259894773&state=15052598947730.8084357503489823   (e5be5b71)
2017-09-13T02:44:54.7908059+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:54.7913064+03:00 0HL7OIHK18E6G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:54.7918065+03:00 0HL7OIHK18E6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:54.7918065+03:00 0HL7OIHK18E6G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:54.7928080+03:00 0HL7OIHK18E6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:54.7933081+03:00 0HL7OIHK18E6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:54.7938078+03:00 0HL7OIHK18E6G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598947730.8084357503489823\",
  \"Nonce\": \"N0.0293218966169790371505259894773\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0293218966169790371505259894773\",
    \"state\": \"15052598947730.8084357503489823\"
  }
}" (9a175e33)
2017-09-13T02:44:54.8083176+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:54.9844343+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:54.9979434+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:55.0009450+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:55.1775622+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:55.2411045+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:55.8194880+03:00 0HL7OIHK18E6G [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:55.8425032+03:00 0HL7OIHK18E6G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598947730.8084357503489823\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:56.0091130+03:00 0HL7OIHK18E6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:56.2777911+03:00 0HL7OIHK18E6G [INF] Request finished in 1228.0603ms 302  (15c52c40)
2017-09-13T02:44:57.7889407+03:00 0HL7OIHK18E6H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44621365444958471505259897774&state=15052598977740.4345107451775465   (e5be5b71)
2017-09-13T02:44:57.8159582+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:44:57.8174586+03:00 0HL7OIHK18E6H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:44:57.8184597+03:00 0HL7OIHK18E6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:57.8184597+03:00 0HL7OIHK18E6H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:44:57.8204610+03:00 0HL7OIHK18E6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:57.8219618+03:00 0HL7OIHK18E6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:57.8224623+03:00 0HL7OIHK18E6H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052598977740.4345107451775465\",
  \"Nonce\": \"N0.44621365444958471505259897774\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44621365444958471505259897774\",
    \"state\": \"15052598977740.4345107451775465\"
  }
}" (9a175e33)
2017-09-13T02:44:57.8584862+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (28ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:44:57.9375389+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:57.9415412+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:44:58.0230950+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:44:58.0301024+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:44:58.0356035+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:44:58.0696256+03:00 0HL7OIHK18E6H [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:44:58.0986456+03:00 0HL7OIHK18E6H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052598977740.4345107451775465\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:44:58.3363028+03:00 0HL7OIHK18E6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:44:58.3923400+03:00 0HL7OIHK18E6H [INF] Request finished in 557.0967ms 302  (15c52c40)
2017-09-13T02:45:00.7850438+03:00 0HL7OIHK18E6I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.09320958603368591505259900775&state=15052599007750.5615743284853589   (e5be5b71)
2017-09-13T02:45:00.7910482+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:00.7920489+03:00 0HL7OIHK18E6I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:00.7940514+03:00 0HL7OIHK18E6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:00.7940514+03:00 0HL7OIHK18E6I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:00.7960531+03:00 0HL7OIHK18E6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:00.7970530+03:00 0HL7OIHK18E6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:00.7970530+03:00 0HL7OIHK18E6I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599007750.5615743284853589\",
  \"Nonce\": \"N0.09320958603368591505259900775\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.09320958603368591505259900775\",
    \"state\": \"15052599007750.5615743284853589\"
  }
}" (9a175e33)
2017-09-13T02:45:00.8020547+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:00.8175699+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:00.8195720+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:00.8561004+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:00.9246495+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:00.9376589+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:00.9566715+03:00 0HL7OIHK18E6I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:00.9906941+03:00 0HL7OIHK18E6I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599007750.5615743284853589\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:01.0962689+03:00 0HL7OIHK18E6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:01.1052749+03:00 0HL7OIHK18E6I [INF] Request finished in 316.3823ms 302  (15c52c40)
2017-09-13T02:45:04.0752416+03:00 0HL7OIHK18E6J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.372937076234081341505259903799&state=15052599037990.8721763697718192   (e5be5b71)
2017-09-13T02:45:04.1282771+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:04.1282771+03:00 0HL7OIHK18E6J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:04.1292770+03:00 0HL7OIHK18E6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:04.1292770+03:00 0HL7OIHK18E6J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:04.1292770+03:00 0HL7OIHK18E6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:04.1302776+03:00 0HL7OIHK18E6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:04.1302776+03:00 0HL7OIHK18E6J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599037990.8721763697718192\",
  \"Nonce\": \"N0.372937076234081341505259903799\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.372937076234081341505259903799\",
    \"state\": \"15052599037990.8721763697718192\"
  }
}" (9a175e33)
2017-09-13T02:45:04.6556260+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:04.6716370+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:04.9768387+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:05.1679653+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:05.8674282+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:07.3333999+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:07.3464078+03:00 0HL7OIHK18E6K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.047377491094780621505259906802&state=15052599068020.6760777843017189   (e5be5b71)
2017-09-13T02:45:08.0969056+03:00 0HL7OIHK18E6J [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:08.1289264+03:00 0HL7OIHK18E6J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599037990.8721763697718192\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:08.2760231+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:08.2780252+03:00 0HL7OIHK18E6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:08.2780252+03:00 0HL7OIHK18E6J [INF] Request finished in 4458.5865ms 302  (15c52c40)
2017-09-13T02:45:08.4101123+03:00 0HL7OIHK18E6K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:08.5642151+03:00 0HL7OIHK18E6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:08.5652146+03:00 0HL7OIHK18E6K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:08.7993705+03:00 0HL7OIHK18E6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:09.0595424+03:00 0HL7OIHK18E6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:09.0605431+03:00 0HL7OIHK18E6K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599068020.6760777843017189\",
  \"Nonce\": \"N0.047377491094780621505259906802\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.047377491094780621505259906802\",
    \"state\": \"15052599068020.6760777843017189\"
  }
}" (9a175e33)
2017-09-13T02:45:09.0665471+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:09.0905634+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:09.0955671+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:09.1075742+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:09.1165798+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:09.1205832+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:09.1265872+03:00 0HL7OIHK18E6K [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:09.1526045+03:00 0HL7OIHK18E6K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599068020.6760777843017189\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:09.1536047+03:00 0HL7OIHK18E6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:09.1666141+03:00 0HL7OIHK18E6K [INF] Request finished in 2328.8746ms 302  (15c52c40)
2017-09-13T02:45:10.5445264+03:00 0HL7OIHK18E6L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.17182741097019361505259909814&state=15052599098140.3384013343854415   (e5be5b71)
2017-09-13T02:45:10.5625395+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:10.5855535+03:00 0HL7OIHK18E6L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:10.6075681+03:00 0HL7OIHK18E6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:10.6075681+03:00 0HL7OIHK18E6L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:10.6085692+03:00 0HL7OIHK18E6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:10.6916238+03:00 0HL7OIHK18E6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:10.6916238+03:00 0HL7OIHK18E6L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599098140.3384013343854415\",
  \"Nonce\": \"N0.17182741097019361505259909814\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.17182741097019361505259909814\",
    \"state\": \"15052599098140.3384013343854415\"
  }
}" (9a175e33)
2017-09-13T02:45:11.8924195+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (55ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:12.3177004+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:12.3257057+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:12.5218356+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:12.8310412+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:13.1182310+03:00 0HL7OIHK18E6M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5587699304867241505259912818&state=15052599128180.3516268419309152   (e5be5b71)
2017-09-13T02:45:13.2763353+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:13.4664609+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:13.4694636+03:00 0HL7OIHK18E6L [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:13.4944798+03:00 0HL7OIHK18E6L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599098140.3384013343854415\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:13.8427116+03:00 0HL7OIHK18E6M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:13.8437115+03:00 0HL7OIHK18E6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:13.8447126+03:00 0HL7OIHK18E6L [INF] Request finished in 4018.5444ms 302  (15c52c40)
2017-09-13T02:45:13.9387745+03:00 0HL7OIHK18E6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:13.9387745+03:00 0HL7OIHK18E6M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:14.0488474+03:00 0HL7OIHK18E6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:14.2379722+03:00 0HL7OIHK18E6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:14.2379722+03:00 0HL7OIHK18E6M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599128180.3516268419309152\",
  \"Nonce\": \"N0.5587699304867241505259912818\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5587699304867241505259912818\",
    \"state\": \"15052599128180.3516268419309152\"
  }
}" (9a175e33)
2017-09-13T02:45:14.2739961+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:15.2366341+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:16.5955341+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:17.1829239+03:00 0HL7OIHK18E6N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43607266239856071505259915849&state=15052599158490.7024444757133217   (e5be5b71)
2017-09-13T02:45:17.1839238+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:17.2169461+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:17.7142751+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:17.7212797+03:00 0HL7OIHK18E6N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:18.4107364+03:00 0HL7OIHK18E6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:18.4107364+03:00 0HL7OIHK18E6N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:19.0161385+03:00 0HL7OIHK18E6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.0181383+03:00 0HL7OIHK18E6O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79697481648299061505259918866&state=15052599188660.2758696275204484   (e5be5b71)
2017-09-13T02:45:19.0201396+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (298ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:19.0591654+03:00 0HL7OIHK18E6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.0601661+03:00 0HL7OIHK18E6N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599158490.7024444757133217\",
  \"Nonce\": \"N0.43607266239856071505259915849\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43607266239856071505259915849\",
    \"state\": \"15052599158490.7024444757133217\"
  }
}" (9a175e33)
2017-09-13T02:45:19.0601661+03:00 0HL7OIHK18E6M [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:19.0811796+03:00 0HL7OIHK18E6M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599128180.3516268419309152\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:19.0821811+03:00 0HL7OIHK18E6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.0831817+03:00 0HL7OIHK18E6M [INF] Request finished in 6252.2416ms 302  (15c52c40)
2017-09-13T02:45:19.1282112+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:19.1292118+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (36ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:19.1712397+03:00 0HL7OIHK18E6O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:19.1712397+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:19.2112662+03:00 0HL7OIHK18E6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.2122669+03:00 0HL7OIHK18E6O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:19.2122669+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:19.3013262+03:00 0HL7OIHK18E6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.3033276+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:19.4053948+03:00 0HL7OIHK18E6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:19.4053948+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:19.4063958+03:00 0HL7OIHK18E6O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599188660.2758696275204484\",
  \"Nonce\": \"N0.79697481648299061505259918866\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79697481648299061505259918866\",
    \"state\": \"15052599188660.2758696275204484\"
  }
}" (9a175e33)
2017-09-13T02:45:19.5384829+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:19.5394836+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:19.5645005+03:00 0HL7OIHK18E6N [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:19.5865139+03:00 0HL7OIHK18E6N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599158490.7024444757133217\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:20.0968531+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:20.1098621+03:00 0HL7OIHK18E6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:20.1178670+03:00 0HL7OIHK18E6N [INF] Request finished in 4250.157ms 302  (15c52c40)
2017-09-13T02:45:20.1338777+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:20.1648982+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:20.1759051+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:20.1819095+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:20.1889137+03:00 0HL7OIHK18E6O [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:20.2109283+03:00 0HL7OIHK18E6O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599188660.2758696275204484\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:20.2129296+03:00 0HL7OIHK18E6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:20.2139311+03:00 0HL7OIHK18E6O [INF] Request finished in 1313.9088ms 302  (15c52c40)
2017-09-13T02:45:21.8900408+03:00 0HL7OIHK18E6P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3976549969628281505259921868&state=15052599218680.2690408069273107   (e5be5b71)
2017-09-13T02:45:21.9030494+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:21.9040497+03:00 0HL7OIHK18E6P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:21.9050504+03:00 0HL7OIHK18E6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:21.9050504+03:00 0HL7OIHK18E6P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:21.9060514+03:00 0HL7OIHK18E6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:21.9060514+03:00 0HL7OIHK18E6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:21.9060514+03:00 0HL7OIHK18E6P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599218680.2690408069273107\",
  \"Nonce\": \"N0.3976549969628281505259921868\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3976549969628281505259921868\",
    \"state\": \"15052599218680.2690408069273107\"
  }
}" (9a175e33)
2017-09-13T02:45:21.9170583+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:21.9360705+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:21.9410742+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:21.9480792+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:21.9500798+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:21.9540828+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:21.9560842+03:00 0HL7OIHK18E6P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:21.9790994+03:00 0HL7OIHK18E6P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599218680.2690408069273107\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:21.9821034+03:00 0HL7OIHK18E6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:21.9831021+03:00 0HL7OIHK18E6P [INF] Request finished in 106.9643ms 302  (15c52c40)
2017-09-13T02:45:24.8890275+03:00 0HL7OIHK18E6Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50656591079726981505259924870&state=15052599248700.31016373097326544   (e5be5b71)
2017-09-13T02:45:24.8940312+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:24.9000340+03:00 0HL7OIHK18E6Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:24.9090400+03:00 0HL7OIHK18E6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:24.9090400+03:00 0HL7OIHK18E6Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:24.9100402+03:00 0HL7OIHK18E6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:24.9140433+03:00 0HL7OIHK18E6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:24.9150447+03:00 0HL7OIHK18E6Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599248700.31016373097326544\",
  \"Nonce\": \"N0.50656591079726981505259924870\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50656591079726981505259924870\",
    \"state\": \"15052599248700.31016373097326544\"
  }
}" (9a175e33)
2017-09-13T02:45:24.9200481+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:24.9440632+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:24.9470671+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:24.9500675+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:24.9530691+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:24.9560719+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:24.9580725+03:00 0HL7OIHK18E6Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:24.9880923+03:00 0HL7OIHK18E6Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599248700.31016373097326544\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:24.9900937+03:00 0HL7OIHK18E6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:24.9950970+03:00 0HL7OIHK18E6Q [INF] Request finished in 112.9718ms 302  (15c52c40)
2017-09-13T02:45:27.9006806+03:00 0HL7OIHK18E6R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.124011732524921041505259927872&state=15052599278720.7202396512136253   (e5be5b71)
2017-09-13T02:45:27.9276989+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:27.9357042+03:00 0HL7OIHK18E6R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:27.9357042+03:00 0HL7OIHK18E6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:27.9367056+03:00 0HL7OIHK18E6R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:28.0007477+03:00 0HL7OIHK18E6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:28.0047507+03:00 0HL7OIHK18E6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:28.0057514+03:00 0HL7OIHK18E6R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599278720.7202396512136253\",
  \"Nonce\": \"N0.124011732524921041505259927872\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.124011732524921041505259927872\",
    \"state\": \"15052599278720.7202396512136253\"
  }
}" (9a175e33)
2017-09-13T02:45:28.0237621+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:28.1638557+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:28.1738623+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:28.1818676+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:28.2429081+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:28.2689249+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:28.2909391+03:00 0HL7OIHK18E6R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:28.3259623+03:00 0HL7OIHK18E6R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599278720.7202396512136253\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:28.3439742+03:00 0HL7OIHK18E6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:28.3970097+03:00 0HL7OIHK18E6R [INF] Request finished in 444.3633ms 302  (15c52c40)
2017-09-13T02:45:30.8886608+03:00 0HL7OIHK18E6S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.4617573195941721505259930873&state=15052599308730.3793995741791729   (e5be5b71)
2017-09-13T02:45:30.8916628+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:30.8926631+03:00 0HL7OIHK18E6S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:30.8936637+03:00 0HL7OIHK18E6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:30.8936637+03:00 0HL7OIHK18E6S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:30.8946644+03:00 0HL7OIHK18E6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:30.8946644+03:00 0HL7OIHK18E6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:30.8956662+03:00 0HL7OIHK18E6S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599308730.3793995741791729\",
  \"Nonce\": \"N0.4617573195941721505259930873\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.4617573195941721505259930873\",
    \"state\": \"15052599308730.3793995741791729\"
  }
}" (9a175e33)
2017-09-13T02:45:30.9106742+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:30.9246835+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:30.9266852+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:30.9296868+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:30.9316885+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:30.9356908+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:30.9386932+03:00 0HL7OIHK18E6S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:30.9657134+03:00 0HL7OIHK18E6S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599308730.3793995741791729\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:30.9667121+03:00 0HL7OIHK18E6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:30.9707144+03:00 0HL7OIHK18E6S [INF] Request finished in 88.2106ms 302  (15c52c40)
2017-09-13T02:45:33.9216685+03:00 0HL7OIHK18E6T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.074464759367190551505259933889&state=15052599338890.5099919856337256   (e5be5b71)
2017-09-13T02:45:33.9366792+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:33.9376799+03:00 0HL7OIHK18E6T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:33.9416821+03:00 0HL7OIHK18E6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:33.9416821+03:00 0HL7OIHK18E6T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:33.9426828+03:00 0HL7OIHK18E6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:33.9436830+03:00 0HL7OIHK18E6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:33.9436830+03:00 0HL7OIHK18E6T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599338890.5099919856337256\",
  \"Nonce\": \"N0.074464759367190551505259933889\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.074464759367190551505259933889\",
    \"state\": \"15052599338890.5099919856337256\"
  }
}" (9a175e33)
2017-09-13T02:45:33.9496870+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:33.9656972+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:33.9687000+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:33.9777060+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:33.9847122+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:33.9937174+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:34.0047251+03:00 0HL7OIHK18E6T [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:34.0287398+03:00 0HL7OIHK18E6T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599338890.5099919856337256\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:34.0377461+03:00 0HL7OIHK18E6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:34.0397471+03:00 0HL7OIHK18E6T [INF] Request finished in 131.1116ms 302  (15c52c40)
2017-09-13T02:45:37.6641476+03:00 0HL7OIHK18E6U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59698488441054391505259936894&state=15052599368940.8913676666036243   (e5be5b71)
2017-09-13T02:45:37.6971699+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:37.7091774+03:00 0HL7OIHK18E6U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:37.7101781+03:00 0HL7OIHK18E6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:37.7111788+03:00 0HL7OIHK18E6U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:37.7131801+03:00 0HL7OIHK18E6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:37.7201847+03:00 0HL7OIHK18E6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:37.7201847+03:00 0HL7OIHK18E6U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599368940.8913676666036243\",
  \"Nonce\": \"N0.59698488441054391505259936894\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59698488441054391505259936894\",
    \"state\": \"15052599368940.8913676666036243\"
  }
}" (9a175e33)
2017-09-13T02:45:37.7281900+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:37.9723513+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:38.0744193+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:38.0784220+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:38.2805563+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:38.3776209+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:38.4416630+03:00 0HL7OIHK18E6U [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:38.4656793+03:00 0HL7OIHK18E6U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599368940.8913676666036243\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:38.6788196+03:00 0HL7OIHK18E6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:38.8379258+03:00 0HL7OIHK18E6U [INF] Request finished in 1760.2502ms 302  (15c52c40)
2017-09-13T02:45:40.1217758+03:00 0HL7OIHK18E6V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3013190847375141505259939896&state=15052599398960.78255729516795   (e5be5b71)
2017-09-13T02:45:40.1257784+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:40.1267791+03:00 0HL7OIHK18E6V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:40.1277793+03:00 0HL7OIHK18E6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:40.1277793+03:00 0HL7OIHK18E6V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:40.1377860+03:00 0HL7OIHK18E6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:40.1427901+03:00 0HL7OIHK18E6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:40.1437903+03:00 0HL7OIHK18E6V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599398960.78255729516795\",
  \"Nonce\": \"N0.3013190847375141505259939896\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3013190847375141505259939896\",
    \"state\": \"15052599398960.78255729516795\"
  }
}" (9a175e33)
2017-09-13T02:45:40.1567993+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:40.1778129+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:40.1908215+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:40.2108347+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:40.2378518+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:40.2478593+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:40.2538628+03:00 0HL7OIHK18E6V [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:40.2778784+03:00 0HL7OIHK18E6V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599398960.78255729516795\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:40.3078990+03:00 0HL7OIHK18E6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:40.3279131+03:00 0HL7OIHK18E6V [INF] Request finished in 406.8955ms 302  (15c52c40)
2017-09-13T02:45:42.9036178+03:00 0HL7OIHK18E70 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74176678016824041505259942898&state=15052599428980.12725368713509955   (e5be5b71)
2017-09-13T02:45:42.9066194+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:42.9076201+03:00 0HL7OIHK18E70 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:42.9076201+03:00 0HL7OIHK18E70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:42.9086212+03:00 0HL7OIHK18E70 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:42.9086212+03:00 0HL7OIHK18E70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:42.9096218+03:00 0HL7OIHK18E70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:42.9096218+03:00 0HL7OIHK18E70 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599428980.12725368713509955\",
  \"Nonce\": \"N0.74176678016824041505259942898\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74176678016824041505259942898\",
    \"state\": \"15052599428980.12725368713509955\"
  }
}" (9a175e33)
2017-09-13T02:45:42.9136245+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:42.9266331+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:42.9296355+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:42.9316364+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:42.9346384+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:42.9376416+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:42.9406424+03:00 0HL7OIHK18E70 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:42.9636580+03:00 0HL7OIHK18E70 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599428980.12725368713509955\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:42.9646583+03:00 0HL7OIHK18E70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:42.9716633+03:00 0HL7OIHK18E70 [INF] Request finished in 62.332ms 302  (15c52c40)
2017-09-13T02:45:43.8842678+03:00 0HL7OIHK18E71 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:45:43.8872693+03:00 0HL7OIHK18E71 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:43.8872693+03:00 0HL7OIHK18E71 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:43.8882700+03:00 0HL7OIHK18E71 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:43.8882700+03:00 0HL7OIHK18E71 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:45:43.8882700+03:00 0HL7OIHK18E71 [INF] Request finished in 4.7309ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:45:45.5043404+03:00 0HL7OIHK18E72 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T02:45:45.5073424+03:00 0HL7OIHK18E72 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:45.5073424+03:00 0HL7OIHK18E72 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T02:45:45.5083426+03:00 0HL7OIHK18E72 [INF] Request finished in 3.834ms 200 application/json (15c52c40)
2017-09-13T02:45:45.6244199+03:00 0HL7OIHK18E73 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:45:45.6284226+03:00 0HL7OIHK18E73 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:45.6284226+03:00 0HL7OIHK18E73 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:45:45.6494369+03:00 0HL7OIHK18E73 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:45.6504371+03:00 0HL7OIHK18E73 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:45:45.6504371+03:00 0HL7OIHK18E73 [INF] Request finished in 26.2765ms 200 application/json (15c52c40)
2017-09-13T02:45:45.9086085+03:00 0HL7OIHK18E74 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0268468973241469121505259945899&state=15052599458990.3745081961667023   (e5be5b71)
2017-09-13T02:45:45.9116109+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:45.9126112+03:00 0HL7OIHK18E74 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:45.9136118+03:00 0HL7OIHK18E74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:45.9136118+03:00 0HL7OIHK18E74 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:45.9146125+03:00 0HL7OIHK18E74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:45.9156132+03:00 0HL7OIHK18E74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:45.9156132+03:00 0HL7OIHK18E74 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599458990.3745081961667023\",
  \"Nonce\": \"N0.0268468973241469121505259945899\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0268468973241469121505259945899\",
    \"state\": \"15052599458990.3745081961667023\"
  }
}" (9a175e33)
2017-09-13T02:45:45.9186144+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:45.9336247+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:45.9376270+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:45.9396283+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:45.9596411+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:45.9716499+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:45.9836571+03:00 0HL7OIHK18E74 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:46.0066735+03:00 0HL7OIHK18E74 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599458990.3745081961667023\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:46.0076734+03:00 0HL7OIHK18E74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:46.0096747+03:00 0HL7OIHK18E74 [INF] Request finished in 103.9935ms 302  (15c52c40)
2017-09-13T02:45:48.9075948+03:00 0HL7OIHK18E75 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.126140023119740931505259948899&state=15052599488990.26194316093953196   (e5be5b71)
2017-09-13T02:45:48.9105968+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:48.9105968+03:00 0HL7OIHK18E75 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:48.9115967+03:00 0HL7OIHK18E75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:48.9115967+03:00 0HL7OIHK18E75 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:48.9115967+03:00 0HL7OIHK18E75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:48.9135984+03:00 0HL7OIHK18E75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:48.9135984+03:00 0HL7OIHK18E75 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599488990.26194316093953196\",
  \"Nonce\": \"N0.126140023119740931505259948899\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.126140023119740931505259948899\",
    \"state\": \"15052599488990.26194316093953196\"
  }
}" (9a175e33)
2017-09-13T02:45:48.9176011+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:48.9316100+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:48.9336129+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:48.9356134+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:48.9376139+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:48.9396153+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:48.9406163+03:00 0HL7OIHK18E75 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:48.9616294+03:00 0HL7OIHK18E75 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599488990.26194316093953196\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:48.9646326+03:00 0HL7OIHK18E75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:48.9666343+03:00 0HL7OIHK18E75 [INF] Request finished in 60.9038ms 302  (15c52c40)
2017-09-13T02:45:51.9074772+03:00 0HL7OIHK18E76 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79647074269558081505259951900&state=15052599519000.6182231967598562   (e5be5b71)
2017-09-13T02:45:51.9104792+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:51.9104792+03:00 0HL7OIHK18E76 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:51.9104792+03:00 0HL7OIHK18E76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:51.9114795+03:00 0HL7OIHK18E76 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:51.9114795+03:00 0HL7OIHK18E76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:51.9114795+03:00 0HL7OIHK18E76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:51.9124801+03:00 0HL7OIHK18E76 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599519000.6182231967598562\",
  \"Nonce\": \"N0.79647074269558081505259951900\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79647074269558081505259951900\",
    \"state\": \"15052599519000.6182231967598562\"
  }
}" (9a175e33)
2017-09-13T02:45:51.9174846+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:51.9264894+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:51.9274901+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:51.9304921+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:51.9324942+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:51.9354954+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:51.9384974+03:00 0HL7OIHK18E76 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:51.9565097+03:00 0HL7OIHK18E76 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599519000.6182231967598562\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:51.9575103+03:00 0HL7OIHK18E76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:51.9615130+03:00 0HL7OIHK18E76 [INF] Request finished in 53.7811ms 302  (15c52c40)
2017-09-13T02:45:54.9124683+03:00 0HL7OIHK18E77 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.273904388385261431505259954901&state=15052599549010.9696207272150976   (e5be5b71)
2017-09-13T02:45:54.9164701+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:54.9174700+03:00 0HL7OIHK18E77 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:54.9174700+03:00 0HL7OIHK18E77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:54.9184711+03:00 0HL7OIHK18E77 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:54.9184711+03:00 0HL7OIHK18E77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:54.9194721+03:00 0HL7OIHK18E77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:54.9204728+03:00 0HL7OIHK18E77 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599549010.9696207272150976\",
  \"Nonce\": \"N0.273904388385261431505259954901\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.273904388385261431505259954901\",
    \"state\": \"15052599549010.9696207272150976\"
  }
}" (9a175e33)
2017-09-13T02:45:54.9234744+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:54.9364834+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:54.9394850+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:54.9414875+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:54.9434880+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:54.9504927+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:54.9554956+03:00 0HL7OIHK18E77 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:54.9785097+03:00 0HL7OIHK18E77 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599549010.9696207272150976\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:54.9795115+03:00 0HL7OIHK18E77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:54.9825139+03:00 0HL7OIHK18E77 [INF] Request finished in 69.7538ms 302  (15c52c40)
2017-09-13T02:45:57.9102952+03:00 0HL7OIHK18E78 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89777469187654751505259957903&state=15052599579030.9490951309202111   (e5be5b71)
2017-09-13T02:45:57.9132972+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:45:57.9142975+03:00 0HL7OIHK18E78 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:45:57.9142975+03:00 0HL7OIHK18E78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:57.9142975+03:00 0HL7OIHK18E78 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:45:57.9152990+03:00 0HL7OIHK18E78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:57.9152990+03:00 0HL7OIHK18E78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:57.9163000+03:00 0HL7OIHK18E78 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599579030.9490951309202111\",
  \"Nonce\": \"N0.89777469187654751505259957903\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89777469187654751505259957903\",
    \"state\": \"15052599579030.9490951309202111\"
  }
}" (9a175e33)
2017-09-13T02:45:57.9193016+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:45:57.9313088+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:57.9333105+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:45:57.9353118+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:45:57.9373131+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:45:57.9403147+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:45:57.9423165+03:00 0HL7OIHK18E78 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:45:57.9643306+03:00 0HL7OIHK18E78 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599579030.9490951309202111\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:45:57.9653317+03:00 0HL7OIHK18E78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:45:57.9663320+03:00 0HL7OIHK18E78 [INF] Request finished in 57.7877ms 302  (15c52c40)
2017-09-13T02:46:00.9146050+03:00 0HL7OIHK18E79 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.043813108481762341505259960905&state=15052599609050.5793842914409251   (e5be5b71)
2017-09-13T02:46:00.9226103+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:00.9236102+03:00 0HL7OIHK18E79 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:00.9236102+03:00 0HL7OIHK18E79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:00.9246108+03:00 0HL7OIHK18E79 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:00.9246108+03:00 0HL7OIHK18E79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:00.9256115+03:00 0HL7OIHK18E79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:00.9266122+03:00 0HL7OIHK18E79 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599609050.5793842914409251\",
  \"Nonce\": \"N0.043813108481762341505259960905\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.043813108481762341505259960905\",
    \"state\": \"15052599609050.5793842914409251\"
  }
}" (9a175e33)
2017-09-13T02:46:00.9296149+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:00.9416229+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:00.9446241+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:00.9476324+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:00.9507193+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:00.9527222+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:00.9547239+03:00 0HL7OIHK18E79 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:00.9667334+03:00 0HL7OIHK18E79 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599609050.5793842914409251\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:00.9677305+03:00 0HL7OIHK18E79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:00.9677305+03:00 0HL7OIHK18E79 [INF] Request finished in 55.8981ms 302  (15c52c40)
2017-09-13T02:46:03.9131113+03:00 0HL7OIHK18E7A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96774670104128151505259963906&state=15052599639060.3376225189989963   (e5be5b71)
2017-09-13T02:46:03.9161145+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:03.9171140+03:00 0HL7OIHK18E7A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:03.9171140+03:00 0HL7OIHK18E7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:03.9171140+03:00 0HL7OIHK18E7A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:03.9181142+03:00 0HL7OIHK18E7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:03.9191192+03:00 0HL7OIHK18E7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:03.9191192+03:00 0HL7OIHK18E7A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599639060.3376225189989963\",
  \"Nonce\": \"N0.96774670104128151505259963906\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96774670104128151505259963906\",
    \"state\": \"15052599639060.3376225189989963\"
  }
}" (9a175e33)
2017-09-13T02:46:03.9221165+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:03.9371264+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:03.9411291+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:03.9421301+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:03.9441327+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:03.9461328+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:03.9481349+03:00 0HL7OIHK18E7A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:03.9651481+03:00 0HL7OIHK18E7A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599639060.3376225189989963\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:03.9661468+03:00 0HL7OIHK18E7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:03.9671471+03:00 0HL7OIHK18E7A [INF] Request finished in 55.5681ms 302  (15c52c40)
2017-09-13T02:46:06.9161038+03:00 0HL7OIHK18E7B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80493463492626341505259966907&state=15052599669070.7517439316100476   (e5be5b71)
2017-09-13T02:46:06.9191031+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:06.9191031+03:00 0HL7OIHK18E7B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:06.9201025+03:00 0HL7OIHK18E7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:06.9201025+03:00 0HL7OIHK18E7B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:06.9201025+03:00 0HL7OIHK18E7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:06.9211028+03:00 0HL7OIHK18E7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:06.9211028+03:00 0HL7OIHK18E7B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599669070.7517439316100476\",
  \"Nonce\": \"N0.80493463492626341505259966907\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80493463492626341505259966907\",
    \"state\": \"15052599669070.7517439316100476\"
  }
}" (9a175e33)
2017-09-13T02:46:06.9241056+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:06.9461198+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:06.9561276+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:06.9581285+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:06.9601310+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:06.9631318+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:06.9661334+03:00 0HL7OIHK18E7B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:06.9821444+03:00 0HL7OIHK18E7B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599669070.7517439316100476\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:06.9831447+03:00 0HL7OIHK18E7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:06.9831447+03:00 0HL7OIHK18E7B [INF] Request finished in 69.8581ms 302  (15c52c40)
2017-09-13T02:46:09.9130849+03:00 0HL7OIHK18E7C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43408721799284481505259969908&state=15052599699080.6623205992636081   (e5be5b71)
2017-09-13T02:46:09.9180890+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:09.9180890+03:00 0HL7OIHK18E7C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:09.9190892+03:00 0HL7OIHK18E7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:09.9190892+03:00 0HL7OIHK18E7C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:09.9200903+03:00 0HL7OIHK18E7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:09.9200903+03:00 0HL7OIHK18E7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:09.9210910+03:00 0HL7OIHK18E7C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599699080.6623205992636081\",
  \"Nonce\": \"N0.43408721799284481505259969908\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43408721799284481505259969908\",
    \"state\": \"15052599699080.6623205992636081\"
  }
}" (9a175e33)
2017-09-13T02:46:09.9250932+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:09.9391021+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:09.9411042+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:09.9441054+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:09.9461067+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:09.9491091+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:09.9551131+03:00 0HL7OIHK18E7C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:09.9801293+03:00 0HL7OIHK18E7C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599699080.6623205992636081\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:09.9811307+03:00 0HL7OIHK18E7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:09.9831321+03:00 0HL7OIHK18E7C [INF] Request finished in 69.1274ms 302  (15c52c40)
2017-09-13T02:46:12.9150740+03:00 0HL7OIHK18E7D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7165941593632011505259972909&state=15052599729090.31512263522574435   (e5be5b71)
2017-09-13T02:46:12.9180763+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:12.9190758+03:00 0HL7OIHK18E7D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:12.9190758+03:00 0HL7OIHK18E7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:12.9190758+03:00 0HL7OIHK18E7D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:12.9200765+03:00 0HL7OIHK18E7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:12.9200765+03:00 0HL7OIHK18E7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:12.9210764+03:00 0HL7OIHK18E7D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599729090.31512263522574435\",
  \"Nonce\": \"N0.7165941593632011505259972909\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7165941593632011505259972909\",
    \"state\": \"15052599729090.31512263522574435\"
  }
}" (9a175e33)
2017-09-13T02:46:12.9230785+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:12.9350868+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:12.9370877+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:12.9390895+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:12.9400897+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:12.9420911+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:12.9450934+03:00 0HL7OIHK18E7D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:12.9651067+03:00 0HL7OIHK18E7D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599729090.31512263522574435\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:12.9671092+03:00 0HL7OIHK18E7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:12.9681095+03:00 0HL7OIHK18E7D [INF] Request finished in 52.8211ms 302  (15c52c40)
2017-09-13T02:46:15.9230674+03:00 0HL7OIHK18E7E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.131445703447613971505259975910&state=15052599759100.07840785414491402   (e5be5b71)
2017-09-13T02:46:15.9260686+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:15.9270689+03:00 0HL7OIHK18E7E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:15.9280695+03:00 0HL7OIHK18E7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:15.9280695+03:00 0HL7OIHK18E7E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:15.9280695+03:00 0HL7OIHK18E7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:15.9290698+03:00 0HL7OIHK18E7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:15.9290698+03:00 0HL7OIHK18E7E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599759100.07840785414491402\",
  \"Nonce\": \"N0.131445703447613971505259975910\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.131445703447613971505259975910\",
    \"state\": \"15052599759100.07840785414491402\"
  }
}" (9a175e33)
2017-09-13T02:46:15.9390764+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:15.9600908+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:15.9610910+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:15.9630923+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:15.9781027+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:15.9931122+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:16.0171285+03:00 0HL7OIHK18E7E [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:16.0381413+03:00 0HL7OIHK18E7E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599759100.07840785414491402\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:16.0391427+03:00 0HL7OIHK18E7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:16.0431469+03:00 0HL7OIHK18E7E [INF] Request finished in 121.7978ms 302  (15c52c40)
2017-09-13T02:46:18.9240539+03:00 0HL7OIHK18E7F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39911155848305981505259978912&state=15052599789120.9784353470201899   (e5be5b71)
2017-09-13T02:46:18.9270551+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:18.9270551+03:00 0HL7OIHK18E7F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:18.9280553+03:00 0HL7OIHK18E7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:18.9280553+03:00 0HL7OIHK18E7F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:18.9280553+03:00 0HL7OIHK18E7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:18.9290564+03:00 0HL7OIHK18E7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:18.9290564+03:00 0HL7OIHK18E7F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599789120.9784353470201899\",
  \"Nonce\": \"N0.39911155848305981505259978912\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39911155848305981505259978912\",
    \"state\": \"15052599789120.9784353470201899\"
  }
}" (9a175e33)
2017-09-13T02:46:18.9410647+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:18.9550736+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:18.9570753+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:18.9590763+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:18.9610776+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:18.9630789+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:18.9710850+03:00 0HL7OIHK18E7F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:18.9971015+03:00 0HL7OIHK18E7F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599789120.9784353470201899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:18.9971015+03:00 0HL7OIHK18E7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:18.9981021+03:00 0HL7OIHK18E7F [INF] Request finished in 75.5245ms 302  (15c52c40)
2017-09-13T02:46:21.9189957+03:00 0HL7OIHK18E7G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75411986082718221505259981914&state=15052599819140.21877295442650846   (e5be5b71)
2017-09-13T02:46:21.9220004+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:21.9229987+03:00 0HL7OIHK18E7G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:21.9239990+03:00 0HL7OIHK18E7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:21.9239990+03:00 0HL7OIHK18E7G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:21.9239990+03:00 0HL7OIHK18E7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:21.9250008+03:00 0HL7OIHK18E7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:21.9250008+03:00 0HL7OIHK18E7G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599819140.21877295442650846\",
  \"Nonce\": \"N0.75411986082718221505259981914\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75411986082718221505259981914\",
    \"state\": \"15052599819140.21877295442650846\"
  }
}" (9a175e33)
2017-09-13T02:46:21.9280017+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:21.9400096+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:21.9420113+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:21.9460140+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:21.9490156+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:21.9510173+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:21.9530182+03:00 0HL7OIHK18E7G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:21.9760331+03:00 0HL7OIHK18E7G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599819140.21877295442650846\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:21.9770341+03:00 0HL7OIHK18E7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:21.9780344+03:00 0HL7OIHK18E7G [INF] Request finished in 59.3505ms 302  (15c52c40)
2017-09-13T02:46:24.9249874+03:00 0HL7OIHK18E7H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.380995472717684971505259984915&state=15052599849150.324756515967233   (e5be5b71)
2017-09-13T02:46:24.9269884+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:24.9279890+03:00 0HL7OIHK18E7H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:24.9289901+03:00 0HL7OIHK18E7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:24.9289901+03:00 0HL7OIHK18E7H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:24.9289901+03:00 0HL7OIHK18E7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:24.9299899+03:00 0HL7OIHK18E7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:24.9299899+03:00 0HL7OIHK18E7H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599849150.324756515967233\",
  \"Nonce\": \"N0.380995472717684971505259984915\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.380995472717684971505259984915\",
    \"state\": \"15052599849150.324756515967233\"
  }
}" (9a175e33)
2017-09-13T02:46:24.9379960+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:24.9550069+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:24.9570082+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:24.9600094+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:24.9700169+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:24.9750198+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:24.9780222+03:00 0HL7OIHK18E7H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:25.0080420+03:00 0HL7OIHK18E7H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599849150.324756515967233\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:25.0090423+03:00 0HL7OIHK18E7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:25.0120443+03:00 0HL7OIHK18E7H [INF] Request finished in 90.0841ms 302  (15c52c40)
2017-09-13T02:46:27.9199699+03:00 0HL7OIHK18E7I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90489733629044291505259987916&state=15052599879160.8321653744703221   (e5be5b71)
2017-09-13T02:46:27.9229723+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:27.9229723+03:00 0HL7OIHK18E7I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:27.9229723+03:00 0HL7OIHK18E7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:27.9239745+03:00 0HL7OIHK18E7I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:27.9239745+03:00 0HL7OIHK18E7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:27.9249740+03:00 0HL7OIHK18E7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:27.9249740+03:00 0HL7OIHK18E7I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599879160.8321653744703221\",
  \"Nonce\": \"N0.90489733629044291505259987916\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90489733629044291505259987916\",
    \"state\": \"15052599879160.8321653744703221\"
  }
}" (9a175e33)
2017-09-13T02:46:27.9269753+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:27.9349806+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:27.9369843+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:27.9399828+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:27.9409854+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:27.9429859+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:27.9449869+03:00 0HL7OIHK18E7I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:27.9569944+03:00 0HL7OIHK18E7I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599879160.8321653744703221\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:27.9579947+03:00 0HL7OIHK18E7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:27.9579947+03:00 0HL7OIHK18E7I [INF] Request finished in 39.2666ms 302  (15c52c40)
2017-09-13T02:46:31.4963398+03:00 0HL7OIHK18E7J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96451004192768061505259991433&state=15052599914330.759063643876899   (e5be5b71)
2017-09-13T02:46:31.4993414+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:31.5003417+03:00 0HL7OIHK18E7J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:31.5003417+03:00 0HL7OIHK18E7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:31.5013427+03:00 0HL7OIHK18E7J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:31.5013427+03:00 0HL7OIHK18E7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:31.5023434+03:00 0HL7OIHK18E7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:31.5023434+03:00 0HL7OIHK18E7J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599914330.759063643876899\",
  \"Nonce\": \"N0.96451004192768061505259991433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96451004192768061505259991433\",
    \"state\": \"15052599914330.759063643876899\"
  }
}" (9a175e33)
2017-09-13T02:46:31.5073463+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:31.5213556+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:31.5233569+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:31.5253586+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:31.5283602+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:31.5313622+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:31.5333635+03:00 0HL7OIHK18E7J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:31.5523765+03:00 0HL7OIHK18E7J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599914330.759063643876899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:31.5533780+03:00 0HL7OIHK18E7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:31.5543779+03:00 0HL7OIHK18E7J [INF] Request finished in 58.0151ms 302  (15c52c40)
2017-09-13T02:46:35.4399514+03:00 0HL7OIHK18E7K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88980488755947441505259995433&state=15052599954330.21163617701890303   (e5be5b71)
2017-09-13T02:46:35.4429542+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:35.4429542+03:00 0HL7OIHK18E7K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:35.4439532+03:00 0HL7OIHK18E7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:35.4439532+03:00 0HL7OIHK18E7K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:35.4439532+03:00 0HL7OIHK18E7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:35.4449555+03:00 0HL7OIHK18E7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:35.4449555+03:00 0HL7OIHK18E7K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599954330.21163617701890303\",
  \"Nonce\": \"N0.88980488755947441505259995433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88980488755947441505259995433\",
    \"state\": \"15052599954330.21163617701890303\"
  }
}" (9a175e33)
2017-09-13T02:46:35.4479559+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:35.4609649+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:35.4629658+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:35.4649679+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:35.4669689+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:35.4689702+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:35.4709719+03:00 0HL7OIHK18E7K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:35.4919858+03:00 0HL7OIHK18E7K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599954330.21163617701890303\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:35.4929861+03:00 0HL7OIHK18E7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:35.4939864+03:00 0HL7OIHK18E7K [INF] Request finished in 54.5844ms 302  (15c52c40)
2017-09-13T02:46:39.4406011+03:00 0HL7OIHK18E7L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.144179319432385041505259999433&state=15052599994330.7791970861620046   (e5be5b71)
2017-09-13T02:46:39.4436035+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:39.4446030+03:00 0HL7OIHK18E7L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:39.4446030+03:00 0HL7OIHK18E7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:39.4446030+03:00 0HL7OIHK18E7L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:39.4456036+03:00 0HL7OIHK18E7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:39.4466047+03:00 0HL7OIHK18E7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:39.4466047+03:00 0HL7OIHK18E7L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052599994330.7791970861620046\",
  \"Nonce\": \"N0.144179319432385041505259999433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.144179319432385041505259999433\",
    \"state\": \"15052599994330.7791970861620046\"
  }
}" (9a175e33)
2017-09-13T02:46:39.4506074+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:39.4626153+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:39.4646170+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:39.4686264+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:39.4706210+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:39.4726219+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:39.4856302+03:00 0HL7OIHK18E7L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:39.5116478+03:00 0HL7OIHK18E7L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052599994330.7791970861620046\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:39.5126480+03:00 0HL7OIHK18E7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:39.5176518+03:00 0HL7OIHK18E7L [INF] Request finished in 73.3511ms 302  (15c52c40)
2017-09-13T02:46:43.4432518+03:00 0HL7OIHK18E7M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81274779656125531505260003432&state=15052600034320.8841408385623297   (e5be5b71)
2017-09-13T02:46:43.4462538+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:43.4462538+03:00 0HL7OIHK18E7M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:43.4472544+03:00 0HL7OIHK18E7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:43.4472544+03:00 0HL7OIHK18E7M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:43.4482547+03:00 0HL7OIHK18E7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:43.4492558+03:00 0HL7OIHK18E7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:43.4492558+03:00 0HL7OIHK18E7M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600034320.8841408385623297\",
  \"Nonce\": \"N0.81274779656125531505260003432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81274779656125531505260003432\",
    \"state\": \"15052600034320.8841408385623297\"
  }
}" (9a175e33)
2017-09-13T02:46:43.4532584+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:43.4662706+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:43.4682691+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:43.4702693+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:43.4722710+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:43.4742723+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:43.4762745+03:00 0HL7OIHK18E7M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:43.5042930+03:00 0HL7OIHK18E7M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600034320.8841408385623297\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:43.5042930+03:00 0HL7OIHK18E7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:43.5062943+03:00 0HL7OIHK18E7M [INF] Request finished in 63.2868ms 302  (15c52c40)
2017-09-13T02:46:47.4809264+03:00 0HL7OIHK18E7N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65730669129809521505260007440&state=15052600074400.2257583674802992   (e5be5b71)
2017-09-13T02:46:47.4839288+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:47.4839288+03:00 0HL7OIHK18E7N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:47.4849295+03:00 0HL7OIHK18E7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:47.4849295+03:00 0HL7OIHK18E7N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:47.4849295+03:00 0HL7OIHK18E7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:47.4859294+03:00 0HL7OIHK18E7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:47.4859294+03:00 0HL7OIHK18E7N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600074400.2257583674802992\",
  \"Nonce\": \"N0.65730669129809521505260007440\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65730669129809521505260007440\",
    \"state\": \"15052600074400.2257583674802992\"
  }
}" (9a175e33)
2017-09-13T02:46:47.5009397+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:47.5169499+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:47.5189508+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:47.5209522+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:47.5229543+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:47.5269565+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:47.5289575+03:00 0HL7OIHK18E7N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:47.5499714+03:00 0HL7OIHK18E7N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600074400.2257583674802992\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:47.5499714+03:00 0HL7OIHK18E7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:47.5519735+03:00 0HL7OIHK18E7N [INF] Request finished in 71.3245ms 302  (15c52c40)
2017-09-13T02:46:51.4405616+03:00 0HL7OIHK18E7O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6827043745938491505260011433&state=15052600114330.794354158519426   (e5be5b71)
2017-09-13T02:46:51.4425622+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:51.4435632+03:00 0HL7OIHK18E7O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:51.4435632+03:00 0HL7OIHK18E7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:51.4445635+03:00 0HL7OIHK18E7O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:51.4445635+03:00 0HL7OIHK18E7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:51.4455646+03:00 0HL7OIHK18E7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:51.4455646+03:00 0HL7OIHK18E7O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600114330.794354158519426\",
  \"Nonce\": \"N0.6827043745938491505260011433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6827043745938491505260011433\",
    \"state\": \"15052600114330.794354158519426\"
  }
}" (9a175e33)
2017-09-13T02:46:51.4495668+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:51.4595734+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:51.4615756+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:51.4635765+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:51.4655782+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:51.4675788+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:51.4695801+03:00 0HL7OIHK18E7O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:51.4885919+03:00 0HL7OIHK18E7O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600114330.794354158519426\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:51.4895937+03:00 0HL7OIHK18E7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:51.4905940+03:00 0HL7OIHK18E7O [INF] Request finished in 50.191ms 302  (15c52c40)
2017-09-13T02:46:55.4398156+03:00 0HL7OIHK18E7P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80531706404177551505260015433&state=15052600154330.16347486786538346   (e5be5b71)
2017-09-13T02:46:55.4428184+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:55.4428184+03:00 0HL7OIHK18E7P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:55.4438175+03:00 0HL7OIHK18E7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:55.4438175+03:00 0HL7OIHK18E7P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:55.4438175+03:00 0HL7OIHK18E7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:55.4448197+03:00 0HL7OIHK18E7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:55.4448197+03:00 0HL7OIHK18E7P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600154330.16347486786538346\",
  \"Nonce\": \"N0.80531706404177551505260015433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80531706404177551505260015433\",
    \"state\": \"15052600154330.16347486786538346\"
  }
}" (9a175e33)
2017-09-13T02:46:55.4478213+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:55.4548251+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:55.4568284+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:55.4588294+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:55.4598324+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:55.4618306+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:55.4638315+03:00 0HL7OIHK18E7P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:55.4808455+03:00 0HL7OIHK18E7P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600154330.16347486786538346\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:55.4808455+03:00 0HL7OIHK18E7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:55.4818454+03:00 0HL7OIHK18E7P [INF] Request finished in 42.0475ms 302  (15c52c40)
2017-09-13T02:46:58.5688245+03:00 0HL7OIHK18E7Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.24342298880331881505260018485&state=15052600184850.7627181768082252   (e5be5b71)
2017-09-13T02:46:58.5718265+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:46:58.5728279+03:00 0HL7OIHK18E7Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:46:58.5738282+03:00 0HL7OIHK18E7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:58.5738282+03:00 0HL7OIHK18E7Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:46:58.5738282+03:00 0HL7OIHK18E7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:58.5748293+03:00 0HL7OIHK18E7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:58.5748293+03:00 0HL7OIHK18E7Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600184850.7627181768082252\",
  \"Nonce\": \"N0.24342298880331881505260018485\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.24342298880331881505260018485\",
    \"state\": \"15052600184850.7627181768082252\"
  }
}" (9a175e33)
2017-09-13T02:46:58.6088514+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:46:58.6418733+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:58.7079166+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:46:58.7629535+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:46:58.7799647+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:46:58.8119860+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:46:58.8420058+03:00 0HL7OIHK18E7Q [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:46:58.8690241+03:00 0HL7OIHK18E7Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600184850.7627181768082252\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:46:58.8740267+03:00 0HL7OIHK18E7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:46:58.8770290+03:00 0HL7OIHK18E7Q [INF] Request finished in 308.5862ms 302  (15c52c40)
2017-09-13T02:47:02.4423909+03:00 0HL7OIHK18E7R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.000106629363074040031505260022433&state=15052600224330.6898642239218211   (e5be5b71)
2017-09-13T02:47:02.4453929+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:02.4453929+03:00 0HL7OIHK18E7R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:02.4463935+03:00 0HL7OIHK18E7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:02.4463935+03:00 0HL7OIHK18E7R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:02.4463935+03:00 0HL7OIHK18E7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:02.4473938+03:00 0HL7OIHK18E7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:02.4473938+03:00 0HL7OIHK18E7R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600224330.6898642239218211\",
  \"Nonce\": \"N0.000106629363074040031505260022433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.000106629363074040031505260022433\",
    \"state\": \"15052600224330.6898642239218211\"
  }
}" (9a175e33)
2017-09-13T02:47:02.4523975+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:02.4634044+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:02.4654061+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:02.4674086+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:02.4704090+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:02.4744125+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:02.4764134+03:00 0HL7OIHK18E7R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:02.4964267+03:00 0HL7OIHK18E7R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600224330.6898642239218211\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:02.4974273+03:00 0HL7OIHK18E7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:02.4974273+03:00 0HL7OIHK18E7R [INF] Request finished in 55.9336ms 302  (15c52c40)
2017-09-13T02:47:06.4350357+03:00 0HL7OIHK18E7S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.223905395439320421505260026398&state=15052600263980.2983125140453513   (e5be5b71)
2017-09-13T02:47:06.4380381+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:06.4380381+03:00 0HL7OIHK18E7S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:06.4390383+03:00 0HL7OIHK18E7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:06.4390383+03:00 0HL7OIHK18E7S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:06.4390383+03:00 0HL7OIHK18E7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:06.4400394+03:00 0HL7OIHK18E7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:06.4400394+03:00 0HL7OIHK18E7S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600263980.2983125140453513\",
  \"Nonce\": \"N0.223905395439320421505260026398\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.223905395439320421505260026398\",
    \"state\": \"15052600263980.2983125140453513\"
  }
}" (9a175e33)
2017-09-13T02:47:06.4510479+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:06.4640549+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:06.4680580+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:06.4710592+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:06.4800655+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:06.4970768+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:06.5000784+03:00 0HL7OIHK18E7S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:06.5250946+03:00 0HL7OIHK18E7S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600263980.2983125140453513\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:06.5270971+03:00 0HL7OIHK18E7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:06.5300983+03:00 0HL7OIHK18E7S [INF] Request finished in 96.0545ms 302  (15c52c40)
2017-09-13T02:47:14.7535453+03:00 0HL7OIHK18E7T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70374555731189431505260033098&state=15052600330980.01951937832407502   (e5be5b71)
2017-09-13T02:47:14.7855657+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:14.7865671+03:00 0HL7OIHK18E7T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:14.7865671+03:00 0HL7OIHK18E7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:14.7865671+03:00 0HL7OIHK18E7T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:14.7875678+03:00 0HL7OIHK18E7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:14.7875678+03:00 0HL7OIHK18E7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:14.7885685+03:00 0HL7OIHK18E7T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600330980.01951937832407502\",
  \"Nonce\": \"N0.70374555731189431505260033098\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70374555731189431505260033098\",
    \"state\": \"15052600330980.01951937832407502\"
  }
}" (9a175e33)
2017-09-13T02:47:14.8135843+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (22ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:15.5500717+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:15.9413308+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:16.6608077+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:17.3032328+03:00 0HL7OIHK18E7U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.230427279116517841505260036433&state=15052600364330.16895020708546205   (e5be5b71)
2017-09-13T02:47:17.3482630+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (33ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:18.4249766+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:18.4389862+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:18.4630018+03:00 0HL7OIHK18E7U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:18.4810137+03:00 0HL7OIHK18E7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:18.4810137+03:00 0HL7OIHK18E7U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:18.4830150+03:00 0HL7OIHK18E7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:18.4840157+03:00 0HL7OIHK18E7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:18.4840157+03:00 0HL7OIHK18E7U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600364330.16895020708546205\",
  \"Nonce\": \"N0.230427279116517841505260036433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.230427279116517841505260036433\",
    \"state\": \"15052600364330.16895020708546205\"
  }
}" (9a175e33)
2017-09-13T02:47:19.2475218+03:00 0HL7OIHK18E7T [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:19.2675338+03:00 0HL7OIHK18E7T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600330980.01951937832407502\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:19.2715369+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (49ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:19.4616632+03:00 0HL7OIHK18E7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:19.4616632+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:19.5207035+03:00 0HL7OIHK18E7T [INF] Request finished in 5144.1743ms 302  (15c52c40)
2017-09-13T02:47:19.5217034+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:19.6708017+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:20.4253007+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:21.0527170+03:00 0HL7OIHK18E7V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76724205052923791505260040432&state=15052600404320.11218255777718045   (e5be5b71)
2017-09-13T02:47:21.0537188+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:21.1067524+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:21.1487794+03:00 0HL7OIHK18E7V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:21.1737968+03:00 0HL7OIHK18E7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:21.1747975+03:00 0HL7OIHK18E7V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:21.2058176+03:00 0HL7OIHK18E7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:21.2058176+03:00 0HL7OIHK18E7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:21.2058176+03:00 0HL7OIHK18E7V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600404320.11218255777718045\",
  \"Nonce\": \"N0.76724205052923791505260040432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76724205052923791505260040432\",
    \"state\": \"15052600404320.11218255777718045\"
  }
}" (9a175e33)
2017-09-13T02:47:21.9683230+03:00 0HL7OIHK18E7U [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:21.9863342+03:00 0HL7OIHK18E7U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600364330.16895020708546205\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:23.0780576+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (21ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:23.0990720+03:00 0HL7OIHK18E7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:23.0990720+03:00 0HL7OIHK18E7U [INF] Request finished in 6624.5738ms 302  (15c52c40)
2017-09-13T02:47:23.1390985+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:24.3118756+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:25.2965274+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (42ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:25.3075347+03:00 0HL7OIHK18E80 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.180607803423077361505260044433&state=15052600444330.31589099655427   (e5be5b71)
2017-09-13T02:47:25.5857197+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:25.8558987+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:25.8659049+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (185ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:25.8729099+03:00 0HL7OIHK18E80 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:25.8789131+03:00 0HL7OIHK18E7V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:25.8989268+03:00 0HL7OIHK18E7V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600404320.11218255777718045\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:25.9049307+03:00 0HL7OIHK18E80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:25.9049307+03:00 0HL7OIHK18E80 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:25.9059314+03:00 0HL7OIHK18E7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:25.9069321+03:00 0HL7OIHK18E7V [INF] Request finished in 5446.7238ms 302  (15c52c40)
2017-09-13T02:47:25.9099341+03:00 0HL7OIHK18E80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:25.9109351+03:00 0HL7OIHK18E80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:25.9109351+03:00 0HL7OIHK18E80 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600444330.31589099655427\",
  \"Nonce\": \"N0.180607803423077361505260044433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.180607803423077361505260044433\",
    \"state\": \"15052600444330.31589099655427\"
  }
}" (9a175e33)
2017-09-13T02:47:25.9149378+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:25.9319486+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:25.9419553+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:25.9449573+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:25.9469590+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:25.9519658+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:25.9609679+03:00 0HL7OIHK18E80 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:25.9859852+03:00 0HL7OIHK18E80 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600444330.31589099655427\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:25.9869855+03:00 0HL7OIHK18E80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:26.0029965+03:00 0HL7OIHK18E80 [INF] Request finished in 1494.7904ms 302  (15c52c40)
2017-09-13T02:47:33.4249106+03:00 0HL7OIHK18E81 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67977875011643141505260053291&state=15052600532910.7046023690823024   (e5be5b71)
2017-09-13T02:47:33.4389207+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:33.4419223+03:00 0HL7OIHK18E81 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:33.4459246+03:00 0HL7OIHK18E81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:33.4459246+03:00 0HL7OIHK18E81 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:33.4549313+03:00 0HL7OIHK18E81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:33.4549313+03:00 0HL7OIHK18E81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:33.4549313+03:00 0HL7OIHK18E81 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600532910.7046023690823024\",
  \"Nonce\": \"N0.67977875011643141505260053291\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67977875011643141505260053291\",
    \"state\": \"15052600532910.7046023690823024\"
  }
}" (9a175e33)
2017-09-13T02:47:33.4599346+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:33.4739439+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:33.4809482+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:33.4899545+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:33.4989605+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:33.5069654+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:33.5099670+03:00 0HL7OIHK18E81 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:33.5329822+03:00 0HL7OIHK18E81 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600532910.7046023690823024\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:33.5860201+03:00 0HL7OIHK18E81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:33.8051637+03:00 0HL7OIHK18E81 [INF] Request finished in 284.1878ms 302  (15c52c40)
2017-09-13T02:47:43.6006515+03:00 0HL7OIHK18E82 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53697983586202461505260061610&state=15052600616100.021193111163444467   (e5be5b71)
2017-09-13T02:47:43.6997171+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:43.7267362+03:00 0HL7OIHK18E82 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:43.7917781+03:00 0HL7OIHK18E82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:43.7917781+03:00 0HL7OIHK18E82 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:43.8318042+03:00 0HL7OIHK18E82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:43.8478148+03:00 0HL7OIHK18E82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:43.8478148+03:00 0HL7OIHK18E82 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600616100.021193111163444467\",
  \"Nonce\": \"N0.53697983586202461505260061610\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53697983586202461505260061610\",
    \"state\": \"15052600616100.021193111163444467\"
  }
}" (9a175e33)
2017-09-13T02:47:46.2163678+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (27ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:46.2408842+03:00 0HL7OIHK18E83 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68219467464286931505260065432&state=15052600654320.0015255404604301859   (e5be5b71)
2017-09-13T02:47:47.4466836+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:47.9515174+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (236ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:47.9855400+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (247ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:48.6945093+03:00 0HL7OIHK18E83 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:49.5165548+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:49.8377663+03:00 0HL7OIHK18E83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:49.8382669+03:00 0HL7OIHK18E83 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:49.8387666+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:50.1579780+03:00 0HL7OIHK18E83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:50.2070109+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:50.8074082+03:00 0HL7OIHK18E83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:50.8074082+03:00 0HL7OIHK18E83 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600654320.0015255404604301859\",
  \"Nonce\": \"N0.68219467464286931505260065432\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68219467464286931505260065432\",
    \"state\": \"15052600654320.0015255404604301859\"
  }
}" (9a175e33)
2017-09-13T02:47:51.9276503+03:00 0HL7OIHK18E82 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:51.9496653+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (373ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:47:51.9496653+03:00 0HL7OIHK18E82 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600616100.021193111163444467\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:52.5180422+03:00 0HL7OIHK18E82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:52.5460595+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:53.3520940+03:00 0HL7OIHK18E82 [INF] Request finished in 10751.0789ms 302  (15c52c40)
2017-09-13T02:47:54.2041585+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:47:54.2176669+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:47:55.4734986+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:47:56.0239729+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:47:56.2796413+03:00 0HL7OIHK18E83 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:47:56.3036576+03:00 0HL7OIHK18E83 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600654320.0015255404604301859\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:47:57.1232004+03:00 0HL7OIHK18E83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:58.2134223+03:00 0HL7OIHK18E83 [INF] Request finished in 11655.4108ms 302  (15c52c40)
2017-09-13T02:47:59.3776928+03:00 0HL7OIHK18E84 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.463122349436746241505260069433&state=15052600694330.007289820106631373   (e5be5b71)
2017-09-13T02:47:59.4822622+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:47:59.4827628+03:00 0HL7OIHK18E84 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:47:59.4832629+03:00 0HL7OIHK18E84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:59.4832629+03:00 0HL7OIHK18E84 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:47:59.4837630+03:00 0HL7OIHK18E84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:59.4842636+03:00 0HL7OIHK18E84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:47:59.4847641+03:00 0HL7OIHK18E84 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600694330.007289820106631373\",
  \"Nonce\": \"N0.463122349436746241505260069433\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.463122349436746241505260069433\",
    \"state\": \"15052600694330.007289820106631373\"
  }
}" (9a175e33)
2017-09-13T02:48:00.6855602+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (49ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:48:01.9308840+03:00 0HL7OIHK18E85 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40518997208272391505260079795&state=15052600797950.15332234340287565   (e5be5b71)
2017-09-13T02:48:03.4248799+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:48:04.1418549+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:48:04.1673716+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (368ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:48:04.6722066+03:00 0HL7OIHK18E85 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:48:04.9278757+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (32ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:48:05.5357782+03:00 0HL7OIHK18E85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:48:05.5362787+03:00 0HL7OIHK18E85 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T02:48:05.5362787+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:48:05.6253377+03:00 0HL7OIHK18E85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:48:05.6263391+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:48:06.2892776+03:00 0HL7OIHK18E85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:48:06.2897778+03:00 0HL7OIHK18E85 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052600797950.15332234340287565\",
  \"Nonce\": \"N0.40518997208272391505260079795\",
  \"SessionId\": \"66b3df31bd2408b9973bffe7b647ba75\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40518997208272391505260079795\",
    \"state\": \"15052600797950.15332234340287565\"
  }
}" (9a175e33)
2017-09-13T02:48:06.3127930+03:00 0HL7OIHK18E84 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:48:06.3333068+03:00 0HL7OIHK18E84 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600694330.007289820106631373\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:48:06.3583230+03:00 0HL7OIHK18E84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:48:07.4745629+03:00 0HL7OIHK18E84 [INF] Request finished in 8112.2664ms 302  (15c52c40)
2017-09-13T02:48:08.9975712+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (575ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:48:10.3004345+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:48:11.6323167+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:48:13.0482537+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (19ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:48:14.9745295+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (96ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:48:15.5313993+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:48:15.5669227+03:00 0HL7OIHK18E85 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T02:48:15.5889376+03:00 0HL7OIHK18E85 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052600797950.15332234340287565\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T02:48:15.5934400+03:00 0HL7OIHK18E85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:48:15.5939406+03:00 0HL7OIHK18E85 [INF] Request finished in 15760.6047ms 302  (15c52c40)
2017-09-13T02:56:14.5456091+03:00 0HL7OIHK18E86 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:56:14.9133525+03:00 0HL7OIHK18E86 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:56:14.9138522+03:00 0HL7OIHK18E86 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:56:14.9148533+03:00 0HL7OIHK18E86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:56:14.9148533+03:00 0HL7OIHK18E86 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:56:14.9158540+03:00 0HL7OIHK18E86 [INF] Request finished in 370.3932ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:56:15.5272585+03:00 0HL7OIHK18E87 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T02:56:15.5302605+03:00 0HL7OIHK18E87 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:56:15.5302605+03:00 0HL7OIHK18E87 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T02:56:15.5312608+03:00 0HL7OIHK18E87 [INF] Request finished in 4.1234ms 200 application/json (15c52c40)
2017-09-13T02:56:15.6198200+03:00 0HL7OIHK18E88 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:56:15.6223211+03:00 0HL7OIHK18E88 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:56:15.6223211+03:00 0HL7OIHK18E88 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:56:15.6798594+03:00 0HL7OIHK18E88 [INF] Executed DbCommand (38ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:56:15.6803599+03:00 0HL7OIHK18E88 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:56:15.6808597+03:00 0HL7OIHK18E88 [INF] Request finished in 61.5531ms 200 application/json (15c52c40)
2017-09-13T02:58:11.6030416+03:00 0HL7OIHK18E89 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T02:58:11.6075448+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:58:11.6140493+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:58:11.6660830+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T02:58:11.6715872+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T02:58:11.6770911+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T02:58:11.6830947+03:00 0HL7OIHK18E89 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T02:58:11.6835948+03:00 0HL7OIHK18E89 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T02:58:11.6845955+03:00 0HL7OIHK18E89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T02:58:11.6845955+03:00 0HL7OIHK18E89 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T02:58:11.6905990+03:00 0HL7OIHK18E89 [INF] Request finished in 83.3996ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T02:58:12.3595419+03:00 0HL7OIHK18E8A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T02:58:12.3615436+03:00 0HL7OIHK18E8A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:58:12.3615436+03:00 0HL7OIHK18E8A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T02:58:12.3620438+03:00 0HL7OIHK18E8A [INF] Request finished in 2.8669ms 200 application/json (15c52c40)
2017-09-13T02:58:12.4596086+03:00 0HL7OIHK18E8B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:58:12.4621108+03:00 0HL7OIHK18E8B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:58:12.4626106+03:00 0HL7OIHK18E8B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:58:12.4806221+03:00 0HL7OIHK18E8B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:58:12.4811538+03:00 0HL7OIHK18E8B [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:58:12.4816543+03:00 0HL7OIHK18E8B [INF] Request finished in 22.6998ms 200 application/json (15c52c40)
2017-09-13T02:58:30.3944029+03:00 0HL7OIHK18E8C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T02:58:30.3974056+03:00 0HL7OIHK18E8C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T02:58:30.3974056+03:00 0HL7OIHK18E8C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T02:58:30.4199208+03:00 0HL7OIHK18E8C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T02:58:30.4204209+03:00 0HL7OIHK18E8C [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T02:58:30.4219217+03:00 0HL7OIHK18E8C [INF] Request finished in 26.9346ms 200 application/json (15c52c40)
2017-09-13T03:02:45.0649349+03:00 0HL7OIHK18E8D [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:02:45.2565447+03:00 0HL7OIHK18E8D [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:02:45.2565447+03:00 0HL7OIHK18E8D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:02:45.3020091+03:00 0HL7OIHK18E8D [INF] Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:02:45.3030114+03:00 0HL7OIHK18E8D [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:02:45.3035099+03:00 0HL7OIHK18E8D [INF] Request finished in 239.3028ms 200 application/json (15c52c40)
2017-09-13T03:05:43.0945376+03:00 0HL7OIHK18E8E [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:05:43.0975400+03:00 0HL7OIHK18E8E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:05:43.0975400+03:00 0HL7OIHK18E8E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:05:43.1195550+03:00 0HL7OIHK18E8E [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:05:43.1195550+03:00 0HL7OIHK18E8E [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:05:43.1205552+03:00 0HL7OIHK18E8E [INF] Request finished in 26.0018ms 200 application/json (15c52c40)
2017-09-13T03:06:31.2098522+03:00 0HL7OIHK18E8F [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:06:31.2128530+03:00 0HL7OIHK18E8F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:06:31.2128530+03:00 0HL7OIHK18E8F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:06:31.2353681+03:00 0HL7OIHK18E8F [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:06:31.2358687+03:00 0HL7OIHK18E8F [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:06:31.2368701+03:00 0HL7OIHK18E8F [INF] Request finished in 27.0561ms 200 application/json (15c52c40)
2017-09-13T03:15:11.1621532+03:00 0HL7OIHK18E8G [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:15:11.3692896+03:00 0HL7OIHK18E8G [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:15:11.3692896+03:00 0HL7OIHK18E8G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:15:11.4333324+03:00 0HL7OIHK18E8G [INF] Executed DbCommand (44ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:15:11.4333324+03:00 0HL7OIHK18E8G [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:15:11.4343350+03:00 0HL7OIHK18E8G [INF] Request finished in 272.2607ms 200 application/json (15c52c40)
2017-09-13T03:15:14.7004967+03:00 0HL7OIHK18E8H [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:15:14.7034991+03:00 0HL7OIHK18E8H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:15:14.7034991+03:00 0HL7OIHK18E8H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:15:14.7285157+03:00 0HL7OIHK18E8H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:15:14.7295167+03:00 0HL7OIHK18E8H [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:15:14.7335206+03:00 0HL7OIHK18E8H [INF] Request finished in 32.0591ms 200 application/json (15c52c40)
2017-09-13T03:29:56.2858722+03:00 0HL7OIHK18E8I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T03:29:56.4599875+03:00 0HL7OIHK18E8J [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:30:07.4027690+03:00 0HL7OIHK18E8J [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:30:07.4027690+03:00 0HL7OIHK18E8J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:30:07.4032699+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:30:07.4542496+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (47ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:30:07.4547493+03:00 0HL7OIHK18E8J [INF] Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:30:07.4552503+03:00 0HL7OIHK18E8J [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:30:07.4562509+03:00 0HL7OIHK18E8J [INF] Request finished in 10996.2965ms 200 application/json (15c52c40)
2017-09-13T03:30:07.4672582+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:30:07.4722619+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T03:30:07.4827687+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T03:30:07.4882717+03:00 0HL7OIHK18E8I [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T03:30:07.4917758+03:00 0HL7OIHK18E8I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:30:07.4927757+03:00 0HL7OIHK18E8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:30:07.4932759+03:00 0HL7OIHK18E8I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T03:30:07.5308001+03:00 0HL7OIHK18E8I [INF] Request finished in 11209.0039ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T03:34:09.1118323+03:00 0HL7OIHK18E8K [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:09.1148347+03:00 0HL7OIHK18E8K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:09.1148347+03:00 0HL7OIHK18E8K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:09.1158349+03:00 0HL7OIHK18E8K [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:09.1158349+03:00 0HL7OIHK18E8K [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:09.1168348+03:00 0HL7OIHK18E8K [INF] Request finished in 5.2859ms 200 application/json (15c52c40)
2017-09-13T03:34:10.0304407+03:00 0HL7OIHK18E8L [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:10.0334431+03:00 0HL7OIHK18E8L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:10.0334431+03:00 0HL7OIHK18E8L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:10.0344434+03:00 0HL7OIHK18E8L [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:10.0344434+03:00 0HL7OIHK18E8L [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:10.0344434+03:00 0HL7OIHK18E8L [INF] Request finished in 5.1841ms 200 application/json (15c52c40)
2017-09-13T03:34:14.1071412+03:00 0HL7OIHK18E8M [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:14.1101428+03:00 0HL7OIHK18E8M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:14.1101428+03:00 0HL7OIHK18E8M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:14.1111427+03:00 0HL7OIHK18E8M [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:14.1111427+03:00 0HL7OIHK18E8M [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:14.1121445+03:00 0HL7OIHK18E8M [INF] Request finished in 5.0652ms 200 application/json (15c52c40)
2017-09-13T03:34:14.6735163+03:00 0HL7OIHK18E8N [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:14.6755169+03:00 0HL7OIHK18E8N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:14.6765179+03:00 0HL7OIHK18E8N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:14.6775186+03:00 0HL7OIHK18E8N [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:14.6775186+03:00 0HL7OIHK18E8N [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:14.6775186+03:00 0HL7OIHK18E8N [INF] Request finished in 4.8347ms 200 application/json (15c52c40)
2017-09-13T03:34:18.1318436+03:00 0HL7OIHK18E8O [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:18.1338449+03:00 0HL7OIHK18E8O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:18.1338449+03:00 0HL7OIHK18E8O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:18.1348483+03:00 0HL7OIHK18E8O [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:18.1348483+03:00 0HL7OIHK18E8O [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:18.1358458+03:00 0HL7OIHK18E8O [INF] Request finished in 4.2837ms 200 application/json (15c52c40)
2017-09-13T03:34:20.6805316+03:00 0HL7OIHK18E8P [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:20.6835336+03:00 0HL7OIHK18E8P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:20.6835336+03:00 0HL7OIHK18E8P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:20.6845343+03:00 0HL7OIHK18E8P [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"578e386ee9d00fc741de340952666e57923ce4640fa05d479d72d690b4110d77\"
}" (c9724191)
2017-09-13T03:34:20.6845343+03:00 0HL7OIHK18E8P [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:20.6855345+03:00 0HL7OIHK18E8P [INF] Request finished in 4.5462ms 200 application/json (15c52c40)
2017-09-13T03:34:24.4790475+03:00 0HL7OIHK18E8Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUyNTkxNTQsImV4cCI6MTUwNTI1OTQ1NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjgzMTM1NjExNTAyNjgxMTE1MDUyNTkxNTQ0MzUiLCJpYXQiOjE1MDUyNTkxNTQsImF0X2hhc2giOiJDUjEyUGthbkZhTi1xR1dET0xZZEpBIiwic2lkIjoiNjZiM2RmMzFiZDI0MDhiOTk3M2JmZmU3YjY0N2JhNzUiLCJzdWIiOiIzYzdjY2E2NC0wMGNkLTQ5Y2MtOTQwNy0zMTI4ZWFlODMwOTgiLCJhdXRoX3RpbWUiOjE1MDUyNTg4MzksImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.tOG_6DrTVcS3fbgqcPAlsyvPiGImGCr_DIC__ZZN4VmoD-tjIjb9BZmYc1GMtUDoff6E_amGD6g3nCoRviG6Pb1qsutjM7XTSNRrUj62sjcjiypAfYO5xKcS1qXMmQyKhy0umMZ7IPXlZz_AUJI0sMnMegqIS_RIlslMJtzl1CPNMO4pmr3koS3uBgTPCZEO2pSQmsaN7KeqO5br8NqlrF5xFx1Dl-cfvy5RxkUh_Ns-Zoyq59a6oQj9SfVEgmRg7d4Je2juPEYKPjDuydIKRre4EnJs0uE6RUQx1y0pcyFRct08rt0qofMiUgmr31sAY1IacTUsNWgVtiDxUj2_Kg&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-13T03:34:24.4820511+03:00 0HL7OIHK18E8Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:24.4820511+03:00 0HL7OIHK18E8Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:24.4830497+03:00 0HL7OIHK18E8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.4840500+03:00 0HL7OIHK18E8Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-13T03:34:24.4840500+03:00 0HL7OIHK18E8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.4910562+03:00 0HL7OIHK18E8Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:24.4920585+03:00 0HL7OIHK18E8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.4930568+03:00 0HL7OIHK18E8Q [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUyNTkxNTQsImV4cCI6MTUwNTI1OTQ1NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjgzMTM1NjExNTAyNjgxMTE1MDUyNTkxNTQ0MzUiLCJpYXQiOjE1MDUyNTkxNTQsImF0X2hhc2giOiJDUjEyUGthbkZhTi1xR1dET0xZZEpBIiwic2lkIjoiNjZiM2RmMzFiZDI0MDhiOTk3M2JmZmU3YjY0N2JhNzUiLCJzdWIiOiIzYzdjY2E2NC0wMGNkLTQ5Y2MtOTQwNy0zMTI4ZWFlODMwOTgiLCJhdXRoX3RpbWUiOjE1MDUyNTg4MzksImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.tOG_6DrTVcS3fbgqcPAlsyvPiGImGCr_DIC__ZZN4VmoD-tjIjb9BZmYc1GMtUDoff6E_amGD6g3nCoRviG6Pb1qsutjM7XTSNRrUj62sjcjiypAfYO5xKcS1qXMmQyKhy0umMZ7IPXlZz_AUJI0sMnMegqIS_RIlslMJtzl1CPNMO4pmr3koS3uBgTPCZEO2pSQmsaN7KeqO5br8NqlrF5xFx1Dl-cfvy5RxkUh_Ns-Zoyq59a6oQj9SfVEgmRg7d4Je2juPEYKPjDuydIKRre4EnJs0uE6RUQx1y0pcyFRct08rt0qofMiUgmr31sAY1IacTUsNWgVtiDxUj2_Kg\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-13T03:34:24.4950581+03:00 0HL7OIHK18E8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.4960584+03:00 0HL7OIHK18E8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.4980597+03:00 0HL7OIHK18E8Q [INF] Request finished in 20.6851ms 302  (15c52c40)
2017-09-13T03:34:24.5010617+03:00 0HL7OIHK18E8R [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=60087ccf5d428afd1b9e21dc6cdf114d   (e5be5b71)
2017-09-13T03:34:24.5040645+03:00 0HL7OIHK18E8R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:24.5050663+03:00 0HL7OIHK18E8R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:24.5060670+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.5120702+03:00 0HL7OIHK18E8R [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["60087ccf5d428afd1b9e21dc6cdf114d"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T03:34:24.5130712+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.5140715+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.5150710+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-13T03:34:24.5160720+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-13T03:34:24.5160720+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-13T03:34:24.5170735+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.5180729+03:00 0HL7OIHK18E8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:24.5320838+03:00 0HL7OIHK18E8R [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-13T03:34:24.5390880+03:00 0HL7OIHK18E8R [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 27.4903ms (afa2e885)
2017-09-13T03:34:24.5410886+03:00 0HL7OIHK18E8R [INF] Request finished in 39.9286ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T03:34:24.5701082+03:00 0HL7OIHK18E8S [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.min.js?v=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU   (e5be5b71)
2017-09-13T03:34:24.5751123+03:00 0HL7OIHK18E8S [INF] Sending file. Request path: '"/js/site.min.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.min.js"' (27b0a520)
2017-09-13T03:34:24.5771120+03:00 0HL7OIHK18E8S [INF] Request finished in 6.0568ms 200 application/javascript (15c52c40)
2017-09-13T03:34:24.6191403+03:00 0HL7OIHK18E8T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=66b3df31bd2408b9973bffe7b647ba75&logoutId=60087ccf5d428afd1b9e21dc6cdf114d   (e5be5b71)
2017-09-13T03:34:24.6221431+03:00 0HL7OIHK18E8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:24.6221431+03:00 0HL7OIHK18E8T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-13T03:34:24.6231433+03:00 0HL7OIHK18E8T [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-13T03:34:24.6231433+03:00 0HL7OIHK18E8T [INF] Request finished in 4.2162ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T03:34:25.7969227+03:00 0HL7OIHK18E8U [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-13T03:34:25.7999231+03:00 0HL7OIHK18E8U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:25.8009250+03:00 0HL7OIHK18E8U [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-13T03:34:25.8029243+03:00 0HL7OIHK18E8U [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-13T03:34:25.8089279+03:00 0HL7OIHK18E8U [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 10.4542ms (afa2e885)
2017-09-13T03:34:25.8089279+03:00 0HL7OIHK18E8U [INF] Request finished in 12.4938ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T03:34:30.1407789+03:00 0HL7OIHK18E8V [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-13T03:34:30.1447811+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.1457822+03:00 0HL7OIHK18E8V [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T03:34:30.1507855+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-13T03:34:30.1687966+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:34:30.1707980+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T03:34:30.1738003+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T03:34:30.1758017+03:00 0HL7OIHK18E8V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T03:34:30.1758017+03:00 0HL7OIHK18E8V [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T03:34:30.1758017+03:00 0HL7OIHK18E8V [INF] User logged in. (fdce0db4)
2017-09-13T03:34:30.1778038+03:00 0HL7OIHK18E8V [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-13T03:34:30.1778038+03:00 0HL7OIHK18E8V [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 36.0384ms (afa2e885)
2017-09-13T03:34:30.1788072+03:00 0HL7OIHK18E8V [INF] Request finished in 42.3617ms 302  (15c52c40)
2017-09-13T03:34:30.1818056+03:00 0HL7OIHK18E90 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-13T03:34:30.1848084+03:00 0HL7OIHK18E90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.1848084+03:00 0HL7OIHK18E90 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:30.1858083+03:00 0HL7OIHK18E90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:30.1868090+03:00 0HL7OIHK18E90 [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-13T03:34:30.1878120+03:00 0HL7OIHK18E90 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-13T03:34:30.1898113+03:00 0HL7OIHK18E90 [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 2.7205ms (afa2e885)
2017-09-13T03:34:30.1908116+03:00 0HL7OIHK18E90 [INF] Request finished in 8.7521ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T03:34:30.2098242+03:00 0HL7OIHK18E91 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-13T03:34:30.2168288+03:00 0HL7OIHK18E91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.2178295+03:00 0HL7OIHK18E91 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:30.2188302+03:00 0HL7OIHK18E91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:30.2188302+03:00 0HL7OIHK18E91 [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-13T03:34:30.2248377+03:00 0HL7OIHK18E91 [INF] Request finished in 10.8501ms 200 image/svg+xml (15c52c40)
2017-09-13T03:34:30.2278369+03:00 0HL7OIHK18E92 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-13T03:34:30.2318392+03:00 0HL7OIHK18E92 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.2328398+03:00 0HL7OIHK18E92 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:30.2328398+03:00 0HL7OIHK18E92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:30.2338405+03:00 0HL7OIHK18E92 [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-13T03:34:30.2358418+03:00 0HL7OIHK18E92 [INF] Request finished in 9.212ms 200 image/svg+xml (15c52c40)
2017-09-13T03:34:30.2558551+03:00 0HL7OIHK18E93 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-13T03:34:30.2618587+03:00 0HL7OIHK18E94 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-13T03:34:30.2618587+03:00 0HL7OIHK18E93 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.2628593+03:00 0HL7OIHK18E93 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:30.2638604+03:00 0HL7OIHK18E93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:30.2638604+03:00 0HL7OIHK18E93 [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-13T03:34:30.2658617+03:00 0HL7OIHK18E93 [INF] Request finished in 9.8589ms 200 image/svg+xml (15c52c40)
2017-09-13T03:34:30.2668628+03:00 0HL7OIHK18E94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:30.2678626+03:00 0HL7OIHK18E94 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:30.2678626+03:00 0HL7OIHK18E94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:30.2688641+03:00 0HL7OIHK18E94 [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-13T03:34:30.2708646+03:00 0HL7OIHK18E94 [INF] Request finished in 10.0093ms 200 image/svg+xml (15c52c40)
2017-09-13T03:34:36.8602451+03:00 0HL7OIHK18E95 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T03:34:36.8632475+03:00 0HL7OIHK18E95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:36.8642482+03:00 0HL7OIHK18E95 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:36.8652485+03:00 0HL7OIHK18E95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:36.8652485+03:00 0HL7OIHK18E95 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T03:34:36.8692519+03:00 0HL7OIHK18E95 [INF] Request finished in 6.272ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T03:34:37.4226176+03:00 0HL7OIHK18E96 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.158842724504705271505262877417&state=15052628774170.7749205667394805   (e5be5b71)
2017-09-13T03:34:37.4256188+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:37.4266211+03:00 0HL7OIHK18E96 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:37.4266211+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:37.4266211+03:00 0HL7OIHK18E96 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T03:34:37.4276205+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:37.4286220+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:37.4286220+03:00 0HL7OIHK18E96 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15052628774170.7749205667394805\",
  \"Nonce\": \"N0.158842724504705271505262877417\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.158842724504705271505262877417\",
    \"state\": \"15052628774170.7749205667394805\"
  }
}" (9a175e33)
2017-09-13T03:34:37.4326250+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:37.4446322+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:34:37.4456336+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T03:34:37.4476342+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T03:34:37.4506358+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T03:34:37.4526375+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:34:37.4576400+03:00 0HL7OIHK18E96 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T03:34:37.4816563+03:00 0HL7OIHK18E96 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15052628774170.7749205667394805\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T03:34:37.4826574+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:37.4836584+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:37.4846583+03:00 0HL7OIHK18E96 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T03:34:37.4846583+03:00 0HL7OIHK18E96 [INF] Request finished in 63.0804ms 302  (15c52c40)
2017-09-13T03:34:38.9546323+03:00 0HL7OIHK18E97 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T03:34:38.9576343+03:00 0HL7OIHK18E97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:38.9586350+03:00 0HL7OIHK18E97 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:38.9586350+03:00 0HL7OIHK18E97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:38.9586350+03:00 0HL7OIHK18E97 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T03:34:38.9596356+03:00 0HL7OIHK18E97 [INF] Request finished in 5.6262ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T03:34:38.9716459+03:00 0HL7OIHK18E98 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T03:34:38.9756462+03:00 0HL7OIHK18E98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:38.9756462+03:00 0HL7OIHK18E98 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T03:34:38.9786526+03:00 0HL7OIHK18E98 [INF] Request finished in 5.4548ms 200 application/json (15c52c40)
2017-09-13T03:34:39.0486958+03:00 0HL7OIHK18E99 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T03:34:39.0496953+03:00 0HL7OIHK18E99 [INF] Request finished in 0.8368ms 204  (15c52c40)
2017-09-13T03:34:39.0677080+03:00 0HL7OIHK18E9A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T03:34:39.0717142+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:39.0717142+03:00 0HL7OIHK18E9A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T03:34:39.0717142+03:00 0HL7OIHK18E9A [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T03:34:39.0977275+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:39.1267483+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:34:39.1367529+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T03:34:39.1457593+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T03:34:39.1487605+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T03:34:39.1517629+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T03:34:39.1627706+03:00 0HL7OIHK18E9A [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T03:34:39.1637708+03:00 0HL7OIHK18E9A [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T03:34:39.1967927+03:00 0HL7OIHK18E9A [INF] Request finished in 99.0687ms 200 application/json (15c52c40)
2017-09-13T03:34:39.2148046+03:00 0HL7OIHK18E9B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:39.2588338+03:00 0HL7OIHK18E9B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:39.2588338+03:00 0HL7OIHK18E9B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:39.2728427+03:00 0HL7OIHK18E9B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:39.2738433+03:00 0HL7OIHK18E9B [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:39.2738433+03:00 0HL7OIHK18E9B [INF] Request finished in 60.3673ms 200 application/json (15c52c40)
2017-09-13T03:34:45.3989001+03:00 0HL7OIHK18E9C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T03:34:45.4019025+03:00 0HL7OIHK18E9C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:45.4029028+03:00 0HL7OIHK18E9C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T03:34:45.4029028+03:00 0HL7OIHK18E9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T03:34:45.4029028+03:00 0HL7OIHK18E9C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T03:34:45.4039038+03:00 0HL7OIHK18E9C [INF] Request finished in 5.2784ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T03:34:45.7411264+03:00 0HL7OIHK18E9D [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:45.7441292+03:00 0HL7OIHK18E9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:45.7441292+03:00 0HL7OIHK18E9D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:45.7661434+03:00 0HL7OIHK18E9D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:45.7671440+03:00 0HL7OIHK18E9D [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:45.7681451+03:00 0HL7OIHK18E9D [INF] Request finished in 27.4659ms 200 application/json (15c52c40)
2017-09-13T03:34:46.4045666+03:00 0HL7OIHK18E9E [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:46.4085693+03:00 0HL7OIHK18E9E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:46.4085693+03:00 0HL7OIHK18E9E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:46.4315845+03:00 0HL7OIHK18E9E [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:46.4315845+03:00 0HL7OIHK18E9E [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:46.4335862+03:00 0HL7OIHK18E9E [INF] Request finished in 28.1413ms 200 application/json (15c52c40)
2017-09-13T03:34:47.0129692+03:00 0HL7OIHK18E9F [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:47.0159712+03:00 0HL7OIHK18E9F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:47.0159712+03:00 0HL7OIHK18E9F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:47.0379857+03:00 0HL7OIHK18E9F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:47.0389868+03:00 0HL7OIHK18E9F [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:47.0399875+03:00 0HL7OIHK18E9F [INF] Request finished in 26.273ms 200 application/json (15c52c40)
2017-09-13T03:34:48.7841419+03:00 0HL7OIHK18E9G [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T03:34:48.7861436+03:00 0HL7OIHK18E9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T03:34:48.7871439+03:00 0HL7OIHK18E9G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T03:34:48.8021550+03:00 0HL7OIHK18E9G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T03:34:48.8031545+03:00 0HL7OIHK18E9G [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T03:34:48.8031545+03:00 0HL7OIHK18E9G [INF] Request finished in 19.3011ms 200 application/json (15c52c40)
2017-09-13T17:58:53.2460579+03:00 0HL7OIHK18E9H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T17:59:04.0492632+03:00 0HL7OIHK18E9I [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T17:59:44.9820124+03:00 0HL7OIHK18E9I [INF] Executed DbCommand (1,525ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T17:59:44.9830134+03:00 0HL7OIHK18E9I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T17:59:44.9865140+03:00 0HL7OIHK18E9I [INF] Request finished in 40937.3881ms 200 application/json (15c52c40)
2017-09-13T17:59:45.0800319+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (2,447ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T17:59:46.0835498+03:00 0HL7OIHK18E9J [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T17:59:46.0880522+03:00 0HL7OIHK18E9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T17:59:46.0880522+03:00 0HL7OIHK18E9J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T17:59:46.0930551+03:00 0HL7OIHK18E9J [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"0a951e9eede8164aa7b1e570be2d2ea9e7c20016b3fd8ebd3c79ac0c676f4714\"
}" (c9724191)
2017-09-13T17:59:46.0930551+03:00 0HL7OIHK18E9J [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T17:59:46.0940562+03:00 0HL7OIHK18E9J [INF] Request finished in 13.3409ms 200 application/json (15c52c40)
2017-09-13T17:59:46.9831449+03:00 0HL7OIHK18E9K [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T17:59:46.9866474+03:00 0HL7OIHK18E9K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T17:59:46.9866474+03:00 0HL7OIHK18E9K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T17:59:46.9886483+03:00 0HL7OIHK18E9K [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"0a951e9eede8164aa7b1e570be2d2ea9e7c20016b3fd8ebd3c79ac0c676f4714\"
}" (c9724191)
2017-09-13T17:59:46.9886483+03:00 0HL7OIHK18E9K [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T17:59:46.9891492+03:00 0HL7OIHK18E9K [INF] Request finished in 6.8759ms 200 application/json (15c52c40)
2017-09-13T17:59:50.5263204+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (5,434ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T17:59:51.4164239+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (884ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T17:59:51.8080498+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (390ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T17:59:51.8780397+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (66ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T17:59:51.9735160+03:00 0HL7OIHK18E9H [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T17:59:51.9760214+03:00 0HL7OIHK18E9H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T17:59:51.9775179+03:00 0HL7OIHK18E9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T17:59:51.9780180+03:00 0HL7OIHK18E9H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T17:59:51.9820203+03:00 0HL7OIHK18E9H [INF] Request finished in 58739.7779ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T18:00:32.5494331+03:00 0HL7OIHK18E9L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30756864645292771505314832542&state=15053148325420.4579415323868472   (e5be5b71)
2017-09-13T18:00:32.5529369+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:32.5534358+03:00 0HL7OIHK18E9L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:00:32.5539359+03:00 0HL7OIHK18E9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:32.5544361+03:00 0HL7OIHK18E9L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:00:32.5549374+03:00 0HL7OIHK18E9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:32.5554379+03:00 0HL7OIHK18E9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:32.5559369+03:00 0HL7OIHK18E9L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053148325420.4579415323868472\",
  \"Nonce\": \"N0.30756864645292771505314832542\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30756864645292771505314832542\",
    \"state\": \"15053148325420.4579415323868472\"
  }
}" (9a175e33)
2017-09-13T18:00:32.5589389+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:00:32.5769512+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:32.5789521+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:00:32.5809550+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:00:32.5829552+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:00:32.5849565+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:32.5894589+03:00 0HL7OIHK18E9L [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:00:32.6079717+03:00 0HL7OIHK18E9L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053148325420.4579415323868472\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:00:32.6089724+03:00 0HL7OIHK18E9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:32.6099730+03:00 0HL7OIHK18E9L [INF] Request finished in 62.69ms 302  (15c52c40)
2017-09-13T18:00:40.8954765+03:00 0HL7OIHK18E9M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T18:00:40.8979780+03:00 0HL7OIHK18E9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:40.8984785+03:00 0HL7OIHK18E9M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:00:40.8999821+03:00 0HL7OIHK18E9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:40.9004806+03:00 0HL7OIHK18E9M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T18:00:40.9039824+03:00 0HL7OIHK18E9M [INF] Request finished in 6.0458ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T18:00:40.9655229+03:00 0HL7OIHK18E9N [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T18:00:40.9700257+03:00 0HL7OIHK18E9N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:40.9700257+03:00 0HL7OIHK18E9N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T18:00:40.9795322+03:00 0HL7OIHK18E9N [INF] Request finished in 5.7963ms 200 application/json (15c52c40)
2017-09-13T18:00:55.2422273+03:00 0HL7OIHK18E9O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72371216626564121505314855235&state=15053148552350.8858606696733748   (e5be5b71)
2017-09-13T18:00:55.2457298+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:55.2462304+03:00 0HL7OIHK18E9O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:00:55.2467317+03:00 0HL7OIHK18E9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:55.2467317+03:00 0HL7OIHK18E9O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:00:55.2472310+03:00 0HL7OIHK18E9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:55.2477312+03:00 0HL7OIHK18E9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:55.2477312+03:00 0HL7OIHK18E9O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053148552350.8858606696733748\",
  \"Nonce\": \"N0.72371216626564121505314855235\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72371216626564121505314855235\",
    \"state\": \"15053148552350.8858606696733748\"
  }
}" (9a175e33)
2017-09-13T18:00:55.2507339+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:00:55.2580378+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:55.2595366+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:00:55.2610382+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:00:55.2625394+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:00:55.2645419+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:55.2665412+03:00 0HL7OIHK18E9O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:00:55.2785496+03:00 0HL7OIHK18E9O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053148552350.8858606696733748\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:00:55.2801570+03:00 0HL7OIHK18E9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:55.2806697+03:00 0HL7OIHK18E9O [INF] Request finished in 39.4284ms 302  (15c52c40)
2017-09-13T18:00:56.8041794+03:00 0HL7OIHK18E9P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T18:00:56.8076815+03:00 0HL7OIHK18E9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:56.8081820+03:00 0HL7OIHK18E9P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:00:56.8086826+03:00 0HL7OIHK18E9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:00:56.8086826+03:00 0HL7OIHK18E9P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T18:00:56.8101834+03:00 0HL7OIHK18E9P [INF] Request finished in 7.4108ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T18:00:56.8266937+03:00 0HL7OIHK18E9Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T18:00:56.8296977+03:00 0HL7OIHK18E9Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:56.8296977+03:00 0HL7OIHK18E9Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T18:00:56.8306960+03:00 0HL7OIHK18E9Q [INF] Request finished in 3.8269ms 200 application/json (15c52c40)
2017-09-13T18:00:56.9452728+03:00 0HL7OIHK18E9R [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T18:00:56.9472742+03:00 0HL7OIHK18E9R [INF] Request finished in 2.3613ms 204  (15c52c40)
2017-09-13T18:00:57.0413365+03:00 0HL7OIHK18E9S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T18:00:57.0543447+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:57.0548452+03:00 0HL7OIHK18E9S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T18:00:57.0548452+03:00 0HL7OIHK18E9S [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T18:00:57.0843646+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:00:57.0993749+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:57.1213895+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:00:57.1258927+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:00:57.1323964+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:00:57.1348982+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:00:57.1373993+03:00 0HL7OIHK18E9S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:00:57.1378998+03:00 0HL7OIHK18E9S [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T18:00:57.1384004+03:00 0HL7OIHK18E9S [INF] Request finished in 157.9839ms 200 application/json (15c52c40)
2017-09-13T18:00:57.2769923+03:00 0HL7OIHK18E9T [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:00:57.2794934+03:00 0HL7OIHK18E9T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:00:57.2794934+03:00 0HL7OIHK18E9T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:00:57.3035097+03:00 0HL7OIHK18E9T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:00:57.3040098+03:00 0HL7OIHK18E9T [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:00:57.3060116+03:00 0HL7OIHK18E9T [INF] Request finished in 28.2001ms 200 application/json (15c52c40)
2017-09-13T18:01:22.3881504+03:00 0HL7OIHK18E9U [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:01:22.3906503+03:00 0HL7OIHK18E9U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:01:22.3906503+03:00 0HL7OIHK18E9U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:01:22.4056602+03:00 0HL7OIHK18E9U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:01:22.4056602+03:00 0HL7OIHK18E9U [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:01:22.4066617+03:00 0HL7OIHK18E9U [INF] Request finished in 18.5456ms 200 application/json (15c52c40)
2017-09-13T18:01:45.8115602+03:00 0HL7OIHK18E9V [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:01:45.8140617+03:00 0HL7OIHK18E9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:01:45.8140617+03:00 0HL7OIHK18E9V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:01:45.8290720+03:00 0HL7OIHK18E9V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:01:45.8295725+03:00 0HL7OIHK18E9V [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:01:45.8300723+03:00 0HL7OIHK18E9V [INF] Request finished in 19.1878ms 200 application/json (15c52c40)
2017-09-13T18:03:19.4874098+03:00 0HL7OIHK18EA0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:03:19.4904114+03:00 0HL7OIHK18EA0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:03:19.4904114+03:00 0HL7OIHK18EA0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:03:19.5079228+03:00 0HL7OIHK18EA0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:03:19.5084233+03:00 0HL7OIHK18EA0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:03:19.5089235+03:00 0HL7OIHK18EA0 [INF] Request finished in 22.4511ms 200 application/json (15c52c40)
2017-09-13T18:03:40.2000388+03:00 0HL7OIHK18EA1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:03:40.2030408+03:00 0HL7OIHK18EA1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:03:40.2030408+03:00 0HL7OIHK18EA1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:03:40.2210527+03:00 0HL7OIHK18EA1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:03:40.2210527+03:00 0HL7OIHK18EA1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:03:40.2220538+03:00 0HL7OIHK18EA1 [INF] Request finished in 22.1235ms 200 application/json (15c52c40)
2017-09-13T18:03:45.5194097+03:00 0HL7OIHK18EA2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:03:45.5224121+03:00 0HL7OIHK18EA2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:03:45.5229122+03:00 0HL7OIHK18EA2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:03:45.5479296+03:00 0HL7OIHK18EA2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:03:45.5484293+03:00 0HL7OIHK18EA2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:03:45.5494300+03:00 0HL7OIHK18EA2 [INF] Request finished in 30.6096ms 200 application/json (15c52c40)
2017-09-13T18:04:04.8444680+03:00 0HL7OIHK18EA3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:04.8479705+03:00 0HL7OIHK18EA3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:04.8479705+03:00 0HL7OIHK18EA3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:04.8679834+03:00 0HL7OIHK18EA3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:04.8684839+03:00 0HL7OIHK18EA3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:04.8689844+03:00 0HL7OIHK18EA3 [INF] Request finished in 25.5423ms 200 application/json (15c52c40)
2017-09-13T18:04:05.6409964+03:00 0HL7OIHK18EA4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:05.6455003+03:00 0HL7OIHK18EA4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:05.6459997+03:00 0HL7OIHK18EA4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:05.6675137+03:00 0HL7OIHK18EA4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:05.6685152+03:00 0HL7OIHK18EA4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:05.6695147+03:00 0HL7OIHK18EA4 [INF] Request finished in 28.4602ms 200 application/json (15c52c40)
2017-09-13T18:04:23.8330972+03:00 0HL7OIHK18EA5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:23.8355970+03:00 0HL7OIHK18EA5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:23.8360972+03:00 0HL7OIHK18EA5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:23.8556103+03:00 0HL7OIHK18EA5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:23.8561100+03:00 0HL7OIHK18EA5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:23.8566106+03:00 0HL7OIHK18EA5 [INF] Request finished in 24.0281ms 200 application/json (15c52c40)
2017-09-13T18:04:25.1766687+03:00 0HL7OIHK18EA6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:25.1796711+03:00 0HL7OIHK18EA6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:25.1801712+03:00 0HL7OIHK18EA6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:25.2021854+03:00 0HL7OIHK18EA6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:25.2026859+03:00 0HL7OIHK18EA6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:25.2031861+03:00 0HL7OIHK18EA6 [INF] Request finished in 26.8615ms 200 application/json (15c52c40)
2017-09-13T18:04:26.4525291+03:00 0HL7OIHK18EA7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:26.4545297+03:00 0HL7OIHK18EA7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:26.4550306+03:00 0HL7OIHK18EA7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:26.4705411+03:00 0HL7OIHK18EA7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:26.4710416+03:00 0HL7OIHK18EA7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:26.4715417+03:00 0HL7OIHK18EA7 [INF] Request finished in 19.502ms 200 application/json (15c52c40)
2017-09-13T18:04:33.1771783+03:00 0HL7OIHK18EA8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:33.1801811+03:00 0HL7OIHK18EA8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:33.1806816+03:00 0HL7OIHK18EA8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:33.1966914+03:00 0HL7OIHK18EA8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:33.1971916+03:00 0HL7OIHK18EA8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:33.1976921+03:00 0HL7OIHK18EA8 [INF] Request finished in 20.4944ms 200 application/json (15c52c40)
2017-09-13T18:04:33.9744113+03:00 0HL7OIHK18EA9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:04:33.9774137+03:00 0HL7OIHK18EA9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:04:33.9774137+03:00 0HL7OIHK18EA9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:04:33.9919223+03:00 0HL7OIHK18EA9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:04:33.9919223+03:00 0HL7OIHK18EA9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:04:33.9929233+03:00 0HL7OIHK18EA9 [INF] Request finished in 18.4575ms 200 application/json (15c52c40)
2017-09-13T18:05:58.7387175+03:00 0HL7OIHK18EAA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64248878056525241505315158684&state=15053151586840.05641485884388908   (e5be5b71)
2017-09-13T18:05:58.7417187+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:05:58.7427209+03:00 0HL7OIHK18EAA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:05:58.7432195+03:00 0HL7OIHK18EAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:05:58.7432195+03:00 0HL7OIHK18EAA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:05:58.7437200+03:00 0HL7OIHK18EAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:05:58.7442217+03:00 0HL7OIHK18EAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:05:58.7442217+03:00 0HL7OIHK18EAA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053151586840.05641485884388908\",
  \"Nonce\": \"N0.64248878056525241505315158684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64248878056525241505315158684\",
    \"state\": \"15053151586840.05641485884388908\"
  }
}" (9a175e33)
2017-09-13T18:05:58.7482236+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:05:58.7607313+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:05:58.7627322+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:05:58.7647339+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:05:58.7667357+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:05:58.7707383+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:05:58.7722395+03:00 0HL7OIHK18EAA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:05:58.7952547+03:00 0HL7OIHK18EAA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053151586840.05641485884388908\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:05:58.7957545+03:00 0HL7OIHK18EAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:05:58.8032600+03:00 0HL7OIHK18EAA [INF] Request finished in 66.6824ms 302  (15c52c40)
2017-09-13T18:06:03.4964497+03:00 0HL7OIHK18EAB [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T18:06:03.4989516+03:00 0HL7OIHK18EAB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:06:03.4994517+03:00 0HL7OIHK18EAB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T18:06:03.5019552+03:00 0HL7OIHK18EAB [INF] Request finished in 3.8609ms 200 application/json (15c52c40)
2017-09-13T18:06:03.8777026+03:00 0HL7OIHK18EAC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:06:03.8807038+03:00 0HL7OIHK18EAC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:06:03.8807038+03:00 0HL7OIHK18EAC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:06:03.9012188+03:00 0HL7OIHK18EAC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:06:03.9017201+03:00 0HL7OIHK18EAC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:06:03.9027192+03:00 0HL7OIHK18EAC [INF] Request finished in 25.523ms 200 application/json (15c52c40)
2017-09-13T18:06:04.5042960+03:00 0HL7OIHK18EAD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:06:04.5062973+03:00 0HL7OIHK18EAD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:06:04.5062973+03:00 0HL7OIHK18EAD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:06:04.5203062+03:00 0HL7OIHK18EAD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:06:04.5208071+03:00 0HL7OIHK18EAD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:06:04.5213072+03:00 0HL7OIHK18EAD [INF] Request finished in 17.4758ms 200 application/json (15c52c40)
2017-09-13T18:10:59.6926152+03:00 0HL7OIHK18EAE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77933357648573721505315459686&state=15053154596860.2869199005372014   (e5be5b71)
2017-09-13T18:10:59.6951849+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:10:59.6956878+03:00 0HL7OIHK18EAE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:10:59.6961875+03:00 0HL7OIHK18EAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:10:59.6961875+03:00 0HL7OIHK18EAE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:10:59.6966881+03:00 0HL7OIHK18EAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:10:59.6971910+03:00 0HL7OIHK18EAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:10:59.6971910+03:00 0HL7OIHK18EAE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053154596860.2869199005372014\",
  \"Nonce\": \"N0.77933357648573721505315459686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77933357648573721505315459686\",
    \"state\": \"15053154596860.2869199005372014\"
  }
}" (9a175e33)
2017-09-13T18:10:59.7021943+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:10:59.7101968+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:10:59.7116984+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:10:59.7136997+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:10:59.7157011+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:10:59.7207052+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:10:59.7247070+03:00 0HL7OIHK18EAE [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:10:59.7387159+03:00 0HL7OIHK18EAE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053154596860.2869199005372014\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:10:59.7392160+03:00 0HL7OIHK18EAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:10:59.7402171+03:00 0HL7OIHK18EAE [INF] Request finished in 47.8715ms 302  (15c52c40)
2017-09-13T18:11:03.0402091+03:00 0HL7OIHK18EAF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.357042176261876071505315463007&state=15053154630070.18807829943456622   (e5be5b71)
2017-09-13T18:11:03.0447123+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:11:03.0452124+03:00 0HL7OIHK18EAF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:11:03.0457125+03:00 0HL7OIHK18EAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:11:03.0462127+03:00 0HL7OIHK18EAF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:11:03.0467132+03:00 0HL7OIHK18EAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:11:03.0482144+03:00 0HL7OIHK18EAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:11:03.0482144+03:00 0HL7OIHK18EAF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053154630070.18807829943456622\",
  \"Nonce\": \"N0.357042176261876071505315463007\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.357042176261876071505315463007\",
    \"state\": \"15053154630070.18807829943456622\"
  }
}" (9a175e33)
2017-09-13T18:11:03.0582214+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:11:03.0752319+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:11:03.0772332+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:11:03.0797351+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:11:03.0827375+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:11:03.0882409+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:11:03.0907420+03:00 0HL7OIHK18EAF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:11:03.1177607+03:00 0HL7OIHK18EAF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053154630070.18807829943456622\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:11:03.1197620+03:00 0HL7OIHK18EAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:11:03.1252658+03:00 0HL7OIHK18EAF [INF] Request finished in 81.7942ms 302  (15c52c40)
2017-09-13T18:11:07.2253135+03:00 0HL7OIHK18EAG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T18:11:07.2278150+03:00 0HL7OIHK18EAG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:11:07.2278150+03:00 0HL7OIHK18EAG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T18:11:07.2288153+03:00 0HL7OIHK18EAG [INF] Request finished in 3.3304ms 200 application/json (15c52c40)
2017-09-13T18:11:07.5024908+03:00 0HL7OIHK18EAH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:11:07.5049899+03:00 0HL7OIHK18EAH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:11:07.5054900+03:00 0HL7OIHK18EAH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:11:07.5255037+03:00 0HL7OIHK18EAH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:11:07.5260038+03:00 0HL7OIHK18EAH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:11:07.5270049+03:00 0HL7OIHK18EAH [INF] Request finished in 25.0138ms 200 application/json (15c52c40)
2017-09-13T18:11:09.0144899+03:00 0HL7OIHK18EAI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T18:11:09.0174938+03:00 0HL7OIHK18EAI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:11:09.0174938+03:00 0HL7OIHK18EAI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T18:11:09.0410069+03:00 0HL7OIHK18EAI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:11:09.0415074+03:00 0HL7OIHK18EAI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T18:11:09.0450099+03:00 0HL7OIHK18EAI [INF] Request finished in 27.9214ms 200 application/json (15c52c40)
2017-09-13T18:16:06.6974851+03:00 0HL7OIHK18EAJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.020173513494684771505315766685&state=15053157666850.094082445978946   (e5be5b71)
2017-09-13T18:16:06.9995238+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:07.0010230+03:00 0HL7OIHK18EAJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:07.0025242+03:00 0HL7OIHK18EAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:07.0025242+03:00 0HL7OIHK18EAJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:07.0035217+03:00 0HL7OIHK18EAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:07.0050237+03:00 0HL7OIHK18EAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:07.0055246+03:00 0HL7OIHK18EAJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157666850.094082445978946\",
  \"Nonce\": \"N0.020173513494684771505315766685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.020173513494684771505315766685\",
    \"state\": \"15053157666850.094082445978946\"
  }
}" (9a175e33)
2017-09-13T18:16:07.0573905+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (44ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:07.0834077+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:07.0913984+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:07.0984050+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:07.1039045+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:07.1064060+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:07.1104098+03:00 0HL7OIHK18EAJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:07.1279220+03:00 0HL7OIHK18EAJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157666850.094082445978946\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:07.1289235+03:00 0HL7OIHK18EAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:07.1294212+03:00 0HL7OIHK18EAJ [INF] Request finished in 434.1017ms 302  (15c52c40)
2017-09-13T18:16:10.6950156+03:00 0HL7OIHK18EAK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65140433136535411505315770685&state=15053157706850.35974453888455926   (e5be5b71)
2017-09-13T18:16:10.7010140+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:10.7036813+03:00 0HL7OIHK18EAK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:10.7046886+03:00 0HL7OIHK18EAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:10.7051900+03:00 0HL7OIHK18EAK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:10.7061890+03:00 0HL7OIHK18EAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:10.7071905+03:00 0HL7OIHK18EAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:10.7076914+03:00 0HL7OIHK18EAK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157706850.35974453888455926\",
  \"Nonce\": \"N0.65140433136535411505315770685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65140433136535411505315770685\",
    \"state\": \"15053157706850.35974453888455926\"
  }
}" (9a175e33)
2017-09-13T18:16:10.7196974+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:10.7369483+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:10.7384499+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:10.7399495+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:10.7418987+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:10.7433999+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:10.7454000+03:00 0HL7OIHK18EAK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:10.7599094+03:00 0HL7OIHK18EAK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157706850.35974453888455926\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:10.7604100+03:00 0HL7OIHK18EAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:10.7614110+03:00 0HL7OIHK18EAK [INF] Request finished in 67.8832ms 302  (15c52c40)
2017-09-13T18:16:14.6924142+03:00 0HL7OIHK18EAL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39288750756122081505315774685&state=15053157746850.4321996726805708   (e5be5b71)
2017-09-13T18:16:14.6954162+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:14.6959168+03:00 0HL7OIHK18EAL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:14.6964165+03:00 0HL7OIHK18EAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:14.6964165+03:00 0HL7OIHK18EAL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:14.6969174+03:00 0HL7OIHK18EAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:14.6974172+03:00 0HL7OIHK18EAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:14.6974172+03:00 0HL7OIHK18EAL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157746850.4321996726805708\",
  \"Nonce\": \"N0.39288750756122081505315774685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39288750756122081505315774685\",
    \"state\": \"15053157746850.4321996726805708\"
  }
}" (9a175e33)
2017-09-13T18:16:14.7019211+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:14.7119274+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:14.7139287+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:14.7194317+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:14.7214331+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:14.7229343+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:14.7244351+03:00 0HL7OIHK18EAL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:14.7404457+03:00 0HL7OIHK18EAL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157746850.4321996726805708\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:14.7409458+03:00 0HL7OIHK18EAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:14.7414463+03:00 0HL7OIHK18EAL [INF] Request finished in 49.5724ms 302  (15c52c40)
2017-09-13T18:16:18.6947069+03:00 0HL7OIHK18EAM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55494884739926791505315778685&state=15053157786850.3804226343065584   (e5be5b71)
2017-09-13T18:16:18.6982090+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:18.6987091+03:00 0HL7OIHK18EAM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:18.6992097+03:00 0HL7OIHK18EAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:18.6992097+03:00 0HL7OIHK18EAM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:18.7002107+03:00 0HL7OIHK18EAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:18.7022124+03:00 0HL7OIHK18EAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:18.7027126+03:00 0HL7OIHK18EAM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157786850.3804226343065584\",
  \"Nonce\": \"N0.55494884739926791505315778685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55494884739926791505315778685\",
    \"state\": \"15053157786850.3804226343065584\"
  }
}" (9a175e33)
2017-09-13T18:16:18.7067152+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:18.7222249+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:18.7242258+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:18.7262276+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:18.7277284+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:18.7297301+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:18.7317310+03:00 0HL7OIHK18EAM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:18.7522448+03:00 0HL7OIHK18EAM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157786850.3804226343065584\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:18.7532455+03:00 0HL7OIHK18EAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:18.7562514+03:00 0HL7OIHK18EAM [INF] Request finished in 59.4689ms 302  (15c52c40)
2017-09-13T18:16:21.6993695+03:00 0HL7OIHK18EAN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92142568255591481505315781688&state=15053157816880.7289062392532997   (e5be5b71)
2017-09-13T18:16:21.7078758+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:21.7083759+03:00 0HL7OIHK18EAN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:21.7093762+03:00 0HL7OIHK18EAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:21.7093762+03:00 0HL7OIHK18EAN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:21.7098771+03:00 0HL7OIHK18EAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:21.7108774+03:00 0HL7OIHK18EAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:21.7113799+03:00 0HL7OIHK18EAN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157816880.7289062392532997\",
  \"Nonce\": \"N0.92142568255591481505315781688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92142568255591481505315781688\",
    \"state\": \"15053157816880.7289062392532997\"
  }
}" (9a175e33)
2017-09-13T18:16:21.7153801+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:21.7278886+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:21.7298903+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:21.7318917+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:21.7378964+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:21.7413978+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:21.7433987+03:00 0HL7OIHK18EAN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:21.7624109+03:00 0HL7OIHK18EAN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157816880.7289062392532997\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:21.7629122+03:00 0HL7OIHK18EAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:21.7639129+03:00 0HL7OIHK18EAN [INF] Request finished in 64.9404ms 302  (15c52c40)
2017-09-13T18:16:25.6915888+03:00 0HL7OIHK18EAO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.098862418615316421505315785684&state=15053157856840.4852240832959551   (e5be5b71)
2017-09-13T18:16:25.6940899+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:25.6945904+03:00 0HL7OIHK18EAO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:25.6950906+03:00 0HL7OIHK18EAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:25.6950906+03:00 0HL7OIHK18EAO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:25.6955907+03:00 0HL7OIHK18EAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:25.6960912+03:00 0HL7OIHK18EAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:25.6965918+03:00 0HL7OIHK18EAO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157856840.4852240832959551\",
  \"Nonce\": \"N0.098862418615316421505315785684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.098862418615316421505315785684\",
    \"state\": \"15053157856840.4852240832959551\"
  }
}" (9a175e33)
2017-09-13T18:16:25.6990940+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:25.7106006+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:25.7126020+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:25.7151038+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:25.7181058+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:25.7216083+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:25.7231091+03:00 0HL7OIHK18EAO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:25.7361185+03:00 0HL7OIHK18EAO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157856840.4852240832959551\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:25.7366187+03:00 0HL7OIHK18EAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:25.7376193+03:00 0HL7OIHK18EAO [INF] Request finished in 46.2906ms 302  (15c52c40)
2017-09-13T18:16:29.6952516+03:00 0HL7OIHK18EAP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66815504148773531505315789685&state=15053157896850.2586164522612566   (e5be5b71)
2017-09-13T18:16:29.6982536+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:29.6987545+03:00 0HL7OIHK18EAP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:29.6992547+03:00 0HL7OIHK18EAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:29.6997548+03:00 0HL7OIHK18EAP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:29.7002553+03:00 0HL7OIHK18EAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:29.7007559+03:00 0HL7OIHK18EAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:29.7007559+03:00 0HL7OIHK18EAP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157896850.2586164522612566\",
  \"Nonce\": \"N0.66815504148773531505315789685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66815504148773531505315789685\",
    \"state\": \"15053157896850.2586164522612566\"
  }
}" (9a175e33)
2017-09-13T18:16:29.7057596+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:29.7232706+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:29.7247714+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:29.7282739+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:29.7302748+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:29.7322761+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:29.7342779+03:00 0HL7OIHK18EAP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:29.7497872+03:00 0HL7OIHK18EAP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157896850.2586164522612566\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:29.7502881+03:00 0HL7OIHK18EAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:29.7512887+03:00 0HL7OIHK18EAP [INF] Request finished in 55.9822ms 302  (15c52c40)
2017-09-13T18:16:32.6955508+03:00 0HL7OIHK18EAQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58251667165273751505315792689&state=15053157926890.2985025656772369   (e5be5b71)
2017-09-13T18:16:32.6990541+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:32.6995547+03:00 0HL7OIHK18EAQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:32.6995547+03:00 0HL7OIHK18EAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:32.7000548+03:00 0HL7OIHK18EAQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:32.7005534+03:00 0HL7OIHK18EAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:32.7020565+03:00 0HL7OIHK18EAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:32.7020565+03:00 0HL7OIHK18EAQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157926890.2985025656772369\",
  \"Nonce\": \"N0.58251667165273751505315792689\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58251667165273751505315792689\",
    \"state\": \"15053157926890.2985025656772369\"
  }
}" (9a175e33)
2017-09-13T18:16:32.7060572+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:32.7155637+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:32.7185657+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:32.7230693+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:32.7245697+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:32.7265710+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:32.7285723+03:00 0HL7OIHK18EAQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:32.7525878+03:00 0HL7OIHK18EAQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157926890.2985025656772369\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:32.7535889+03:00 0HL7OIHK18EAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:32.7540890+03:00 0HL7OIHK18EAQ [INF] Request finished in 59.2258ms 302  (15c52c40)
2017-09-13T18:16:36.6938428+03:00 0HL7OIHK18EAR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86911941541210271505315796686&state=15053157966860.35419854109803417   (e5be5b71)
2017-09-13T18:16:36.6958425+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:36.6963443+03:00 0HL7OIHK18EAR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:36.6968436+03:00 0HL7OIHK18EAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:36.6968436+03:00 0HL7OIHK18EAR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:36.6973457+03:00 0HL7OIHK18EAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:36.6978443+03:00 0HL7OIHK18EAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:36.6978443+03:00 0HL7OIHK18EAR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053157966860.35419854109803417\",
  \"Nonce\": \"N0.86911941541210271505315796686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86911941541210271505315796686\",
    \"state\": \"15053157966860.35419854109803417\"
  }
}" (9a175e33)
2017-09-13T18:16:36.7008463+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:36.7143554+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:36.7163567+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:36.7188602+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:36.7213600+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:36.7233610+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:36.7268635+03:00 0HL7OIHK18EAR [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:36.7423744+03:00 0HL7OIHK18EAR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053157966860.35419854109803417\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:36.7428741+03:00 0HL7OIHK18EAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:36.7433746+03:00 0HL7OIHK18EAR [INF] Request finished in 50.3552ms 302  (15c52c40)
2017-09-13T18:16:40.6943031+03:00 0HL7OIHK18EAS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62207712759598041505315800686&state=15053158006860.4978946492571479   (e5be5b71)
2017-09-13T18:16:40.6973039+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:40.6978048+03:00 0HL7OIHK18EAS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:40.6983061+03:00 0HL7OIHK18EAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:40.6983061+03:00 0HL7OIHK18EAS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:40.6988062+03:00 0HL7OIHK18EAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:40.6993052+03:00 0HL7OIHK18EAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:40.6993052+03:00 0HL7OIHK18EAS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158006860.4978946492571479\",
  \"Nonce\": \"N0.62207712759598041505315800686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62207712759598041505315800686\",
    \"state\": \"15053158006860.4978946492571479\"
  }
}" (9a175e33)
2017-09-13T18:16:40.7063114+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:40.7153162+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:40.7208200+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:40.7233211+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:40.7248227+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:40.7268240+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:40.7298272+03:00 0HL7OIHK18EAS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:40.7453365+03:00 0HL7OIHK18EAS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158006860.4978946492571479\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:40.7458358+03:00 0HL7OIHK18EAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:40.7468373+03:00 0HL7OIHK18EAS [INF] Request finished in 53.0986ms 302  (15c52c40)
2017-09-13T18:16:44.7062522+03:00 0HL7OIHK18EAT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76047389533352041505315804687&state=15053158046870.7445205792203635   (e5be5b71)
2017-09-13T18:16:44.7087537+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:44.7097551+03:00 0HL7OIHK18EAT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:44.7102549+03:00 0HL7OIHK18EAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:44.7107554+03:00 0HL7OIHK18EAT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:44.7112555+03:00 0HL7OIHK18EAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:44.7117564+03:00 0HL7OIHK18EAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:44.7117564+03:00 0HL7OIHK18EAT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158046870.7445205792203635\",
  \"Nonce\": \"N0.76047389533352041505315804687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76047389533352041505315804687\",
    \"state\": \"15053158046870.7445205792203635\"
  }
}" (9a175e33)
2017-09-13T18:16:44.7242649+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:44.7382734+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:44.7412754+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:44.7432767+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:44.7492811+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:44.7547845+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:44.7597883+03:00 0HL7OIHK18EAT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:44.7828035+03:00 0HL7OIHK18EAT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158046870.7445205792203635\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:44.7838038+03:00 0HL7OIHK18EAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:44.7873055+03:00 0HL7OIHK18EAT [INF] Request finished in 79.1297ms 302  (15c52c40)
2017-09-13T18:16:48.6919694+03:00 0HL7OIHK18EAU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.34484775473020891505315808684&state=15053158086840.2390015884940253   (e5be5b71)
2017-09-13T18:16:48.6944716+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:48.6949721+03:00 0HL7OIHK18EAU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:48.6954727+03:00 0HL7OIHK18EAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:48.6954727+03:00 0HL7OIHK18EAU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:48.6954727+03:00 0HL7OIHK18EAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:48.6959732+03:00 0HL7OIHK18EAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:48.6964718+03:00 0HL7OIHK18EAU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158086840.2390015884940253\",
  \"Nonce\": \"N0.34484775473020891505315808684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.34484775473020891505315808684\",
    \"state\": \"15053158086840.2390015884940253\"
  }
}" (9a175e33)
2017-09-13T18:16:48.6989752+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:48.7064784+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:48.7079796+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:48.7114825+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:48.7134830+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:48.7154847+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:48.7194882+03:00 0HL7OIHK18EAU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:48.7339960+03:00 0HL7OIHK18EAU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158086840.2390015884940253\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:48.7344977+03:00 0HL7OIHK18EAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:48.7349975+03:00 0HL7OIHK18EAU [INF] Request finished in 43.6241ms 302  (15c52c40)
2017-09-13T18:16:52.6937046+03:00 0HL7OIHK18EAV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.063183464805779411505315812684&state=15053158126840.004512868415474269   (e5be5b71)
2017-09-13T18:16:52.6962061+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:52.6967062+03:00 0HL7OIHK18EAV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:52.6972068+03:00 0HL7OIHK18EAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:52.6972068+03:00 0HL7OIHK18EAV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:52.6977069+03:00 0HL7OIHK18EAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:52.6982078+03:00 0HL7OIHK18EAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:52.6982078+03:00 0HL7OIHK18EAV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158126840.004512868415474269\",
  \"Nonce\": \"N0.063183464805779411505315812684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.063183464805779411505315812684\",
    \"state\": \"15053158126840.004512868415474269\"
  }
}" (9a175e33)
2017-09-13T18:16:52.7012094+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:52.7117166+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:52.7132174+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:52.7152187+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:52.7172200+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:52.7217244+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:52.7237241+03:00 0HL7OIHK18EAV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:52.7442375+03:00 0HL7OIHK18EAV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158126840.004512868415474269\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:52.7447384+03:00 0HL7OIHK18EAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:52.7457391+03:00 0HL7OIHK18EAV [INF] Request finished in 52.2728ms 302  (15c52c40)
2017-09-13T18:16:56.6972135+03:00 0HL7OIHK18EB0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39416343570561121505315816684&state=15053158166840.10838430721153003   (e5be5b71)
2017-09-13T18:16:56.7027173+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:16:56.7057189+03:00 0HL7OIHK18EB0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:16:56.7067196+03:00 0HL7OIHK18EB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:56.7072201+03:00 0HL7OIHK18EB0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:16:56.7082208+03:00 0HL7OIHK18EB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:56.7097224+03:00 0HL7OIHK18EB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:56.7102225+03:00 0HL7OIHK18EB0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158166840.10838430721153003\",
  \"Nonce\": \"N0.39416343570561121505315816684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39416343570561121505315816684\",
    \"state\": \"15053158166840.10838430721153003\"
  }
}" (9a175e33)
2017-09-13T18:16:56.7177296+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:16:56.7291344+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:56.7306368+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:16:56.7326393+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:16:56.7346406+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:16:56.7366416+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:16:56.7401429+03:00 0HL7OIHK18EB0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:16:56.7526510+03:00 0HL7OIHK18EB0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158166840.10838430721153003\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:16:56.7531515+03:00 0HL7OIHK18EB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:16:56.7541514+03:00 0HL7OIHK18EB0 [INF] Request finished in 58.7434ms 302  (15c52c40)
2017-09-13T18:17:00.6953290+03:00 0HL7OIHK18EB1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46473893297412341505315820685&state=15053158206850.5944369710289779   (e5be5b71)
2017-09-13T18:17:00.6978308+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:00.6983310+03:00 0HL7OIHK18EB1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:00.6988323+03:00 0HL7OIHK18EB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:00.6993328+03:00 0HL7OIHK18EB1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:00.6998318+03:00 0HL7OIHK18EB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:00.7003343+03:00 0HL7OIHK18EB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:00.7003343+03:00 0HL7OIHK18EB1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158206850.5944369710289779\",
  \"Nonce\": \"N0.46473893297412341505315820685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46473893297412341505315820685\",
    \"state\": \"15053158206850.5944369710289779\"
  }
}" (9a175e33)
2017-09-13T18:17:00.7038360+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:00.7183450+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:00.7208473+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:00.7243518+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:00.7263531+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:00.7283540+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:00.7293523+03:00 0HL7OIHK18EB1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:00.7408593+03:00 0HL7OIHK18EB1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158206850.5944369710289779\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:00.7408593+03:00 0HL7OIHK18EB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:00.7418600+03:00 0HL7OIHK18EB1 [INF] Request finished in 46.9225ms 302  (15c52c40)
2017-09-13T18:17:03.7191049+03:00 0HL7OIHK18EB2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26377521751119981505315823696&state=15053158236960.3467156768604882   (e5be5b71)
2017-09-13T18:17:03.7251097+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:03.7256102+03:00 0HL7OIHK18EB2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:03.7261095+03:00 0HL7OIHK18EB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:03.7261095+03:00 0HL7OIHK18EB2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:03.7266105+03:00 0HL7OIHK18EB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:03.7281113+03:00 0HL7OIHK18EB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:03.7281113+03:00 0HL7OIHK18EB2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158236960.3467156768604882\",
  \"Nonce\": \"N0.26377521751119981505315823696\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26377521751119981505315823696\",
    \"state\": \"15053158236960.3467156768604882\"
  }
}" (9a175e33)
2017-09-13T18:17:03.7486246+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:03.7746415+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:03.8521934+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:03.8566962+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:03.8591981+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:03.8632007+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:03.8667029+03:00 0HL7OIHK18EB2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:03.9037282+03:00 0HL7OIHK18EB2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158236960.3467156768604882\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:03.9047288+03:00 0HL7OIHK18EB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:03.9072295+03:00 0HL7OIHK18EB2 [INF] Request finished in 188.7913ms 302  (15c52c40)
2017-09-13T18:17:07.7022551+03:00 0HL7OIHK18EB3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89459100804633371505315827692&state=15053158276920.2196011884372726   (e5be5b71)
2017-09-13T18:17:07.7087596+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:07.7102608+03:00 0HL7OIHK18EB3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:07.7107621+03:00 0HL7OIHK18EB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:07.7107621+03:00 0HL7OIHK18EB3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:07.7112610+03:00 0HL7OIHK18EB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:07.7117612+03:00 0HL7OIHK18EB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:07.7122617+03:00 0HL7OIHK18EB3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158276920.2196011884372726\",
  \"Nonce\": \"N0.89459100804633371505315827692\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89459100804633371505315827692\",
    \"state\": \"15053158276920.2196011884372726\"
  }
}" (9a175e33)
2017-09-13T18:17:07.7177659+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:07.7312743+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:07.7327755+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:07.7347764+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:07.7372795+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:07.7407820+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:07.7427825+03:00 0HL7OIHK18EB3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:07.7637956+03:00 0HL7OIHK18EB3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158276920.2196011884372726\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:07.7642966+03:00 0HL7OIHK18EB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:07.7657974+03:00 0HL7OIHK18EB3 [INF] Request finished in 63.7214ms 302  (15c52c40)
2017-09-13T18:17:11.6933411+03:00 0HL7OIHK18EB4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5508309996126081505315831686&state=15053158316860.5888123207357294   (e5be5b71)
2017-09-13T18:17:11.6968420+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:11.6978427+03:00 0HL7OIHK18EB4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:11.6978427+03:00 0HL7OIHK18EB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:11.6983432+03:00 0HL7OIHK18EB4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:11.6988434+03:00 0HL7OIHK18EB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:11.6993435+03:00 0HL7OIHK18EB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:11.6993435+03:00 0HL7OIHK18EB4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158316860.5888123207357294\",
  \"Nonce\": \"N0.5508309996126081505315831686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5508309996126081505315831686\",
    \"state\": \"15053158316860.5888123207357294\"
  }
}" (9a175e33)
2017-09-13T18:17:11.7028511+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:11.7128526+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:11.7148547+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:11.7168553+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:11.7183557+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:11.7203578+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:11.7218590+03:00 0HL7OIHK18EB4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:11.7353681+03:00 0HL7OIHK18EB4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158316860.5888123207357294\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:11.7358683+03:00 0HL7OIHK18EB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:11.7373695+03:00 0HL7OIHK18EB4 [INF] Request finished in 43.6679ms 302  (15c52c40)
2017-09-13T18:17:15.6929949+03:00 0HL7OIHK18EB5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61451263186073041505315835684&state=15053158356840.978499893687629   (e5be5b71)
2017-09-13T18:17:15.6954960+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:15.6959965+03:00 0HL7OIHK18EB5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:15.6964970+03:00 0HL7OIHK18EB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:15.6964970+03:00 0HL7OIHK18EB5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:15.6969972+03:00 0HL7OIHK18EB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:15.6974973+03:00 0HL7OIHK18EB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:15.6974973+03:00 0HL7OIHK18EB5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158356840.978499893687629\",
  \"Nonce\": \"N0.61451263186073041505315835684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61451263186073041505315835684\",
    \"state\": \"15053158356840.978499893687629\"
  }
}" (9a175e33)
2017-09-13T18:17:15.7004997+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:15.7095056+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:15.7110064+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:15.7130078+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:15.7145086+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:15.7160097+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:15.7175105+03:00 0HL7OIHK18EB5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:15.7320200+03:00 0HL7OIHK18EB5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158356840.978499893687629\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:15.7325205+03:00 0HL7OIHK18EB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:15.7335212+03:00 0HL7OIHK18EB5 [INF] Request finished in 40.7058ms 302  (15c52c40)
2017-09-13T18:17:19.7055930+03:00 0HL7OIHK18EB6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92706232562926921505315839688&state=15053158396880.8859328249843321   (e5be5b71)
2017-09-13T18:17:19.7090951+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:19.7100958+03:00 0HL7OIHK18EB6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:19.7105963+03:00 0HL7OIHK18EB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:19.7105963+03:00 0HL7OIHK18EB6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:19.7110964+03:00 0HL7OIHK18EB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:19.7115974+03:00 0HL7OIHK18EB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:19.7115974+03:00 0HL7OIHK18EB6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158396880.8859328249843321\",
  \"Nonce\": \"N0.92706232562926921505315839688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92706232562926921505315839688\",
    \"state\": \"15053158396880.8859328249843321\"
  }
}" (9a175e33)
2017-09-13T18:17:19.7155996+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:19.7286078+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:19.7321104+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:19.7341125+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:19.7356129+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:19.7386153+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:19.7416165+03:00 0HL7OIHK18EB6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:19.7606294+03:00 0HL7OIHK18EB6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158396880.8859328249843321\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:19.7611300+03:00 0HL7OIHK18EB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:19.7631313+03:00 0HL7OIHK18EB6 [INF] Request finished in 58.5038ms 302  (15c52c40)
2017-09-13T18:17:23.7059510+03:00 0HL7OIHK18EB7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92045462409850011505315843685&state=15053158436850.7756949347570463   (e5be5b71)
2017-09-13T18:17:23.7114549+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:23.7124555+03:00 0HL7OIHK18EB7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:23.7144565+03:00 0HL7OIHK18EB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:23.7144565+03:00 0HL7OIHK18EB7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:23.7154575+03:00 0HL7OIHK18EB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:23.7164586+03:00 0HL7OIHK18EB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:23.7169583+03:00 0HL7OIHK18EB7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158436850.7756949347570463\",
  \"Nonce\": \"N0.92045462409850011505315843685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92045462409850011505315843685\",
    \"state\": \"15053158436850.7756949347570463\"
  }
}" (9a175e33)
2017-09-13T18:17:23.7214611+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:23.7301240+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:23.7316256+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:23.7331260+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:23.7346280+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:23.7361280+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:23.7381305+03:00 0HL7OIHK18EB7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:23.7506370+03:00 0HL7OIHK18EB7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158436850.7756949347570463\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:23.7511379+03:00 0HL7OIHK18EB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:23.7516385+03:00 0HL7OIHK18EB7 [INF] Request finished in 48.4912ms 302  (15c52c40)
2017-09-13T18:17:27.7018505+03:00 0HL7OIHK18EB8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.15107515851415121505315847685&state=15053158476850.09875307751912321   (e5be5b71)
2017-09-13T18:17:27.7074163+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:27.7089202+03:00 0HL7OIHK18EB8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:27.7099213+03:00 0HL7OIHK18EB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:27.7104218+03:00 0HL7OIHK18EB8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:27.7114221+03:00 0HL7OIHK18EB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:27.7129229+03:00 0HL7OIHK18EB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:27.7134234+03:00 0HL7OIHK18EB8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158476850.09875307751912321\",
  \"Nonce\": \"N0.15107515851415121505315847685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.15107515851415121505315847685\",
    \"state\": \"15053158476850.09875307751912321\"
  }
}" (9a175e33)
2017-09-13T18:17:27.7199271+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:27.7383741+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:27.7403770+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:27.7428772+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:27.7443788+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:27.7468787+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:27.7483807+03:00 0HL7OIHK18EB8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:27.7608896+03:00 0HL7OIHK18EB8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158476850.09875307751912321\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:27.7618898+03:00 0HL7OIHK18EB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:27.7628897+03:00 0HL7OIHK18EB8 [INF] Request finished in 63.3133ms 302  (15c52c40)
2017-09-13T18:17:31.7012339+03:00 0HL7OIHK18EB9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84004067444198081505315851686&state=15053158516860.8817548317772763   (e5be5b71)
2017-09-13T18:17:31.7042359+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:31.7052381+03:00 0HL7OIHK18EB9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:31.7062388+03:00 0HL7OIHK18EB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:31.7062388+03:00 0HL7OIHK18EB9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:31.7072387+03:00 0HL7OIHK18EB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:31.7082389+03:00 0HL7OIHK18EB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:31.7082389+03:00 0HL7OIHK18EB9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158516860.8817548317772763\",
  \"Nonce\": \"N0.84004067444198081505315851686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84004067444198081505315851686\",
    \"state\": \"15053158516860.8817548317772763\"
  }
}" (9a175e33)
2017-09-13T18:17:31.7132426+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:31.7322627+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:31.7344042+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:31.7359066+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:31.7369068+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:31.7374089+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:31.7397667+03:00 0HL7OIHK18EB9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:31.7497725+03:00 0HL7OIHK18EB9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158516860.8817548317772763\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:31.7507736+03:00 0HL7OIHK18EB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:31.7507736+03:00 0HL7OIHK18EB9 [INF] Request finished in 50.789ms 302  (15c52c40)
2017-09-13T18:17:34.7195095+03:00 0HL7OIHK18EBA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81986716171388861505315854700&state=15053158547000.2679463080254403   (e5be5b71)
2017-09-13T18:17:34.7235133+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:34.7245128+03:00 0HL7OIHK18EBA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:34.7245128+03:00 0HL7OIHK18EBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:34.7245128+03:00 0HL7OIHK18EBA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:34.7255143+03:00 0HL7OIHK18EBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:34.7255143+03:00 0HL7OIHK18EBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:34.7255143+03:00 0HL7OIHK18EBA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158547000.2679463080254403\",
  \"Nonce\": \"N0.81986716171388861505315854700\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81986716171388861505315854700\",
    \"state\": \"15053158547000.2679463080254403\"
  }
}" (9a175e33)
2017-09-13T18:17:34.7285159+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:34.7395232+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:34.7415245+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:34.7435254+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:34.7465278+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:34.7485287+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:34.7495294+03:00 0HL7OIHK18EBA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:34.7645385+03:00 0HL7OIHK18EBA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158547000.2679463080254403\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:34.7655400+03:00 0HL7OIHK18EBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:34.7665407+03:00 0HL7OIHK18EBA [INF] Request finished in 47.1858ms 302  (15c52c40)
2017-09-13T18:17:38.6936664+03:00 0HL7OIHK18EBB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45700478704688831505315858685&state=15053158586850.8692275806860847   (e5be5b71)
2017-09-13T18:17:38.6961674+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:38.6966695+03:00 0HL7OIHK18EBB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:38.6966695+03:00 0HL7OIHK18EBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:38.6971689+03:00 0HL7OIHK18EBB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:38.6976686+03:00 0HL7OIHK18EBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:38.6976686+03:00 0HL7OIHK18EBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:38.6981695+03:00 0HL7OIHK18EBB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158586850.8692275806860847\",
  \"Nonce\": \"N0.45700478704688831505315858685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45700478704688831505315858685\",
    \"state\": \"15053158586850.8692275806860847\"
  }
}" (9a175e33)
2017-09-13T18:17:38.7001701+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:38.7086763+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:38.7281894+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:38.7311914+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:38.7341930+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:38.7366945+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:38.7401986+03:00 0HL7OIHK18EBB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:38.7562076+03:00 0HL7OIHK18EBB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158586850.8692275806860847\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:38.7567085+03:00 0HL7OIHK18EBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:38.7572102+03:00 0HL7OIHK18EBB [INF] Request finished in 64.4028ms 302  (15c52c40)
2017-09-13T18:17:42.6913390+03:00 0HL7OIHK18EBC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87154930948036791505315862684&state=15053158626840.8583325018657297   (e5be5b71)
2017-09-13T18:17:42.6938404+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:42.6943402+03:00 0HL7OIHK18EBC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:42.6948407+03:00 0HL7OIHK18EBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:42.6948407+03:00 0HL7OIHK18EBC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:42.6953412+03:00 0HL7OIHK18EBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:42.6958410+03:00 0HL7OIHK18EBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:42.6958410+03:00 0HL7OIHK18EBC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158626840.8583325018657297\",
  \"Nonce\": \"N0.87154930948036791505315862684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87154930948036791505315862684\",
    \"state\": \"15053158626840.8583325018657297\"
  }
}" (9a175e33)
2017-09-13T18:17:42.6983428+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:42.7053479+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:42.7073512+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:42.7093513+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:42.7108517+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:42.7138533+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:42.7158546+03:00 0HL7OIHK18EBC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:42.7313651+03:00 0HL7OIHK18EBC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158626840.8583325018657297\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:42.7323658+03:00 0HL7OIHK18EBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:42.7333680+03:00 0HL7OIHK18EBC [INF] Request finished in 42.1324ms 302  (15c52c40)
2017-09-13T18:17:46.6905250+03:00 0HL7OIHK18EBD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32663456710418261505315866684&state=15053158666840.48308527317750327   (e5be5b71)
2017-09-13T18:17:46.6930273+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:46.6935270+03:00 0HL7OIHK18EBD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:46.6940271+03:00 0HL7OIHK18EBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:46.6940271+03:00 0HL7OIHK18EBD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:46.6945273+03:00 0HL7OIHK18EBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:46.6950274+03:00 0HL7OIHK18EBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:46.6950274+03:00 0HL7OIHK18EBD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158666840.48308527317750327\",
  \"Nonce\": \"N0.32663456710418261505315866684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32663456710418261505315866684\",
    \"state\": \"15053158666840.48308527317750327\"
  }
}" (9a175e33)
2017-09-13T18:17:46.6975293+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:46.7050352+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:46.7065356+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:46.7085373+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:46.7095376+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:46.7115393+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:46.7130401+03:00 0HL7OIHK18EBD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:46.7245472+03:00 0HL7OIHK18EBD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158666840.48308527317750327\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:46.7250473+03:00 0HL7OIHK18EBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:46.7260487+03:00 0HL7OIHK18EBD [INF] Request finished in 35.6989ms 302  (15c52c40)
2017-09-13T18:17:50.6908305+03:00 0HL7OIHK18EBE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67497807480905611505315870684&state=15053158706840.6848735198548328   (e5be5b71)
2017-09-13T18:17:50.6933320+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:50.6938325+03:00 0HL7OIHK18EBE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:50.6943327+03:00 0HL7OIHK18EBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:50.6943327+03:00 0HL7OIHK18EBE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:50.6948332+03:00 0HL7OIHK18EBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:50.6953333+03:00 0HL7OIHK18EBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:50.6953333+03:00 0HL7OIHK18EBE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158706840.6848735198548328\",
  \"Nonce\": \"N0.67497807480905611505315870684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67497807480905611505315870684\",
    \"state\": \"15053158706840.6848735198548328\"
  }
}" (9a175e33)
2017-09-13T18:17:50.6978348+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:50.7058409+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:50.7088425+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:50.7143463+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:50.7158471+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:50.7223516+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:50.7253536+03:00 0HL7OIHK18EBE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:50.7498700+03:00 0HL7OIHK18EBE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158706840.6848735198548328\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:50.7503698+03:00 0HL7OIHK18EBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:50.7513704+03:00 0HL7OIHK18EBE [INF] Request finished in 60.487ms 302  (15c52c40)
2017-09-13T18:17:54.7089266+03:00 0HL7OIHK18EBF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91491041895943151505315874687&state=15053158746870.701511557042592   (e5be5b71)
2017-09-13T18:17:54.7294399+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:54.7299409+03:00 0HL7OIHK18EBF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:54.7304406+03:00 0HL7OIHK18EBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:54.7309415+03:00 0HL7OIHK18EBF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:54.7309415+03:00 0HL7OIHK18EBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:54.7314417+03:00 0HL7OIHK18EBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:54.7319414+03:00 0HL7OIHK18EBF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158746870.701511557042592\",
  \"Nonce\": \"N0.91491041895943151505315874687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91491041895943151505315874687\",
    \"state\": \"15053158746870.701511557042592\"
  }
}" (9a175e33)
2017-09-13T18:17:54.7349438+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:54.7514545+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:54.7544565+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:54.7574593+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:54.7619625+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:54.7664645+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:54.7694665+03:00 0HL7OIHK18EBF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:54.7884794+03:00 0HL7OIHK18EBF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158746870.701511557042592\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:54.7894805+03:00 0HL7OIHK18EBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:54.7904808+03:00 0HL7OIHK18EBF [INF] Request finished in 82.0661ms 302  (15c52c40)
2017-09-13T18:17:58.6960510+03:00 0HL7OIHK18EBG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.096507347705009131505315878685&state=15053158786850.3613601972778555   (e5be5b71)
2017-09-13T18:17:58.6985508+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:17:58.6990514+03:00 0HL7OIHK18EBG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:17:58.6995519+03:00 0HL7OIHK18EBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:58.7000520+03:00 0HL7OIHK18EBG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:17:58.7005522+03:00 0HL7OIHK18EBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:58.7010539+03:00 0HL7OIHK18EBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:58.7010539+03:00 0HL7OIHK18EBG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158786850.3613601972778555\",
  \"Nonce\": \"N0.096507347705009131505315878685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.096507347705009131505315878685\",
    \"state\": \"15053158786850.3613601972778555\"
  }
}" (9a175e33)
2017-09-13T18:17:58.7035538+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:17:58.7175634+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:58.7290713+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:17:58.7330739+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:17:58.7350756+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:17:58.7365756+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:17:58.7375767+03:00 0HL7OIHK18EBG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:17:58.7545880+03:00 0HL7OIHK18EBG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158786850.3613601972778555\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:17:58.7550885+03:00 0HL7OIHK18EBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:17:58.7565905+03:00 0HL7OIHK18EBG [INF] Request finished in 60.4573ms 302  (15c52c40)
2017-09-13T18:18:02.6909908+03:00 0HL7OIHK18EBH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39346195417469911505315882684&state=15053158826840.14466502053539276   (e5be5b71)
2017-09-13T18:18:02.6939924+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:02.6939924+03:00 0HL7OIHK18EBH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:02.6939924+03:00 0HL7OIHK18EBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:02.6949923+03:00 0HL7OIHK18EBH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:02.6949923+03:00 0HL7OIHK18EBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:02.6954964+03:00 0HL7OIHK18EBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:02.6959977+03:00 0HL7OIHK18EBH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158826840.14466502053539276\",
  \"Nonce\": \"N0.39346195417469911505315882684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39346195417469911505315882684\",
    \"state\": \"15053158826840.14466502053539276\"
  }
}" (9a175e33)
2017-09-13T18:18:02.6979974+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:02.7065052+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:02.7085054+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:02.7130137+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:02.7140124+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:02.7160133+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:02.7170140+03:00 0HL7OIHK18EBH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:02.7300222+03:00 0HL7OIHK18EBH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158826840.14466502053539276\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:02.7310228+03:00 0HL7OIHK18EBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:02.7310228+03:00 0HL7OIHK18EBH [INF] Request finished in 40.8029ms 302  (15c52c40)
2017-09-13T18:18:06.6904244+03:00 0HL7OIHK18EBI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82839097794477531505315886684&state=15053158866840.5506701325080989   (e5be5b71)
2017-09-13T18:18:06.6934264+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:06.6934264+03:00 0HL7OIHK18EBI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:06.6944278+03:00 0HL7OIHK18EBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:06.6944278+03:00 0HL7OIHK18EBI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:06.6944278+03:00 0HL7OIHK18EBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:06.6954269+03:00 0HL7OIHK18EBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:06.6954269+03:00 0HL7OIHK18EBI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158866840.5506701325080989\",
  \"Nonce\": \"N0.82839097794477531505315886684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82839097794477531505315886684\",
    \"state\": \"15053158866840.5506701325080989\"
  }
}" (9a175e33)
2017-09-13T18:18:06.6974290+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:06.7044336+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:06.7054347+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:06.7074372+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:06.7094370+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:06.7114403+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:06.7124393+03:00 0HL7OIHK18EBI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:06.7254487+03:00 0HL7OIHK18EBI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158866840.5506701325080989\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:06.7264474+03:00 0HL7OIHK18EBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:06.7264474+03:00 0HL7OIHK18EBI [INF] Request finished in 36.8824ms 302  (15c52c40)
2017-09-13T18:18:10.6907287+03:00 0HL7OIHK18EBJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85710479484542361505315890685&state=15053158906850.4552131991769708   (e5be5b71)
2017-09-13T18:18:10.6937303+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:10.6937303+03:00 0HL7OIHK18EBJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:10.6947302+03:00 0HL7OIHK18EBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:10.6947302+03:00 0HL7OIHK18EBJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:10.6947302+03:00 0HL7OIHK18EBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:10.6957320+03:00 0HL7OIHK18EBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:10.6957320+03:00 0HL7OIHK18EBJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158906850.4552131991769708\",
  \"Nonce\": \"N0.85710479484542361505315890685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85710479484542361505315890685\",
    \"state\": \"15053158906850.4552131991769708\"
  }
}" (9a175e33)
2017-09-13T18:18:10.6977341+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:10.7047384+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:10.7057379+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:10.7077416+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:10.7097417+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:10.7117422+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:10.7137447+03:00 0HL7OIHK18EBJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:10.7277516+03:00 0HL7OIHK18EBJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158906850.4552131991769708\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:10.7277516+03:00 0HL7OIHK18EBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:10.7287543+03:00 0HL7OIHK18EBJ [INF] Request finished in 37.9055ms 302  (15c52c40)
2017-09-13T18:18:14.6922417+03:00 0HL7OIHK18EBK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.266348681023950151505315894685&state=15053158946850.40024059566575754   (e5be5b71)
2017-09-13T18:18:14.6952429+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:14.6952429+03:00 0HL7OIHK18EBK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:14.6952429+03:00 0HL7OIHK18EBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:14.6962436+03:00 0HL7OIHK18EBK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:14.6962436+03:00 0HL7OIHK18EBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:14.6962436+03:00 0HL7OIHK18EBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:14.6972439+03:00 0HL7OIHK18EBK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158946850.40024059566575754\",
  \"Nonce\": \"N0.266348681023950151505315894685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.266348681023950151505315894685\",
    \"state\": \"15053158946850.40024059566575754\"
  }
}" (9a175e33)
2017-09-13T18:18:14.6992460+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:14.7052500+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:14.7072513+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:14.7102537+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:14.7122546+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:14.7142567+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:14.7152562+03:00 0HL7OIHK18EBK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:14.7342696+03:00 0HL7OIHK18EBK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158946850.40024059566575754\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:14.7352706+03:00 0HL7OIHK18EBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:14.7352706+03:00 0HL7OIHK18EBK [INF] Request finished in 43.8771ms 302  (15c52c40)
2017-09-13T18:18:18.6904630+03:00 0HL7OIHK18EBL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.274762169886930031505315898685&state=15053158986850.4051339066697286   (e5be5b71)
2017-09-13T18:18:18.6934650+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:18.6944649+03:00 0HL7OIHK18EBL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:18.6944649+03:00 0HL7OIHK18EBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:18.6944649+03:00 0HL7OIHK18EBL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:18.6944649+03:00 0HL7OIHK18EBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:18.6954664+03:00 0HL7OIHK18EBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:18.6954664+03:00 0HL7OIHK18EBL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053158986850.4051339066697286\",
  \"Nonce\": \"N0.274762169886930031505315898685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.274762169886930031505315898685\",
    \"state\": \"15053158986850.4051339066697286\"
  }
}" (9a175e33)
2017-09-13T18:18:18.6974669+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:18.7044731+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:18.7064729+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:18.7094745+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:18.7104767+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:18.7124780+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:18.7144793+03:00 0HL7OIHK18EBL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:18.7254843+03:00 0HL7OIHK18EBL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053158986850.4051339066697286\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:18.7264853+03:00 0HL7OIHK18EBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:18.7274876+03:00 0HL7OIHK18EBL [INF] Request finished in 37.1796ms 302  (15c52c40)
2017-09-13T18:18:21.7000943+03:00 0HL7OIHK18EBM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53690962905418081505315901690&state=15053159016900.2807038915977289   (e5be5b71)
2017-09-13T18:18:21.7030959+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:21.7030959+03:00 0HL7OIHK18EBM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:21.7040957+03:00 0HL7OIHK18EBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:21.7040957+03:00 0HL7OIHK18EBM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:21.7040957+03:00 0HL7OIHK18EBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:21.7050964+03:00 0HL7OIHK18EBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:21.7050964+03:00 0HL7OIHK18EBM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159016900.2807038915977289\",
  \"Nonce\": \"N0.53690962905418081505315901690\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53690962905418081505315901690\",
    \"state\": \"15053159016900.2807038915977289\"
  }
}" (9a175e33)
2017-09-13T18:18:21.7081008+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:21.7181058+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:21.7221089+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:21.7281120+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:21.7291131+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:21.7321151+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:21.7341164+03:00 0HL7OIHK18EBM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:21.7531282+03:00 0HL7OIHK18EBM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159016900.2807038915977289\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:21.7531282+03:00 0HL7OIHK18EBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:21.7541297+03:00 0HL7OIHK18EBM [INF] Request finished in 54.4163ms 302  (15c52c40)
2017-09-13T18:18:25.6954399+03:00 0HL7OIHK18EBN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26021796806231505315905685&state=15053159056850.9811952129119357   (e5be5b71)
2017-09-13T18:18:25.6979422+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:25.6984415+03:00 0HL7OIHK18EBN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:25.6989416+03:00 0HL7OIHK18EBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:25.6989416+03:00 0HL7OIHK18EBN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:25.6994426+03:00 0HL7OIHK18EBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:25.7004432+03:00 0HL7OIHK18EBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:25.7004432+03:00 0HL7OIHK18EBN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159056850.9811952129119357\",
  \"Nonce\": \"N0.26021796806231505315905685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26021796806231505315905685\",
    \"state\": \"15053159056850.9811952129119357\"
  }
}" (9a175e33)
2017-09-13T18:18:25.7029447+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:25.7104499+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:25.7124516+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:25.7139520+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:25.7154528+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:25.7169555+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:25.7184559+03:00 0HL7OIHK18EBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:25.7299642+03:00 0HL7OIHK18EBN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159056850.9811952129119357\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:25.7309648+03:00 0HL7OIHK18EBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:25.7314638+03:00 0HL7OIHK18EBN [INF] Request finished in 38.7234ms 302  (15c52c40)
2017-09-13T18:18:29.6912383+03:00 0HL7OIHK18EBO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95432196248576911505315909685&state=15053159096850.2858302978786058   (e5be5b71)
2017-09-13T18:18:29.6937394+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:29.6942399+03:00 0HL7OIHK18EBO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:29.6942399+03:00 0HL7OIHK18EBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:29.6947400+03:00 0HL7OIHK18EBO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:29.6947400+03:00 0HL7OIHK18EBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:29.6952406+03:00 0HL7OIHK18EBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:29.6957411+03:00 0HL7OIHK18EBO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159096850.2858302978786058\",
  \"Nonce\": \"N0.95432196248576911505315909685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95432196248576911505315909685\",
    \"state\": \"15053159096850.2858302978786058\"
  }
}" (9a175e33)
2017-09-13T18:18:29.6977436+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:29.7047486+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:29.7062494+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:29.7077491+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:29.7122522+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:29.7137530+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:29.7157540+03:00 0HL7OIHK18EBO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:29.7312644+03:00 0HL7OIHK18EBO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159096850.2858302978786058\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:29.7322655+03:00 0HL7OIHK18EBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:29.7327660+03:00 0HL7OIHK18EBO [INF] Request finished in 42.0262ms 302  (15c52c40)
2017-09-13T18:18:33.6937607+03:00 0HL7OIHK18EBP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99018946838842361505315913686&state=15053159136860.8044708852747975   (e5be5b71)
2017-09-13T18:18:33.6967643+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:33.6972648+03:00 0HL7OIHK18EBP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:33.6972648+03:00 0HL7OIHK18EBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:33.6977637+03:00 0HL7OIHK18EBP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:33.6982643+03:00 0HL7OIHK18EBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:33.6987640+03:00 0HL7OIHK18EBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:33.6987640+03:00 0HL7OIHK18EBP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159136860.8044708852747975\",
  \"Nonce\": \"N0.99018946838842361505315913686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99018946838842361505315913686\",
    \"state\": \"15053159136860.8044708852747975\"
  }
}" (9a175e33)
2017-09-13T18:18:33.7012667+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:33.7157769+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:33.7187773+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:33.7207798+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:33.7222833+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:33.7237802+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:33.7262828+03:00 0HL7OIHK18EBP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:33.7447949+03:00 0HL7OIHK18EBP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159136860.8044708852747975\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:33.7452946+03:00 0HL7OIHK18EBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:33.7462961+03:00 0HL7OIHK18EBP [INF] Request finished in 52.5559ms 302  (15c52c40)
2017-09-13T18:18:37.6950882+03:00 0HL7OIHK18EBQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.156142536675479621505315917685&state=15053159176850.08248039997317402   (e5be5b71)
2017-09-13T18:18:37.6970903+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:37.6975897+03:00 0HL7OIHK18EBQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:37.6980902+03:00 0HL7OIHK18EBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:37.6980902+03:00 0HL7OIHK18EBQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:37.6985903+03:00 0HL7OIHK18EBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:37.6990909+03:00 0HL7OIHK18EBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:37.6990909+03:00 0HL7OIHK18EBQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159176850.08248039997317402\",
  \"Nonce\": \"N0.156142536675479621505315917685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.156142536675479621505315917685\",
    \"state\": \"15053159176850.08248039997317402\"
  }
}" (9a175e33)
2017-09-13T18:18:37.7015927+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:37.7105987+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:37.7125996+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:37.7141020+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:37.7166038+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:37.7186036+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:37.7201044+03:00 0HL7OIHK18EBQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:37.7341137+03:00 0HL7OIHK18EBQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159176850.08248039997317402\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:37.7346142+03:00 0HL7OIHK18EBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:37.7356152+03:00 0HL7OIHK18EBQ [INF] Request finished in 40.7038ms 302  (15c52c40)
2017-09-13T18:18:40.6992452+03:00 0HL7OIHK18EBR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99815226106417311505315920687&state=15053159206870.31326873536838207   (e5be5b71)
2017-09-13T18:18:40.7017467+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:40.7027473+03:00 0HL7OIHK18EBR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:40.7032478+03:00 0HL7OIHK18EBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:40.7032478+03:00 0HL7OIHK18EBR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:40.7037484+03:00 0HL7OIHK18EBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:40.7042485+03:00 0HL7OIHK18EBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:40.7047494+03:00 0HL7OIHK18EBR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159206870.31326873536838207\",
  \"Nonce\": \"N0.99815226106417311505315920687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99815226106417311505315920687\",
    \"state\": \"15053159206870.31326873536838207\"
  }
}" (9a175e33)
2017-09-13T18:18:40.7082512+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:40.7207596+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:40.7222600+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:40.7242622+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:40.7262627+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:40.7282644+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:40.7292651+03:00 0HL7OIHK18EBR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:40.7432744+03:00 0HL7OIHK18EBR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159206870.31326873536838207\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:40.7437749+03:00 0HL7OIHK18EBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:40.7447755+03:00 0HL7OIHK18EBR [INF] Request finished in 45.5461ms 302  (15c52c40)
2017-09-13T18:18:43.6993782+03:00 0HL7OIHK18EBS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44233367639660951505315923692&state=15053159236920.803019724564698   (e5be5b71)
2017-09-13T18:18:43.7023798+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:43.7023798+03:00 0HL7OIHK18EBS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:43.7033793+03:00 0HL7OIHK18EBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:43.7033793+03:00 0HL7OIHK18EBS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:43.7033793+03:00 0HL7OIHK18EBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:43.7043804+03:00 0HL7OIHK18EBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:43.7043804+03:00 0HL7OIHK18EBS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159236920.803019724564698\",
  \"Nonce\": \"N0.44233367639660951505315923692\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44233367639660951505315923692\",
    \"state\": \"15053159236920.803019724564698\"
  }
}" (9a175e33)
2017-09-13T18:18:43.7063821+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:43.7173890+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:43.7193903+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:43.7213920+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:43.7223931+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:43.7253947+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:43.7273960+03:00 0HL7OIHK18EBS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:43.7399080+03:00 0HL7OIHK18EBS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159236920.803019724564698\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:43.7404086+03:00 0HL7OIHK18EBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:43.7414096+03:00 0HL7OIHK18EBS [INF] Request finished in 41.952ms 302  (15c52c40)
2017-09-13T18:18:47.7200175+03:00 0HL7OIHK18EBT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0420064561949617941505315927698&state=15053159276980.6540418356310631   (e5be5b71)
2017-09-13T18:18:47.7270245+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:47.7280224+03:00 0HL7OIHK18EBT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:47.7280224+03:00 0HL7OIHK18EBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:47.7290243+03:00 0HL7OIHK18EBT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:47.7290243+03:00 0HL7OIHK18EBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:47.7300246+03:00 0HL7OIHK18EBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:47.7300246+03:00 0HL7OIHK18EBT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159276980.6540418356310631\",
  \"Nonce\": \"N0.0420064561949617941505315927698\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0420064561949617941505315927698\",
    \"state\": \"15053159276980.6540418356310631\"
  }
}" (9a175e33)
2017-09-13T18:18:47.7320255+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:47.7390305+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:47.7400308+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:47.7420317+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:47.7440338+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:47.7450341+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:47.7480353+03:00 0HL7OIHK18EBT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:47.7600440+03:00 0HL7OIHK18EBT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159276980.6540418356310631\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:47.7610443+03:00 0HL7OIHK18EBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:47.7610443+03:00 0HL7OIHK18EBT [INF] Request finished in 41.8119ms 302  (15c52c40)
2017-09-13T18:18:51.6925295+03:00 0HL7OIHK18EBU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.074636738611345791505315931687&state=15053159316870.9761644957564517   (e5be5b71)
2017-09-13T18:18:51.6955319+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:51.6955319+03:00 0HL7OIHK18EBU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:51.6965318+03:00 0HL7OIHK18EBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:51.6965318+03:00 0HL7OIHK18EBU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:51.6965318+03:00 0HL7OIHK18EBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:51.6975328+03:00 0HL7OIHK18EBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:51.6975328+03:00 0HL7OIHK18EBU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159316870.9761644957564517\",
  \"Nonce\": \"N0.074636738611345791505315931687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.074636738611345791505315931687\",
    \"state\": \"15053159316870.9761644957564517\"
  }
}" (9a175e33)
2017-09-13T18:18:51.7015363+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:51.7125435+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:51.7145449+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:51.7165458+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:51.7195494+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:51.7215487+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:51.7225498+03:00 0HL7OIHK18EBU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:51.7355580+03:00 0HL7OIHK18EBU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159316870.9761644957564517\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:51.7365583+03:00 0HL7OIHK18EBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:51.7365583+03:00 0HL7OIHK18EBU [INF] Request finished in 45.582ms 302  (15c52c40)
2017-09-13T18:18:55.6969506+03:00 0HL7OIHK18EBV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32467848904964571505315935688&state=15053159356880.9818523739241194   (e5be5b71)
2017-09-13T18:18:55.6999522+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:55.6999522+03:00 0HL7OIHK18EBV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:55.6999522+03:00 0HL7OIHK18EBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:55.7009524+03:00 0HL7OIHK18EBV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:55.7009524+03:00 0HL7OIHK18EBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:55.7009524+03:00 0HL7OIHK18EBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:55.7009524+03:00 0HL7OIHK18EBV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159356880.9818523739241194\",
  \"Nonce\": \"N0.32467848904964571505315935688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32467848904964571505315935688\",
    \"state\": \"15053159356880.9818523739241194\"
  }
}" (9a175e33)
2017-09-13T18:18:55.7039576+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:55.7119601+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:55.7139615+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:55.7169634+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:55.7179649+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:55.7199650+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:55.7209661+03:00 0HL7OIHK18EBV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:55.7379789+03:00 0HL7OIHK18EBV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159356880.9818523739241194\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:55.7379789+03:00 0HL7OIHK18EBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:55.7389776+03:00 0HL7OIHK18EBV [INF] Request finished in 41.7677ms 302  (15c52c40)
2017-09-13T18:18:59.7015122+03:00 0HL7OIHK18EC0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69129406940920331505315939686&state=15053159396860.9761470888571186   (e5be5b71)
2017-09-13T18:18:59.7145141+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:18:59.7165162+03:00 0HL7OIHK18EC0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:18:59.7175149+03:00 0HL7OIHK18EC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:59.7175149+03:00 0HL7OIHK18EC0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:18:59.7195170+03:00 0HL7OIHK18EC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:59.7205165+03:00 0HL7OIHK18EC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:59.7205165+03:00 0HL7OIHK18EC0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159396860.9761470888571186\",
  \"Nonce\": \"N0.69129406940920331505315939686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69129406940920331505315939686\",
    \"state\": \"15053159396860.9761470888571186\"
  }
}" (9a175e33)
2017-09-13T18:18:59.7245199+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:18:59.7325347+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:59.7335251+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:18:59.7355260+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:18:59.7375274+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:18:59.7395287+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:18:59.7405305+03:00 0HL7OIHK18EC0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:18:59.7515358+03:00 0HL7OIHK18EC0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159396860.9761470888571186\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:18:59.7515358+03:00 0HL7OIHK18EC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:18:59.7525369+03:00 0HL7OIHK18EC0 [INF] Request finished in 53.6086ms 302  (15c52c40)
2017-09-13T18:19:03.6962586+03:00 0HL7OIHK18EC1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7091150953524491505315943686&state=15053159436860.6195914951386892   (e5be5b71)
2017-09-13T18:19:03.7002636+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:03.7012615+03:00 0HL7OIHK18EC1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:03.7022618+03:00 0HL7OIHK18EC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:03.7022618+03:00 0HL7OIHK18EC1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:03.7032644+03:00 0HL7OIHK18EC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:03.7032644+03:00 0HL7OIHK18EC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:03.7042639+03:00 0HL7OIHK18EC1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159436860.6195914951386892\",
  \"Nonce\": \"N0.7091150953524491505315943686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7091150953524491505315943686\",
    \"state\": \"15053159436860.6195914951386892\"
  }
}" (9a175e33)
2017-09-13T18:19:03.7102679+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:03.7212752+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:03.7232765+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:03.7262789+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:03.7292805+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:03.7302823+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:03.7322833+03:00 0HL7OIHK18EC1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:03.7442908+03:00 0HL7OIHK18EC1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159436860.6195914951386892\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:03.7452915+03:00 0HL7OIHK18EC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:03.7462917+03:00 0HL7OIHK18EC1 [INF] Request finished in 50.6856ms 302  (15c52c40)
2017-09-13T18:19:07.6913031+03:00 0HL7OIHK18EC2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.191382794253799121505315947685&state=15053159476850.49966632907531117   (e5be5b71)
2017-09-13T18:19:07.6943054+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:07.6948056+03:00 0HL7OIHK18EC2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:07.6953053+03:00 0HL7OIHK18EC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:07.6953053+03:00 0HL7OIHK18EC2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:07.6958062+03:00 0HL7OIHK18EC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:07.6963064+03:00 0HL7OIHK18EC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:07.6963064+03:00 0HL7OIHK18EC2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159476850.49966632907531117\",
  \"Nonce\": \"N0.191382794253799121505315947685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.191382794253799121505315947685\",
    \"state\": \"15053159476850.49966632907531117\"
  }
}" (9a175e33)
2017-09-13T18:19:07.6983073+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:07.7048118+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:07.7063134+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:07.7088148+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:07.7128175+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:07.7178224+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:07.7213225+03:00 0HL7OIHK18EC2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:07.7423365+03:00 0HL7OIHK18EC2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159476850.49966632907531117\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:07.7428378+03:00 0HL7OIHK18EC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:07.7438404+03:00 0HL7OIHK18EC2 [INF] Request finished in 52.9771ms 302  (15c52c40)
2017-09-13T18:19:11.6952350+03:00 0HL7OIHK18EC3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0014554658663781251505315951685&state=15053159516850.6859477555389433   (e5be5b71)
2017-09-13T18:19:11.6982386+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:11.6987387+03:00 0HL7OIHK18EC3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:11.6992381+03:00 0HL7OIHK18EC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:11.6992381+03:00 0HL7OIHK18EC3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:11.6997394+03:00 0HL7OIHK18EC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:11.7002388+03:00 0HL7OIHK18EC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:11.7002388+03:00 0HL7OIHK18EC3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159516850.6859477555389433\",
  \"Nonce\": \"N0.0014554658663781251505315951685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0014554658663781251505315951685\",
    \"state\": \"15053159516850.6859477555389433\"
  }
}" (9a175e33)
2017-09-13T18:19:11.7037409+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:11.7187524+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:11.7217532+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:11.7237541+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:11.7252581+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:11.7277568+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:11.7307588+03:00 0HL7OIHK18EC3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:11.7497718+03:00 0HL7OIHK18EC3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159516850.6859477555389433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:11.7507720+03:00 0HL7OIHK18EC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:11.7517747+03:00 0HL7OIHK18EC3 [INF] Request finished in 57.1021ms 302  (15c52c40)
2017-09-13T18:19:15.6965468+03:00 0HL7OIHK18EC4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.035660432558791031505315955685&state=15053159556850.014635140632101029   (e5be5b71)
2017-09-13T18:19:15.6990474+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:15.6995480+03:00 0HL7OIHK18EC4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:15.7000481+03:00 0HL7OIHK18EC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:15.7000481+03:00 0HL7OIHK18EC4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:15.7005478+03:00 0HL7OIHK18EC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:15.7010495+03:00 0HL7OIHK18EC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:15.7010495+03:00 0HL7OIHK18EC4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159556850.014635140632101029\",
  \"Nonce\": \"N0.035660432558791031505315955685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.035660432558791031505315955685\",
    \"state\": \"15053159556850.014635140632101029\"
  }
}" (9a175e33)
2017-09-13T18:19:15.7035498+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:15.7175595+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:15.7205611+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:15.7220623+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:15.7235631+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:15.7250643+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:15.7270656+03:00 0HL7OIHK18EC4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:15.7420751+03:00 0HL7OIHK18EC4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159556850.014635140632101029\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:15.7425761+03:00 0HL7OIHK18EC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:15.7445786+03:00 0HL7OIHK18EC4 [INF] Request finished in 48.1916ms 302  (15c52c40)
2017-09-13T18:19:19.6928303+03:00 0HL7OIHK18EC5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30106459139863831505315959684&state=15053159596840.8256375291027833   (e5be5b71)
2017-09-13T18:19:19.6963324+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:19.6963324+03:00 0HL7OIHK18EC5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:19.6968329+03:00 0HL7OIHK18EC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:19.6968329+03:00 0HL7OIHK18EC5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:19.6973327+03:00 0HL7OIHK18EC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:19.6978332+03:00 0HL7OIHK18EC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:19.6978332+03:00 0HL7OIHK18EC5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159596840.8256375291027833\",
  \"Nonce\": \"N0.30106459139863831505315959684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30106459139863831505315959684\",
    \"state\": \"15053159596840.8256375291027833\"
  }
}" (9a175e33)
2017-09-13T18:19:19.7013361+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:19.7128436+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:19.7193496+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:19.7223508+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:19.7243506+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:19.7258518+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:19.7283532+03:00 0HL7OIHK18EC5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:19.7413622+03:00 0HL7OIHK18EC5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159596840.8256375291027833\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:19.7418628+03:00 0HL7OIHK18EC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:19.7423633+03:00 0HL7OIHK18EC5 [INF] Request finished in 50.4555ms 302  (15c52c40)
2017-09-13T18:19:23.7030067+03:00 0HL7OIHK18EC6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70759611806862811505315963686&state=15053159636860.24079065259333854   (e5be5b71)
2017-09-13T18:19:23.7055085+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:23.7065088+03:00 0HL7OIHK18EC6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:23.7065088+03:00 0HL7OIHK18EC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:23.7070093+03:00 0HL7OIHK18EC6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:23.7075102+03:00 0HL7OIHK18EC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:23.7080100+03:00 0HL7OIHK18EC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:23.7080100+03:00 0HL7OIHK18EC6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159636860.24079065259333854\",
  \"Nonce\": \"N0.70759611806862811505315963686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70759611806862811505315963686\",
    \"state\": \"15053159636860.24079065259333854\"
  }
}" (9a175e33)
2017-09-13T18:19:23.7135142+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:23.7260215+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:23.7325284+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:23.7345281+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:23.7370296+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:23.7395307+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:23.7415324+03:00 0HL7OIHK18EC6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:23.7595443+03:00 0HL7OIHK18EC6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159636860.24079065259333854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:23.7600444+03:00 0HL7OIHK18EC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:23.7610463+03:00 0HL7OIHK18EC6 [INF] Request finished in 58.0214ms 302  (15c52c40)
2017-09-13T18:19:27.6913271+03:00 0HL7OIHK18EC7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79321744825568061505315967684&state=15053159676840.6065100502414122   (e5be5b71)
2017-09-13T18:19:27.6943291+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:27.6948352+03:00 0HL7OIHK18EC7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:27.6953310+03:00 0HL7OIHK18EC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:27.6958311+03:00 0HL7OIHK18EC7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:27.6963300+03:00 0HL7OIHK18EC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:27.6968302+03:00 0HL7OIHK18EC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:27.6968302+03:00 0HL7OIHK18EC7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159676840.6065100502414122\",
  \"Nonce\": \"N0.79321744825568061505315967684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79321744825568061505315967684\",
    \"state\": \"15053159676840.6065100502414122\"
  }
}" (9a175e33)
2017-09-13T18:19:27.7003339+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:27.7078375+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:27.7098388+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:27.7133413+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:27.7168438+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:27.7203460+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:27.7228482+03:00 0HL7OIHK18EC7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:27.7373568+03:00 0HL7OIHK18EC7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159676840.6065100502414122\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:27.7373568+03:00 0HL7OIHK18EC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:27.7383579+03:00 0HL7OIHK18EC7 [INF] Request finished in 47.7768ms 302  (15c52c40)
2017-09-13T18:19:31.6966198+03:00 0HL7OIHK18EC8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5535412108517611505315971685&state=15053159716850.7082884546992505   (e5be5b71)
2017-09-13T18:19:31.6991212+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:31.6996218+03:00 0HL7OIHK18EC8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:31.7001227+03:00 0HL7OIHK18EC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:31.7001227+03:00 0HL7OIHK18EC8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:31.7006232+03:00 0HL7OIHK18EC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:31.7011234+03:00 0HL7OIHK18EC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:31.7011234+03:00 0HL7OIHK18EC8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159716850.7082884546992505\",
  \"Nonce\": \"N0.5535412108517611505315971685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5535412108517611505315971685\",
    \"state\": \"15053159716850.7082884546992505\"
  }
}" (9a175e33)
2017-09-13T18:19:31.7036240+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:31.7186359+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:31.7216368+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:31.7256390+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:31.7306427+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:31.7331442+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:31.7366471+03:00 0HL7OIHK18EC8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:31.7546578+03:00 0HL7OIHK18EC8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159716850.7082884546992505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:31.7551588+03:00 0HL7OIHK18EC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:31.7561594+03:00 0HL7OIHK18EC8 [INF] Request finished in 63.1147ms 302  (15c52c40)
2017-09-13T18:19:35.6925927+03:00 0HL7OIHK18EC9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57597904484086971505315975684&state=15053159756840.05402909900784514   (e5be5b71)
2017-09-13T18:19:35.6955950+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:35.6965953+03:00 0HL7OIHK18EC9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:35.6965953+03:00 0HL7OIHK18EC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:35.6970958+03:00 0HL7OIHK18EC9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:35.6975960+03:00 0HL7OIHK18EC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:35.6980965+03:00 0HL7OIHK18EC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:35.6980965+03:00 0HL7OIHK18EC9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159756840.05402909900784514\",
  \"Nonce\": \"N0.57597904484086971505315975684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57597904484086971505315975684\",
    \"state\": \"15053159756840.05402909900784514\"
  }
}" (9a175e33)
2017-09-13T18:19:35.7015986+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:35.7106042+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:35.7171091+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:35.7201111+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:35.7231135+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:35.7251144+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:35.7266164+03:00 0HL7OIHK18EC9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:35.7436261+03:00 0HL7OIHK18EC9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159756840.05402909900784514\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:35.7441270+03:00 0HL7OIHK18EC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:35.7451277+03:00 0HL7OIHK18EC9 [INF] Request finished in 53.0319ms 302  (15c52c40)
2017-09-13T18:19:39.6962973+03:00 0HL7OIHK18ECA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30554786830535921505315979687&state=15053159796870.4968045067174065   (e5be5b71)
2017-09-13T18:19:39.6987987+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:39.6992977+03:00 0HL7OIHK18ECA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:39.6997978+03:00 0HL7OIHK18ECA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:39.6997978+03:00 0HL7OIHK18ECA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:39.7002984+03:00 0HL7OIHK18ECA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:39.7007989+03:00 0HL7OIHK18ECA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:39.7012990+03:00 0HL7OIHK18ECA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159796870.4968045067174065\",
  \"Nonce\": \"N0.30554786830535921505315979687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30554786830535921505315979687\",
    \"state\": \"15053159796870.4968045067174065\"
  }
}" (9a175e33)
2017-09-13T18:19:39.7043010+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:39.7148078+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:39.7173096+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:39.7193121+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:39.7218128+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:39.7238141+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:39.7253149+03:00 0HL7OIHK18ECA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:39.7403245+03:00 0HL7OIHK18ECA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159796870.4968045067174065\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:39.7408254+03:00 0HL7OIHK18ECA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:39.7413255+03:00 0HL7OIHK18ECA [INF] Request finished in 47.0299ms 302  (15c52c40)
2017-09-13T18:19:43.6909075+03:00 0HL7OIHK18ECB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32941888198598471505315983684&state=15053159836840.3139410616384972   (e5be5b71)
2017-09-13T18:19:43.6929069+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:43.6929069+03:00 0HL7OIHK18ECB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:43.6939087+03:00 0HL7OIHK18ECB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:43.6939087+03:00 0HL7OIHK18ECB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:43.6939087+03:00 0HL7OIHK18ECB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:43.6949090+03:00 0HL7OIHK18ECB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:43.6949090+03:00 0HL7OIHK18ECB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159836840.3139410616384972\",
  \"Nonce\": \"N0.32941888198598471505315983684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32941888198598471505315983684\",
    \"state\": \"15053159836840.3139410616384972\"
  }
}" (9a175e33)
2017-09-13T18:19:43.7009145+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:43.7099197+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:43.7119210+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:43.7139216+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:43.7159229+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:43.7189269+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:43.7209286+03:00 0HL7OIHK18ECB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:43.7359358+03:00 0HL7OIHK18ECB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159836840.3139410616384972\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:43.7369368+03:00 0HL7OIHK18ECB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:43.7369368+03:00 0HL7OIHK18ECB [INF] Request finished in 47.2652ms 302  (15c52c40)
2017-09-13T18:19:47.6925938+03:00 0HL7OIHK18ECC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.457564654718793041505315987684&state=15053159876840.3840722819430593   (e5be5b71)
2017-09-13T18:19:47.6975972+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:47.6985986+03:00 0HL7OIHK18ECC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:47.6985986+03:00 0HL7OIHK18ECC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:47.6985986+03:00 0HL7OIHK18ECC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:47.6995997+03:00 0HL7OIHK18ECC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:47.6995997+03:00 0HL7OIHK18ECC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:47.6995997+03:00 0HL7OIHK18ECC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159876840.3840722819430593\",
  \"Nonce\": \"N0.457564654718793041505315987684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.457564654718793041505315987684\",
    \"state\": \"15053159876840.3840722819430593\"
  }
}" (9a175e33)
2017-09-13T18:19:47.7026017+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:47.7186154+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:47.7216131+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:47.7246151+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:47.7256157+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:47.7286177+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:47.7326200+03:00 0HL7OIHK18ECC [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:47.7496312+03:00 0HL7OIHK18ECC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159876840.3840722819430593\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:47.7496312+03:00 0HL7OIHK18ECC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:47.7506319+03:00 0HL7OIHK18ECC [INF] Request finished in 58.505ms 302  (15c52c40)
2017-09-13T18:19:51.6935191+03:00 0HL7OIHK18ECD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57670507894301661505315991685&state=15053159916850.4913396633788316   (e5be5b71)
2017-09-13T18:19:51.6975226+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:51.6985252+03:00 0HL7OIHK18ECD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:51.6995231+03:00 0HL7OIHK18ECD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:51.6995231+03:00 0HL7OIHK18ECD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:51.6995231+03:00 0HL7OIHK18ECD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:51.7005234+03:00 0HL7OIHK18ECD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:51.7005234+03:00 0HL7OIHK18ECD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159916850.4913396633788316\",
  \"Nonce\": \"N0.57670507894301661505315991685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57670507894301661505315991685\",
    \"state\": \"15053159916850.4913396633788316\"
  }
}" (9a175e33)
2017-09-13T18:19:51.7035257+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:51.7145342+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:51.7175350+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:51.7205366+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:51.7225387+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:51.7255411+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:51.7265410+03:00 0HL7OIHK18ECD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:51.7425508+03:00 0HL7OIHK18ECD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159916850.4913396633788316\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:51.7435515+03:00 0HL7OIHK18ECD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:51.7435515+03:00 0HL7OIHK18ECD [INF] Request finished in 51.0653ms 302  (15c52c40)
2017-09-13T18:19:55.6918020+03:00 0HL7OIHK18ECE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78031267879769021505315995684&state=15053159956840.5663470243480273   (e5be5b71)
2017-09-13T18:19:55.6948044+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:55.6978083+03:00 0HL7OIHK18ECE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:55.6978083+03:00 0HL7OIHK18ECE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:55.6978083+03:00 0HL7OIHK18ECE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:55.6988078+03:00 0HL7OIHK18ECE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:55.6988078+03:00 0HL7OIHK18ECE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:55.6998077+03:00 0HL7OIHK18ECE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159956840.5663470243480273\",
  \"Nonce\": \"N0.78031267879769021505315995684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78031267879769021505315995684\",
    \"state\": \"15053159956840.5663470243480273\"
  }
}" (9a175e33)
2017-09-13T18:19:55.7028085+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:55.7138166+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:55.7168201+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:55.7178192+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:55.7198217+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:55.7218219+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:55.7228222+03:00 0HL7OIHK18ECE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:55.7398330+03:00 0HL7OIHK18ECE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159956840.5663470243480273\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:55.7398330+03:00 0HL7OIHK18ECE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:55.7408345+03:00 0HL7OIHK18ECE [INF] Request finished in 49.0147ms 302  (15c52c40)
2017-09-13T18:19:59.6923152+03:00 0HL7OIHK18ECF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53886619017883211505315999684&state=15053159996840.867098140152559   (e5be5b71)
2017-09-13T18:19:59.6943173+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:19:59.6943173+03:00 0HL7OIHK18ECF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:19:59.6953168+03:00 0HL7OIHK18ECF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:59.6953168+03:00 0HL7OIHK18ECF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:19:59.6953168+03:00 0HL7OIHK18ECF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:59.6963186+03:00 0HL7OIHK18ECF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:59.6963186+03:00 0HL7OIHK18ECF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053159996840.867098140152559\",
  \"Nonce\": \"N0.53886619017883211505315999684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53886619017883211505315999684\",
    \"state\": \"15053159996840.867098140152559\"
  }
}" (9a175e33)
2017-09-13T18:19:59.6993206+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:19:59.7053242+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:59.7073255+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:19:59.7093264+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:19:59.7143301+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:19:59.7163311+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:19:59.7193342+03:00 0HL7OIHK18ECF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:19:59.7313410+03:00 0HL7OIHK18ECF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053159996840.867098140152559\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:19:59.7323421+03:00 0HL7OIHK18ECF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:19:59.7333447+03:00 0HL7OIHK18ECF [INF] Request finished in 41.5387ms 302  (15c52c40)
2017-09-13T18:20:03.6977898+03:00 0HL7OIHK18ECG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.362002043282324551505316003684&state=15053160036840.5052961169399846   (e5be5b71)
2017-09-13T18:20:03.7028010+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:03.7038001+03:00 0HL7OIHK18ECG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:03.7058002+03:00 0HL7OIHK18ECG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:03.7058002+03:00 0HL7OIHK18ECG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:03.7068009+03:00 0HL7OIHK18ECG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:03.7078035+03:00 0HL7OIHK18ECG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:03.7078035+03:00 0HL7OIHK18ECG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160036840.5052961169399846\",
  \"Nonce\": \"N0.362002043282324551505316003684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.362002043282324551505316003684\",
    \"state\": \"15053160036840.5052961169399846\"
  }
}" (9a175e33)
2017-09-13T18:20:03.7128057+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:03.7328197+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:03.7358201+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:03.7408230+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:03.7418241+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:03.7438250+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:03.7448269+03:00 0HL7OIHK18ECG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:03.7588338+03:00 0HL7OIHK18ECG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160036840.5052961169399846\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:03.7598352+03:00 0HL7OIHK18ECG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:03.7608359+03:00 0HL7OIHK18ECG [INF] Request finished in 66.0622ms 302  (15c52c40)
2017-09-13T18:20:07.7010878+03:00 0HL7OIHK18ECH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47844787558650051505316007685&state=15053160076850.6952791564057528   (e5be5b71)
2017-09-13T18:20:07.7035893+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:07.7040898+03:00 0HL7OIHK18ECH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:07.7045900+03:00 0HL7OIHK18ECH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:07.7045900+03:00 0HL7OIHK18ECH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:07.7060915+03:00 0HL7OIHK18ECH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:07.7065913+03:00 0HL7OIHK18ECH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:07.7065913+03:00 0HL7OIHK18ECH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160076850.6952791564057528\",
  \"Nonce\": \"N0.47844787558650051505316007685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47844787558650051505316007685\",
    \"state\": \"15053160076850.6952791564057528\"
  }
}" (9a175e33)
2017-09-13T18:20:07.7326089+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:07.7441163+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:07.7471183+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:07.7506208+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:07.7526222+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:07.7546235+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:07.7561243+03:00 0HL7OIHK18ECH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:07.7696334+03:00 0HL7OIHK18ECH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160076850.6952791564057528\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:07.7706345+03:00 0HL7OIHK18ECH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:07.7716344+03:00 0HL7OIHK18ECH [INF] Request finished in 72.0315ms 302  (15c52c40)
2017-09-13T18:20:11.6923475+03:00 0HL7OIHK18ECI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83295737208082521505316011685&state=15053160116850.1742249939859688   (e5be5b71)
2017-09-13T18:20:11.6948494+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:11.6953487+03:00 0HL7OIHK18ECI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:11.6958489+03:00 0HL7OIHK18ECI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:11.6958489+03:00 0HL7OIHK18ECI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:11.6963506+03:00 0HL7OIHK18ECI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:11.6968511+03:00 0HL7OIHK18ECI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:11.6973501+03:00 0HL7OIHK18ECI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160116850.1742249939859688\",
  \"Nonce\": \"N0.83295737208082521505316011685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83295737208082521505316011685\",
    \"state\": \"15053160116850.1742249939859688\"
  }
}" (9a175e33)
2017-09-13T18:20:11.7003524+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:11.7098593+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:11.7133611+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:11.7158625+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:11.7183640+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:11.7208662+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:11.7223666+03:00 0HL7OIHK18ECI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:11.7368756+03:00 0HL7OIHK18ECI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160116850.1742249939859688\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:11.7373766+03:00 0HL7OIHK18ECI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:11.7378775+03:00 0HL7OIHK18ECI [INF] Request finished in 46.2704ms 302  (15c52c40)
2017-09-13T18:20:14.6970552+03:00 0HL7OIHK18ECJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.072662084513273941505316014689&state=15053160146890.34881895125597295   (e5be5b71)
2017-09-13T18:20:14.7000548+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:14.7005549+03:00 0HL7OIHK18ECJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:14.7010563+03:00 0HL7OIHK18ECJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:14.7010563+03:00 0HL7OIHK18ECJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:14.7015552+03:00 0HL7OIHK18ECJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:14.7020573+03:00 0HL7OIHK18ECJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:14.7020573+03:00 0HL7OIHK18ECJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160146890.34881895125597295\",
  \"Nonce\": \"N0.072662084513273941505316014689\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.072662084513273941505316014689\",
    \"state\": \"15053160146890.34881895125597295\"
  }
}" (9a175e33)
2017-09-13T18:20:14.7050577+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:14.7170661+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:14.7195679+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:14.7210687+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:14.7230728+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:14.7245720+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:14.7260736+03:00 0HL7OIHK18ECJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:14.7390803+03:00 0HL7OIHK18ECJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160146890.34881895125597295\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:14.7395804+03:00 0HL7OIHK18ECJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:14.7405818+03:00 0HL7OIHK18ECJ [INF] Request finished in 44.4846ms 302  (15c52c40)
2017-09-13T18:20:18.6947104+03:00 0HL7OIHK18ECK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52257636192745021505316018687&state=15053160186870.3144967347146923   (e5be5b71)
2017-09-13T18:20:18.6977120+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:18.6982106+03:00 0HL7OIHK18ECK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:18.6987123+03:00 0HL7OIHK18ECK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:18.6987123+03:00 0HL7OIHK18ECK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:18.6992112+03:00 0HL7OIHK18ECK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:18.6997118+03:00 0HL7OIHK18ECK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:18.7002119+03:00 0HL7OIHK18ECK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160186870.3144967347146923\",
  \"Nonce\": \"N0.52257636192745021505316018687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52257636192745021505316018687\",
    \"state\": \"15053160186870.3144967347146923\"
  }
}" (9a175e33)
2017-09-13T18:20:18.7022140+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:18.7107191+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:18.7157224+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:18.7177237+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:18.7197250+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:18.7222269+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:18.7237273+03:00 0HL7OIHK18ECK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:18.7372368+03:00 0HL7OIHK18ECK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160186870.3144967347146923\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:18.7377374+03:00 0HL7OIHK18ECK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:18.7382367+03:00 0HL7OIHK18ECK [INF] Request finished in 44.3575ms 302  (15c52c40)
2017-09-13T18:20:22.6932941+03:00 0HL7OIHK18ECL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92413566806828421505316022685&state=15053160226850.34466228095882134   (e5be5b71)
2017-09-13T18:20:22.6957956+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:22.6967962+03:00 0HL7OIHK18ECL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:22.6972976+03:00 0HL7OIHK18ECL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:22.6972976+03:00 0HL7OIHK18ECL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:22.6977985+03:00 0HL7OIHK18ECL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:22.6987980+03:00 0HL7OIHK18ECL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:22.6987980+03:00 0HL7OIHK18ECL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160226850.34466228095882134\",
  \"Nonce\": \"N0.92413566806828421505316022685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92413566806828421505316022685\",
    \"state\": \"15053160226850.34466228095882134\"
  }
}" (9a175e33)
2017-09-13T18:20:22.7023021+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:22.7098052+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:22.7123063+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:22.7143080+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:22.7168099+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:22.7188108+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:22.7208121+03:00 0HL7OIHK18ECL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:22.7353223+03:00 0HL7OIHK18ECL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160226850.34466228095882134\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:22.7363230+03:00 0HL7OIHK18ECL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:22.7368235+03:00 0HL7OIHK18ECL [INF] Request finished in 44.0694ms 302  (15c52c40)
2017-09-13T18:20:26.6941183+03:00 0HL7OIHK18ECM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62096608749831011505316026684&state=15053160266840.42414737855118534   (e5be5b71)
2017-09-13T18:20:26.6966218+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:26.6971211+03:00 0HL7OIHK18ECM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:26.6976208+03:00 0HL7OIHK18ECM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:26.6981233+03:00 0HL7OIHK18ECM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:26.6986227+03:00 0HL7OIHK18ECM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:26.6991224+03:00 0HL7OIHK18ECM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:26.6991224+03:00 0HL7OIHK18ECM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160266840.42414737855118534\",
  \"Nonce\": \"N0.62096608749831011505316026684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62096608749831011505316026684\",
    \"state\": \"15053160266840.42414737855118534\"
  }
}" (9a175e33)
2017-09-13T18:20:26.7026249+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:26.7096296+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:26.7121307+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:26.7406493+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:26.7431524+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:26.7451525+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:26.7476548+03:00 0HL7OIHK18ECM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:26.7641651+03:00 0HL7OIHK18ECM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160266840.42414737855118534\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:26.7651654+03:00 0HL7OIHK18ECM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:26.7661664+03:00 0HL7OIHK18ECM [INF] Request finished in 73.661ms 302  (15c52c40)
2017-09-13T18:20:30.6912557+03:00 0HL7OIHK18ECN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.053412824916323041505316030684&state=15053160306840.375219614767899   (e5be5b71)
2017-09-13T18:20:30.6942577+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:30.6947582+03:00 0HL7OIHK18ECN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:30.6947582+03:00 0HL7OIHK18ECN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:30.6952587+03:00 0HL7OIHK18ECN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:30.6957593+03:00 0HL7OIHK18ECN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:30.6962590+03:00 0HL7OIHK18ECN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:30.6962590+03:00 0HL7OIHK18ECN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160306840.375219614767899\",
  \"Nonce\": \"N0.053412824916323041505316030684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.053412824916323041505316030684\",
    \"state\": \"15053160306840.375219614767899\"
  }
}" (9a175e33)
2017-09-13T18:20:30.7007618+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:30.7087675+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:30.7132726+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:30.7162726+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:30.7187741+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:30.7207750+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:30.7222762+03:00 0HL7OIHK18ECN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:30.7357850+03:00 0HL7OIHK18ECN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160306840.375219614767899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:30.7362855+03:00 0HL7OIHK18ECN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:30.7367856+03:00 0HL7OIHK18ECN [INF] Request finished in 46.2018ms 302  (15c52c40)
2017-09-13T18:20:34.6922358+03:00 0HL7OIHK18ECO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0174824701042668451505316034685&state=15053160346850.09762770444323254   (e5be5b71)
2017-09-13T18:20:34.6942371+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:34.6947373+03:00 0HL7OIHK18ECO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:34.6952378+03:00 0HL7OIHK18ECO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:34.6957379+03:00 0HL7OIHK18ECO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:34.6962389+03:00 0HL7OIHK18ECO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:34.6967390+03:00 0HL7OIHK18ECO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:34.6972391+03:00 0HL7OIHK18ECO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160346850.09762770444323254\",
  \"Nonce\": \"N0.0174824701042668451505316034685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0174824701042668451505316034685\",
    \"state\": \"15053160346850.09762770444323254\"
  }
}" (9a175e33)
2017-09-13T18:20:34.7012422+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:34.7092467+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:34.7107475+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:34.7122487+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:34.7147509+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:34.7167534+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:34.7197542+03:00 0HL7OIHK18ECO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:34.7327629+03:00 0HL7OIHK18ECO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160346850.09762770444323254\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:34.7337651+03:00 0HL7OIHK18ECO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:34.7347642+03:00 0HL7OIHK18ECO [INF] Request finished in 42.8709ms 302  (15c52c40)
2017-09-13T18:20:38.6917412+03:00 0HL7OIHK18ECP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62935641611767551505316038685&state=15053160386850.9202540370272936   (e5be5b71)
2017-09-13T18:20:38.6942439+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:38.6947432+03:00 0HL7OIHK18ECP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:38.6952433+03:00 0HL7OIHK18ECP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:38.6952433+03:00 0HL7OIHK18ECP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:38.6957450+03:00 0HL7OIHK18ECP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:38.6962440+03:00 0HL7OIHK18ECP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:38.6962440+03:00 0HL7OIHK18ECP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160386850.9202540370272936\",
  \"Nonce\": \"N0.62935641611767551505316038685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62935641611767551505316038685\",
    \"state\": \"15053160386850.9202540370272936\"
  }
}" (9a175e33)
2017-09-13T18:20:38.6987482+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:38.7062510+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:38.7077518+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:38.7097543+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:38.7117576+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:38.7142575+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:38.7157575+03:00 0HL7OIHK18ECP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:38.7337690+03:00 0HL7OIHK18ECP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160386850.9202540370272936\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:38.7342696+03:00 0HL7OIHK18ECP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:38.7352702+03:00 0HL7OIHK18ECP [INF] Request finished in 43.8574ms 302  (15c52c40)
2017-09-13T18:20:42.6905625+03:00 0HL7OIHK18ECQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.141714854027512161505316042684&state=15053160426840.3093560532623747   (e5be5b71)
2017-09-13T18:20:42.6930648+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:42.6935645+03:00 0HL7OIHK18ECQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:42.6940650+03:00 0HL7OIHK18ECQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:42.6940650+03:00 0HL7OIHK18ECQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:42.6945671+03:00 0HL7OIHK18ECQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:42.6950657+03:00 0HL7OIHK18ECQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:42.6955662+03:00 0HL7OIHK18ECQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160426840.3093560532623747\",
  \"Nonce\": \"N0.141714854027512161505316042684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.141714854027512161505316042684\",
    \"state\": \"15053160426840.3093560532623747\"
  }
}" (9a175e33)
2017-09-13T18:20:42.6980681+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:42.7055717+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:42.7070733+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:42.7090746+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:42.7140779+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:42.7175796+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:42.7195813+03:00 0HL7OIHK18ECQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:42.7340915+03:00 0HL7OIHK18ECQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160426840.3093560532623747\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:42.7345933+03:00 0HL7OIHK18ECQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:42.7355927+03:00 0HL7OIHK18ECQ [INF] Request finished in 45.0827ms 302  (15c52c40)
2017-09-13T18:20:45.7008447+03:00 0HL7OIHK18ECR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68446944426735761505316045687&state=15053160456870.8591924953762782   (e5be5b71)
2017-09-13T18:20:45.7058484+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:45.7068494+03:00 0HL7OIHK18ECR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:45.7088500+03:00 0HL7OIHK18ECR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:45.7088500+03:00 0HL7OIHK18ECR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:45.7093473+03:00 0HL7OIHK18ECR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:45.7098483+03:00 0HL7OIHK18ECR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:45.7103488+03:00 0HL7OIHK18ECR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160456870.8591924953762782\",
  \"Nonce\": \"N0.68446944426735761505316045687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68446944426735761505316045687\",
    \"state\": \"15053160456870.8591924953762782\"
  }
}" (9a175e33)
2017-09-13T18:20:45.7133504+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:45.7273616+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:45.7303652+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:45.7335464+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:45.7360495+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:45.7390503+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:45.7405514+03:00 0HL7OIHK18ECR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:45.7500579+03:00 0HL7OIHK18ECR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160456870.8591924953762782\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:45.7510578+03:00 0HL7OIHK18ECR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:45.7515595+03:00 0HL7OIHK18ECR [INF] Request finished in 52.9767ms 302  (15c52c40)
2017-09-13T18:20:49.6927340+03:00 0HL7OIHK18ECS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88454863811270171505316049685&state=15053160496850.7223552955509591   (e5be5b71)
2017-09-13T18:20:49.6952390+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:49.6957368+03:00 0HL7OIHK18ECS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:49.6962369+03:00 0HL7OIHK18ECS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:49.6962369+03:00 0HL7OIHK18ECS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:49.6967362+03:00 0HL7OIHK18ECS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:49.6972368+03:00 0HL7OIHK18ECS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:49.6972368+03:00 0HL7OIHK18ECS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160496850.7223552955509591\",
  \"Nonce\": \"N0.88454863811270171505316049685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88454863811270171505316049685\",
    \"state\": \"15053160496850.7223552955509591\"
  }
}" (9a175e33)
2017-09-13T18:20:49.7002384+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:49.7072434+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:49.7087458+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:49.7132486+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:49.7152495+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:49.7172500+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:49.7192513+03:00 0HL7OIHK18ECS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:49.7347626+03:00 0HL7OIHK18ECS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160496850.7223552955509591\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:49.7352631+03:00 0HL7OIHK18ECS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:49.7362626+03:00 0HL7OIHK18ECS [INF] Request finished in 44.1625ms 302  (15c52c40)
2017-09-13T18:20:53.6922721+03:00 0HL7OIHK18ECT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.293007068973853531505316053684&state=15053160536840.0962631430219767   (e5be5b71)
2017-09-13T18:20:53.6947740+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:53.6952737+03:00 0HL7OIHK18ECT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:53.6957747+03:00 0HL7OIHK18ECT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:53.6957747+03:00 0HL7OIHK18ECT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:53.6957747+03:00 0HL7OIHK18ECT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:53.6962744+03:00 0HL7OIHK18ECT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:53.6967749+03:00 0HL7OIHK18ECT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160536840.0962631430219767\",
  \"Nonce\": \"N0.293007068973853531505316053684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.293007068973853531505316053684\",
    \"state\": \"15053160536840.0962631430219767\"
  }
}" (9a175e33)
2017-09-13T18:20:53.6987762+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:53.7082823+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:53.7092834+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:53.7112851+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:53.7127871+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:53.7152882+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:53.7172891+03:00 0HL7OIHK18ECT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:53.7302969+03:00 0HL7OIHK18ECT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160536840.0962631430219767\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:53.7307978+03:00 0HL7OIHK18ECT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:53.7322994+03:00 0HL7OIHK18ECT [INF] Request finished in 40.1745ms 302  (15c52c40)
2017-09-13T18:20:57.6911854+03:00 0HL7OIHK18ECU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.827254058456751505316057684&state=15053160576840.5587969902605538   (e5be5b71)
2017-09-13T18:20:57.6936877+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:20:57.6941866+03:00 0HL7OIHK18ECU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:20:57.6946864+03:00 0HL7OIHK18ECU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:57.6946864+03:00 0HL7OIHK18ECU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:20:57.6951865+03:00 0HL7OIHK18ECU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:57.6956870+03:00 0HL7OIHK18ECU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:57.6956870+03:00 0HL7OIHK18ECU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160576840.5587969902605538\",
  \"Nonce\": \"N0.827254058456751505316057684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.827254058456751505316057684\",
    \"state\": \"15053160576840.5587969902605538\"
  }
}" (9a175e33)
2017-09-13T18:20:57.6981885+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:20:57.7076966+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:57.7096991+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:20:57.7116988+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:20:57.7136993+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:20:57.7157003+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:20:57.7187031+03:00 0HL7OIHK18ECU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:20:57.7332148+03:00 0HL7OIHK18ECU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160576840.5587969902605538\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:20:57.7337130+03:00 0HL7OIHK18ECU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:20:57.7347133+03:00 0HL7OIHK18ECU [INF] Request finished in 43.3663ms 302  (15c52c40)
2017-09-13T18:21:01.6996376+03:00 0HL7OIHK18ECV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0436915507684827451505316061684&state=15053160616840.34633883972412205   (e5be5b71)
2017-09-13T18:21:01.7076425+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:01.7091433+03:00 0HL7OIHK18ECV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:01.7101439+03:00 0HL7OIHK18ECV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:01.7106456+03:00 0HL7OIHK18ECV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:01.7116455+03:00 0HL7OIHK18ECV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:01.7131459+03:00 0HL7OIHK18ECV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:01.7131459+03:00 0HL7OIHK18ECV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160616840.34633883972412205\",
  \"Nonce\": \"N0.0436915507684827451505316061684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0436915507684827451505316061684\",
    \"state\": \"15053160616840.34633883972412205\"
  }
}" (9a175e33)
2017-09-13T18:21:01.7226556+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:01.7346592+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:01.7361604+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:01.7376608+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:01.7386622+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:01.7406639+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:01.7421640+03:00 0HL7OIHK18ECV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:01.7521702+03:00 0HL7OIHK18ECV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160616840.34633883972412205\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:01.7526707+03:00 0HL7OIHK18ECV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:01.7531724+03:00 0HL7OIHK18ECV [INF] Request finished in 56.6355ms 302  (15c52c40)
2017-09-13T18:21:05.6957135+03:00 0HL7OIHK18ED0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89031279949923041505316065684&state=15053160656840.6757834687576503   (e5be5b71)
2017-09-13T18:21:05.7017182+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:05.7027169+03:00 0HL7OIHK18ED0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:05.7047198+03:00 0HL7OIHK18ED0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:05.7047198+03:00 0HL7OIHK18ED0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:05.7057189+03:00 0HL7OIHK18ED0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:05.7067215+03:00 0HL7OIHK18ED0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:05.7067215+03:00 0HL7OIHK18ED0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160656840.6757834687576503\",
  \"Nonce\": \"N0.89031279949923041505316065684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89031279949923041505316065684\",
    \"state\": \"15053160656840.6757834687576503\"
  }
}" (9a175e33)
2017-09-13T18:21:05.7117241+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:05.7277339+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:05.7307355+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:05.7337371+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:05.7377397+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:05.7397418+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:05.7417447+03:00 0HL7OIHK18ED0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:05.7552586+03:00 0HL7OIHK18ED0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160656840.6757834687576503\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:05.7562194+03:00 0HL7OIHK18ED0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:05.7567136+03:00 0HL7OIHK18ED0 [INF] Request finished in 61.8847ms 302  (15c52c40)
2017-09-13T18:21:09.6920981+03:00 0HL7OIHK18ED1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.34200615238577491505316069684&state=15053160696840.5008375860956948   (e5be5b71)
2017-09-13T18:21:09.6951075+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:09.6961015+03:00 0HL7OIHK18ED1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:09.6966008+03:00 0HL7OIHK18ED1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:09.6966008+03:00 0HL7OIHK18ED1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:09.6966008+03:00 0HL7OIHK18ED1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:09.6971006+03:00 0HL7OIHK18ED1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:09.6976011+03:00 0HL7OIHK18ED1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160696840.5008375860956948\",
  \"Nonce\": \"N0.34200615238577491505316069684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.34200615238577491505316069684\",
    \"state\": \"15053160696840.5008375860956948\"
  }
}" (9a175e33)
2017-09-13T18:21:09.7006035+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:09.7086088+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:09.7101092+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:09.7116108+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:09.7131112+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:09.7176148+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:09.7231190+03:00 0HL7OIHK18ED1 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:09.7356267+03:00 0HL7OIHK18ED1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160696840.5008375860956948\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:09.7371279+03:00 0HL7OIHK18ED1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:09.7391288+03:00 0HL7OIHK18ED1 [INF] Request finished in 46.8645ms 302  (15c52c40)
2017-09-13T18:21:13.6912296+03:00 0HL7OIHK18ED2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83776358814366981505316073684&state=15053160736840.017925462587738306   (e5be5b71)
2017-09-13T18:21:13.6942312+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:13.6947310+03:00 0HL7OIHK18ED2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:13.6952315+03:00 0HL7OIHK18ED2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:13.6952315+03:00 0HL7OIHK18ED2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:13.6957324+03:00 0HL7OIHK18ED2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:13.6962333+03:00 0HL7OIHK18ED2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:13.6962333+03:00 0HL7OIHK18ED2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160736840.017925462587738306\",
  \"Nonce\": \"N0.83776358814366981505316073684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83776358814366981505316073684\",
    \"state\": \"15053160736840.017925462587738306\"
  }
}" (9a175e33)
2017-09-13T18:21:13.6982339+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:13.7067476+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:13.7087402+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:13.7107428+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:13.7142449+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:13.7182487+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:13.7212491+03:00 0HL7OIHK18ED2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:13.7322615+03:00 0HL7OIHK18ED2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160736840.017925462587738306\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:13.7327561+03:00 0HL7OIHK18ED2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:13.7352588+03:00 0HL7OIHK18ED2 [INF] Request finished in 43.259ms 302  (15c52c40)
2017-09-13T18:21:16.6954340+03:00 0HL7OIHK18ED3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0070589999661534451505316076687&state=15053160766870.20915195747121618   (e5be5b71)
2017-09-13T18:21:16.6979347+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:16.6984352+03:00 0HL7OIHK18ED3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:16.6989357+03:00 0HL7OIHK18ED3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:16.6989357+03:00 0HL7OIHK18ED3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:16.6999368+03:00 0HL7OIHK18ED3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:16.7019381+03:00 0HL7OIHK18ED3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:16.7024386+03:00 0HL7OIHK18ED3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160766870.20915195747121618\",
  \"Nonce\": \"N0.0070589999661534451505316076687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0070589999661534451505316076687\",
    \"state\": \"15053160766870.20915195747121618\"
  }
}" (9a175e33)
2017-09-13T18:21:16.7054394+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:16.7149459+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:16.7204498+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:16.7229508+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:16.7249526+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:16.7269539+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:16.7289564+03:00 0HL7OIHK18ED3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:16.7454667+03:00 0HL7OIHK18ED3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160766870.20915195747121618\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:16.7459669+03:00 0HL7OIHK18ED3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:16.7464674+03:00 0HL7OIHK18ED3 [INF] Request finished in 52.0281ms 302  (15c52c40)
2017-09-13T18:21:20.6971949+03:00 0HL7OIHK18ED4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51719584567298461505316080687&state=15053160806870.3977018142494808   (e5be5b71)
2017-09-13T18:21:20.6996968+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:20.7006974+03:00 0HL7OIHK18ED4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:20.7011992+03:00 0HL7OIHK18ED4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:20.7016989+03:00 0HL7OIHK18ED4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:20.7021986+03:00 0HL7OIHK18ED4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:20.7026992+03:00 0HL7OIHK18ED4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:20.7031989+03:00 0HL7OIHK18ED4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160806870.3977018142494808\",
  \"Nonce\": \"N0.51719584567298461505316080687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51719584567298461505316080687\",
    \"state\": \"15053160806870.3977018142494808\"
  }
}" (9a175e33)
2017-09-13T18:21:20.7062005+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:20.7207103+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:20.7252135+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:20.7272144+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:20.7292161+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:20.7312182+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:20.7327190+03:00 0HL7OIHK18ED4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:20.7527331+03:00 0HL7OIHK18ED4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160806870.3977018142494808\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:20.7537322+03:00 0HL7OIHK18ED4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:20.7547328+03:00 0HL7OIHK18ED4 [INF] Request finished in 58.8598ms 302  (15c52c40)
2017-09-13T18:21:24.6947629+03:00 0HL7OIHK18ED5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33014207890091821505316084687&state=15053160846870.6153718620586315   (e5be5b71)
2017-09-13T18:21:24.6977633+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:24.6982658+03:00 0HL7OIHK18ED5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:24.6987644+03:00 0HL7OIHK18ED5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:24.6987644+03:00 0HL7OIHK18ED5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:24.6992645+03:00 0HL7OIHK18ED5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:24.6997655+03:00 0HL7OIHK18ED5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:24.7002668+03:00 0HL7OIHK18ED5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160846870.6153718620586315\",
  \"Nonce\": \"N0.33014207890091821505316084687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.33014207890091821505316084687\",
    \"state\": \"15053160846870.6153718620586315\"
  }
}" (9a175e33)
2017-09-13T18:21:24.7057694+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:24.7122732+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:24.7142745+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:24.7157761+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:24.7187777+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:24.7227799+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:24.7242819+03:00 0HL7OIHK18ED5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:24.7382900+03:00 0HL7OIHK18ED5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160846870.6153718620586315\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:24.7387909+03:00 0HL7OIHK18ED5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:24.7397912+03:00 0HL7OIHK18ED5 [INF] Request finished in 45.8773ms 302  (15c52c40)
2017-09-13T18:21:28.6914388+03:00 0HL7OIHK18ED6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.18658579502655461505316088686&state=15053160886860.47962787349283276   (e5be5b71)
2017-09-13T18:21:28.6939399+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:28.6939399+03:00 0HL7OIHK18ED6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:28.6944400+03:00 0HL7OIHK18ED6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:28.6949410+03:00 0HL7OIHK18ED6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:28.6949410+03:00 0HL7OIHK18ED6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:28.6954411+03:00 0HL7OIHK18ED6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:28.6954411+03:00 0HL7OIHK18ED6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160886860.47962787349283276\",
  \"Nonce\": \"N0.18658579502655461505316088686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.18658579502655461505316088686\",
    \"state\": \"15053160886860.47962787349283276\"
  }
}" (9a175e33)
2017-09-13T18:21:28.6979422+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:28.7059490+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:28.7074494+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:28.7094508+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:28.7109512+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:28.7129533+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:28.7144541+03:00 0HL7OIHK18ED6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:28.7364691+03:00 0HL7OIHK18ED6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160886860.47962787349283276\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:28.7374689+03:00 0HL7OIHK18ED6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:28.7384700+03:00 0HL7OIHK18ED6 [INF] Request finished in 47.4969ms 302  (15c52c40)
2017-09-13T18:21:32.6937923+03:00 0HL7OIHK18ED7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.036771684760973811505316092685&state=15053160926850.012023264215426321   (e5be5b71)
2017-09-13T18:21:32.6962941+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:32.6967943+03:00 0HL7OIHK18ED7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:32.6972948+03:00 0HL7OIHK18ED7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:32.6972948+03:00 0HL7OIHK18ED7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:32.6977949+03:00 0HL7OIHK18ED7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:32.6982951+03:00 0HL7OIHK18ED7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:32.6987956+03:00 0HL7OIHK18ED7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160926850.012023264215426321\",
  \"Nonce\": \"N0.036771684760973811505316092685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.036771684760973811505316092685\",
    \"state\": \"15053160926850.012023264215426321\"
  }
}" (9a175e33)
2017-09-13T18:21:32.7012970+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:32.7118050+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:32.7153067+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:32.7183111+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:32.7213107+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:32.7253133+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:32.7278148+03:00 0HL7OIHK18ED7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:32.7448257+03:00 0HL7OIHK18ED7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160926850.012023264215426321\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:32.7453278+03:00 0HL7OIHK18ED7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:32.7458275+03:00 0HL7OIHK18ED7 [INF] Request finished in 52.6419ms 302  (15c52c40)
2017-09-13T18:21:36.6936379+03:00 0HL7OIHK18ED8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.321502517395792831505316096686&state=15053160966860.3823058537480779   (e5be5b71)
2017-09-13T18:21:36.6966391+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:36.6971412+03:00 0HL7OIHK18ED8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:36.6976410+03:00 0HL7OIHK18ED8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:36.6976410+03:00 0HL7OIHK18ED8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:36.6981403+03:00 0HL7OIHK18ED8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:36.6986416+03:00 0HL7OIHK18ED8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:36.6986416+03:00 0HL7OIHK18ED8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053160966860.3823058537480779\",
  \"Nonce\": \"N0.321502517395792831505316096686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.321502517395792831505316096686\",
    \"state\": \"15053160966860.3823058537480779\"
  }
}" (9a175e33)
2017-09-13T18:21:36.7016432+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:36.7096477+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:36.7111489+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:36.7131503+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:36.7146511+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:36.7166548+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:36.7191554+03:00 0HL7OIHK18ED8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:36.7361651+03:00 0HL7OIHK18ED8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053160966860.3823058537480779\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:36.7366656+03:00 0HL7OIHK18ED8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:36.7371658+03:00 0HL7OIHK18ED8 [INF] Request finished in 44.8814ms 302  (15c52c40)
2017-09-13T18:21:40.6929313+03:00 0HL7OIHK18ED9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37313743551892831505316100686&state=15053161006860.809758071771399   (e5be5b71)
2017-09-13T18:21:40.6954332+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:40.6959333+03:00 0HL7OIHK18ED9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:40.6959333+03:00 0HL7OIHK18ED9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:40.6964339+03:00 0HL7OIHK18ED9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:40.6964339+03:00 0HL7OIHK18ED9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:40.6969340+03:00 0HL7OIHK18ED9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:40.6974345+03:00 0HL7OIHK18ED9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161006860.809758071771399\",
  \"Nonce\": \"N0.37313743551892831505316100686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37313743551892831505316100686\",
    \"state\": \"15053161006860.809758071771399\"
  }
}" (9a175e33)
2017-09-13T18:21:40.6994359+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:40.7079417+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:40.7099430+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:40.7119439+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:40.7134451+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:40.7154465+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:40.7194499+03:00 0HL7OIHK18ED9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:40.7329590+03:00 0HL7OIHK18ED9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161006860.809758071771399\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:40.7334584+03:00 0HL7OIHK18ED9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:40.7349596+03:00 0HL7OIHK18ED9 [INF] Request finished in 42.1971ms 302  (15c52c40)
2017-09-13T18:21:44.6942470+03:00 0HL7OIHK18EDA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68374947543813391505316104684&state=15053161046840.16036072388562728   (e5be5b71)
2017-09-13T18:21:44.6972490+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:44.6977495+03:00 0HL7OIHK18EDA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:44.6982497+03:00 0HL7OIHK18EDA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:44.6982497+03:00 0HL7OIHK18EDA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:44.6987498+03:00 0HL7OIHK18EDA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:44.6992507+03:00 0HL7OIHK18EDA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:44.6992507+03:00 0HL7OIHK18EDA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161046840.16036072388562728\",
  \"Nonce\": \"N0.68374947543813391505316104684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68374947543813391505316104684\",
    \"state\": \"15053161046840.16036072388562728\"
  }
}" (9a175e33)
2017-09-13T18:21:44.7032526+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:44.7167617+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:44.7212645+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:44.7232662+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:44.7247670+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:44.7267687+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:44.7297707+03:00 0HL7OIHK18EDA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:44.7457809+03:00 0HL7OIHK18EDA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161046840.16036072388562728\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:44.7462811+03:00 0HL7OIHK18EDA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:44.7467816+03:00 0HL7OIHK18EDA [INF] Request finished in 53.1914ms 302  (15c52c40)
2017-09-13T18:21:48.6917006+03:00 0HL7OIHK18EDB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43247497718496851505316108684&state=15053161086840.3804760028190266   (e5be5b71)
2017-09-13T18:21:48.6957036+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:48.6967047+03:00 0HL7OIHK18EDB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:48.6972044+03:00 0HL7OIHK18EDB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:48.6977041+03:00 0HL7OIHK18EDB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:48.6977041+03:00 0HL7OIHK18EDB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:48.6982047+03:00 0HL7OIHK18EDB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:48.6987048+03:00 0HL7OIHK18EDB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161086840.3804760028190266\",
  \"Nonce\": \"N0.43247497718496851505316108684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43247497718496851505316108684\",
    \"state\": \"15053161086840.3804760028190266\"
  }
}" (9a175e33)
2017-09-13T18:21:48.7012067+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:48.7107128+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:48.7127141+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:48.7142153+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:48.7162162+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:48.7197195+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:48.7217204+03:00 0HL7OIHK18EDB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:48.7332286+03:00 0HL7OIHK18EDB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161086840.3804760028190266\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:48.7342285+03:00 0HL7OIHK18EDB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:48.7357317+03:00 0HL7OIHK18EDB [INF] Request finished in 43.7338ms 302  (15c52c40)
2017-09-13T18:21:52.6904287+03:00 0HL7OIHK18EDC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74385058278721591505316112684&state=15053161126840.8150952528470925   (e5be5b71)
2017-09-13T18:21:52.6929310+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:52.6934307+03:00 0HL7OIHK18EDC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:52.6939304+03:00 0HL7OIHK18EDC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:52.6939304+03:00 0HL7OIHK18EDC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:52.6944310+03:00 0HL7OIHK18EDC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:52.6949311+03:00 0HL7OIHK18EDC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:52.6949311+03:00 0HL7OIHK18EDC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161126840.8150952528470925\",
  \"Nonce\": \"N0.74385058278721591505316112684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74385058278721591505316112684\",
    \"state\": \"15053161126840.8150952528470925\"
  }
}" (9a175e33)
2017-09-13T18:21:52.6969336+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:52.7049385+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:52.7064385+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:52.7084406+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:52.7104427+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:52.7149447+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:52.7174466+03:00 0HL7OIHK18EDC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:52.7324558+03:00 0HL7OIHK18EDC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161126840.8150952528470925\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:52.7329567+03:00 0HL7OIHK18EDC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:52.7344583+03:00 0HL7OIHK18EDC [INF] Request finished in 43.711ms 302  (15c52c40)
2017-09-13T18:21:56.6929298+03:00 0HL7OIHK18EDD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.176688436420106681505316116684&state=15053161166840.6837273058404518   (e5be5b71)
2017-09-13T18:21:56.6949307+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:21:56.6959318+03:00 0HL7OIHK18EDD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:21:56.6959318+03:00 0HL7OIHK18EDD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:56.6959318+03:00 0HL7OIHK18EDD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:21:56.6969324+03:00 0HL7OIHK18EDD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:56.6969324+03:00 0HL7OIHK18EDD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:56.6969324+03:00 0HL7OIHK18EDD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161166840.6837273058404518\",
  \"Nonce\": \"N0.176688436420106681505316116684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.176688436420106681505316116684\",
    \"state\": \"15053161166840.6837273058404518\"
  }
}" (9a175e33)
2017-09-13T18:21:56.6999348+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:21:56.7079397+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:56.7089408+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:21:56.7109421+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:21:56.7129434+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:21:56.7139457+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:21:56.7159454+03:00 0HL7OIHK18EDD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:21:56.7299535+03:00 0HL7OIHK18EDD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161166840.6837273058404518\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:21:56.7299535+03:00 0HL7OIHK18EDD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:21:56.7309550+03:00 0HL7OIHK18EDD [INF] Request finished in 38.9504ms 302  (15c52c40)
2017-09-13T18:22:00.6920645+03:00 0HL7OIHK18EDE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50455915813372481505316120685&state=15053161206850.9147274619373316   (e5be5b71)
2017-09-13T18:22:00.6940658+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:00.6940658+03:00 0HL7OIHK18EDE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:00.6950661+03:00 0HL7OIHK18EDE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:00.6950661+03:00 0HL7OIHK18EDE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:00.6950661+03:00 0HL7OIHK18EDE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:00.6960668+03:00 0HL7OIHK18EDE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:00.6960668+03:00 0HL7OIHK18EDE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161206850.9147274619373316\",
  \"Nonce\": \"N0.50455915813372481505316120685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50455915813372481505316120685\",
    \"state\": \"15053161206850.9147274619373316\"
  }
}" (9a175e33)
2017-09-13T18:22:00.6980689+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:00.7060734+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:00.7080743+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:00.7090754+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:00.7110775+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:00.7130784+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:00.7150801+03:00 0HL7OIHK18EDE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:00.7280872+03:00 0HL7OIHK18EDE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161206850.9147274619373316\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:00.7280872+03:00 0HL7OIHK18EDE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:00.7290886+03:00 0HL7OIHK18EDE [INF] Request finished in 37.8037ms 302  (15c52c40)
2017-09-13T18:22:04.6912071+03:00 0HL7OIHK18EDF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58602788482080561505316124684&state=15053161246840.5157363538484998   (e5be5b71)
2017-09-13T18:22:04.6942083+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:04.6947089+03:00 0HL7OIHK18EDF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:04.6952098+03:00 0HL7OIHK18EDF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:04.6952098+03:00 0HL7OIHK18EDF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:04.6957091+03:00 0HL7OIHK18EDF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:04.6962104+03:00 0HL7OIHK18EDF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:04.6962104+03:00 0HL7OIHK18EDF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161246840.5157363538484998\",
  \"Nonce\": \"N0.58602788482080561505316124684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58602788482080561505316124684\",
    \"state\": \"15053161246840.5157363538484998\"
  }
}" (9a175e33)
2017-09-13T18:22:04.6987111+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:04.7127204+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:04.7157236+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:04.7177241+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:04.7277315+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:04.7297317+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:04.7317334+03:00 0HL7OIHK18EDF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:04.7462428+03:00 0HL7OIHK18EDF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161246840.5157363538484998\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:04.7472431+03:00 0HL7OIHK18EDF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:04.7477436+03:00 0HL7OIHK18EDF [INF] Request finished in 56.9465ms 302  (15c52c40)
2017-09-13T18:22:07.6958256+03:00 0HL7OIHK18EDG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63466910173841271505316127687&state=15053161276870.6212928907946031   (e5be5b71)
2017-09-13T18:22:07.6988284+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:07.6993261+03:00 0HL7OIHK18EDG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:07.6998278+03:00 0HL7OIHK18EDG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:07.6998278+03:00 0HL7OIHK18EDG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:07.7003291+03:00 0HL7OIHK18EDG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:07.7008281+03:00 0HL7OIHK18EDG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:07.7013274+03:00 0HL7OIHK18EDG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161276870.6212928907946031\",
  \"Nonce\": \"N0.63466910173841271505316127687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63466910173841271505316127687\",
    \"state\": \"15053161276870.6212928907946031\"
  }
}" (9a175e33)
2017-09-13T18:22:07.7068329+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:07.7183391+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:07.7223414+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:07.7243423+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:07.7258455+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:07.7278456+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:07.7293464+03:00 0HL7OIHK18EDG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:07.7473575+03:00 0HL7OIHK18EDG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161276870.6212928907946031\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:07.7478585+03:00 0HL7OIHK18EDG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:07.7483594+03:00 0HL7OIHK18EDG [INF] Request finished in 53.3848ms 302  (15c52c40)
2017-09-13T18:22:11.6926392+03:00 0HL7OIHK18EDH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78177541262315661505316131685&state=15053161316850.8032118891496431   (e5be5b71)
2017-09-13T18:22:11.6951403+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:11.6956404+03:00 0HL7OIHK18EDH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:11.6956404+03:00 0HL7OIHK18EDH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:11.6961410+03:00 0HL7OIHK18EDH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:11.6961410+03:00 0HL7OIHK18EDH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:11.6966415+03:00 0HL7OIHK18EDH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:11.6971416+03:00 0HL7OIHK18EDH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161316850.8032118891496431\",
  \"Nonce\": \"N0.78177541262315661505316131685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78177541262315661505316131685\",
    \"state\": \"15053161316850.8032118891496431\"
  }
}" (9a175e33)
2017-09-13T18:22:11.6991434+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:11.7071510+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:11.7086514+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:11.7106516+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:11.7126529+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:11.7156553+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:11.7201573+03:00 0HL7OIHK18EDH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:11.7381692+03:00 0HL7OIHK18EDH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161316850.8032118891496431\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:11.7391699+03:00 0HL7OIHK18EDH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:11.7401705+03:00 0HL7OIHK18EDH [INF] Request finished in 47.8072ms 302  (15c52c40)
2017-09-13T18:22:15.6959203+03:00 0HL7OIHK18EDI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.07614303474131791505316135686&state=15053161356860.19495569695339499   (e5be5b71)
2017-09-13T18:22:15.6989211+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:15.6994212+03:00 0HL7OIHK18EDI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:15.7004219+03:00 0HL7OIHK18EDI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:15.7004219+03:00 0HL7OIHK18EDI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:15.7009224+03:00 0HL7OIHK18EDI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:15.7014222+03:00 0HL7OIHK18EDI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:15.7014222+03:00 0HL7OIHK18EDI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161356860.19495569695339499\",
  \"Nonce\": \"N0.07614303474131791505316135686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.07614303474131791505316135686\",
    \"state\": \"15053161356860.19495569695339499\"
  }
}" (9a175e33)
2017-09-13T18:22:15.7069260+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:15.7209373+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:15.7239373+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:15.7294411+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:15.7309419+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:15.7329429+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:15.7354467+03:00 0HL7OIHK18EDI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:15.7509552+03:00 0HL7OIHK18EDI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161356860.19495569695339499\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:15.7514549+03:00 0HL7OIHK18EDI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:15.7534574+03:00 0HL7OIHK18EDI [INF] Request finished in 57.3654ms 302  (15c52c40)
2017-09-13T18:22:19.6960825+03:00 0HL7OIHK18EDJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85507843103947771505316139687&state=15053161396870.9067238286665695   (e5be5b71)
2017-09-13T18:22:19.6985844+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:19.6990849+03:00 0HL7OIHK18EDJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:19.6995862+03:00 0HL7OIHK18EDJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:19.7000856+03:00 0HL7OIHK18EDJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:19.7000856+03:00 0HL7OIHK18EDJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:19.7010867+03:00 0HL7OIHK18EDJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:19.7010867+03:00 0HL7OIHK18EDJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161396870.9067238286665695\",
  \"Nonce\": \"N0.85507843103947771505316139687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85507843103947771505316139687\",
    \"state\": \"15053161396870.9067238286665695\"
  }
}" (9a175e33)
2017-09-13T18:22:19.7050889+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:19.7155961+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:19.7175978+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:19.7226015+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:19.7241019+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:19.7261028+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:19.7276032+03:00 0HL7OIHK18EDJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:19.7441155+03:00 0HL7OIHK18EDJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161396870.9067238286665695\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:19.7446157+03:00 0HL7OIHK18EDJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:19.7451154+03:00 0HL7OIHK18EDJ [INF] Request finished in 49.9857ms 302  (15c52c40)
2017-09-13T18:22:23.6922563+03:00 0HL7OIHK18EDK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.133970089795476981505316143685&state=15053161436850.6366255683173114   (e5be5b71)
2017-09-13T18:22:23.6947570+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:23.6952575+03:00 0HL7OIHK18EDK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:23.6957585+03:00 0HL7OIHK18EDK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:23.6957585+03:00 0HL7OIHK18EDK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:23.6962578+03:00 0HL7OIHK18EDK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:23.6967595+03:00 0HL7OIHK18EDK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:23.6967595+03:00 0HL7OIHK18EDK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161436850.6366255683173114\",
  \"Nonce\": \"N0.133970089795476981505316143685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.133970089795476981505316143685\",
    \"state\": \"15053161436850.6366255683173114\"
  }
}" (9a175e33)
2017-09-13T18:22:23.6992602+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:23.7067665+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:23.7087675+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:23.7132695+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:23.7152704+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:23.7172717+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:23.7207750+03:00 0HL7OIHK18EDK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:23.7322821+03:00 0HL7OIHK18EDK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161436850.6366255683173114\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:23.7327838+03:00 0HL7OIHK18EDK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:23.7337833+03:00 0HL7OIHK18EDK [INF] Request finished in 41.982ms 302  (15c52c40)
2017-09-13T18:22:27.6918044+03:00 0HL7OIHK18EDL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67165769290977681505316147684&state=15053161476840.7783994390409386   (e5be5b71)
2017-09-13T18:22:27.6943058+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:27.6948060+03:00 0HL7OIHK18EDL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:27.6953073+03:00 0HL7OIHK18EDL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:27.6953073+03:00 0HL7OIHK18EDL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:27.6958090+03:00 0HL7OIHK18EDL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:27.6963072+03:00 0HL7OIHK18EDL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:27.6963072+03:00 0HL7OIHK18EDL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161476840.7783994390409386\",
  \"Nonce\": \"N0.67165769290977681505316147684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67165769290977681505316147684\",
    \"state\": \"15053161476840.7783994390409386\"
  }
}" (9a175e33)
2017-09-13T18:22:27.6983085+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:27.7068139+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:27.7083151+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:27.7103164+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:27.7123182+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:27.7143258+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:27.7158203+03:00 0HL7OIHK18EDL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:27.7283292+03:00 0HL7OIHK18EDL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161476840.7783994390409386\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:27.7288309+03:00 0HL7OIHK18EDL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:27.7298299+03:00 0HL7OIHK18EDL [INF] Request finished in 38.1029ms 302  (15c52c40)
2017-09-13T18:22:31.6925607+03:00 0HL7OIHK18EDM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0058139769820044761505316151684&state=15053161516840.4007558739352428   (e5be5b71)
2017-09-13T18:22:31.6945593+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:31.6955591+03:00 0HL7OIHK18EDM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:31.6955591+03:00 0HL7OIHK18EDM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:31.6955591+03:00 0HL7OIHK18EDM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:31.6965586+03:00 0HL7OIHK18EDM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:31.6965586+03:00 0HL7OIHK18EDM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:31.6975597+03:00 0HL7OIHK18EDM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161516840.4007558739352428\",
  \"Nonce\": \"N0.0058139769820044761505316151684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0058139769820044761505316151684\",
    \"state\": \"15053161516840.4007558739352428\"
  }
}" (9a175e33)
2017-09-13T18:22:31.6995649+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:31.7095676+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:31.7115693+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:31.7135707+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:31.7155724+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:31.7195742+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:31.7215760+03:00 0HL7OIHK18EDM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:31.7380906+03:00 0HL7OIHK18EDM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161516840.4007558739352428\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:31.7390909+03:00 0HL7OIHK18EDM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:31.7395910+03:00 0HL7OIHK18EDM [INF] Request finished in 47.8206ms 302  (15c52c40)
2017-09-13T18:22:35.7695087+03:00 0HL7OIHK18EDN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57812979323416021505316155749&state=15053161557490.5670499470544295   (e5be5b71)
2017-09-13T18:22:35.7745120+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:35.7755131+03:00 0HL7OIHK18EDN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:35.7760132+03:00 0HL7OIHK18EDN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:35.7760132+03:00 0HL7OIHK18EDN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:35.7765137+03:00 0HL7OIHK18EDN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:35.7775140+03:00 0HL7OIHK18EDN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:35.7775140+03:00 0HL7OIHK18EDN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161557490.5670499470544295\",
  \"Nonce\": \"N0.57812979323416021505316155749\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57812979323416021505316155749\",
    \"state\": \"15053161557490.5670499470544295\"
  }
}" (9a175e33)
2017-09-13T18:22:35.7810165+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:35.8155392+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:35.8180410+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:35.8275483+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:35.8340516+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:35.8365531+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:35.8415568+03:00 0HL7OIHK18EDN [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:35.8650722+03:00 0HL7OIHK18EDN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161557490.5670499470544295\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:35.8665734+03:00 0HL7OIHK18EDN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:35.8685747+03:00 0HL7OIHK18EDN [INF] Request finished in 99.7729ms 302  (15c52c40)
2017-09-13T18:22:39.6960064+03:00 0HL7OIHK18EDO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.09800635449514151505316159684&state=15053161596840.8843745233558213   (e5be5b71)
2017-09-13T18:22:39.6990091+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:39.7000094+03:00 0HL7OIHK18EDO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:39.7005099+03:00 0HL7OIHK18EDO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:39.7005099+03:00 0HL7OIHK18EDO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:39.7010097+03:00 0HL7OIHK18EDO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:39.7020107+03:00 0HL7OIHK18EDO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:39.7025121+03:00 0HL7OIHK18EDO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161596840.8843745233558213\",
  \"Nonce\": \"N0.09800635449514151505316159684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.09800635449514151505316159684\",
    \"state\": \"15053161596840.8843745233558213\"
  }
}" (9a175e33)
2017-09-13T18:22:39.7075146+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:39.7250260+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:39.7275298+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:39.7295284+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:39.7310292+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:39.7330305+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:39.7350330+03:00 0HL7OIHK18EDO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:39.7495412+03:00 0HL7OIHK18EDO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161596840.8843745233558213\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:39.7500418+03:00 0HL7OIHK18EDO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:39.7505427+03:00 0HL7OIHK18EDO [INF] Request finished in 55.2547ms 302  (15c52c40)
2017-09-13T18:22:43.6926017+03:00 0HL7OIHK18EDP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67888508410674551505316163684&state=15053161636840.9430464794749625   (e5be5b71)
2017-09-13T18:22:43.6946039+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:43.6951052+03:00 0HL7OIHK18EDP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:43.6956041+03:00 0HL7OIHK18EDP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:43.6956041+03:00 0HL7OIHK18EDP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:43.6961047+03:00 0HL7OIHK18EDP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:43.6966044+03:00 0HL7OIHK18EDP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:43.6966044+03:00 0HL7OIHK18EDP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161636840.9430464794749625\",
  \"Nonce\": \"N0.67888508410674551505316163684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67888508410674551505316163684\",
    \"state\": \"15053161636840.9430464794749625\"
  }
}" (9a175e33)
2017-09-13T18:22:43.6991059+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:43.7066114+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:43.7081122+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:43.7096138+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:43.7116143+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:43.7131151+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:43.7146163+03:00 0HL7OIHK18EDP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:43.7321273+03:00 0HL7OIHK18EDP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161636840.9430464794749625\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:43.7326286+03:00 0HL7OIHK18EDP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:43.7331292+03:00 0HL7OIHK18EDP [INF] Request finished in 41.0911ms 302  (15c52c40)
2017-09-13T18:22:47.6935783+03:00 0HL7OIHK18EDQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98889189663388821505316167685&state=15053161676850.08888735200054732   (e5be5b71)
2017-09-13T18:22:47.6955793+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:47.6965799+03:00 0HL7OIHK18EDQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:47.6974795+03:00 0HL7OIHK18EDQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:47.6974795+03:00 0HL7OIHK18EDQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:47.6979824+03:00 0HL7OIHK18EDQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:47.6984818+03:00 0HL7OIHK18EDQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:47.6984818+03:00 0HL7OIHK18EDQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161676850.08888735200054732\",
  \"Nonce\": \"N0.98889189663388821505316167685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98889189663388821505316167685\",
    \"state\": \"15053161676850.08888735200054732\"
  }
}" (9a175e33)
2017-09-13T18:22:47.7019839+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:47.7114920+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:47.7134921+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:47.7154938+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:47.7174948+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:47.7204967+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:47.7250007+03:00 0HL7OIHK18EDQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:47.7395121+03:00 0HL7OIHK18EDQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161676850.08888735200054732\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:47.7405100+03:00 0HL7OIHK18EDQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:47.7410109+03:00 0HL7OIHK18EDQ [INF] Request finished in 48.5923ms 302  (15c52c40)
2017-09-13T18:22:51.6968882+03:00 0HL7OIHK18EDR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64928347593150651505316171685&state=15053161716850.0748139025715755   (e5be5b71)
2017-09-13T18:22:51.7028799+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:51.7043831+03:00 0HL7OIHK18EDR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:51.7053810+03:00 0HL7OIHK18EDR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:51.7058835+03:00 0HL7OIHK18EDR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:51.7068842+03:00 0HL7OIHK18EDR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:51.7083834+03:00 0HL7OIHK18EDR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:51.7083834+03:00 0HL7OIHK18EDR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161716850.0748139025715755\",
  \"Nonce\": \"N0.64928347593150651505316171685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64928347593150651505316171685\",
    \"state\": \"15053161716850.0748139025715755\"
  }
}" (9a175e33)
2017-09-13T18:22:51.7123860+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:51.7268939+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:51.7298963+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:51.7318964+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:51.7344002+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:51.7363996+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:51.7389026+03:00 0HL7OIHK18EDR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:51.7489085+03:00 0HL7OIHK18EDR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161716850.0748139025715755\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:51.7499087+03:00 0HL7OIHK18EDR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:51.7504093+03:00 0HL7OIHK18EDR [INF] Request finished in 55.5677ms 302  (15c52c40)
2017-09-13T18:22:55.6918324+03:00 0HL7OIHK18EDS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91398614819475671505316175684&state=15053161756840.16461757655078557   (e5be5b71)
2017-09-13T18:22:55.6943354+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:55.6948356+03:00 0HL7OIHK18EDS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:55.6953345+03:00 0HL7OIHK18EDS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:55.6953345+03:00 0HL7OIHK18EDS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:55.6958350+03:00 0HL7OIHK18EDS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:55.6963352+03:00 0HL7OIHK18EDS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:55.6963352+03:00 0HL7OIHK18EDS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161756840.16461757655078557\",
  \"Nonce\": \"N0.91398614819475671505316175684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91398614819475671505316175684\",
    \"state\": \"15053161756840.16461757655078557\"
  }
}" (9a175e33)
2017-09-13T18:22:55.6993387+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:55.7063434+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:55.7083431+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:55.7098471+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:55.7113455+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:55.7133464+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:55.7153478+03:00 0HL7OIHK18EDS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:55.7318593+03:00 0HL7OIHK18EDS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161756840.16461757655078557\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:55.7328655+03:00 0HL7OIHK18EDS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:55.7333609+03:00 0HL7OIHK18EDS [INF] Request finished in 42.2165ms 302  (15c52c40)
2017-09-13T18:22:59.6905598+03:00 0HL7OIHK18EDT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.226499912310401451505316179684&state=15053161796840.7439592262475183   (e5be5b71)
2017-09-13T18:22:59.6935614+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:22:59.6940627+03:00 0HL7OIHK18EDT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:22:59.6940627+03:00 0HL7OIHK18EDT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:59.6945624+03:00 0HL7OIHK18EDT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:22:59.6945624+03:00 0HL7OIHK18EDT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:59.6950633+03:00 0HL7OIHK18EDT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:59.6950633+03:00 0HL7OIHK18EDT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161796840.7439592262475183\",
  \"Nonce\": \"N0.226499912310401451505316179684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.226499912310401451505316179684\",
    \"state\": \"15053161796840.7439592262475183\"
  }
}" (9a175e33)
2017-09-13T18:22:59.6975640+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:22:59.7045698+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:59.7065708+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:22:59.7095720+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:22:59.7120738+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:22:59.7150782+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:22:59.7180798+03:00 0HL7OIHK18EDT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:22:59.7360913+03:00 0HL7OIHK18EDT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161796840.7439592262475183\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:22:59.7365914+03:00 0HL7OIHK18EDT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:22:59.7370924+03:00 0HL7OIHK18EDT [INF] Request finished in 47.1203ms 302  (15c52c40)
2017-09-13T18:23:03.7018599+03:00 0HL7OIHK18EDU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68728504727398071505316183685&state=15053161836850.32312278414496465   (e5be5b71)
2017-09-13T18:23:03.7069465+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:03.7084517+03:00 0HL7OIHK18EDU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:03.7094516+03:00 0HL7OIHK18EDU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:03.7094516+03:00 0HL7OIHK18EDU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:03.7104546+03:00 0HL7OIHK18EDU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:03.7114553+03:00 0HL7OIHK18EDU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:03.7114553+03:00 0HL7OIHK18EDU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161836850.32312278414496465\",
  \"Nonce\": \"N0.68728504727398071505316183685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68728504727398071505316183685\",
    \"state\": \"15053161836850.32312278414496465\"
  }
}" (9a175e33)
2017-09-13T18:23:03.7149554+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:03.7259635+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:03.7279648+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:03.7294648+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:03.7314661+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:03.7329673+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:03.7354700+03:00 0HL7OIHK18EDU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:03.7509789+03:00 0HL7OIHK18EDU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161836850.32312278414496465\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:03.7524812+03:00 0HL7OIHK18EDU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:03.7529810+03:00 0HL7OIHK18EDU [INF] Request finished in 52.4848ms 302  (15c52c40)
2017-09-13T18:23:06.7109141+03:00 0HL7OIHK18EDV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.336356335430608061505316186689&state=15053161866890.016278506353612165   (e5be5b71)
2017-09-13T18:23:06.7134159+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:06.7139161+03:00 0HL7OIHK18EDV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:06.7144166+03:00 0HL7OIHK18EDV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:06.7149171+03:00 0HL7OIHK18EDV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:06.7154172+03:00 0HL7OIHK18EDV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:06.7159186+03:00 0HL7OIHK18EDV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:06.7164179+03:00 0HL7OIHK18EDV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161866890.016278506353612165\",
  \"Nonce\": \"N0.336356335430608061505316186689\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.336356335430608061505316186689\",
    \"state\": \"15053161866890.016278506353612165\"
  }
}" (9a175e33)
2017-09-13T18:23:06.7199204+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:06.7304272+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:06.7314279+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:06.7329294+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:06.7344298+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:06.7359298+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:06.7369309+03:00 0HL7OIHK18EDV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:06.7504397+03:00 0HL7OIHK18EDV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161866890.016278506353612165\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:06.7509406+03:00 0HL7OIHK18EDV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:06.7514415+03:00 0HL7OIHK18EDV [INF] Request finished in 41.1819ms 302  (15c52c40)
2017-09-13T18:23:10.6947657+03:00 0HL7OIHK18EE0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.273059416716476161505316190686&state=15053161906860.8751239012271397   (e5be5b71)
2017-09-13T18:23:10.6972672+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:10.6982678+03:00 0HL7OIHK18EE0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:10.6982678+03:00 0HL7OIHK18EE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:10.6987687+03:00 0HL7OIHK18EE0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:10.6992697+03:00 0HL7OIHK18EE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:10.6997698+03:00 0HL7OIHK18EE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:10.6997698+03:00 0HL7OIHK18EE0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161906860.8751239012271397\",
  \"Nonce\": \"N0.273059416716476161505316190686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.273059416716476161505316190686\",
    \"state\": \"15053161906860.8751239012271397\"
  }
}" (9a175e33)
2017-09-13T18:23:10.7022701+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:10.7137783+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:10.7157796+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:10.7192817+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:10.7207845+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:10.7232848+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:10.7257859+03:00 0HL7OIHK18EE0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:10.7457995+03:00 0HL7OIHK18EE0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161906860.8751239012271397\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:10.7463004+03:00 0HL7OIHK18EE0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:10.7468002+03:00 0HL7OIHK18EE0 [INF] Request finished in 52.8452ms 302  (15c52c40)
2017-09-13T18:23:14.6923250+03:00 0HL7OIHK18EE1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.125273521874858631505316194685&state=15053161946850.675983881404346   (e5be5b71)
2017-09-13T18:23:14.6948277+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:14.6953282+03:00 0HL7OIHK18EE1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:14.6953282+03:00 0HL7OIHK18EE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:14.6958275+03:00 0HL7OIHK18EE1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:14.6958275+03:00 0HL7OIHK18EE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:14.6963285+03:00 0HL7OIHK18EE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:14.6963285+03:00 0HL7OIHK18EE1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161946850.675983881404346\",
  \"Nonce\": \"N0.125273521874858631505316194685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.125273521874858631505316194685\",
    \"state\": \"15053161946850.675983881404346\"
  }
}" (9a175e33)
2017-09-13T18:23:14.6988287+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:14.7053333+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:14.7068364+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:14.7088358+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:14.7103381+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:14.7128388+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:14.7143412+03:00 0HL7OIHK18EE1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:14.7273490+03:00 0HL7OIHK18EE1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161946850.675983881404346\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:14.7283485+03:00 0HL7OIHK18EE1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:14.7288498+03:00 0HL7OIHK18EE1 [INF] Request finished in 37.0347ms 302  (15c52c40)
2017-09-13T18:23:18.6931121+03:00 0HL7OIHK18EE2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43298225004497761505316198687&state=15053161986870.7285890467550769   (e5be5b71)
2017-09-13T18:23:18.6956140+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:18.6961141+03:00 0HL7OIHK18EE2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:18.6966135+03:00 0HL7OIHK18EE2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:18.6966135+03:00 0HL7OIHK18EE2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:18.6971136+03:00 0HL7OIHK18EE2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:18.6976153+03:00 0HL7OIHK18EE2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:18.6981147+03:00 0HL7OIHK18EE2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053161986870.7285890467550769\",
  \"Nonce\": \"N0.43298225004497761505316198687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43298225004497761505316198687\",
    \"state\": \"15053161986870.7285890467550769\"
  }
}" (9a175e33)
2017-09-13T18:23:18.7001160+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:18.7071222+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:18.7096233+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:18.7116238+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:18.7146258+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:18.7166271+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:18.7201308+03:00 0HL7OIHK18EE2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:18.7366400+03:00 0HL7OIHK18EE2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053161986870.7285890467550769\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:18.7371409+03:00 0HL7OIHK18EE2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:18.7381416+03:00 0HL7OIHK18EE2 [INF] Request finished in 45.6203ms 302  (15c52c40)
2017-09-13T18:23:22.6908783+03:00 0HL7OIHK18EE3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.22704117674698821505316202685&state=15053162026850.38835351284041675   (e5be5b71)
2017-09-13T18:23:22.6933766+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:22.6938760+03:00 0HL7OIHK18EE3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:22.6943769+03:00 0HL7OIHK18EE3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:22.6943769+03:00 0HL7OIHK18EE3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:22.6943769+03:00 0HL7OIHK18EE3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:22.6948766+03:00 0HL7OIHK18EE3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:22.6948766+03:00 0HL7OIHK18EE3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162026850.38835351284041675\",
  \"Nonce\": \"N0.22704117674698821505316202685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.22704117674698821505316202685\",
    \"state\": \"15053162026850.38835351284041675\"
  }
}" (9a175e33)
2017-09-13T18:23:22.6973793+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:22.7033525+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:22.7048532+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:22.7063537+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:22.7088559+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:22.7103559+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:22.7113570+03:00 0HL7OIHK18EE3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:22.7233653+03:00 0HL7OIHK18EE3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162026850.38835351284041675\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:22.7248551+03:00 0HL7OIHK18EE3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:22.7253544+03:00 0HL7OIHK18EE3 [INF] Request finished in 35.1633ms 302  (15c52c40)
2017-09-13T18:23:26.6920641+03:00 0HL7OIHK18EE4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66011814354639941505316206685&state=15053162066850.959819145286525   (e5be5b71)
2017-09-13T18:23:26.6940650+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:26.6945644+03:00 0HL7OIHK18EE4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:26.6950653+03:00 0HL7OIHK18EE4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:26.6950653+03:00 0HL7OIHK18EE4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:26.6955654+03:00 0HL7OIHK18EE4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:26.6960656+03:00 0HL7OIHK18EE4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:26.6960656+03:00 0HL7OIHK18EE4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162066850.959819145286525\",
  \"Nonce\": \"N0.66011814354639941505316206685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66011814354639941505316206685\",
    \"state\": \"15053162066850.959819145286525\"
  }
}" (9a175e33)
2017-09-13T18:23:26.6985678+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:26.7095751+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:26.7115764+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:26.7135778+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:26.7195825+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:26.7240861+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:26.7260859+03:00 0HL7OIHK18EE4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:26.7440978+03:00 0HL7OIHK18EE4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162066850.959819145286525\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:26.7445983+03:00 0HL7OIHK18EE4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:26.7450984+03:00 0HL7OIHK18EE4 [INF] Request finished in 54.6227ms 302  (15c52c40)
2017-09-13T18:23:30.6938495+03:00 0HL7OIHK18EE5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63208654704744931505316210686&state=15053162106860.5582477309931393   (e5be5b71)
2017-09-13T18:23:30.6963502+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:30.6973516+03:00 0HL7OIHK18EE5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:30.6973516+03:00 0HL7OIHK18EE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:30.6978518+03:00 0HL7OIHK18EE5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:30.6983519+03:00 0HL7OIHK18EE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:30.6988524+03:00 0HL7OIHK18EE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:30.6988524+03:00 0HL7OIHK18EE5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162106860.5582477309931393\",
  \"Nonce\": \"N0.63208654704744931505316210686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63208654704744931505316210686\",
    \"state\": \"15053162106860.5582477309931393\"
  }
}" (9a175e33)
2017-09-13T18:23:30.7013535+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:30.7143621+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:30.7173645+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:30.7198663+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:30.7223686+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:30.7263709+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:30.7323744+03:00 0HL7OIHK18EE5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:30.7528878+03:00 0HL7OIHK18EE5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162106860.5582477309931393\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:30.7533884+03:00 0HL7OIHK18EE5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:30.7558906+03:00 0HL7OIHK18EE5 [INF] Request finished in 61.0502ms 302  (15c52c40)
2017-09-13T18:23:34.6908799+03:00 0HL7OIHK18EE6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97425760308034071505316214685&state=15053162146850.4264185430579168   (e5be5b71)
2017-09-13T18:23:34.6933782+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:34.6938783+03:00 0HL7OIHK18EE6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:34.6938783+03:00 0HL7OIHK18EE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:34.6943785+03:00 0HL7OIHK18EE6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:34.6943785+03:00 0HL7OIHK18EE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:34.6948790+03:00 0HL7OIHK18EE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:34.6953791+03:00 0HL7OIHK18EE6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162146850.4264185430579168\",
  \"Nonce\": \"N0.97425760308034071505316214685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97425760308034071505316214685\",
    \"state\": \"15053162146850.4264185430579168\"
  }
}" (9a175e33)
2017-09-13T18:23:34.6973804+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:34.7038846+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:34.7058859+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:34.7088879+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:34.7108896+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:34.7123908+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:34.7143917+03:00 0HL7OIHK18EE6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:34.7273995+03:00 0HL7OIHK18EE6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162146850.4264185430579168\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:34.7279005+03:00 0HL7OIHK18EE6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:34.7284010+03:00 0HL7OIHK18EE6 [INF] Request finished in 38.5047ms 302  (15c52c40)
2017-09-13T18:23:38.6909450+03:00 0HL7OIHK18EE7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84266452633009181505316218685&state=15053162186850.09186613878139971   (e5be5b71)
2017-09-13T18:23:38.6934469+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:38.6939466+03:00 0HL7OIHK18EE7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:38.6944471+03:00 0HL7OIHK18EE7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:38.6944471+03:00 0HL7OIHK18EE7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:38.6949485+03:00 0HL7OIHK18EE7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:38.6954486+03:00 0HL7OIHK18EE7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:38.6954486+03:00 0HL7OIHK18EE7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162186850.09186613878139971\",
  \"Nonce\": \"N0.84266452633009181505316218685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84266452633009181505316218685\",
    \"state\": \"15053162186850.09186613878139971\"
  }
}" (9a175e33)
2017-09-13T18:23:38.6979497+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:38.7054540+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:38.7064559+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:38.7089573+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:38.7109591+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:38.7129596+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:38.7149613+03:00 0HL7OIHK18EE7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:38.7309715+03:00 0HL7OIHK18EE7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162186850.09186613878139971\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:38.7314729+03:00 0HL7OIHK18EE7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:38.7319726+03:00 0HL7OIHK18EE7 [INF] Request finished in 41.9579ms 302  (15c52c40)
2017-09-13T18:23:42.7334714+03:00 0HL7OIHK18EE8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.150636302126539781505316222685&state=15053162226850.98930371784686   (e5be5b71)
2017-09-13T18:23:42.7359717+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:42.7364722+03:00 0HL7OIHK18EE8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:42.7369724+03:00 0HL7OIHK18EE8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:42.7369724+03:00 0HL7OIHK18EE8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:42.7374725+03:00 0HL7OIHK18EE8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:42.7379730+03:00 0HL7OIHK18EE8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:42.7379730+03:00 0HL7OIHK18EE8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162226850.98930371784686\",
  \"Nonce\": \"N0.150636302126539781505316222685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.150636302126539781505316222685\",
    \"state\": \"15053162226850.98930371784686\"
  }
}" (9a175e33)
2017-09-13T18:23:42.7419761+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:42.7499814+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:42.7514818+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:42.7529822+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:42.7544845+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:42.7559845+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:42.7574861+03:00 0HL7OIHK18EE8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:42.7699934+03:00 0HL7OIHK18EE8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162226850.98930371784686\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:42.7704948+03:00 0HL7OIHK18EE8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:42.7709945+03:00 0HL7OIHK18EE8 [INF] Request finished in 42.4608ms 302  (15c52c40)
2017-09-13T18:23:45.7027821+03:00 0HL7OIHK18EE9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73383225656872791505316225693&state=15053162256930.5179234446935901   (e5be5b71)
2017-09-13T18:23:45.7057840+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:45.7057840+03:00 0HL7OIHK18EE9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:45.7067847+03:00 0HL7OIHK18EE9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:45.7067847+03:00 0HL7OIHK18EE9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:45.7077854+03:00 0HL7OIHK18EE9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:45.7077854+03:00 0HL7OIHK18EE9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:45.7087888+03:00 0HL7OIHK18EE9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162256930.5179234446935901\",
  \"Nonce\": \"N0.73383225656872791505316225693\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73383225656872791505316225693\",
    \"state\": \"15053162256930.5179234446935901\"
  }
}" (9a175e33)
2017-09-13T18:23:45.7197949+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:45.7338030+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:45.7358039+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:45.7368046+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:45.7388063+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:45.7428082+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:45.7448103+03:00 0HL7OIHK18EE9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:45.7663295+03:00 0HL7OIHK18EE9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162256930.5179234446935901\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:45.7668292+03:00 0HL7OIHK18EE9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:45.7683304+03:00 0HL7OIHK18EE9 [INF] Request finished in 64.8271ms 302  (15c52c40)
2017-09-13T18:23:49.6925828+03:00 0HL7OIHK18EEA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.156776502799976131505316229687&state=15053162296870.27326036921007235   (e5be5b71)
2017-09-13T18:23:49.6950858+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:49.6955860+03:00 0HL7OIHK18EEA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:49.6960849+03:00 0HL7OIHK18EEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:49.6960849+03:00 0HL7OIHK18EEA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:49.6965866+03:00 0HL7OIHK18EEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:49.6970856+03:00 0HL7OIHK18EEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:49.6975861+03:00 0HL7OIHK18EEA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162296870.27326036921007235\",
  \"Nonce\": \"N0.156776502799976131505316229687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.156776502799976131505316229687\",
    \"state\": \"15053162296870.27326036921007235\"
  }
}" (9a175e33)
2017-09-13T18:23:49.6995890+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:49.7065921+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:49.7085934+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:49.7110945+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:49.7125957+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:49.7160990+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:49.7186000+03:00 0HL7OIHK18EEA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:49.7346126+03:00 0HL7OIHK18EEA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162296870.27326036921007235\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:49.7351108+03:00 0HL7OIHK18EEA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:49.7361118+03:00 0HL7OIHK18EEA [INF] Request finished in 43.6892ms 302  (15c52c40)
2017-09-13T18:23:53.6929988+03:00 0HL7OIHK18EEB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56435944632907221505316233686&state=15053162336860.437898510199048   (e5be5b71)
2017-09-13T18:23:53.6950006+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:53.6955007+03:00 0HL7OIHK18EEB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:53.6960008+03:00 0HL7OIHK18EEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:53.6960008+03:00 0HL7OIHK18EEB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:53.6965014+03:00 0HL7OIHK18EEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:53.6970019+03:00 0HL7OIHK18EEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:53.6975036+03:00 0HL7OIHK18EEB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162336860.437898510199048\",
  \"Nonce\": \"N0.56435944632907221505316233686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56435944632907221505316233686\",
    \"state\": \"15053162336860.437898510199048\"
  }
}" (9a175e33)
2017-09-13T18:23:53.7000047+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:53.7070101+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:53.7085097+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:53.7110112+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:53.7130125+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:53.7145137+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:53.7160145+03:00 0HL7OIHK18EEB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:53.7295224+03:00 0HL7OIHK18EEB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162336860.437898510199048\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:53.7300246+03:00 0HL7OIHK18EEB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:53.7310248+03:00 0HL7OIHK18EEB [INF] Request finished in 38.4238ms 302  (15c52c40)
2017-09-13T18:23:57.6934579+03:00 0HL7OIHK18EEC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.60313091043999911505316237685&state=15053162376850.2935327447509364   (e5be5b71)
2017-09-13T18:23:57.6959598+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:23:57.6964599+03:00 0HL7OIHK18EEC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:23:57.6969608+03:00 0HL7OIHK18EEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:57.6969608+03:00 0HL7OIHK18EEC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:23:57.6974610+03:00 0HL7OIHK18EEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:57.6984620+03:00 0HL7OIHK18EEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:57.6984620+03:00 0HL7OIHK18EEC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162376850.2935327447509364\",
  \"Nonce\": \"N0.60313091043999911505316237685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.60313091043999911505316237685\",
    \"state\": \"15053162376850.2935327447509364\"
  }
}" (9a175e33)
2017-09-13T18:23:57.7009623+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:23:57.7109701+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:57.7129707+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:23:57.7154725+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:23:57.7174738+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:23:57.7209756+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:23:57.7224771+03:00 0HL7OIHK18EEC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:23:57.7399886+03:00 0HL7OIHK18EEC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162376850.2935327447509364\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:23:57.7404887+03:00 0HL7OIHK18EEC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:23:57.7419907+03:00 0HL7OIHK18EEC [INF] Request finished in 49.5097ms 302  (15c52c40)
2017-09-13T18:24:01.6913319+03:00 0HL7OIHK18EED [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.251140303664894041505316241685&state=15053162416850.45878011093125615   (e5be5b71)
2017-09-13T18:24:01.6938349+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:01.6943354+03:00 0HL7OIHK18EED [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:01.6948340+03:00 0HL7OIHK18EED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:01.6948340+03:00 0HL7OIHK18EED [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:01.6953341+03:00 0HL7OIHK18EED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:01.6958370+03:00 0HL7OIHK18EED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:01.6958370+03:00 0HL7OIHK18EED [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162416850.45878011093125615\",
  \"Nonce\": \"N0.251140303664894041505316241685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.251140303664894041505316241685\",
    \"state\": \"15053162416850.45878011093125615\"
  }
}" (9a175e33)
2017-09-13T18:24:01.6983361+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:01.7048406+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:01.7063414+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:01.7088452+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:01.7113455+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:01.7128463+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:01.7148488+03:00 0HL7OIHK18EED [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:01.7288573+03:00 0HL7OIHK18EED [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162416850.45878011093125615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:01.7293574+03:00 0HL7OIHK18EED [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:01.7303581+03:00 0HL7OIHK18EED [INF] Request finished in 39.3834ms 302  (15c52c40)
2017-09-13T18:24:05.6925311+03:00 0HL7OIHK18EEE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.208388686444598741505316245685&state=15053162456850.3026077239759264   (e5be5b71)
2017-09-13T18:24:05.6945308+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:05.6950314+03:00 0HL7OIHK18EEE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:05.6955323+03:00 0HL7OIHK18EEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:05.6955323+03:00 0HL7OIHK18EEE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:05.6960320+03:00 0HL7OIHK18EEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:05.6965333+03:00 0HL7OIHK18EEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:05.6970335+03:00 0HL7OIHK18EEE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162456850.3026077239759264\",
  \"Nonce\": \"N0.208388686444598741505316245685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.208388686444598741505316245685\",
    \"state\": \"15053162456850.3026077239759264\"
  }
}" (9a175e33)
2017-09-13T18:24:05.6990336+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:05.7075398+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:05.7095416+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:05.7135446+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:05.7165474+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:05.7290547+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:05.7400620+03:00 0HL7OIHK18EEE [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:05.7715819+03:00 0HL7OIHK18EEE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162456850.3026077239759264\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:05.7725829+03:00 0HL7OIHK18EEE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:05.7740845+03:00 0HL7OIHK18EEE [INF] Request finished in 81.2313ms 302  (15c52c40)
2017-09-13T18:24:09.6921431+03:00 0HL7OIHK18EEF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68118769378419121505316249685&state=15053162496850.9248154713572079   (e5be5b71)
2017-09-13T18:24:09.6951446+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:09.6956452+03:00 0HL7OIHK18EEF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:09.6961465+03:00 0HL7OIHK18EEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:09.6961465+03:00 0HL7OIHK18EEF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:09.6966458+03:00 0HL7OIHK18EEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:09.6971460+03:00 0HL7OIHK18EEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:09.6971460+03:00 0HL7OIHK18EEF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162496850.9248154713572079\",
  \"Nonce\": \"N0.68118769378419121505316249685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68118769378419121505316249685\",
    \"state\": \"15053162496850.9248154713572079\"
  }
}" (9a175e33)
2017-09-13T18:24:09.7006497+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:09.7096545+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:09.7121567+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:09.7146578+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:09.7171600+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:09.7211627+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:09.7231632+03:00 0HL7OIHK18EEF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:09.7401749+03:00 0HL7OIHK18EEF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162496850.9248154713572079\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:09.7406750+03:00 0HL7OIHK18EEF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:09.7416761+03:00 0HL7OIHK18EEF [INF] Request finished in 49.9455ms 302  (15c52c40)
2017-09-13T18:24:13.6927778+03:00 0HL7OIHK18EEG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.21556984897226551505316253686&state=15053162536860.06682594946642473   (e5be5b71)
2017-09-13T18:24:13.6957758+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:13.6962760+03:00 0HL7OIHK18EEG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:13.6967765+03:00 0HL7OIHK18EEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:13.6972770+03:00 0HL7OIHK18EEG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:13.6977780+03:00 0HL7OIHK18EEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:13.6982777+03:00 0HL7OIHK18EEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:13.6982777+03:00 0HL7OIHK18EEG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162536860.06682594946642473\",
  \"Nonce\": \"N0.21556984897226551505316253686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.21556984897226551505316253686\",
    \"state\": \"15053162536860.06682594946642473\"
  }
}" (9a175e33)
2017-09-13T18:24:13.7022799+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:13.7177908+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:13.7252952+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:13.7292982+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:13.7307986+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:13.7338018+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:13.7363033+03:00 0HL7OIHK18EEG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:13.7523135+03:00 0HL7OIHK18EEG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162536860.06682594946642473\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:13.7528132+03:00 0HL7OIHK18EEG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:13.7538139+03:00 0HL7OIHK18EEG [INF] Request finished in 62.0146ms 302  (15c52c40)
2017-09-13T18:24:17.6988315+03:00 0HL7OIHK18EEH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74091027352523421505316257686&state=15053162576860.6193472191617564   (e5be5b71)
2017-09-13T18:24:17.7043393+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:17.7053360+03:00 0HL7OIHK18EEH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:17.7078371+03:00 0HL7OIHK18EEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:17.7078371+03:00 0HL7OIHK18EEH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:17.7093383+03:00 0HL7OIHK18EEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:17.7103397+03:00 0HL7OIHK18EEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:17.7108399+03:00 0HL7OIHK18EEH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162576860.6193472191617564\",
  \"Nonce\": \"N0.74091027352523421505316257686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74091027352523421505316257686\",
    \"state\": \"15053162576860.6193472191617564\"
  }
}" (9a175e33)
2017-09-13T18:24:17.7173467+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:17.7273486+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:17.7288510+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:17.7303518+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:17.7318534+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:17.7343556+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:17.7370825+03:00 0HL7OIHK18EEH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:17.7510918+03:00 0HL7OIHK18EEH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162576860.6193472191617564\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:17.7515915+03:00 0HL7OIHK18EEH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:17.7525918+03:00 0HL7OIHK18EEH [INF] Request finished in 55.6976ms 302  (15c52c40)
2017-09-13T18:24:20.6969794+03:00 0HL7OIHK18EEI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47460748335107071505316260687&state=15053162606870.38123971626351527   (e5be5b71)
2017-09-13T18:24:20.6999810+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:20.7004815+03:00 0HL7OIHK18EEI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:20.7009824+03:00 0HL7OIHK18EEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:20.7009824+03:00 0HL7OIHK18EEI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:20.7014822+03:00 0HL7OIHK18EEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:20.7024824+03:00 0HL7OIHK18EEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:20.7024824+03:00 0HL7OIHK18EEI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162606870.38123971626351527\",
  \"Nonce\": \"N0.47460748335107071505316260687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47460748335107071505316260687\",
    \"state\": \"15053162606870.38123971626351527\"
  }
}" (9a175e33)
2017-09-13T18:24:20.7054844+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:20.7204967+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:20.7229962+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:20.7249980+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:20.7269989+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:20.7310015+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:20.7330029+03:00 0HL7OIHK18EEI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:20.7525160+03:00 0HL7OIHK18EEI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162606870.38123971626351527\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:20.7535170+03:00 0HL7OIHK18EEI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:20.7545177+03:00 0HL7OIHK18EEI [INF] Request finished in 58.8575ms 302  (15c52c40)
2017-09-13T18:24:24.6929925+03:00 0HL7OIHK18EEJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46711608306627461505316264686&state=15053162646860.299256543168231   (e5be5b71)
2017-09-13T18:24:24.6959941+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:24.6964943+03:00 0HL7OIHK18EEJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:24.6969948+03:00 0HL7OIHK18EEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:24.6969948+03:00 0HL7OIHK18EEJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:24.6974953+03:00 0HL7OIHK18EEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:24.6979951+03:00 0HL7OIHK18EEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:24.6979951+03:00 0HL7OIHK18EEJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162646860.299256543168231\",
  \"Nonce\": \"N0.46711608306627461505316264686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46711608306627461505316264686\",
    \"state\": \"15053162646860.299256543168231\"
  }
}" (9a175e33)
2017-09-13T18:24:24.7014972+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:24.7130050+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:24.7155080+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:24.7175082+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:24.7205102+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:24.7225123+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:24.7245128+03:00 0HL7OIHK18EEJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:24.7410240+03:00 0HL7OIHK18EEJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162646860.299256543168231\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:24.7420250+03:00 0HL7OIHK18EEJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:24.7445261+03:00 0HL7OIHK18EEJ [INF] Request finished in 50.2755ms 302  (15c52c40)
2017-09-13T18:24:28.7526435+03:00 0HL7OIHK18EEK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53348859923675421505316268685&state=15053162686850.12855528686127315   (e5be5b71)
2017-09-13T18:24:28.7556459+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:28.7556459+03:00 0HL7OIHK18EEK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:28.7566457+03:00 0HL7OIHK18EEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:28.7566457+03:00 0HL7OIHK18EEK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:28.7566457+03:00 0HL7OIHK18EEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:28.7576464+03:00 0HL7OIHK18EEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:28.7576464+03:00 0HL7OIHK18EEK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162686850.12855528686127315\",
  \"Nonce\": \"N0.53348859923675421505316268685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53348859923675421505316268685\",
    \"state\": \"15053162686850.12855528686127315\"
  }
}" (9a175e33)
2017-09-13T18:24:28.7656517+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:28.7726563+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:28.7746581+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:28.7766594+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:28.7806616+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:28.7826630+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:28.7836640+03:00 0HL7OIHK18EEK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:28.8026758+03:00 0HL7OIHK18EEK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162686850.12855528686127315\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:28.8046783+03:00 0HL7OIHK18EEK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:28.8056786+03:00 0HL7OIHK18EEK [INF] Request finished in 58.5993ms 302  (15c52c40)
2017-09-13T18:24:32.6904129+03:00 0HL7OIHK18EEL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67569551694564111505316272684&state=15053162726840.46651136302438956   (e5be5b71)
2017-09-13T18:24:32.6924095+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:32.6924095+03:00 0HL7OIHK18EEL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:32.6934090+03:00 0HL7OIHK18EEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:32.6934090+03:00 0HL7OIHK18EEL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:32.6934090+03:00 0HL7OIHK18EEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:32.6944112+03:00 0HL7OIHK18EEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:32.6944112+03:00 0HL7OIHK18EEL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162726840.46651136302438956\",
  \"Nonce\": \"N0.67569551694564111505316272684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67569551694564111505316272684\",
    \"state\": \"15053162726840.46651136302438956\"
  }
}" (9a175e33)
2017-09-13T18:24:32.6974136+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:32.7044182+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:32.7054177+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:32.7074187+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:32.7094200+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:32.7114217+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:32.7134230+03:00 0HL7OIHK18EEL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:32.7304335+03:00 0HL7OIHK18EEL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162726840.46651136302438956\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:32.7304335+03:00 0HL7OIHK18EEL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:32.7314350+03:00 0HL7OIHK18EEL [INF] Request finished in 42.0657ms 302  (15c52c40)
2017-09-13T18:24:35.7393199+03:00 0HL7OIHK18EEM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66113199334100311505316275690&state=15053162756900.7947311076699335   (e5be5b71)
2017-09-13T18:24:35.7423215+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:35.7423215+03:00 0HL7OIHK18EEM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:35.7433221+03:00 0HL7OIHK18EEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:35.7433221+03:00 0HL7OIHK18EEM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:35.7433221+03:00 0HL7OIHK18EEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:35.7463277+03:00 0HL7OIHK18EEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:35.7473256+03:00 0HL7OIHK18EEM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162756900.7947311076699335\",
  \"Nonce\": \"N0.66113199334100311505316275690\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66113199334100311505316275690\",
    \"state\": \"15053162756900.7947311076699335\"
  }
}" (9a175e33)
2017-09-13T18:24:35.7543294+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:35.7673380+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:35.7703400+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:35.7733420+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:35.7763440+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:35.7783453+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:35.7823480+03:00 0HL7OIHK18EEM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:35.8063639+03:00 0HL7OIHK18EEM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162756900.7947311076699335\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:35.8083656+03:00 0HL7OIHK18EEM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:35.8133685+03:00 0HL7OIHK18EEM [INF] Request finished in 71.0206ms 302  (15c52c40)
2017-09-13T18:24:39.6936229+03:00 0HL7OIHK18EEN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7455097312789661505316279685&state=15053162796850.7252176698966919   (e5be5b71)
2017-09-13T18:24:39.6966241+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:39.6966241+03:00 0HL7OIHK18EEN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:39.6966241+03:00 0HL7OIHK18EEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:39.6976232+03:00 0HL7OIHK18EEN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:39.6976232+03:00 0HL7OIHK18EEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:39.6976232+03:00 0HL7OIHK18EEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:39.6986243+03:00 0HL7OIHK18EEN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162796850.7252176698966919\",
  \"Nonce\": \"N0.7455097312789661505316279685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7455097312789661505316279685\",
    \"state\": \"15053162796850.7252176698966919\"
  }
}" (9a175e33)
2017-09-13T18:24:39.7006268+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:39.7076306+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:39.7096316+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:39.7226410+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:39.7286445+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:39.7306459+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:39.7316465+03:00 0HL7OIHK18EEN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:39.7456578+03:00 0HL7OIHK18EEN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162796850.7252176698966919\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:39.7466577+03:00 0HL7OIHK18EEN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:39.7476575+03:00 0HL7OIHK18EEN [INF] Request finished in 54.3081ms 302  (15c52c40)
2017-09-13T18:24:43.6897071+03:00 0HL7OIHK18EEO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.24552669834380871505316283684&state=15053162836840.7936729345936093   (e5be5b71)
2017-09-13T18:24:43.6917069+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:43.6917069+03:00 0HL7OIHK18EEO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:43.6917069+03:00 0HL7OIHK18EEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:43.6917069+03:00 0HL7OIHK18EEO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:43.6927083+03:00 0HL7OIHK18EEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:43.6927083+03:00 0HL7OIHK18EEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:43.6927083+03:00 0HL7OIHK18EEO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162836840.7936729345936093\",
  \"Nonce\": \"N0.24552669834380871505316283684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.24552669834380871505316283684\",
    \"state\": \"15053162836840.7936729345936093\"
  }
}" (9a175e33)
2017-09-13T18:24:43.6967126+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:43.7037156+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:43.7047151+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:43.7057169+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:43.7077191+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:43.7087181+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:43.7137226+03:00 0HL7OIHK18EEO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:43.7257298+03:00 0HL7OIHK18EEO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162836840.7936729345936093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:43.7257298+03:00 0HL7OIHK18EEO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:43.7257298+03:00 0HL7OIHK18EEO [INF] Request finished in 37.2045ms 302  (15c52c40)
2017-09-13T18:24:47.6970382+03:00 0HL7OIHK18EEP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31850846277072421505316287684&state=15053162876840.058313144329655175   (e5be5b71)
2017-09-13T18:24:47.7010476+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:47.7030469+03:00 0HL7OIHK18EEP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:47.7030469+03:00 0HL7OIHK18EEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:47.7040460+03:00 0HL7OIHK18EEP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:47.7050498+03:00 0HL7OIHK18EEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:47.7060477+03:00 0HL7OIHK18EEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:47.7060477+03:00 0HL7OIHK18EEP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162876840.058313144329655175\",
  \"Nonce\": \"N0.31850846277072421505316287684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31850846277072421505316287684\",
    \"state\": \"15053162876840.058313144329655175\"
  }
}" (9a175e33)
2017-09-13T18:24:47.7130539+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:47.7260606+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:47.7280619+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:47.7310643+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:47.7330680+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:47.7360680+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:47.7370675+03:00 0HL7OIHK18EEP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:47.7510776+03:00 0HL7OIHK18EEP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162876840.058313144329655175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:47.7520774+03:00 0HL7OIHK18EEP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:47.7520774+03:00 0HL7OIHK18EEP [INF] Request finished in 58.2717ms 302  (15c52c40)
2017-09-13T18:24:51.6965018+03:00 0HL7OIHK18EEQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.225633679848126881505316291684&state=15053162916840.5423781420595588   (e5be5b71)
2017-09-13T18:24:51.7015051+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:51.7035076+03:00 0HL7OIHK18EEQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:51.7055081+03:00 0HL7OIHK18EEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:51.7055081+03:00 0HL7OIHK18EEQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:51.7065076+03:00 0HL7OIHK18EEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:51.7085081+03:00 0HL7OIHK18EEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:51.7085081+03:00 0HL7OIHK18EEQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162916840.5423781420595588\",
  \"Nonce\": \"N0.225633679848126881505316291684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.225633679848126881505316291684\",
    \"state\": \"15053162916840.5423781420595588\"
  }
}" (9a175e33)
2017-09-13T18:24:51.7175145+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:51.7315261+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:51.7355268+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:51.7375289+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:51.7385276+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:51.7405293+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:51.7425303+03:00 0HL7OIHK18EEQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:51.7535391+03:00 0HL7OIHK18EEQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162916840.5423781420595588\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:51.7545410+03:00 0HL7OIHK18EEQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:51.7555385+03:00 0HL7OIHK18EEQ [INF] Request finished in 60.0287ms 302  (15c52c40)
2017-09-13T18:24:55.6907911+03:00 0HL7OIHK18EER [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59888059069712441505316295684&state=15053162956840.5428574649032669   (e5be5b71)
2017-09-13T18:24:55.6932913+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:55.6942932+03:00 0HL7OIHK18EER [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:55.6947929+03:00 0HL7OIHK18EER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:55.6947929+03:00 0HL7OIHK18EER [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:55.6957983+03:00 0HL7OIHK18EER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:55.6967958+03:00 0HL7OIHK18EER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:55.6972956+03:00 0HL7OIHK18EER [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162956840.5428574649032669\",
  \"Nonce\": \"N0.59888059069712441505316295684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59888059069712441505316295684\",
    \"state\": \"15053162956840.5428574649032669\"
  }
}" (9a175e33)
2017-09-13T18:24:55.7002960+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:55.7093035+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:55.7113037+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:55.7178082+03:00 0HL7OIHK18EER [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:55.7223110+03:00 0HL7OIHK18EER [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:55.7253291+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:55.7273348+03:00 0HL7OIHK18EER [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:55.7438471+03:00 0HL7OIHK18EER [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162956840.5428574649032669\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:55.7443453+03:00 0HL7OIHK18EER [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:55.7453463+03:00 0HL7OIHK18EER [INF] Request finished in 55.0111ms 302  (15c52c40)
2017-09-13T18:24:59.6907173+03:00 0HL7OIHK18EES [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52252096653618781505316299685&state=15053162996850.7373509616933187   (e5be5b71)
2017-09-13T18:24:59.6932195+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:24:59.6937204+03:00 0HL7OIHK18EES [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:24:59.6942214+03:00 0HL7OIHK18EES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:59.6942214+03:00 0HL7OIHK18EES [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:24:59.6947203+03:00 0HL7OIHK18EES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:59.6967228+03:00 0HL7OIHK18EES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:59.6967228+03:00 0HL7OIHK18EES [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053162996850.7373509616933187\",
  \"Nonce\": \"N0.52252096653618781505316299685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52252096653618781505316299685\",
    \"state\": \"15053162996850.7373509616933187\"
  }
}" (9a175e33)
2017-09-13T18:24:59.7022259+03:00 0HL7OIHK18EES [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:24:59.7097302+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:59.7117312+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:24:59.7187362+03:00 0HL7OIHK18EES [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:24:59.7222383+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:24:59.7247398+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:24:59.7262426+03:00 0HL7OIHK18EES [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:24:59.7432526+03:00 0HL7OIHK18EES [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053162996850.7373509616933187\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:24:59.7437528+03:00 0HL7OIHK18EES [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:24:59.7442533+03:00 0HL7OIHK18EES [INF] Request finished in 53.8948ms 302  (15c52c40)
2017-09-13T18:25:02.7043815+03:00 0HL7OIHK18EET [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.219280954810306071505316302691&state=15053163026910.4380064631060685   (e5be5b71)
2017-09-13T18:25:02.7073843+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:02.7078844+03:00 0HL7OIHK18EET [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:02.7088847+03:00 0HL7OIHK18EET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:02.7088847+03:00 0HL7OIHK18EET [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:02.7093856+03:00 0HL7OIHK18EET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:02.7098846+03:00 0HL7OIHK18EET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:02.7098846+03:00 0HL7OIHK18EET [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163026910.4380064631060685\",
  \"Nonce\": \"N0.219280954810306071505316302691\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.219280954810306071505316302691\",
    \"state\": \"15053163026910.4380064631060685\"
  }
}" (9a175e33)
2017-09-13T18:25:02.7153892+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:02.7293989+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:02.7329006+03:00 0HL7OIHK18EET [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:02.7354021+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:02.7374034+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:02.7404054+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:02.7424071+03:00 0HL7OIHK18EET [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:02.7624208+03:00 0HL7OIHK18EET [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163026910.4380064631060685\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:02.7634210+03:00 0HL7OIHK18EET [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:02.7644213+03:00 0HL7OIHK18EET [INF] Request finished in 61.1604ms 302  (15c52c40)
2017-09-13T18:25:06.6984012+03:00 0HL7OIHK18EEU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69962316535916361505316306688&state=15053163066880.8952987975185454   (e5be5b71)
2017-09-13T18:25:06.7014032+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:06.7019026+03:00 0HL7OIHK18EEU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:06.7029036+03:00 0HL7OIHK18EEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:06.7029036+03:00 0HL7OIHK18EEU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:06.7039051+03:00 0HL7OIHK18EEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:06.7059056+03:00 0HL7OIHK18EEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:06.7064069+03:00 0HL7OIHK18EEU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163066880.8952987975185454\",
  \"Nonce\": \"N0.69962316535916361505316306688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69962316535916361505316306688\",
    \"state\": \"15053163066880.8952987975185454\"
  }
}" (9a175e33)
2017-09-13T18:25:06.7104088+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:06.7239179+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:06.7264194+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:06.7284199+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:06.7304213+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:06.7334244+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:06.7349248+03:00 0HL7OIHK18EEU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:06.7519361+03:00 0HL7OIHK18EEU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163066880.8952987975185454\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:06.7529368+03:00 0HL7OIHK18EEU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:06.7544376+03:00 0HL7OIHK18EEU [INF] Request finished in 57.6409ms 302  (15c52c40)
2017-09-13T18:25:10.6993976+03:00 0HL7OIHK18EEV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.07141910879965941505316310690&state=15053163106900.6557491966139728   (e5be5b71)
2017-09-13T18:25:10.7028997+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:10.7039003+03:00 0HL7OIHK18EEV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:10.7049014+03:00 0HL7OIHK18EEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:10.7054015+03:00 0HL7OIHK18EEV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:10.7059013+03:00 0HL7OIHK18EEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:10.7064018+03:00 0HL7OIHK18EEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:10.7064018+03:00 0HL7OIHK18EEV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163106900.6557491966139728\",
  \"Nonce\": \"N0.07141910879965941505316310690\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.07141910879965941505316310690\",
    \"state\": \"15053163106900.6557491966139728\"
  }
}" (9a175e33)
2017-09-13T18:25:10.7104045+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:10.7234131+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:10.7249139+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:10.7269152+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:10.7284160+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:10.7309178+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:10.7334201+03:00 0HL7OIHK18EEV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:10.7519326+03:00 0HL7OIHK18EEV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163106900.6557491966139728\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:10.7524331+03:00 0HL7OIHK18EEV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:10.7534334+03:00 0HL7OIHK18EEV [INF] Request finished in 55.3415ms 302  (15c52c40)
2017-09-13T18:25:14.6930632+03:00 0HL7OIHK18EF0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90071283843731131505316314686&state=15053163146860.5200516219309252   (e5be5b71)
2017-09-13T18:25:14.6950653+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:14.6955654+03:00 0HL7OIHK18EF0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:14.6965665+03:00 0HL7OIHK18EF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:14.6970666+03:00 0HL7OIHK18EF0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:14.6975679+03:00 0HL7OIHK18EF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:14.6980673+03:00 0HL7OIHK18EF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:14.6985674+03:00 0HL7OIHK18EF0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163146860.5200516219309252\",
  \"Nonce\": \"N0.90071283843731131505316314686\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90071283843731131505316314686\",
    \"state\": \"15053163146860.5200516219309252\"
  }
}" (9a175e33)
2017-09-13T18:25:14.7025701+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:14.7155822+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:14.7215831+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:14.7230870+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:14.7250856+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:14.7265848+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:14.7275859+03:00 0HL7OIHK18EF0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:14.7435976+03:00 0HL7OIHK18EF0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163146860.5200516219309252\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:14.7491011+03:00 0HL7OIHK18EF0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:14.7511024+03:00 0HL7OIHK18EF0 [INF] Request finished in 57.3737ms 302  (15c52c40)
2017-09-13T18:25:18.6926696+03:00 0HL7OIHK18EF1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.420466925313416341505316318685&state=15053163186850.7401206898357235   (e5be5b71)
2017-09-13T18:25:18.6956716+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:18.6966723+03:00 0HL7OIHK18EF1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:18.6971740+03:00 0HL7OIHK18EF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:18.6971740+03:00 0HL7OIHK18EF1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:18.6976733+03:00 0HL7OIHK18EF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:18.6986728+03:00 0HL7OIHK18EF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:18.6986728+03:00 0HL7OIHK18EF1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163186850.7401206898357235\",
  \"Nonce\": \"N0.420466925313416341505316318685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.420466925313416341505316318685\",
    \"state\": \"15053163186850.7401206898357235\"
  }
}" (9a175e33)
2017-09-13T18:25:18.7031760+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:18.7111805+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:18.7126825+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:18.7156837+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:18.7176850+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:18.7226895+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:18.7241903+03:00 0HL7OIHK18EF1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:18.7391995+03:00 0HL7OIHK18EF1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163186850.7401206898357235\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:18.7397004+03:00 0HL7OIHK18EF1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:18.7406999+03:00 0HL7OIHK18EF1 [INF] Request finished in 48.5019ms 302  (15c52c40)
2017-09-13T18:25:22.6914053+03:00 0HL7OIHK18EF2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.16306467724267961505316322685&state=15053163226850.009458786225624793   (e5be5b71)
2017-09-13T18:25:22.6939067+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:22.6939067+03:00 0HL7OIHK18EF2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:22.6944069+03:00 0HL7OIHK18EF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:22.6944069+03:00 0HL7OIHK18EF2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:22.6949082+03:00 0HL7OIHK18EF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:22.6954075+03:00 0HL7OIHK18EF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:22.6954075+03:00 0HL7OIHK18EF2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163226850.009458786225624793\",
  \"Nonce\": \"N0.16306467724267961505316322685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.16306467724267961505316322685\",
    \"state\": \"15053163226850.009458786225624793\"
  }
}" (9a175e33)
2017-09-13T18:25:22.6989105+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:22.7079160+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:22.7094176+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:22.7119191+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:22.7194258+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:22.7214256+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:22.7224258+03:00 0HL7OIHK18EF2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:22.7364363+03:00 0HL7OIHK18EF2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163226850.009458786225624793\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:22.7369376+03:00 0HL7OIHK18EF2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:22.7374362+03:00 0HL7OIHK18EF2 [INF] Request finished in 46.4504ms 302  (15c52c40)
2017-09-13T18:25:26.7114797+03:00 0HL7OIHK18EF3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83661961608663481505316326688&state=15053163266880.2641924530481885   (e5be5b71)
2017-09-13T18:25:26.7204857+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:26.7209862+03:00 0HL7OIHK18EF3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:26.7214868+03:00 0HL7OIHK18EF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:26.7214868+03:00 0HL7OIHK18EF3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:26.7219869+03:00 0HL7OIHK18EF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:26.7229875+03:00 0HL7OIHK18EF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:26.7229875+03:00 0HL7OIHK18EF3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163266880.2641924530481885\",
  \"Nonce\": \"N0.83661961608663481505316326688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83661961608663481505316326688\",
    \"state\": \"15053163266880.2641924530481885\"
  }
}" (9a175e33)
2017-09-13T18:25:26.7254890+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:26.7369976+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:26.7379971+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:26.7399996+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:26.7409999+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:26.7425003+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:26.7440011+03:00 0HL7OIHK18EF3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:26.7590114+03:00 0HL7OIHK18EF3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163266880.2641924530481885\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:26.7595119+03:00 0HL7OIHK18EF3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:26.7600133+03:00 0HL7OIHK18EF3 [INF] Request finished in 49.9474ms 302  (15c52c40)
2017-09-13T18:25:30.6929460+03:00 0HL7OIHK18EF4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94720655342710321505316330685&state=15053163306850.8496947429178854   (e5be5b71)
2017-09-13T18:25:30.6949477+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:30.6954482+03:00 0HL7OIHK18EF4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:30.6959483+03:00 0HL7OIHK18EF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:30.6959483+03:00 0HL7OIHK18EF4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:30.6964481+03:00 0HL7OIHK18EF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:30.6974495+03:00 0HL7OIHK18EF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:30.6974495+03:00 0HL7OIHK18EF4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163306850.8496947429178854\",
  \"Nonce\": \"N0.94720655342710321505316330685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94720655342710321505316330685\",
    \"state\": \"15053163306850.8496947429178854\"
  }
}" (9a175e33)
2017-09-13T18:25:30.7029530+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:30.7109583+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:30.7124591+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:30.7174632+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:30.7219664+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:30.7239673+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:30.7254673+03:00 0HL7OIHK18EF4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:30.7424797+03:00 0HL7OIHK18EF4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163306850.8496947429178854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:30.7429795+03:00 0HL7OIHK18EF4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:30.7434796+03:00 0HL7OIHK18EF4 [INF] Request finished in 51.0235ms 302  (15c52c40)
2017-09-13T18:25:34.6912036+03:00 0HL7OIHK18EF5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.19874457052405161505316334685&state=15053163346850.5613993583501338   (e5be5b71)
2017-09-13T18:25:34.6932045+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:34.6937046+03:00 0HL7OIHK18EF5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:34.6942052+03:00 0HL7OIHK18EF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:34.6942052+03:00 0HL7OIHK18EF5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:34.6947057+03:00 0HL7OIHK18EF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:34.6952058+03:00 0HL7OIHK18EF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:34.6952058+03:00 0HL7OIHK18EF5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163346850.5613993583501338\",
  \"Nonce\": \"N0.19874457052405161505316334685\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.19874457052405161505316334685\",
    \"state\": \"15053163346850.5613993583501338\"
  }
}" (9a175e33)
2017-09-13T18:25:34.6982082+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:34.7077143+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:34.7097156+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:34.7117174+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:34.7132182+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:34.7202232+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:34.7227254+03:00 0HL7OIHK18EF5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:34.7412371+03:00 0HL7OIHK18EF5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163346850.5613993583501338\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:34.7417372+03:00 0HL7OIHK18EF5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:34.7427379+03:00 0HL7OIHK18EF5 [INF] Request finished in 51.2911ms 302  (15c52c40)
2017-09-13T18:25:38.6922832+03:00 0HL7OIHK18EF6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14736166077069291505316338684&state=15053163386840.8085132498361165   (e5be5b71)
2017-09-13T18:25:38.6947850+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:38.6952856+03:00 0HL7OIHK18EF6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:38.6952856+03:00 0HL7OIHK18EF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:38.6952856+03:00 0HL7OIHK18EF6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:38.6957857+03:00 0HL7OIHK18EF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:38.6962854+03:00 0HL7OIHK18EF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:38.6962854+03:00 0HL7OIHK18EF6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163386840.8085132498361165\",
  \"Nonce\": \"N0.14736166077069291505316338684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14736166077069291505316338684\",
    \"state\": \"15053163386840.8085132498361165\"
  }
}" (9a175e33)
2017-09-13T18:25:38.6997884+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:38.7097950+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:38.7112958+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:38.7127974+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:38.7213028+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:38.7238047+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:38.7258056+03:00 0HL7OIHK18EF6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:38.7438175+03:00 0HL7OIHK18EF6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163386840.8085132498361165\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:38.7443180+03:00 0HL7OIHK18EF6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:38.7453183+03:00 0HL7OIHK18EF6 [INF] Request finished in 53.1697ms 302  (15c52c40)
2017-09-13T18:25:42.6915245+03:00 0HL7OIHK18EF7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.193366108204567231505316342684&state=15053163426840.8424537679370439   (e5be5b71)
2017-09-13T18:25:42.6940256+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:42.6945253+03:00 0HL7OIHK18EF7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:42.6950254+03:00 0HL7OIHK18EF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:42.6950254+03:00 0HL7OIHK18EF7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:42.6955264+03:00 0HL7OIHK18EF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:42.6960261+03:00 0HL7OIHK18EF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:42.6960261+03:00 0HL7OIHK18EF7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163426840.8424537679370439\",
  \"Nonce\": \"N0.193366108204567231505316342684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.193366108204567231505316342684\",
    \"state\": \"15053163426840.8424537679370439\"
  }
}" (9a175e33)
2017-09-13T18:25:42.6990305+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:42.7070334+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:42.7085346+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:42.7110368+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:42.7140388+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:42.7180411+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:42.7215440+03:00 0HL7OIHK18EF7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:42.7375534+03:00 0HL7OIHK18EF7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163426840.8424537679370439\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:42.7380543+03:00 0HL7OIHK18EF7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:42.7390554+03:00 0HL7OIHK18EF7 [INF] Request finished in 47.8897ms 302  (15c52c40)
2017-09-13T18:25:46.6923357+03:00 0HL7OIHK18EF8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.38043716128197061505316346684&state=15053163466840.4370097902260641   (e5be5b71)
2017-09-13T18:25:46.6948360+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:46.6953365+03:00 0HL7OIHK18EF8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:46.6958366+03:00 0HL7OIHK18EF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:46.6958366+03:00 0HL7OIHK18EF8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:46.6963383+03:00 0HL7OIHK18EF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:46.6968373+03:00 0HL7OIHK18EF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:46.6968373+03:00 0HL7OIHK18EF8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163466840.4370097902260641\",
  \"Nonce\": \"N0.38043716128197061505316346684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.38043716128197061505316346684\",
    \"state\": \"15053163466840.4370097902260641\"
  }
}" (9a175e33)
2017-09-13T18:25:46.7013405+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:46.7083463+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:46.7103464+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:46.7123478+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:46.7143491+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:46.7168513+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:46.7193536+03:00 0HL7OIHK18EF8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:46.7368650+03:00 0HL7OIHK18EF8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163466840.4370097902260641\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:46.7378645+03:00 0HL7OIHK18EF8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:46.7383650+03:00 0HL7OIHK18EF8 [INF] Request finished in 46.6214ms 302  (15c52c40)
2017-09-13T18:25:50.6941460+03:00 0HL7OIHK18EF9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.144818485195326471505316350684&state=15053163506840.2009497239458553   (e5be5b71)
2017-09-13T18:25:50.6971479+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:50.6976485+03:00 0HL7OIHK18EF9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:50.6986555+03:00 0HL7OIHK18EF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:50.6991493+03:00 0HL7OIHK18EF9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:50.6996494+03:00 0HL7OIHK18EF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:50.7001507+03:00 0HL7OIHK18EF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:50.7001507+03:00 0HL7OIHK18EF9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163506840.2009497239458553\",
  \"Nonce\": \"N0.144818485195326471505316350684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.144818485195326471505316350684\",
    \"state\": \"15053163506840.2009497239458553\"
  }
}" (9a175e33)
2017-09-13T18:25:50.7031531+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:50.7116570+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:50.7136587+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:50.7171616+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:50.7201644+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:50.7221641+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:50.7236661+03:00 0HL7OIHK18EF9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:50.7396755+03:00 0HL7OIHK18EF9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163506840.2009497239458553\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:50.7401761+03:00 0HL7OIHK18EF9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:50.7411771+03:00 0HL7OIHK18EF9 [INF] Request finished in 47.3272ms 302  (15c52c40)
2017-09-13T18:25:54.6917483+03:00 0HL7OIHK18EFA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65724597975799131505316354684&state=15053163546840.031557062124103696   (e5be5b71)
2017-09-13T18:25:54.6942498+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:54.6947503+03:00 0HL7OIHK18EFA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:54.6952500+03:00 0HL7OIHK18EFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:54.6957514+03:00 0HL7OIHK18EFA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:54.6957514+03:00 0HL7OIHK18EFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:54.6962527+03:00 0HL7OIHK18EFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:54.6967516+03:00 0HL7OIHK18EFA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163546840.031557062124103696\",
  \"Nonce\": \"N0.65724597975799131505316354684\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65724597975799131505316354684\",
    \"state\": \"15053163546840.031557062124103696\"
  }
}" (9a175e33)
2017-09-13T18:25:54.7017561+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:54.7117624+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:54.7137633+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:54.7182673+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:54.7197673+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:54.7232694+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:54.7247714+03:00 0HL7OIHK18EFA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:54.7447838+03:00 0HL7OIHK18EFA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163546840.031557062124103696\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:54.7452836+03:00 0HL7OIHK18EFA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:54.7457849+03:00 0HL7OIHK18EFA [INF] Request finished in 54.781ms 302  (15c52c40)
2017-09-13T18:25:58.6928986+03:00 0HL7OIHK18EFB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92447549543151311505316358687&state=15053163586870.5091603256809749   (e5be5b71)
2017-09-13T18:25:58.6954008+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:25:58.6959010+03:00 0HL7OIHK18EFB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:25:58.6964019+03:00 0HL7OIHK18EFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:58.6964019+03:00 0HL7OIHK18EFB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:25:58.6969012+03:00 0HL7OIHK18EFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:58.6974010+03:00 0HL7OIHK18EFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:58.6974010+03:00 0HL7OIHK18EFB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163586870.5091603256809749\",
  \"Nonce\": \"N0.92447549543151311505316358687\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92447549543151311505316358687\",
    \"state\": \"15053163586870.5091603256809749\"
  }
}" (9a175e33)
2017-09-13T18:25:58.7004034+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:25:58.7104104+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:58.7119108+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:25:58.7134128+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:25:58.7159154+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:25:58.7199165+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:25:58.7219186+03:00 0HL7OIHK18EFB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:25:58.7394288+03:00 0HL7OIHK18EFB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163586870.5091603256809749\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:25:58.7399301+03:00 0HL7OIHK18EFB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:25:58.7409300+03:00 0HL7OIHK18EFB [INF] Request finished in 48.3002ms 302  (15c52c40)
2017-09-13T18:26:01.6983957+03:00 0HL7OIHK18EFC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80361828830059311505316361688&state=15053163616880.8943251870248377   (e5be5b71)
2017-09-13T18:26:01.7008968+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:26:01.7018963+03:00 0HL7OIHK18EFC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:26:01.7018963+03:00 0HL7OIHK18EFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:01.7023976+03:00 0HL7OIHK18EFC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:26:01.7028977+03:00 0HL7OIHK18EFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:01.7033975+03:00 0HL7OIHK18EFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:01.7033975+03:00 0HL7OIHK18EFC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163616880.8943251870248377\",
  \"Nonce\": \"N0.80361828830059311505316361688\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80361828830059311505316361688\",
    \"state\": \"15053163616880.8943251870248377\"
  }
}" (9a175e33)
2017-09-13T18:26:01.7064006+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:26:01.7164069+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:01.7189079+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:26:01.7209096+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:26:01.7444246+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (21ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:26:01.7464256+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:01.7484273+03:00 0HL7OIHK18EFC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:26:01.7629375+03:00 0HL7OIHK18EFC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163616880.8943251870248377\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:26:01.7634372+03:00 0HL7OIHK18EFC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:01.7639385+03:00 0HL7OIHK18EFC [INF] Request finished in 66.8608ms 302  (15c52c40)
2017-09-13T18:26:04.6972585+03:00 0HL7OIHK18EFD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79370668072041871505316364690&state=15053163646900.6419895615125297   (e5be5b71)
2017-09-13T18:26:04.7007598+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:26:04.7017601+03:00 0HL7OIHK18EFD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:26:04.7022602+03:00 0HL7OIHK18EFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:04.7022602+03:00 0HL7OIHK18EFD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:26:04.7027603+03:00 0HL7OIHK18EFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:04.7032609+03:00 0HL7OIHK18EFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:04.7032609+03:00 0HL7OIHK18EFD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163646900.6419895615125297\",
  \"Nonce\": \"N0.79370668072041871505316364690\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79370668072041871505316364690\",
    \"state\": \"15053163646900.6419895615125297\"
  }
}" (9a175e33)
2017-09-13T18:26:04.7062640+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:26:04.7167696+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:04.7187713+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:26:04.7202737+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:26:04.7217745+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:26:04.7237747+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:04.7252755+03:00 0HL7OIHK18EFD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:26:04.7397872+03:00 0HL7OIHK18EFD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163646900.6419895615125297\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:26:04.7407859+03:00 0HL7OIHK18EFD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:04.7412861+03:00 0HL7OIHK18EFD [INF] Request finished in 44.8991ms 302  (15c52c40)
2017-09-13T18:26:07.7026151+03:00 0HL7OIHK18EFE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.100856511956722181505316367691&state=15053163676910.9152092831473149   (e5be5b71)
2017-09-13T18:26:07.7076239+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:26:07.7086250+03:00 0HL7OIHK18EFE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:26:07.7091247+03:00 0HL7OIHK18EFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:07.7096241+03:00 0HL7OIHK18EFE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:26:07.7116254+03:00 0HL7OIHK18EFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:07.7126260+03:00 0HL7OIHK18EFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:07.7131258+03:00 0HL7OIHK18EFE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163676910.9152092831473149\",
  \"Nonce\": \"N0.100856511956722181505316367691\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.100856511956722181505316367691\",
    \"state\": \"15053163676910.9152092831473149\"
  }
}" (9a175e33)
2017-09-13T18:26:07.7191302+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:26:07.7326401+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:07.7351313+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:26:07.7375321+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:26:07.7395346+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:26:07.7425350+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:07.7440346+03:00 0HL7OIHK18EFE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:26:07.7585448+03:00 0HL7OIHK18EFE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163676910.9152092831473149\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:26:07.7590454+03:00 0HL7OIHK18EFE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:07.7600456+03:00 0HL7OIHK18EFE [INF] Request finished in 59.2751ms 302  (15c52c40)
2017-09-13T18:26:10.6999360+03:00 0HL7OIHK18EFF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.250384239586968871505316370693&state=15053163706930.23137342887832557   (e5be5b71)
2017-09-13T18:26:10.7029356+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:26:10.7034353+03:00 0HL7OIHK18EFF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:26:10.7039359+03:00 0HL7OIHK18EFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:10.7039359+03:00 0HL7OIHK18EFF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:26:10.7044364+03:00 0HL7OIHK18EFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:10.7044364+03:00 0HL7OIHK18EFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:10.7049365+03:00 0HL7OIHK18EFF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163706930.23137342887832557\",
  \"Nonce\": \"N0.250384239586968871505316370693\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.250384239586968871505316370693\",
    \"state\": \"15053163706930.23137342887832557\"
  }
}" (9a175e33)
2017-09-13T18:26:10.7069363+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:26:10.7149420+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:10.7204470+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:26:10.7219490+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:26:10.7234474+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:26:10.7249502+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:10.7269515+03:00 0HL7OIHK18EFF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:26:10.7384578+03:00 0HL7OIHK18EFF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163706930.23137342887832557\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:26:10.7394584+03:00 0HL7OIHK18EFF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:10.7399589+03:00 0HL7OIHK18EFF [INF] Request finished in 41.1215ms 302  (15c52c40)
2017-09-13T18:26:13.7029222+03:00 0HL7OIHK18EFG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25756966694706331505316373695&state=15053163736950.8600638335293214   (e5be5b71)
2017-09-13T18:26:13.7054233+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T18:26:13.7059234+03:00 0HL7OIHK18EFG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T18:26:13.7064231+03:00 0HL7OIHK18EFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:13.7064231+03:00 0HL7OIHK18EFG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T18:26:13.7069240+03:00 0HL7OIHK18EFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:13.7074242+03:00 0HL7OIHK18EFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:13.7079243+03:00 0HL7OIHK18EFG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053163736950.8600638335293214\",
  \"Nonce\": \"N0.25756966694706331505316373695\",
  \"SessionId\": \"852177bc0f07d68758afbe63f04de0d7\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25756966694706331505316373695\",
    \"state\": \"15053163736950.8600638335293214\"
  }
}" (9a175e33)
2017-09-13T18:26:13.7104262+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T18:26:13.7219344+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:13.7234348+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T18:26:13.7254357+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T18:26:13.7274370+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T18:26:13.7294388+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T18:26:13.7314401+03:00 0HL7OIHK18EFG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T18:26:13.7479508+03:00 0HL7OIHK18EFG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053163736950.8600638335293214\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T18:26:13.7489515+03:00 0HL7OIHK18EFG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T18:26:13.7494520+03:00 0HL7OIHK18EFG [INF] Request finished in 47.5498ms 302  (15c52c40)
2017-09-13T21:01:48.1224561+03:00 0HL7OIHK18EFH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:01:48.7808922+03:00 0HL7OIHK18EFI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T21:01:48.9930319+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:01:49.0040396+03:00 0HL7OIHK18EFI [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:01:49.0040396+03:00 0HL7OIHK18EFI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T21:01:49.0460725+03:00 0HL7OIHK18EFI [INF] Request finished in 227.5921ms 200 application/json (15c52c40)
2017-09-13T21:01:49.3152457+03:00 0HL7OIHK18EFJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:01:49.3262526+03:00 0HL7OIHK18EFJ [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:01:49.3262526+03:00 0HL7OIHK18EFJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:01:49.3282539+03:00 0HL7OIHK18EFJ [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"dbe004cf4a10ec1ee36ded476238332799ba986001e1971ccb269458d5701641\"
}" (c9724191)
2017-09-13T21:01:49.3282539+03:00 0HL7OIHK18EFJ [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:01:49.3302568+03:00 0HL7OIHK18EFJ [INF] Request finished in 27.2547ms 200 application/json (15c52c40)
2017-09-13T21:01:50.0297189+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (630ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:01:50.2008318+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (152ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:01:50.2168428+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:01:50.2388574+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:01:50.2568694+03:00 0HL7OIHK18EFH [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:01:50.2598713+03:00 0HL7OIHK18EFH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:01:50.2698811+03:00 0HL7OIHK18EFH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:01:50.2708790+03:00 0HL7OIHK18EFH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:01:50.4610050+03:00 0HL7OIHK18EFH [INF] Request finished in 2182.8599ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:01:51.9820124+03:00 0HL7OIHK18EFK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:01:51.9850179+03:00 0HL7OIHK18EFK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:01:51.9850179+03:00 0HL7OIHK18EFK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:01:51.9860190+03:00 0HL7OIHK18EFK [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"dbe004cf4a10ec1ee36ded476238332799ba986001e1971ccb269458d5701641\"
}" (c9724191)
2017-09-13T21:01:51.9870153+03:00 0HL7OIHK18EFK [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:01:51.9870153+03:00 0HL7OIHK18EFK [INF] Request finished in 6.1693ms 200 application/json (15c52c40)
2017-09-13T21:02:07.8966414+03:00 0HL7OIHK18EFL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUzMTU0NjMsImV4cCI6MTUwNTMxNTc2MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjM1NzA0MjE3NjI2MTg3NjA3MTUwNTMxNTQ2MzAwNyIsImlhdCI6MTUwNTMxNTQ2MywiYXRfaGFzaCI6InA2eFdQZ3NLTzBHNFg3S1l3TDB2enciLCJzaWQiOiI4NTIxNzdiYzBmMDdkNjg3NThhZmJlNjNmMDRkZTBkNyIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNTI2Mjg3MCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Rb915w0onmoGCQ4lsx4InOsmEwnehBcIVqHYMgUIdQgGwY1PCiX4IsdgwbnQY6m9tEVt-lQgWb7UDvAXltb7aqcNJ6S2Pk4fsaLxG2OEl9ZkCZXmMBhSpRGiwpTbLA9nn-BUztdUi1sL6RNbFtDWzmJrf1cu6Wd8NYFsBSC5-ouTfQsMvogua-fosz6yhpgKYvYLcd0rKPUAl_Zkhvs0ZXLu_j17O4V2_z-y7d4svD0uBa0WqDrFjZ73aEiu7Ed79gdMcbzsa6SiPql6R8oYzHvCBWsxVdnik5YnsZmK_2DbqALChOaAonJ8Lw4KiHHDd8WQTMe7g5VUkGvsDshEjw&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-13T21:02:07.8996442+03:00 0HL7OIHK18EFL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:07.9006437+03:00 0HL7OIHK18EFL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:07.9006437+03:00 0HL7OIHK18EFL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9016447+03:00 0HL7OIHK18EFL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-13T21:02:07.9026486+03:00 0HL7OIHK18EFL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9086498+03:00 0HL7OIHK18EFL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:02:07.9086498+03:00 0HL7OIHK18EFL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9096504+03:00 0HL7OIHK18EFL [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUzMTU0NjMsImV4cCI6MTUwNTMxNTc2MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjM1NzA0MjE3NjI2MTg3NjA3MTUwNTMxNTQ2MzAwNyIsImlhdCI6MTUwNTMxNTQ2MywiYXRfaGFzaCI6InA2eFdQZ3NLTzBHNFg3S1l3TDB2enciLCJzaWQiOiI4NTIxNzdiYzBmMDdkNjg3NThhZmJlNjNmMDRkZTBkNyIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNTI2Mjg3MCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Rb915w0onmoGCQ4lsx4InOsmEwnehBcIVqHYMgUIdQgGwY1PCiX4IsdgwbnQY6m9tEVt-lQgWb7UDvAXltb7aqcNJ6S2Pk4fsaLxG2OEl9ZkCZXmMBhSpRGiwpTbLA9nn-BUztdUi1sL6RNbFtDWzmJrf1cu6Wd8NYFsBSC5-ouTfQsMvogua-fosz6yhpgKYvYLcd0rKPUAl_Zkhvs0ZXLu_j17O4V2_z-y7d4svD0uBa0WqDrFjZ73aEiu7Ed79gdMcbzsa6SiPql6R8oYzHvCBWsxVdnik5YnsZmK_2DbqALChOaAonJ8Lw4KiHHDd8WQTMe7g5VUkGvsDshEjw\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-13T21:02:07.9106503+03:00 0HL7OIHK18EFL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9106503+03:00 0HL7OIHK18EFL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9116514+03:00 0HL7OIHK18EFL [INF] Request finished in 16.8561ms 302  (15c52c40)
2017-09-13T21:02:07.9146545+03:00 0HL7OIHK18EFM [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=1e44d9014a4d6d007fe8318b20d79513   (e5be5b71)
2017-09-13T21:02:07.9176545+03:00 0HL7OIHK18EFM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:07.9186576+03:00 0HL7OIHK18EFM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:07.9196582+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9216596+03:00 0HL7OIHK18EFM [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["1e44d9014a4d6d007fe8318b20d79513"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T21:02:07.9226598+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9226598+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9246616+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-13T21:02:07.9256610+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-13T21:02:07.9256610+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-13T21:02:07.9266613+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9266613+03:00 0HL7OIHK18EFM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:07.9276620+03:00 0HL7OIHK18EFM [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-13T21:02:07.9306640+03:00 0HL7OIHK18EFM [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 9.2949ms (afa2e885)
2017-09-13T21:02:07.9306640+03:00 0HL7OIHK18EFM [INF] Request finished in 16.6461ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T21:02:07.9506784+03:00 0HL7OIHK18EFN [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.min.js?v=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU   (e5be5b71)
2017-09-13T21:02:07.9526809+03:00 0HL7OIHK18EFN [INF] Sending file. Request path: '"/js/site.min.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.min.js"' (27b0a520)
2017-09-13T21:02:07.9536788+03:00 0HL7OIHK18EFN [INF] Request finished in 3.0671ms 200 application/javascript (15c52c40)
2017-09-13T21:02:08.0147196+03:00 0HL7OIHK18EFO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=852177bc0f07d68758afbe63f04de0d7&logoutId=1e44d9014a4d6d007fe8318b20d79513   (e5be5b71)
2017-09-13T21:02:08.0167210+03:00 0HL7OIHK18EFO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:08.0167210+03:00 0HL7OIHK18EFO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-13T21:02:08.0167210+03:00 0HL7OIHK18EFO [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-13T21:02:08.0177220+03:00 0HL7OIHK18EFO [INF] Request finished in 3.3592ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:02:08.9493383+03:00 0HL7OIHK18EFP [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-13T21:02:08.9533425+03:00 0HL7OIHK18EFP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:08.9543412+03:00 0HL7OIHK18EFP [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-13T21:02:08.9553414+03:00 0HL7OIHK18EFP [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-13T21:02:08.9573436+03:00 0HL7OIHK18EFP [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 6.7938ms (afa2e885)
2017-09-13T21:02:08.9583442+03:00 0HL7OIHK18EFP [INF] Request finished in 8.5164ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T21:02:13.6892773+03:00 0HL7OIHK18EFQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-13T21:02:13.6922792+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.6942802+03:00 0HL7OIHK18EFQ [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-13T21:02:13.6992835+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-13T21:02:13.7172954+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:02:13.7202982+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:02:13.7222991+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:02:13.7243004+03:00 0HL7OIHK18EFQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:02:13.7253007+03:00 0HL7OIHK18EFQ [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T21:02:13.7253007+03:00 0HL7OIHK18EFQ [INF] User logged in. (fdce0db4)
2017-09-13T21:02:13.7253007+03:00 0HL7OIHK18EFQ [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-13T21:02:13.7273048+03:00 0HL7OIHK18EFQ [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 35.8758ms (afa2e885)
2017-09-13T21:02:13.7283059+03:00 0HL7OIHK18EFQ [INF] Request finished in 39.3708ms 302  (15c52c40)
2017-09-13T21:02:13.7313055+03:00 0HL7OIHK18EFR [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-13T21:02:13.7333068+03:00 0HL7OIHK18EFR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.7343071+03:00 0HL7OIHK18EFR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:13.7343071+03:00 0HL7OIHK18EFR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:13.7363080+03:00 0HL7OIHK18EFR [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-13T21:02:13.7373091+03:00 0HL7OIHK18EFR [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-13T21:02:13.7393104+03:00 0HL7OIHK18EFR [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 3.5056ms (afa2e885)
2017-09-13T21:02:13.7393104+03:00 0HL7OIHK18EFR [INF] Request finished in 8.6139ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-13T21:02:13.8453806+03:00 0HL7OIHK18EFS [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-13T21:02:13.8473812+03:00 0HL7OIHK18EFS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.8483826+03:00 0HL7OIHK18EFS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:13.8483826+03:00 0HL7OIHK18EFS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:13.8493829+03:00 0HL7OIHK18EFS [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-13T21:02:13.8633938+03:00 0HL7OIHK18EFT [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-13T21:02:13.8683963+03:00 0HL7OIHK18EFU [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-13T21:02:13.8683963+03:00 0HL7OIHK18EFV [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-13T21:02:13.8754001+03:00 0HL7OIHK18EFT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.8854068+03:00 0HL7OIHK18EFV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.8864074+03:00 0HL7OIHK18EFT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:13.8864074+03:00 0HL7OIHK18EFU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:13.8874077+03:00 0HL7OIHK18EFT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:13.8874077+03:00 0HL7OIHK18EFU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:13.8884084+03:00 0HL7OIHK18EFT [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-13T21:02:13.8934121+03:00 0HL7OIHK18EFV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:13.8934121+03:00 0HL7OIHK18EFU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:13.8964140+03:00 0HL7OIHK18EFV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:13.9044197+03:00 0HL7OIHK18EFU [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-13T21:02:13.9054200+03:00 0HL7OIHK18EFV [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-13T21:02:13.9464464+03:00 0HL7OIHK18EFS [INF] Request finished in 101.3578ms 200 image/svg+xml (15c52c40)
2017-09-13T21:02:14.0094889+03:00 0HL7OIHK18EFU [INF] Request finished in 143.5155ms 200 image/svg+xml (15c52c40)
2017-09-13T21:02:14.0144919+03:00 0HL7OIHK18EFT [INF] Request finished in 151.37ms 200 image/svg+xml (15c52c40)
2017-09-13T21:02:14.0415098+03:00 0HL7OIHK18EFV [INF] Request finished in 177.4283ms 200 image/svg+xml (15c52c40)
2017-09-13T21:02:22.7614580+03:00 0HL7OIHK18EG0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:02:22.7654610+03:00 0HL7OIHK18EG0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:22.7664609+03:00 0HL7OIHK18EG0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:22.7664609+03:00 0HL7OIHK18EG0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:22.7664609+03:00 0HL7OIHK18EG0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:02:22.7674620+03:00 0HL7OIHK18EG0 [INF] Request finished in 6.0462ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:02:23.7871373+03:00 0HL7OIHK18EG1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48856406303515731505325743767&state=15053257437670.7164120208103895   (e5be5b71)
2017-09-13T21:02:23.7901389+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:23.7901389+03:00 0HL7OIHK18EG1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:23.7911388+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:23.7911388+03:00 0HL7OIHK18EG1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:02:23.7911388+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:23.7921406+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:23.7921406+03:00 0HL7OIHK18EG1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053257437670.7164120208103895\",
  \"Nonce\": \"N0.48856406303515731505325743767\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48856406303515731505325743767\",
    \"state\": \"15053257437670.7164120208103895\"
  }
}" (9a175e33)
2017-09-13T21:02:23.7941428+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:02:23.8061503+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:02:23.8081505+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:02:23.8101526+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:02:23.8121539+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:02:23.8151547+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:02:23.8191581+03:00 0HL7OIHK18EG1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:02:23.8391714+03:00 0HL7OIHK18EG1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053257437670.7164120208103895\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:02:23.8401725+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:23.8401725+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:23.8411731+03:00 0HL7OIHK18EG1 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-13T21:02:23.8411731+03:00 0HL7OIHK18EG1 [INF] Request finished in 70.2011ms 302  (15c52c40)
2017-09-13T21:02:25.3641826+03:00 0HL7OIHK18EG2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:02:25.3681841+03:00 0HL7OIHK18EG2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:25.3681841+03:00 0HL7OIHK18EG2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:02:25.3691848+03:00 0HL7OIHK18EG2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:02:25.3691848+03:00 0HL7OIHK18EG2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:02:25.3711865+03:00 0HL7OIHK18EG2 [INF] Request finished in 6.5652ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:02:25.3831944+03:00 0HL7OIHK18EG3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T21:02:25.3881982+03:00 0HL7OIHK18EG3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:25.3891988+03:00 0HL7OIHK18EG3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T21:02:25.4222207+03:00 0HL7OIHK18EG3 [INF] Request finished in 7.4435ms 200 application/json (15c52c40)
2017-09-13T21:02:25.4832611+03:00 0HL7OIHK18EG4 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T21:02:25.4842614+03:00 0HL7OIHK18EG4 [INF] Request finished in 1.0002ms 204  (15c52c40)
2017-09-13T21:02:25.5062760+03:00 0HL7OIHK18EG5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T21:02:25.5122799+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:25.5122799+03:00 0HL7OIHK18EG5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T21:02:25.5132806+03:00 0HL7OIHK18EG5 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T21:02:25.5443012+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:02:25.5883303+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:02:25.5903316+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:02:25.5973375+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:02:25.6523719+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:02:25.6623833+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:02:25.6683833+03:00 0HL7OIHK18EG5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:02:25.6693836+03:00 0HL7OIHK18EG5 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T21:02:25.6743877+03:00 0HL7OIHK18EG5 [INF] Request finished in 166.3006ms 200 application/json (15c52c40)
2017-09-13T21:02:25.7124121+03:00 0HL7OIHK18EG6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:02:25.7154149+03:00 0HL7OIHK18EG6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:25.7154149+03:00 0HL7OIHK18EG6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:02:25.7404299+03:00 0HL7OIHK18EG6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:02:25.7404299+03:00 0HL7OIHK18EG6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:02:25.7414317+03:00 0HL7OIHK18EG6 [INF] Request finished in 29.035ms 200 application/json (15c52c40)
2017-09-13T21:02:34.4431951+03:00 0HL7OIHK18EG7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:02:34.4461971+03:00 0HL7OIHK18EG7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:02:34.4461971+03:00 0HL7OIHK18EG7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:02:34.4622081+03:00 0HL7OIHK18EG7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:02:34.4622081+03:00 0HL7OIHK18EG7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:02:34.4622081+03:00 0HL7OIHK18EG7 [INF] Request finished in 20.9657ms 200 application/json (15c52c40)
2017-09-13T21:07:23.7646234+03:00 0HL7OIHK18EG8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6075647024620711505326043697&state=15053260436970.8823915828037714   (e5be5b71)
2017-09-13T21:07:30.7675109+03:00 0HL7OIHK18EG9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6585675904547011505326050382&state=15053260503820.059130985509992406   (e5be5b71)
2017-09-13T21:07:33.6345234+03:00 0HL7OIHK18EGA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:07:35.6148350+03:00 0HL7OIHK18EGB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90510314863878571505326055601&state=15053260556010.8246784755538101   (e5be5b71)
2017-09-13T21:07:38.6978770+03:00 0HL7OIHK18EGC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T21:07:38.7344010+03:00 0HL7OIHK18EGD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96228397810960091505326058721&state=15053260587210.2892244118037648   (e5be5b71)
2017-09-13T21:07:41.8384581+03:00 0HL7OIHK18EGE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47876213373890231505326061827&state=15053260618270.7407784932307857   (e5be5b71)
2017-09-13T21:07:45.7010148+03:00 0HL7OIHK18EGF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36258260457930261505326065685&state=15053260656850.45063429188667015   (e5be5b71)
2017-09-13T21:07:49.7011759+03:00 0HL7OIHK18EGG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57404476566668341505326069685&state=15053260696850.1880117117796234   (e5be5b71)
2017-09-13T21:07:52.7702086+03:00 0HL7OIHK18EGH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30768044886347771505326072711&state=15053260727110.08784890358649866   (e5be5b71)
2017-09-13T21:07:56.8138927+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8304043+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8334062+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8354076+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8369084+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8389097+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8394102+03:00 0HL7OIHK18EGA [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8404109+03:00 0HL7OIHK18EGC [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8404109+03:00 0HL7OIHK18EGC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T21:07:56.8404109+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8414115+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:56.8414115+03:00 0HL7OIHK18EGG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8419125+03:00 0HL7OIHK18EGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.8424122+03:00 0HL7OIHK18EGG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.8429179+03:00 0HL7OIHK18EGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.8434129+03:00 0HL7OIHK18EGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.8434129+03:00 0HL7OIHK18EGG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260696850.1880117117796234\",
  \"Nonce\": \"N0.57404476566668341505326069685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57404476566668341505326069685\",
    \"state\": \"15053260696850.1880117117796234\"
  }
}" (9a175e33)
2017-09-13T21:07:56.8744330+03:00 0HL7OIHK18EGC [INF] Request finished in 18143.7883ms 200 application/json (15c52c40)
2017-09-13T21:07:56.8744330+03:00 0HL7OIHK18EG8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8749335+03:00 0HL7OIHK18EGH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8749335+03:00 0HL7OIHK18EG9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8754337+03:00 0HL7OIHK18EGF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8759338+03:00 0HL7OIHK18EGB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8759338+03:00 0HL7OIHK18EGD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8764343+03:00 0HL7OIHK18EGE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8764343+03:00 0HL7OIHK18EGA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:56.8769345+03:00 0HL7OIHK18EGA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.8769345+03:00 0HL7OIHK18EGA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:07:56.8779367+03:00 0HL7OIHK18EGA [INF] Request finished in 23243.6832ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:07:56.9004506+03:00 0HL7OIHK18EGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9004506+03:00 0HL7OIHK18EGE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9004506+03:00 0HL7OIHK18EG8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9004506+03:00 0HL7OIHK18EG8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9009508+03:00 0HL7OIHK18EGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9009508+03:00 0HL7OIHK18EGH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9014513+03:00 0HL7OIHK18EG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9019510+03:00 0HL7OIHK18EG9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9019510+03:00 0HL7OIHK18EGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9019510+03:00 0HL7OIHK18EGF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9024516+03:00 0HL7OIHK18EGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9029521+03:00 0HL7OIHK18EGB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.8999501+03:00 0HL7OIHK18EGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9034526+03:00 0HL7OIHK18EGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9034526+03:00 0HL7OIHK18EGD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:56.9039532+03:00 0HL7OIHK18EGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9044533+03:00 0HL7OIHK18EGB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260556010.8246784755538101\",
  \"Nonce\": \"N0.90510314863878571505326055601\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90510314863878571505326055601\",
    \"state\": \"15053260556010.8246784755538101\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9254668+03:00 0HL7OIHK18EGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9259674+03:00 0HL7OIHK18EG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9259674+03:00 0HL7OIHK18EGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9264675+03:00 0HL7OIHK18EG8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9269676+03:00 0HL7OIHK18EGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9274681+03:00 0HL7OIHK18EGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9279691+03:00 0HL7OIHK18EGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9279691+03:00 0HL7OIHK18EGE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260618270.7407784932307857\",
  \"Nonce\": \"N0.47876213373890231505326061827\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47876213373890231505326061827\",
    \"state\": \"15053260618270.7407784932307857\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9284688+03:00 0HL7OIHK18EGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9284688+03:00 0HL7OIHK18EGH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260727110.08784890358649866\",
  \"Nonce\": \"N0.30768044886347771505326072711\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30768044886347771505326072711\",
    \"state\": \"15053260727110.08784890358649866\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9414778+03:00 0HL7OIHK18EGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9414778+03:00 0HL7OIHK18EGD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260587210.2892244118037648\",
  \"Nonce\": \"N0.96228397810960091505326058721\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96228397810960091505326058721\",
    \"state\": \"15053260587210.2892244118037648\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9419780+03:00 0HL7OIHK18EGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9419780+03:00 0HL7OIHK18EGF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260656850.45063429188667015\",
  \"Nonce\": \"N0.36258260457930261505326065685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36258260457930261505326065685\",
    \"state\": \"15053260656850.45063429188667015\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9429786+03:00 0HL7OIHK18EG8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9434791+03:00 0HL7OIHK18EG8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260436970.8823915828037714\",
  \"Nonce\": \"N0.6075647024620711505326043697\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6075647024620711505326043697\",
    \"state\": \"15053260436970.8823915828037714\"
  }
}" (9a175e33)
2017-09-13T21:07:56.9444798+03:00 0HL7OIHK18EG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:56.9444798+03:00 0HL7OIHK18EG9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260503820.059130985509992406\",
  \"Nonce\": \"N0.6585675904547011505326050382\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6585675904547011505326050382\",
    \"state\": \"15053260503820.059130985509992406\"
  }
}" (9a175e33)
2017-09-13T21:07:57.0785690+03:00 0HL7OIHK18EGI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:07:57.0860734+03:00 0HL7OIHK18EGI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:57.0860734+03:00 0HL7OIHK18EGI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:07:57.2536846+03:00 0HL7OIHK18EGJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30930549187223911505326076747&state=15053260767470.6977518247993242   (e5be5b71)
2017-09-13T21:07:57.2581874+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:57.2586875+03:00 0HL7OIHK18EGJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:57.2591881+03:00 0HL7OIHK18EGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:57.2591881+03:00 0HL7OIHK18EGJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:57.2596886+03:00 0HL7OIHK18EGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:57.2606892+03:00 0HL7OIHK18EGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:57.2606892+03:00 0HL7OIHK18EGJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260767470.6977518247993242\",
  \"Nonce\": \"N0.30930549187223911505326076747\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30930549187223911505326076747\",
    \"state\": \"15053260767470.6977518247993242\"
  }
}" (9a175e33)
2017-09-13T21:07:58.1247617+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (1,181ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1442741+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (1,267ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1452747+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (1,167ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1462754+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (849ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1577832+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (1,166ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1587839+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (1,205ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1687913+03:00 0HL7OIHK18EGI [INF] Executed DbCommand (1,004ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1692914+03:00 0HL7OIHK18EGI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:07:58.1702913+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (1,167ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1722934+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (1,183ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1737942+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (1,169ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:58.1968087+03:00 0HL7OIHK18EGI [INF] Request finished in 1092.192ms 200 application/json (15c52c40)
2017-09-13T21:07:58.4409708+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (259ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.4779953+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (290ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.4870021+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (305ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.4960072+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (266ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5055141+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (266ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5130185+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (282ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5150198+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (272ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5175213+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (282ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5260275+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (270ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.5315306+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.5350335+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.5450393+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.5510441+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.5530450+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.6085812+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.6165885+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.6320974+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.6325983+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:07:58.6335990+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.6340991+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.6345996+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.6350998+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.6361008+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.7526774+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (21ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.7526774+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.7561796+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.7571810+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:07:58.7576811+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7586814+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7591815+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7596821+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7606835+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7982082+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.7987075+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.7992077+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.8002087+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.8007088+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.8012090+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.8032107+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.9197881+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (37ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.9232902+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:07:58.9242913+03:00 0HL7OIHK18EGE [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:58.9252920+03:00 0HL7OIHK18EGF [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:58.9423020+03:00 0HL7OIHK18EGE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260618270.7407784932307857\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:58.9433031+03:00 0HL7OIHK18EGF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260656850.45063429188667015\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:58.9593137+03:00 0HL7OIHK18EGH [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:58.9783267+03:00 0HL7OIHK18EGH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260727110.08784890358649866\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:58.9948374+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:58.9988409+03:00 0HL7OIHK18EGG [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.0003413+03:00 0HL7OIHK18EGJ [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.0008414+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:59.0178523+03:00 0HL7OIHK18EGJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260767470.6977518247993242\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.0258580+03:00 0HL7OIHK18EGG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260696850.1880117117796234\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.0578792+03:00 0HL7OIHK18EGF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.0583805+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:59.0588798+03:00 0HL7OIHK18EGH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.0588798+03:00 0HL7OIHK18EGE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.0623820+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:59.0653836+03:00 0HL7OIHK18EG9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.0658849+03:00 0HL7OIHK18EGJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.0673861+03:00 0HL7OIHK18EGG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.0863983+03:00 0HL7OIHK18EG9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260503820.059130985509992406\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.1154179+03:00 0HL7OIHK18EGD [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.1359317+03:00 0HL7OIHK18EGD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260587210.2892244118037648\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.1879661+03:00 0HL7OIHK18EGE [INF] Request finished in 17223.0301ms 302  (15c52c40)
2017-09-13T21:07:59.2024755+03:00 0HL7OIHK18EGF [INF] Request finished in 13358.9012ms 302  (15c52c40)
2017-09-13T21:07:59.2074785+03:00 0HL7OIHK18EGH [INF] Request finished in 6289.7129ms 302  (15c52c40)
2017-09-13T21:07:59.2094798+03:00 0HL7OIHK18EGG [INF] Request finished in 9367.7627ms 302  (15c52c40)
2017-09-13T21:07:59.2099799+03:00 0HL7OIHK18EGJ [INF] Request finished in 1813.8822ms 302  (15c52c40)
2017-09-13T21:07:59.2109806+03:00 0HL7OIHK18EG9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.2134824+03:00 0HL7OIHK18EGD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.2149828+03:00 0HL7OIHK18EG8 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.2229889+03:00 0HL7OIHK18EGB [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:07:59.2379993+03:00 0HL7OIHK18EG8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260436970.8823915828037714\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.2420011+03:00 0HL7OIHK18EGB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260556010.8246784755538101\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:07:59.2525079+03:00 0HL7OIHK18EG9 [INF] Request finished in 28453.2477ms 302  (15c52c40)
2017-09-13T21:07:59.2535093+03:00 0HL7OIHK18EGD [INF] Request finished in 20480.3015ms 302  (15c52c40)
2017-09-13T21:07:59.2535093+03:00 0HL7OIHK18EG8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.2550113+03:00 0HL7OIHK18EGB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.2565109+03:00 0HL7OIHK18EGB [INF] Request finished in 23641.2874ms 302  (15c52c40)
2017-09-13T21:07:59.2615162+03:00 0HL7OIHK18EG8 [INF] Request finished in 35490.4893ms 302  (15c52c40)
2017-09-13T21:07:59.9344602+03:00 0HL7OIHK18EGK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.05362501064019921505326079925&state=15053260799250.15873124683602025   (e5be5b71)
2017-09-13T21:07:59.9429664+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:07:59.9434697+03:00 0HL7OIHK18EGK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:07:59.9439666+03:00 0HL7OIHK18EGK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.9439666+03:00 0HL7OIHK18EGK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:07:59.9449673+03:00 0HL7OIHK18EGK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.9454678+03:00 0HL7OIHK18EGK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:07:59.9459680+03:00 0HL7OIHK18EGK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260799250.15873124683602025\",
  \"Nonce\": \"N0.05362501064019921505326079925\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.05362501064019921505326079925\",
    \"state\": \"15053260799250.15873124683602025\"
  }
}" (9a175e33)
2017-09-13T21:07:59.9494697+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:07:59.9769881+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:07:59.9804902+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:08:00.0350262+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:08:00.0400299+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:08:00.0485357+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:00.0570415+03:00 0HL7OIHK18EGK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:08:00.0800568+03:00 0HL7OIHK18EGK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260799250.15873124683602025\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:08:00.0825582+03:00 0HL7OIHK18EGK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:00.0850601+03:00 0HL7OIHK18EGK [INF] Request finished in 151.239ms 302  (15c52c40)
2017-09-13T21:08:03.9000871+03:00 0HL7OIHK18EGL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.10658347381264011505326083883&state=15053260838830.3520981538438934   (e5be5b71)
2017-09-13T21:08:03.9035888+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:03.9085925+03:00 0HL7OIHK18EGL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:08:03.9095928+03:00 0HL7OIHK18EGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:03.9095928+03:00 0HL7OIHK18EGL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:08:03.9100937+03:00 0HL7OIHK18EGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:03.9110948+03:00 0HL7OIHK18EGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:03.9115945+03:00 0HL7OIHK18EGL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260838830.3520981538438934\",
  \"Nonce\": \"N0.10658347381264011505326083883\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.10658347381264011505326083883\",
    \"state\": \"15053260838830.3520981538438934\"
  }
}" (9a175e33)
2017-09-13T21:08:03.9145961+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:03.9351099+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:03.9366111+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:08:03.9461180+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:08:03.9506200+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:08:03.9566247+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:03.9656303+03:00 0HL7OIHK18EGL [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:08:03.9901467+03:00 0HL7OIHK18EGL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260838830.3520981538438934\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:08:03.9911470+03:00 0HL7OIHK18EGL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:03.9956502+03:00 0HL7OIHK18EGL [INF] Request finished in 93.0636ms 302  (15c52c40)
2017-09-13T21:08:10.4844477+03:00 0HL7OIHK18EGM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T21:08:10.4874493+03:00 0HL7OIHK18EGM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:10.4879498+03:00 0HL7OIHK18EGM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T21:08:10.4889505+03:00 0HL7OIHK18EGM [INF] Request finished in 4.7301ms 200 application/json (15c52c40)
2017-09-13T21:08:10.6890850+03:00 0HL7OIHK18EGN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57666889505352771505326090612&state=15053260906120.06383023016144085   (e5be5b71)
2017-09-13T21:08:10.6975885+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:10.6980890+03:00 0HL7OIHK18EGN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:08:10.6995906+03:00 0HL7OIHK18EGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:10.6995906+03:00 0HL7OIHK18EGN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:08:10.7000903+03:00 0HL7OIHK18EGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:10.7010910+03:00 0HL7OIHK18EGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:10.7010910+03:00 0HL7OIHK18EGN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053260906120.06383023016144085\",
  \"Nonce\": \"N0.57666889505352771505326090612\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57666889505352771505326090612\",
    \"state\": \"15053260906120.06383023016144085\"
  }
}" (9a175e33)
2017-09-13T21:08:10.7146001+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:10.7666346+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:10.7826448+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:08:10.7871480+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:08:10.8126651+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:08:10.8481880+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:10.8511900+03:00 0HL7OIHK18EGN [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:08:10.8717062+03:00 0HL7OIHK18EGN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053260906120.06383023016144085\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:08:10.8727052+03:00 0HL7OIHK18EGN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:08:10.8737051+03:00 0HL7OIHK18EGN [INF] Request finished in 185.4537ms 302  (15c52c40)
2017-09-13T21:08:15.4252203+03:00 0HL7OIHK18EGO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T21:08:15.4297231+03:00 0HL7OIHK18EGO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:15.4302232+03:00 0HL7OIHK18EGO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T21:08:15.4327251+03:00 0HL7OIHK18EGO [INF] Request finished in 11.4028ms 200 application/json (15c52c40)
2017-09-13T21:08:17.2764456+03:00 0HL7OIHK18EGP [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T21:08:17.2774467+03:00 0HL7OIHK18EGP [INF] Request finished in 0.8289ms 204  (15c52c40)
2017-09-13T21:08:17.4285468+03:00 0HL7OIHK18EGQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T21:08:17.4310482+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:17.4310482+03:00 0HL7OIHK18EGQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T21:08:17.4310482+03:00 0HL7OIHK18EGQ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T21:08:17.4570655+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:17.4600675+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:17.4630694+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:08:17.4650708+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:08:17.4670717+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:08:17.4700741+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:08:17.4760781+03:00 0HL7OIHK18EGQ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:08:17.4765782+03:00 0HL7OIHK18EGQ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T21:08:17.4780794+03:00 0HL7OIHK18EGQ [INF] Request finished in 48.8023ms 200 application/json (15c52c40)
2017-09-13T21:08:18.8209692+03:00 0HL7OIHK18EGR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:08:18.8304753+03:00 0HL7OIHK18EGR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:18.8304753+03:00 0HL7OIHK18EGR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:08:18.8770063+03:00 0HL7OIHK18EGR [INF] Executed DbCommand (22ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:18.8775065+03:00 0HL7OIHK18EGR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:08:18.8780070+03:00 0HL7OIHK18EGR [INF] Request finished in 57.8588ms 200 application/json (15c52c40)
2017-09-13T21:08:22.7395820+03:00 0HL7OIHK18EGS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:08:22.7425844+03:00 0HL7OIHK18EGS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:22.7425844+03:00 0HL7OIHK18EGS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:08:22.7671000+03:00 0HL7OIHK18EGS [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:22.7701028+03:00 0HL7OIHK18EGS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:08:22.7791080+03:00 0HL7OIHK18EGS [INF] Request finished in 32.9441ms 200 application/json (15c52c40)
2017-09-13T21:08:25.6410102+03:00 0HL7OIHK18EGT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:08:25.6435116+03:00 0HL7OIHK18EGT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:08:25.6435116+03:00 0HL7OIHK18EGT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:08:25.6655262+03:00 0HL7OIHK18EGT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:08:25.6655262+03:00 0HL7OIHK18EGT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:08:25.6665273+03:00 0HL7OIHK18EGT [INF] Request finished in 25.7381ms 200 application/json (15c52c40)
2017-09-13T21:13:12.6996384+03:00 0HL7OIHK18EGU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51478015844288841505326392688&state=15053263926880.5647698476336105   (e5be5b71)
2017-09-13T21:13:12.7026415+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:13:12.7036410+03:00 0HL7OIHK18EGU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:13:12.7036410+03:00 0HL7OIHK18EGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:12.7036410+03:00 0HL7OIHK18EGU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:13:12.7046417+03:00 0HL7OIHK18EGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:12.7056423+03:00 0HL7OIHK18EGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:12.7056423+03:00 0HL7OIHK18EGU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053263926880.5647698476336105\",
  \"Nonce\": \"N0.51478015844288841505326392688\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51478015844288841505326392688\",
    \"state\": \"15053263926880.5647698476336105\"
  }
}" (9a175e33)
2017-09-13T21:13:12.7106453+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:13:12.7226536+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:13:12.7246557+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:13:12.7276573+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:13:12.7296582+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:13:12.7316600+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:13:12.7336613+03:00 0HL7OIHK18EGU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:13:12.7576780+03:00 0HL7OIHK18EGU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053263926880.5647698476336105\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:13:12.7606796+03:00 0HL7OIHK18EGU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:12.7636812+03:00 0HL7OIHK18EGU [INF] Request finished in 62.8234ms 302  (15c52c40)
2017-09-13T21:13:15.8387175+03:00 0HL7OIHK18EGV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76315274469752191505326395829&state=15053263958290.3402874341541138   (e5be5b71)
2017-09-13T21:13:15.8427205+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:13:15.8427205+03:00 0HL7OIHK18EGV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:13:15.8437208+03:00 0HL7OIHK18EGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:15.8437208+03:00 0HL7OIHK18EGV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T21:13:15.8447214+03:00 0HL7OIHK18EGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:15.8447214+03:00 0HL7OIHK18EGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:15.8447214+03:00 0HL7OIHK18EGV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053263958290.3402874341541138\",
  \"Nonce\": \"N0.76315274469752191505326395829\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76315274469752191505326395829\",
    \"state\": \"15053263958290.3402874341541138\"
  }
}" (9a175e33)
2017-09-13T21:13:15.8527263+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:13:15.8677371+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:13:15.8697380+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:13:15.8727400+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:13:15.8817463+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:13:15.8967555+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:13:15.8987572+03:00 0HL7OIHK18EGV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T21:13:15.9177694+03:00 0HL7OIHK18EGV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053263958290.3402874341541138\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T21:13:15.9197707+03:00 0HL7OIHK18EGV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:13:15.9237734+03:00 0HL7OIHK18EGV [INF] Request finished in 82.3776ms 302  (15c52c40)
2017-09-13T21:13:21.5635091+03:00 0HL7OIHK18EH0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T21:13:21.5665119+03:00 0HL7OIHK18EH0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:13:21.5665119+03:00 0HL7OIHK18EH0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T21:13:21.5715144+03:00 0HL7OIHK18EH0 [INF] Request finished in 3.943ms 200 application/json (15c52c40)
2017-09-13T21:13:22.2629724+03:00 0HL7OIHK18EH1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:13:22.2659752+03:00 0HL7OIHK18EH1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:13:22.2659752+03:00 0HL7OIHK18EH1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:13:22.3080026+03:00 0HL7OIHK18EH1 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:13:22.3080026+03:00 0HL7OIHK18EH1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:13:22.3090033+03:00 0HL7OIHK18EH1 [INF] Request finished in 47.9118ms 200 application/json (15c52c40)
2017-09-13T21:13:23.5918522+03:00 0HL7OIHK18EH2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:13:23.5938535+03:00 0HL7OIHK18EH2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:13:23.5948546+03:00 0HL7OIHK18EH2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:13:23.6148682+03:00 0HL7OIHK18EH2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:13:23.6158685+03:00 0HL7OIHK18EH2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:13:23.6228731+03:00 0HL7OIHK18EH2 [INF] Request finished in 25.0323ms 200 application/json (15c52c40)
2017-09-13T21:16:21.9804950+03:00 0HL7OIHK18EH3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:16:21.9834962+03:00 0HL7OIHK18EH3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:16:21.9844968+03:00 0HL7OIHK18EH3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:16:21.9844968+03:00 0HL7OIHK18EH3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:16:21.9844968+03:00 0HL7OIHK18EH3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:16:21.9854971+03:00 0HL7OIHK18EH3 [INF] Request finished in 5.756ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:16:23.0852259+03:00 0HL7OIHK18EH4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T21:16:23.0882279+03:00 0HL7OIHK18EH4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:16:23.0882279+03:00 0HL7OIHK18EH4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T21:16:23.0892285+03:00 0HL7OIHK18EH4 [INF] Request finished in 4.014ms 200 application/json (15c52c40)
2017-09-13T21:16:23.2703485+03:00 0HL7OIHK18EH5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:16:23.2753518+03:00 0HL7OIHK18EH5 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:16:23.2753518+03:00 0HL7OIHK18EH5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:16:23.3373929+03:00 0HL7OIHK18EH5 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:16:23.3383936+03:00 0HL7OIHK18EH5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:16:23.3383936+03:00 0HL7OIHK18EH5 [INF] Request finished in 84.3998ms 200 application/json (15c52c40)
2017-09-13T21:17:06.6160583+03:00 0HL7OIHK18EH6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:17:06.6190591+03:00 0HL7OIHK18EH6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:17:06.6190591+03:00 0HL7OIHK18EH6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:17:06.6410733+03:00 0HL7OIHK18EH6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:17:06.6410733+03:00 0HL7OIHK18EH6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:17:06.6420740+03:00 0HL7OIHK18EH6 [INF] Request finished in 26.764ms 200 application/json (15c52c40)
2017-09-13T21:17:13.8828706+03:00 0HL7OIHK18EH7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:17:13.8858726+03:00 0HL7OIHK18EH7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:17:13.8858726+03:00 0HL7OIHK18EH7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:17:13.9088870+03:00 0HL7OIHK18EH7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:17:13.9088870+03:00 0HL7OIHK18EH7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:17:13.9118894+03:00 0HL7OIHK18EH7 [INF] Request finished in 27.334ms 200 application/json (15c52c40)
2017-09-13T21:17:20.1089943+03:00 0HL7OIHK18EH8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:17:20.1119963+03:00 0HL7OIHK18EH8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:17:20.1119963+03:00 0HL7OIHK18EH8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:17:20.1440175+03:00 0HL7OIHK18EH8 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:17:20.1450182+03:00 0HL7OIHK18EH8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:17:20.1750384+03:00 0HL7OIHK18EH8 [INF] Request finished in 36.2535ms 200 application/json (15c52c40)
2017-09-13T21:17:51.8697775+03:00 0HL7OIHK18EH9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:17:51.8727791+03:00 0HL7OIHK18EH9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:17:51.8727791+03:00 0HL7OIHK18EH9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:17:51.9388220+03:00 0HL7OIHK18EH9 [INF] Executed DbCommand (26ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:17:51.9388220+03:00 0HL7OIHK18EH9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:17:51.9398235+03:00 0HL7OIHK18EH9 [INF] Request finished in 70.1936ms 200 application/json (15c52c40)
2017-09-13T21:21:31.3746105+03:00 0HL7OIHK18EHA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:21:31.3776128+03:00 0HL7OIHK18EHA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:21:31.3776128+03:00 0HL7OIHK18EHA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:21:31.4016280+03:00 0HL7OIHK18EHA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:21:31.4016280+03:00 0HL7OIHK18EHA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:21:31.4036293+03:00 0HL7OIHK18EHA [INF] Request finished in 28.6217ms 200 application/json (15c52c40)
2017-09-13T21:22:01.0840796+03:00 0HL7OIHK18EHB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:22:01.0890817+03:00 0HL7OIHK18EHB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:22:01.0900824+03:00 0HL7OIHK18EHB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:22:01.1140979+03:00 0HL7OIHK18EHB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:22:01.1140979+03:00 0HL7OIHK18EHB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:22:01.1160992+03:00 0HL7OIHK18EHB [INF] Request finished in 32.1964ms 200 application/json (15c52c40)
2017-09-13T21:22:15.2225559+03:00 0HL7OIHK18EHC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:22:15.2255587+03:00 0HL7OIHK18EHC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:22:15.2255587+03:00 0HL7OIHK18EHC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:22:15.2465726+03:00 0HL7OIHK18EHC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:22:15.2465726+03:00 0HL7OIHK18EHC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:22:15.2475729+03:00 0HL7OIHK18EHC [INF] Request finished in 24.7224ms 200 application/json (15c52c40)
2017-09-13T21:22:16.5934647+03:00 0HL7OIHK18EHD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:22:16.5984676+03:00 0HL7OIHK18EHD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:22:16.5984676+03:00 0HL7OIHK18EHD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:22:16.6194819+03:00 0HL7OIHK18EHD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:22:16.6194819+03:00 0HL7OIHK18EHD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:22:16.6224835+03:00 0HL7OIHK18EHD [INF] Request finished in 27.9103ms 200 application/json (15c52c40)
2017-09-13T21:27:37.4391060+03:00 0HL7OIHK18EHE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:27:37.7408057+03:00 0HL7OIHK18EHE [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:27:37.7408057+03:00 0HL7OIHK18EHE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:27:37.8263621+03:00 0HL7OIHK18EHE [INF] Executed DbCommand (64ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:27:37.8268623+03:00 0HL7OIHK18EHE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:27:37.8273624+03:00 0HL7OIHK18EHE [INF] Request finished in 390.7862ms 200 application/json (15c52c40)
2017-09-13T21:27:38.9120812+03:00 0HL7OIHK18EHF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:27:38.9150832+03:00 0HL7OIHK18EHF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:27:38.9150832+03:00 0HL7OIHK18EHF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:27:38.9436019+03:00 0HL7OIHK18EHF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:27:38.9436019+03:00 0HL7OIHK18EHF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:27:38.9446026+03:00 0HL7OIHK18EHF [INF] Request finished in 32.545ms 200 application/json (15c52c40)
2017-09-13T21:28:40.5159451+03:00 0HL7OIHK18EHG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:40.5194476+03:00 0HL7OIHK18EHG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:40.5194476+03:00 0HL7OIHK18EHG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:40.5539699+03:00 0HL7OIHK18EHG [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:40.5544708+03:00 0HL7OIHK18EHG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:40.5564725+03:00 0HL7OIHK18EHG [INF] Request finished in 40.0194ms 200 application/json (15c52c40)
2017-09-13T21:28:42.4687387+03:00 0HL7OIHK18EHH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:42.4807462+03:00 0HL7OIHK18EHH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:42.4807462+03:00 0HL7OIHK18EHH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:42.5132680+03:00 0HL7OIHK18EHH [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:42.5137685+03:00 0HL7OIHK18EHH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:42.5157694+03:00 0HL7OIHK18EHH [INF] Request finished in 46.1761ms 200 application/json (15c52c40)
2017-09-13T21:28:44.2539214+03:00 0HL7OIHK18EHI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:44.2574236+03:00 0HL7OIHK18EHI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:44.2574236+03:00 0HL7OIHK18EHI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:44.2804380+03:00 0HL7OIHK18EHI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:44.2809386+03:00 0HL7OIHK18EHI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:44.2819392+03:00 0HL7OIHK18EHI [INF] Request finished in 28.5747ms 200 application/json (15c52c40)
2017-09-13T21:28:45.3691678+03:00 0HL7OIHK18EHJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:45.3721702+03:00 0HL7OIHK18EHJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:45.3726711+03:00 0HL7OIHK18EHJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:45.3921834+03:00 0HL7OIHK18EHJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:45.3926855+03:00 0HL7OIHK18EHJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:45.3931845+03:00 0HL7OIHK18EHJ [INF] Request finished in 27.8286ms 200 application/json (15c52c40)
2017-09-13T21:28:46.9867394+03:00 0HL7OIHK18EHK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:46.9892432+03:00 0HL7OIHK18EHK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:46.9897417+03:00 0HL7OIHK18EHK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:47.0082542+03:00 0HL7OIHK18EHK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:47.0087547+03:00 0HL7OIHK18EHK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:47.0107557+03:00 0HL7OIHK18EHK [INF] Request finished in 23.2769ms 200 application/json (15c52c40)
2017-09-13T21:28:47.6646886+03:00 0HL7OIHK18EHL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:47.6671904+03:00 0HL7OIHK18EHL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:47.6671904+03:00 0HL7OIHK18EHL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:47.6897055+03:00 0HL7OIHK18EHL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:47.6902057+03:00 0HL7OIHK18EHL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:47.6912063+03:00 0HL7OIHK18EHL [INF] Request finished in 26.6263ms 200 application/json (15c52c40)
2017-09-13T21:28:48.6098148+03:00 0HL7OIHK18EHM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:48.6148177+03:00 0HL7OIHK18EHM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:48.6148177+03:00 0HL7OIHK18EHM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:48.6453381+03:00 0HL7OIHK18EHM [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:48.6458390+03:00 0HL7OIHK18EHM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:48.6463388+03:00 0HL7OIHK18EHM [INF] Request finished in 37.6782ms 200 application/json (15c52c40)
2017-09-13T21:28:49.7765875+03:00 0HL7OIHK18EHN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:28:49.7835922+03:00 0HL7OIHK18EHN [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:28:49.7835922+03:00 0HL7OIHK18EHN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:28:49.8931646+03:00 0HL7OIHK18EHN [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:28:49.8941660+03:00 0HL7OIHK18EHN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:28:49.9021709+03:00 0HL7OIHK18EHN [INF] Request finished in 124.2002ms 200 application/json (15c52c40)
2017-09-13T21:29:41.5228203+03:00 0HL7OIHK18EHO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:29:41.5508388+03:00 0HL7OIHK18EHO [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:29:41.5513389+03:00 0HL7OIHK18EHO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:29:41.6183837+03:00 0HL7OIHK18EHO [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:29:41.6198842+03:00 0HL7OIHK18EHO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:29:41.6669185+03:00 0HL7OIHK18EHO [INF] Request finished in 112.7472ms 200 application/json (15c52c40)
2017-09-13T21:29:45.1797421+03:00 0HL7OIHK18EHP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:29:45.1832443+03:00 0HL7OIHK18EHP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:29:45.1832443+03:00 0HL7OIHK18EHP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:29:45.2067604+03:00 0HL7OIHK18EHP [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:29:45.2072602+03:00 0HL7OIHK18EHP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:29:45.2082632+03:00 0HL7OIHK18EHP [INF] Request finished in 28.793ms 200 application/json (15c52c40)
2017-09-13T21:54:39.9580130+03:00 0HL7OIHK18EHQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T21:54:40.6770905+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:54:40.7811598+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:54:40.7996711+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T21:54:40.8241883+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T21:54:40.8366964+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T21:54:40.8482038+03:00 0HL7OIHK18EHQ [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T21:54:40.8527066+03:00 0HL7OIHK18EHQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T21:54:40.8677165+03:00 0HL7OIHK18EHQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T21:54:40.8677165+03:00 0HL7OIHK18EHQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T21:54:40.9152486+03:00 0HL7OIHK18EHQ [INF] Request finished in 912.066ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T21:54:42.7124425+03:00 0HL7OIHK18EHR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T21:54:42.7154445+03:00 0HL7OIHK18EHR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:54:42.7154445+03:00 0HL7OIHK18EHR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T21:54:42.7184465+03:00 0HL7OIHK18EHR [INF] Request finished in 5.1943ms 200 application/json (15c52c40)
2017-09-13T21:54:42.8755505+03:00 0HL7OIHK18EHS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:54:42.8825552+03:00 0HL7OIHK18EHS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:54:42.8835558+03:00 0HL7OIHK18EHS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:54:42.9265839+03:00 0HL7OIHK18EHS [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:54:42.9265839+03:00 0HL7OIHK18EHS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:54:42.9285853+03:00 0HL7OIHK18EHS [INF] Request finished in 53.236ms 200 application/json (15c52c40)
2017-09-13T21:58:46.8526320+03:00 0HL7OIHK18EHT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:58:46.8556348+03:00 0HL7OIHK18EHT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:58:46.8556348+03:00 0HL7OIHK18EHT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:58:46.8756472+03:00 0HL7OIHK18EHT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:58:46.8766479+03:00 0HL7OIHK18EHT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:58:46.8776486+03:00 0HL7OIHK18EHT [INF] Request finished in 24.6901ms 200 application/json (15c52c40)
2017-09-13T21:58:47.6981920+03:00 0HL7OIHK18EHU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:58:47.7011936+03:00 0HL7OIHK18EHU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:58:47.7011936+03:00 0HL7OIHK18EHU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:58:47.7242089+03:00 0HL7OIHK18EHU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:58:47.7252099+03:00 0HL7OIHK18EHU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:58:47.7252099+03:00 0HL7OIHK18EHU [INF] Request finished in 27.7521ms 200 application/json (15c52c40)
2017-09-13T21:58:49.0570921+03:00 0HL7OIHK18EHV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:58:49.0600933+03:00 0HL7OIHK18EHV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:58:49.0600933+03:00 0HL7OIHK18EHV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:58:49.0831132+03:00 0HL7OIHK18EHV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:58:49.0841096+03:00 0HL7OIHK18EHV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:58:49.0841096+03:00 0HL7OIHK18EHV [INF] Request finished in 28.1053ms 200 application/json (15c52c40)
2017-09-13T21:58:49.9226654+03:00 0HL7OIHK18EI0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:58:49.9256677+03:00 0HL7OIHK18EI0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:58:49.9256677+03:00 0HL7OIHK18EI0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:58:49.9516842+03:00 0HL7OIHK18EI0 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:58:49.9526868+03:00 0HL7OIHK18EI0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:58:49.9546866+03:00 0HL7OIHK18EI0 [INF] Request finished in 31.3371ms 200 application/json (15c52c40)
2017-09-13T21:59:11.4471899+03:00 0HL7OIHK18EI1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:59:11.4501923+03:00 0HL7OIHK18EI1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:59:11.4501923+03:00 0HL7OIHK18EI1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:59:11.4742098+03:00 0HL7OIHK18EI1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:59:11.4747083+03:00 0HL7OIHK18EI1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:59:11.4757090+03:00 0HL7OIHK18EI1 [INF] Request finished in 28.8613ms 200 application/json (15c52c40)
2017-09-13T21:59:56.7441905+03:00 0HL7OIHK18EI2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T21:59:56.7476927+03:00 0HL7OIHK18EI2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T21:59:56.7476927+03:00 0HL7OIHK18EI2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T21:59:56.7692067+03:00 0HL7OIHK18EI2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T21:59:56.7692067+03:00 0HL7OIHK18EI2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T21:59:56.7702074+03:00 0HL7OIHK18EI2 [INF] Request finished in 27.6668ms 200 application/json (15c52c40)
2017-09-13T22:00:09.9148251+03:00 0HL7OIHK18EI3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:00:09.9168240+03:00 0HL7OIHK18EI3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:00:09.9173245+03:00 0HL7OIHK18EI3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:00:09.9343358+03:00 0HL7OIHK18EI3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:00:09.9343358+03:00 0HL7OIHK18EI3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:00:09.9353369+03:00 0HL7OIHK18EI3 [INF] Request finished in 20.8129ms 200 application/json (15c52c40)
2017-09-13T22:00:30.6324317+03:00 0HL7OIHK18EI4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:00:30.6349347+03:00 0HL7OIHK18EI4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:00:30.6354345+03:00 0HL7OIHK18EI4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:00:30.6639524+03:00 0HL7OIHK18EI4 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:00:30.6644533+03:00 0HL7OIHK18EI4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:00:30.6654560+03:00 0HL7OIHK18EI4 [INF] Request finished in 33.1454ms 200 application/json (15c52c40)
2017-09-13T22:02:46.0743733+03:00 0HL7OIHK18EI5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:02:46.0783756+03:00 0HL7OIHK18EI5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:02:46.0783756+03:00 0HL7OIHK18EI5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:02:46.1033918+03:00 0HL7OIHK18EI5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:02:46.1033918+03:00 0HL7OIHK18EI5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:02:46.1043924+03:00 0HL7OIHK18EI5 [INF] Request finished in 30.5634ms 200 application/json (15c52c40)
2017-09-13T22:02:49.2454740+03:00 0HL7OIHK18EI6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:02:49.2504762+03:00 0HL7OIHK18EI6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:02:49.2504762+03:00 0HL7OIHK18EI6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:02:49.2724907+03:00 0HL7OIHK18EI6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:02:49.2724907+03:00 0HL7OIHK18EI6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:02:49.2734914+03:00 0HL7OIHK18EI6 [INF] Request finished in 27.8275ms 200 application/json (15c52c40)
2017-09-13T22:02:49.8618811+03:00 0HL7OIHK18EI7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:02:49.8648839+03:00 0HL7OIHK18EI7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:02:49.8648839+03:00 0HL7OIHK18EI7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:02:49.8858966+03:00 0HL7OIHK18EI7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:02:49.8858966+03:00 0HL7OIHK18EI7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:02:49.8868977+03:00 0HL7OIHK18EI7 [INF] Request finished in 25.823ms 200 application/json (15c52c40)
2017-09-13T22:02:50.3632140+03:00 0HL7OIHK18EI8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:02:50.3662159+03:00 0HL7OIHK18EI8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:02:50.3662159+03:00 0HL7OIHK18EI8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:02:50.3942345+03:00 0HL7OIHK18EI8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:02:50.3952344+03:00 0HL7OIHK18EI8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:02:50.3952344+03:00 0HL7OIHK18EI8 [INF] Request finished in 32.4964ms 200 application/json (15c52c40)
2017-09-13T22:03:41.5324503+03:00 0HL7OIHK18EI9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:03:41.5354519+03:00 0HL7OIHK18EI9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:03:41.5354519+03:00 0HL7OIHK18EI9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:03:41.5584667+03:00 0HL7OIHK18EI9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:03:41.5584667+03:00 0HL7OIHK18EI9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:03:41.5594682+03:00 0HL7OIHK18EI9 [INF] Request finished in 27.7986ms 200 application/json (15c52c40)
2017-09-13T22:03:44.9107585+03:00 0HL7OIHK18EIA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:03:44.9127598+03:00 0HL7OIHK18EIA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:03:44.9127598+03:00 0HL7OIHK18EIA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:03:44.9257680+03:00 0HL7OIHK18EIA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:03:44.9267687+03:00 0HL7OIHK18EIA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:03:44.9267687+03:00 0HL7OIHK18EIA [INF] Request finished in 16.6481ms 200 application/json (15c52c40)
2017-09-13T22:03:45.6152247+03:00 0HL7OIHK18EIB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:03:45.6192301+03:00 0HL7OIHK18EIB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:03:45.6202280+03:00 0HL7OIHK18EIB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:03:45.6432436+03:00 0HL7OIHK18EIB [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:03:45.6432436+03:00 0HL7OIHK18EIB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:03:45.6442435+03:00 0HL7OIHK18EIB [INF] Request finished in 28.9832ms 200 application/json (15c52c40)
2017-09-13T22:04:03.2572041+03:00 0HL7OIHK18EIC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:04:03.2612064+03:00 0HL7OIHK18EIC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:04:03.2612064+03:00 0HL7OIHK18EIC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:04:03.2842212+03:00 0HL7OIHK18EIC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:04:03.2842212+03:00 0HL7OIHK18EIC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:04:03.2862257+03:00 0HL7OIHK18EIC [INF] Request finished in 28.0603ms 200 application/json (15c52c40)
2017-09-13T22:04:19.7069422+03:00 0HL7OIHK18EID [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:04:19.7099446+03:00 0HL7OIHK18EID [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:04:19.7099446+03:00 0HL7OIHK18EID [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:04:19.7329598+03:00 0HL7OIHK18EID [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:04:19.7329598+03:00 0HL7OIHK18EID [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:04:19.7339601+03:00 0HL7OIHK18EID [INF] Request finished in 27.4607ms 200 application/json (15c52c40)
2017-09-13T22:05:18.3438950+03:00 0HL7OIHK18EIE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:05:18.3463961+03:00 0HL7OIHK18EIE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:18.3468958+03:00 0HL7OIHK18EIE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:05:18.3473964+03:00 0HL7OIHK18EIE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:05:18.3473964+03:00 0HL7OIHK18EIE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:05:18.3483962+03:00 0HL7OIHK18EIE [INF] Request finished in 4.663ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:05:18.6535988+03:00 0HL7OIHK18EIF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:18.6621042+03:00 0HL7OIHK18EIF [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:18.6626055+03:00 0HL7OIHK18EIF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:18.7101376+03:00 0HL7OIHK18EIF [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:18.7106362+03:00 0HL7OIHK18EIF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:18.7111367+03:00 0HL7OIHK18EIF [INF] Request finished in 60.4005ms 200 application/json (15c52c40)
2017-09-13T22:05:21.9627906+03:00 0HL7OIHK18EIG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:21.9662927+03:00 0HL7OIHK18EIG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:21.9662927+03:00 0HL7OIHK18EIG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:21.9903102+03:00 0HL7OIHK18EIG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:21.9908095+03:00 0HL7OIHK18EIG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:21.9918106+03:00 0HL7OIHK18EIG [INF] Request finished in 30.2527ms 200 application/json (15c52c40)
2017-09-13T22:05:24.6121011+03:00 0HL7OIHK18EIH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:24.6151039+03:00 0HL7OIHK18EIH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:24.6151039+03:00 0HL7OIHK18EIH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:24.6371177+03:00 0HL7OIHK18EIH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:24.6376182+03:00 0HL7OIHK18EIH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:24.6386188+03:00 0HL7OIHK18EIH [INF] Request finished in 26.4482ms 200 application/json (15c52c40)
2017-09-13T22:05:28.2760130+03:00 0HL7OIHK18EII [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:28.2795155+03:00 0HL7OIHK18EII [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:28.2795155+03:00 0HL7OIHK18EII [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:28.3045317+03:00 0HL7OIHK18EII [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:28.3050326+03:00 0HL7OIHK18EII [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:28.3055328+03:00 0HL7OIHK18EII [INF] Request finished in 30.2484ms 200 application/json (15c52c40)
2017-09-13T22:05:43.6306538+03:00 0HL7OIHK18EIJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:05:43.6336558+03:00 0HL7OIHK18EIJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:43.6341567+03:00 0HL7OIHK18EIJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:05:43.6346565+03:00 0HL7OIHK18EIJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:05:43.6346565+03:00 0HL7OIHK18EIJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:05:43.6356567+03:00 0HL7OIHK18EIJ [INF] Request finished in 4.7262ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:05:43.8558029+03:00 0HL7OIHK18EIK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:43.8618065+03:00 0HL7OIHK18EIK [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:43.8618065+03:00 0HL7OIHK18EIK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:43.8878237+03:00 0HL7OIHK18EIK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:43.8883247+03:00 0HL7OIHK18EIK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:43.8898255+03:00 0HL7OIHK18EIK [INF] Request finished in 34.4622ms 200 application/json (15c52c40)
2017-09-13T22:05:45.0105678+03:00 0HL7OIHK18EIL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:45.0435900+03:00 0HL7OIHK18EIL [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:45.0440902+03:00 0HL7OIHK18EIL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:45.1991925+03:00 0HL7OIHK18EIL [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:45.2001932+03:00 0HL7OIHK18EIL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:45.2016947+03:00 0HL7OIHK18EIL [INF] Request finished in 202.9612ms 200 application/json (15c52c40)
2017-09-13T22:05:47.4902097+03:00 0HL7OIHK18EIM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:47.4947133+03:00 0HL7OIHK18EIM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:47.4947133+03:00 0HL7OIHK18EIM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:47.5162269+03:00 0HL7OIHK18EIM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:47.5167271+03:00 0HL7OIHK18EIM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:47.5172276+03:00 0HL7OIHK18EIM [INF] Request finished in 27.2527ms 200 application/json (15c52c40)
2017-09-13T22:05:48.0510814+03:00 0HL7OIHK18EIN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:05:48.0540834+03:00 0HL7OIHK18EIN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:05:48.0540834+03:00 0HL7OIHK18EIN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:05:48.0770982+03:00 0HL7OIHK18EIN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:05:48.0775991+03:00 0HL7OIHK18EIN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:05:48.0780993+03:00 0HL7OIHK18EIN [INF] Request finished in 27.5113ms 200 application/json (15c52c40)
2017-09-13T22:06:21.9205661+03:00 0HL7OIHK18EIO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:06:21.9240683+03:00 0HL7OIHK18EIO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:06:21.9240683+03:00 0HL7OIHK18EIO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:06:21.9495854+03:00 0HL7OIHK18EIO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:06:21.9500855+03:00 0HL7OIHK18EIO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:06:21.9510866+03:00 0HL7OIHK18EIO [INF] Request finished in 30.6869ms 200 application/json (15c52c40)
2017-09-13T22:06:25.7486246+03:00 0HL7OIHK18EIP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:06:25.7516262+03:00 0HL7OIHK18EIP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:06:25.7516262+03:00 0HL7OIHK18EIP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:06:25.7786449+03:00 0HL7OIHK18EIP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:06:25.7791455+03:00 0HL7OIHK18EIP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:06:25.7796452+03:00 0HL7OIHK18EIP [INF] Request finished in 31.673ms 200 application/json (15c52c40)
2017-09-13T22:06:26.4160667+03:00 0HL7OIHK18EIQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:06:26.4185682+03:00 0HL7OIHK18EIQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:06:26.4185682+03:00 0HL7OIHK18EIQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:06:26.4420839+03:00 0HL7OIHK18EIQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:06:26.4425841+03:00 0HL7OIHK18EIQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:06:26.4440868+03:00 0HL7OIHK18EIQ [INF] Request finished in 27.6198ms 200 application/json (15c52c40)
2017-09-13T22:06:27.3807052+03:00 0HL7OIHK18EIR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:06:27.3867092+03:00 0HL7OIHK18EIR [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:06:27.3867092+03:00 0HL7OIHK18EIR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:06:27.5067891+03:00 0HL7OIHK18EIR [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:06:27.5072897+03:00 0HL7OIHK18EIR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:06:27.5288033+03:00 0HL7OIHK18EIR [INF] Request finished in 129.4135ms 200 application/json (15c52c40)
2017-09-13T22:07:22.0972224+03:00 0HL7OIHK18EIS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:07:22.1022253+03:00 0HL7OIHK18EIS [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:07:22.1022253+03:00 0HL7OIHK18EIS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:07:22.2708364+03:00 0HL7OIHK18EIS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:07:22.2713381+03:00 0HL7OIHK18EIS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:07:22.2723376+03:00 0HL7OIHK18EIS [INF] Request finished in 175.2644ms 200 application/json (15c52c40)
2017-09-13T22:07:27.4407612+03:00 0HL7OIHK18EIT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:07:27.4917946+03:00 0HL7OIHK18EIT [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:07:27.4922955+03:00 0HL7OIHK18EIT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:07:27.5183123+03:00 0HL7OIHK18EIT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:07:27.5188129+03:00 0HL7OIHK18EIT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:07:27.5193134+03:00 0HL7OIHK18EIT [INF] Request finished in 79.1842ms 200 application/json (15c52c40)
2017-09-13T22:07:28.1727462+03:00 0HL7OIHK18EIU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:07:28.1762487+03:00 0HL7OIHK18EIU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:07:28.1762487+03:00 0HL7OIHK18EIU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:07:28.1992635+03:00 0HL7OIHK18EIU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:07:28.1997641+03:00 0HL7OIHK18EIU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:07:28.2002646+03:00 0HL7OIHK18EIU [INF] Request finished in 28.3106ms 200 application/json (15c52c40)
2017-09-13T22:07:28.6615697+03:00 0HL7OIHK18EIV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:07:28.6655724+03:00 0HL7OIHK18EIV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:07:28.6660729+03:00 0HL7OIHK18EIV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:07:28.9717756+03:00 0HL7OIHK18EIV [INF] Executed DbCommand (237ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:07:28.9722753+03:00 0HL7OIHK18EIV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:07:28.9797805+03:00 0HL7OIHK18EIV [INF] Request finished in 311.9592ms 200 application/json (15c52c40)
2017-09-13T22:08:26.9794466+03:00 0HL7OIHK18EJ0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:26.9819472+03:00 0HL7OIHK18EJ0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:26.9819472+03:00 0HL7OIHK18EJ0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:26.9969572+03:00 0HL7OIHK18EJ0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:26.9974589+03:00 0HL7OIHK18EJ0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:26.9979582+03:00 0HL7OIHK18EJ0 [INF] Request finished in 18.9387ms 200 application/json (15c52c40)
2017-09-13T22:08:36.8182763+03:00 0HL7OIHK18EJ1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:08:36.8212736+03:00 0HL7OIHK18EJ1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:36.8217741+03:00 0HL7OIHK18EJ1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:08:36.8222742+03:00 0HL7OIHK18EJ1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:08:36.8222742+03:00 0HL7OIHK18EJ1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:08:36.8232757+03:00 0HL7OIHK18EJ1 [INF] Request finished in 5.672ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:08:37.1099657+03:00 0HL7OIHK18EJ2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:37.1124664+03:00 0HL7OIHK18EJ2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:37.1129669+03:00 0HL7OIHK18EJ2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:37.1489908+03:00 0HL7OIHK18EJ2 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:37.1494917+03:00 0HL7OIHK18EJ2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:37.1614997+03:00 0HL7OIHK18EJ2 [INF] Request finished in 55.1951ms 200 application/json (15c52c40)
2017-09-13T22:08:38.3562906+03:00 0HL7OIHK18EJ3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:38.3587917+03:00 0HL7OIHK18EJ3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:38.3587917+03:00 0HL7OIHK18EJ3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:38.3773045+03:00 0HL7OIHK18EJ3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:38.3778055+03:00 0HL7OIHK18EJ3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:38.3783052+03:00 0HL7OIHK18EJ3 [INF] Request finished in 22.5407ms 200 application/json (15c52c40)
2017-09-13T22:08:41.3537757+03:00 0HL7OIHK18EJ4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:41.3562768+03:00 0HL7OIHK18EJ4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:41.3562768+03:00 0HL7OIHK18EJ4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:41.3732889+03:00 0HL7OIHK18EJ4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:41.3732889+03:00 0HL7OIHK18EJ4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:41.3737894+03:00 0HL7OIHK18EJ4 [INF] Request finished in 20.492ms 200 application/json (15c52c40)
2017-09-13T22:08:41.7970690+03:00 0HL7OIHK18EJ5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:41.7990707+03:00 0HL7OIHK18EJ5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:41.7995708+03:00 0HL7OIHK18EJ5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:41.8190835+03:00 0HL7OIHK18EJ5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:41.8195845+03:00 0HL7OIHK18EJ5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:41.8200842+03:00 0HL7OIHK18EJ5 [INF] Request finished in 23.507ms 200 application/json (15c52c40)
2017-09-13T22:08:42.3489347+03:00 0HL7OIHK18EJ6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:08:42.3534382+03:00 0HL7OIHK18EJ6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:08:42.3539384+03:00 0HL7OIHK18EJ6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:08:42.3744518+03:00 0HL7OIHK18EJ6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:08:42.3749523+03:00 0HL7OIHK18EJ6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:08:42.3754528+03:00 0HL7OIHK18EJ6 [INF] Request finished in 27.1793ms 200 application/json (15c52c40)
2017-09-13T22:09:32.6060182+03:00 0HL7OIHK18EJ7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:09:32.6100212+03:00 0HL7OIHK18EJ7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:09:32.6100212+03:00 0HL7OIHK18EJ7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:09:32.6335374+03:00 0HL7OIHK18EJ7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:09:32.6340371+03:00 0HL7OIHK18EJ7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:09:32.6345372+03:00 0HL7OIHK18EJ7 [INF] Request finished in 30.9996ms 200 application/json (15c52c40)
2017-09-13T22:09:37.0185119+03:00 0HL7OIHK18EJ8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:09:37.0210137+03:00 0HL7OIHK18EJ8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:09:37.0215154+03:00 0HL7OIHK18EJ8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:09:37.0395262+03:00 0HL7OIHK18EJ8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:09:37.0395262+03:00 0HL7OIHK18EJ8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:09:37.0410278+03:00 0HL7OIHK18EJ8 [INF] Request finished in 22.1258ms 200 application/json (15c52c40)
2017-09-13T22:09:38.4994067+03:00 0HL7OIHK18EJ9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:09:38.5059108+03:00 0HL7OIHK18EJ9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:09:38.5064110+03:00 0HL7OIHK18EJ9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:09:38.5284255+03:00 0HL7OIHK18EJ9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:09:38.5289265+03:00 0HL7OIHK18EJ9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:09:38.5294262+03:00 0HL7OIHK18EJ9 [INF] Request finished in 32.5659ms 200 application/json (15c52c40)
2017-09-13T22:09:43.0637193+03:00 0HL7OIHK18EJA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:09:43.0667217+03:00 0HL7OIHK18EJA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:09:43.0667217+03:00 0HL7OIHK18EJA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:09:43.0882358+03:00 0HL7OIHK18EJA [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:09:43.0887359+03:00 0HL7OIHK18EJA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:09:43.0892376+03:00 0HL7OIHK18EJA [INF] Request finished in 26.2209ms 200 application/json (15c52c40)
2017-09-13T22:09:59.5304687+03:00 0HL7OIHK18EJB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:09:59.5334731+03:00 0HL7OIHK18EJB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:09:59.5339732+03:00 0HL7OIHK18EJB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:09:59.5534836+03:00 0HL7OIHK18EJB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:09:59.5539845+03:00 0HL7OIHK18EJB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:09:59.5544846+03:00 0HL7OIHK18EJB [INF] Request finished in 24.9909ms 200 application/json (15c52c40)
2017-09-13T22:10:22.0950600+03:00 0HL7OIHK18EJC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:10:22.0980620+03:00 0HL7OIHK18EJC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:22.0985621+03:00 0HL7OIHK18EJC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:10:22.1205779+03:00 0HL7OIHK18EJC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:10:22.1210772+03:00 0HL7OIHK18EJC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:10:22.1220779+03:00 0HL7OIHK18EJC [INF] Request finished in 26.5852ms 200 application/json (15c52c40)
2017-09-13T22:10:31.9051512+03:00 0HL7OIHK18EJD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:10:31.9071525+03:00 0HL7OIHK18EJD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:31.9081524+03:00 0HL7OIHK18EJD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:10:31.9081524+03:00 0HL7OIHK18EJD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:10:31.9081524+03:00 0HL7OIHK18EJD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:10:31.9091535+03:00 0HL7OIHK18EJD [INF] Request finished in 4.4451ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:10:32.3754619+03:00 0HL7OIHK18EJE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:10:32.3804652+03:00 0HL7OIHK18EJE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:32.3804652+03:00 0HL7OIHK18EJE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:10:32.4044815+03:00 0HL7OIHK18EJE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:10:32.4054822+03:00 0HL7OIHK18EJE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:10:32.4104855+03:00 0HL7OIHK18EJE [INF] Request finished in 36.8062ms 200 application/json (15c52c40)
2017-09-13T22:10:35.3594403+03:00 0HL7OIHK18EJF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:10:35.3624411+03:00 0HL7OIHK18EJF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:35.3624411+03:00 0HL7OIHK18EJF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:10:35.3834542+03:00 0HL7OIHK18EJF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:10:35.3844545+03:00 0HL7OIHK18EJF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:10:35.3844545+03:00 0HL7OIHK18EJF [INF] Request finished in 26.0267ms 200 application/json (15c52c40)
2017-09-13T22:10:37.5679018+03:00 0HL7OIHK18EJG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:10:37.5709038+03:00 0HL7OIHK18EJG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:37.5709038+03:00 0HL7OIHK18EJG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:10:37.6039249+03:00 0HL7OIHK18EJG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:10:37.6039249+03:00 0HL7OIHK18EJG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:10:37.6109299+03:00 0HL7OIHK18EJG [INF] Request finished in 37.6075ms 200 application/json (15c52c40)
2017-09-13T22:10:46.2436563+03:00 0HL7OIHK18EJH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:10:46.2466586+03:00 0HL7OIHK18EJH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:10:46.2466586+03:00 0HL7OIHK18EJH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:10:46.2686740+03:00 0HL7OIHK18EJH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:10:46.2686740+03:00 0HL7OIHK18EJH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:10:46.2696743+03:00 0HL7OIHK18EJH [INF] Request finished in 26.0547ms 200 application/json (15c52c40)
2017-09-13T22:11:03.7932885+03:00 0HL7OIHK18EJI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:11:03.7972920+03:00 0HL7OIHK18EJI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:03.7972920+03:00 0HL7OIHK18EJI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:11:03.8173029+03:00 0HL7OIHK18EJI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:11:03.8173029+03:00 0HL7OIHK18EJI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:11:03.8183027+03:00 0HL7OIHK18EJI [INF] Request finished in 25.6836ms 200 application/json (15c52c40)
2017-09-13T22:11:24.2078085+03:00 0HL7OIHK18EJJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:11:24.2118123+03:00 0HL7OIHK18EJJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:24.2128118+03:00 0HL7OIHK18EJJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:11:24.2128118+03:00 0HL7OIHK18EJJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:11:24.2128118+03:00 0HL7OIHK18EJJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:11:24.2138113+03:00 0HL7OIHK18EJJ [INF] Request finished in 6.39ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:11:24.5970659+03:00 0HL7OIHK18EJK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:11:24.6010689+03:00 0HL7OIHK18EJK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:24.6010689+03:00 0HL7OIHK18EJK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:11:24.6480993+03:00 0HL7OIHK18EJK [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:11:24.6491003+03:00 0HL7OIHK18EJK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:11:24.6561050+03:00 0HL7OIHK18EJK [INF] Request finished in 57.6622ms 200 application/json (15c52c40)
2017-09-13T22:11:31.8858935+03:00 0HL7OIHK18EJL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:11:31.8888951+03:00 0HL7OIHK18EJL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:31.8888951+03:00 0HL7OIHK18EJL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:11:31.9159134+03:00 0HL7OIHK18EJL [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:11:31.9169140+03:00 0HL7OIHK18EJL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:11:31.9169140+03:00 0HL7OIHK18EJL [INF] Request finished in 31.1018ms 200 application/json (15c52c40)
2017-09-13T22:11:35.4782740+03:00 0HL7OIHK18EJM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:11:35.4802737+03:00 0HL7OIHK18EJM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:35.4812744+03:00 0HL7OIHK18EJM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:11:35.5042896+03:00 0HL7OIHK18EJM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:11:35.5052907+03:00 0HL7OIHK18EJM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:11:35.5062918+03:00 0HL7OIHK18EJM [INF] Request finished in 28.0931ms 200 application/json (15c52c40)
2017-09-13T22:11:36.9782659+03:00 0HL7OIHK18EJN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:11:36.9812679+03:00 0HL7OIHK18EJN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:11:36.9812679+03:00 0HL7OIHK18EJN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:11:37.0122880+03:00 0HL7OIHK18EJN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:11:37.0132887+03:00 0HL7OIHK18EJN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:11:37.0142898+03:00 0HL7OIHK18EJN [INF] Request finished in 35.6591ms 200 application/json (15c52c40)
2017-09-13T22:13:07.3980212+03:00 0HL7OIHK18EJO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:13:08.5738000+03:00 0HL7OIHK18EJP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:13:19.1648333+03:00 0HL7OIHK18EJP [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:19.1648333+03:00 0HL7OIHK18EJP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:13:19.1688391+03:00 0HL7OIHK18EJO [INF] Executed DbCommand (551ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:19.1688391+03:00 0HL7OIHK18EJP [INF] Request finished in 10599.7412ms 200 application/json (15c52c40)
2017-09-13T22:13:19.1698377+03:00 0HL7OIHK18EJO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:13:19.1718442+03:00 0HL7OIHK18EJO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:19.1728389+03:00 0HL7OIHK18EJO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:13:19.1758421+03:00 0HL7OIHK18EJO [INF] Request finished in 11776.0496ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:13:19.2068615+03:00 0HL7OIHK18EJQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:13:19.2098647+03:00 0HL7OIHK18EJQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:19.2098647+03:00 0HL7OIHK18EJQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:13:19.2108657+03:00 0HL7OIHK18EJQ [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"46420c875fd38c403f4725c0886971b0c8f1b7ed56502bcf85cddddb8c8065e7\"
}" (c9724191)
2017-09-13T22:13:19.2118640+03:00 0HL7OIHK18EJQ [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:13:19.2118640+03:00 0HL7OIHK18EJQ [INF] Request finished in 4.9054ms 200 application/json (15c52c40)
2017-09-13T22:13:21.6535242+03:00 0HL7OIHK18EJR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.130395068853586431505330001639&state=15053300016390.7135287972742108   (e5be5b71)
2017-09-13T22:13:21.6565262+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:21.6565262+03:00 0HL7OIHK18EJR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:13:21.6575264+03:00 0HL7OIHK18EJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:21.6575264+03:00 0HL7OIHK18EJR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:13:21.6585271+03:00 0HL7OIHK18EJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:21.6595341+03:00 0HL7OIHK18EJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:21.6595341+03:00 0HL7OIHK18EJR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053300016390.7135287972742108\",
  \"Nonce\": \"N0.130395068853586431505330001639\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.130395068853586431505330001639\",
    \"state\": \"15053300016390.7135287972742108\"
  }
}" (9a175e33)
2017-09-13T22:13:21.7836119+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (121ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:13:21.7956167+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:13:21.7996198+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:13:21.8026221+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:13:21.8066244+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:13:21.8086261+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:13:21.8136294+03:00 0HL7OIHK18EJR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:13:21.8346426+03:00 0HL7OIHK18EJR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053300016390.7135287972742108\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:13:21.8356436+03:00 0HL7OIHK18EJR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:21.8356436+03:00 0HL7OIHK18EJR [INF] Request finished in 189.3688ms 302  (15c52c40)
2017-09-13T22:13:28.2438884+03:00 0HL7OIHK18EJS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:13:28.3089318+03:00 0HL7OIHK18EJS [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:28.3099325+03:00 0HL7OIHK18EJS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:13:28.3399524+03:00 0HL7OIHK18EJS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:13:28.3399524+03:00 0HL7OIHK18EJS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:13:28.3419533+03:00 0HL7OIHK18EJS [INF] Request finished in 100.935ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:13:28.3789778+03:00 0HL7OIHK18EJT [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:13:28.3849822+03:00 0HL7OIHK18EJT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:28.3849822+03:00 0HL7OIHK18EJT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:13:28.4320142+03:00 0HL7OIHK18EJT [INF] Request finished in 16.3615ms 200 application/json (15c52c40)
2017-09-13T22:13:28.5801111+03:00 0HL7OIHK18EJU [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T22:13:28.6241406+03:00 0HL7OIHK18EJU [INF] Request finished in 68.9967ms 204  (15c52c40)
2017-09-13T22:13:28.6971890+03:00 0HL7OIHK18EJV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T22:13:28.7332121+03:00 0HL7OIHK18EK0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:13:28.7382154+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:28.7382154+03:00 0HL7OIHK18EJV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T22:13:28.7382154+03:00 0HL7OIHK18EJV [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T22:13:28.7482220+03:00 0HL7OIHK18EK0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:28.7482220+03:00 0HL7OIHK18EK0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:13:28.7902506+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:13:28.7942529+03:00 0HL7OIHK18EK0 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:13:28.7942529+03:00 0HL7OIHK18EK0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:13:28.7962542+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:13:28.8202705+03:00 0HL7OIHK18EK0 [INF] Request finished in 105.8282ms 200 application/json (15c52c40)
2017-09-13T22:13:28.8212708+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:13:28.8242728+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:13:28.8622984+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:13:28.9143332+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:13:28.9903828+03:00 0HL7OIHK18EJV [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:13:28.9913835+03:00 0HL7OIHK18EJV [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T22:13:29.0534246+03:00 0HL7OIHK18EJV [INF] Request finished in 341.4699ms 200 application/json (15c52c40)
2017-09-13T22:13:30.6274679+03:00 0HL7OIHK18EK1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:13:30.6304691+03:00 0HL7OIHK18EK1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:30.6304691+03:00 0HL7OIHK18EK1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:13:30.6494821+03:00 0HL7OIHK18EK1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:13:30.6504831+03:00 0HL7OIHK18EK1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:13:30.6514893+03:00 0HL7OIHK18EK1 [INF] Request finished in 23.5966ms 200 application/json (15c52c40)
2017-09-13T22:13:35.8519278+03:00 0HL7OIHK18EK2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:13:35.8559300+03:00 0HL7OIHK18EK2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:13:35.8559300+03:00 0HL7OIHK18EK2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:13:35.8759429+03:00 0HL7OIHK18EK2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:13:35.8759429+03:00 0HL7OIHK18EK2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:13:35.8769440+03:00 0HL7OIHK18EK2 [INF] Request finished in 25.6027ms 200 application/json (15c52c40)
2017-09-13T22:14:25.7146945+03:00 0HL7OIHK18EK3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:14:25.7176969+03:00 0HL7OIHK18EK3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:14:25.7176969+03:00 0HL7OIHK18EK3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:14:25.7337067+03:00 0HL7OIHK18EK3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:14:25.7347077+03:00 0HL7OIHK18EK3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:14:25.7357104+03:00 0HL7OIHK18EK3 [INF] Request finished in 20.9318ms 200 application/json (15c52c40)
2017-09-13T22:18:21.7628281+03:00 0HL7OIHK18EK4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86033462589295831505330301689&state=15053303016890.14818314212118655   (e5be5b71)
2017-09-13T22:18:21.7668332+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:21.7668332+03:00 0HL7OIHK18EK4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:21.7678330+03:00 0HL7OIHK18EK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:21.7678330+03:00 0HL7OIHK18EK4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:21.7688321+03:00 0HL7OIHK18EK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:21.7698332+03:00 0HL7OIHK18EK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:21.7698332+03:00 0HL7OIHK18EK4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303016890.14818314212118655\",
  \"Nonce\": \"N0.86033462589295831505330301689\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86033462589295831505330301689\",
    \"state\": \"15053303016890.14818314212118655\"
  }
}" (9a175e33)
2017-09-13T22:18:21.7738354+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:21.8538884+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:21.8578907+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:21.8608923+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:21.8638951+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:21.8658964+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:21.8678977+03:00 0HL7OIHK18EK4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:21.8839091+03:00 0HL7OIHK18EK4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303016890.14818314212118655\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:21.8849082+03:00 0HL7OIHK18EK4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:21.8849082+03:00 0HL7OIHK18EK4 [INF] Request finished in 123.2769ms 302  (15c52c40)
2017-09-13T22:18:25.4772883+03:00 0HL7OIHK18EK5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0618764053946551505330305288&state=15053303052880.6999489953877693   (e5be5b71)
2017-09-13T22:18:25.4802899+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:25.4812910+03:00 0HL7OIHK18EK5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:25.4822916+03:00 0HL7OIHK18EK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:25.4822916+03:00 0HL7OIHK18EK5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:25.4872950+03:00 0HL7OIHK18EK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:25.4872950+03:00 0HL7OIHK18EK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:25.4882960+03:00 0HL7OIHK18EK5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303052880.6999489953877693\",
  \"Nonce\": \"N0.0618764053946551505330305288\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0618764053946551505330305288\",
    \"state\": \"15053303052880.6999489953877693\"
  }
}" (9a175e33)
2017-09-13T22:18:25.4942992+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:25.8045050+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:25.8075066+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:25.8885603+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:25.9175855+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:25.9225833+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:25.9265859+03:00 0HL7OIHK18EK5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:25.9455985+03:00 0HL7OIHK18EK5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303052880.6999489953877693\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:25.9465992+03:00 0HL7OIHK18EK5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:25.9536038+03:00 0HL7OIHK18EK5 [INF] Request finished in 471.2687ms 302  (15c52c40)
2017-09-13T22:18:41.5489326+03:00 0HL7OIHK18EK6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99348146348067571505330317205&state=15053303172050.29220581198385664   (e5be5b71)
2017-09-13T22:18:41.5879593+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:41.5879593+03:00 0HL7OIHK18EK6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:41.5889599+03:00 0HL7OIHK18EK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:41.5889599+03:00 0HL7OIHK18EK6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:41.5899598+03:00 0HL7OIHK18EK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:41.5899598+03:00 0HL7OIHK18EK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:41.5899598+03:00 0HL7OIHK18EK6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303172050.29220581198385664\",
  \"Nonce\": \"N0.99348146348067571505330317205\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99348146348067571505330317205\",
    \"state\": \"15053303172050.29220581198385664\"
  }
}" (9a175e33)
2017-09-13T22:18:41.5959638+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:41.6089728+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:41.6119752+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:41.6209807+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:41.6229821+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:41.6249838+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:41.6289868+03:00 0HL7OIHK18EK6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:41.6550029+03:00 0HL7OIHK18EK6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303172050.29220581198385664\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:41.6700132+03:00 0HL7OIHK18EK6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:41.6720145+03:00 0HL7OIHK18EK6 [INF] Request finished in 124.3281ms 302  (15c52c40)
2017-09-13T22:18:41.9912260+03:00 0HL7OIHK18EK7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.150618759746580231505330321778&state=15053303217780.9077327302968856   (e5be5b71)
2017-09-13T22:18:43.6638730+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:43.6878905+03:00 0HL7OIHK18EK7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:43.6878905+03:00 0HL7OIHK18EK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:43.6888904+03:00 0HL7OIHK18EK7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:43.6888904+03:00 0HL7OIHK18EK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:43.6898903+03:00 0HL7OIHK18EK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:43.6898903+03:00 0HL7OIHK18EK7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303217780.9077327302968856\",
  \"Nonce\": \"N0.150618759746580231505330321778\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.150618759746580231505330321778\",
    \"state\": \"15053303217780.9077327302968856\"
  }
}" (9a175e33)
2017-09-13T22:18:43.7149068+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:44.8206396+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:44.8516601+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:45.6692012+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:45.7102280+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:45.7782735+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:45.7812755+03:00 0HL7OIHK18EK7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:45.8032900+03:00 0HL7OIHK18EK7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303217780.9077327302968856\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:45.8112957+03:00 0HL7OIHK18EK7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:45.8122960+03:00 0HL7OIHK18EK7 [INF] Request finished in 3821.2168ms 302  (15c52c40)
2017-09-13T22:18:49.2165507+03:00 0HL7OIHK18EK8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78341138738485651505330329124&state=15053303291240.5550888553679068   (e5be5b71)
2017-09-13T22:18:49.2195531+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:49.2205530+03:00 0HL7OIHK18EK8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:49.2205530+03:00 0HL7OIHK18EK8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:49.2205530+03:00 0HL7OIHK18EK8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:49.2215544+03:00 0HL7OIHK18EK8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:49.2215544+03:00 0HL7OIHK18EK8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:49.2225551+03:00 0HL7OIHK18EK8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303291240.5550888553679068\",
  \"Nonce\": \"N0.78341138738485651505330329124\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78341138738485651505330329124\",
    \"state\": \"15053303291240.5550888553679068\"
  }
}" (9a175e33)
2017-09-13T22:18:49.2255571+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:49.2375647+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:49.2395660+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:49.2415677+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:49.2465710+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:49.2525766+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:49.2565772+03:00 0HL7OIHK18EK8 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:49.2745896+03:00 0HL7OIHK18EK8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303291240.5550888553679068\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:49.2745896+03:00 0HL7OIHK18EK8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:49.2755898+03:00 0HL7OIHK18EK8 [INF] Request finished in 59.7295ms 302  (15c52c40)
2017-09-13T22:18:52.7218724+03:00 0HL7OIHK18EK9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56600221624254291505330332688&state=15053303326880.7144110992553727   (e5be5b71)
2017-09-13T22:18:52.7238737+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:52.7248748+03:00 0HL7OIHK18EK9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:52.7248748+03:00 0HL7OIHK18EK9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:52.7248748+03:00 0HL7OIHK18EK9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:52.7258751+03:00 0HL7OIHK18EK9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:52.7258751+03:00 0HL7OIHK18EK9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:52.7268761+03:00 0HL7OIHK18EK9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303326880.7144110992553727\",
  \"Nonce\": \"N0.56600221624254291505330332688\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56600221624254291505330332688\",
    \"state\": \"15053303326880.7144110992553727\"
  }
}" (9a175e33)
2017-09-13T22:18:52.7308780+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:52.7428863+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:52.7458883+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:52.7518919+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:52.7528941+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:52.7608979+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:52.7638999+03:00 0HL7OIHK18EK9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:52.7839131+03:00 0HL7OIHK18EK9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303326880.7144110992553727\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:52.7849161+03:00 0HL7OIHK18EK9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:52.7859148+03:00 0HL7OIHK18EK9 [INF] Request finished in 64.5678ms 302  (15c52c40)
2017-09-13T22:18:58.2525367+03:00 0HL7OIHK18EKA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.413819498213946041505330337676&state=15053303376760.39805748599985913   (e5be5b71)
2017-09-13T22:18:58.2555375+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:18:58.2565378+03:00 0HL7OIHK18EKA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:18:58.2565378+03:00 0HL7OIHK18EKA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:58.2565378+03:00 0HL7OIHK18EKA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:18:58.2575388+03:00 0HL7OIHK18EKA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:58.2575388+03:00 0HL7OIHK18EKA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:58.2575388+03:00 0HL7OIHK18EKA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303376760.39805748599985913\",
  \"Nonce\": \"N0.413819498213946041505330337676\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.413819498213946041505330337676\",
    \"state\": \"15053303376760.39805748599985913\"
  }
}" (9a175e33)
2017-09-13T22:18:58.2605412+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:18:58.2715485+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:58.2735494+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:18:58.2755508+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:18:58.2845571+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:18:58.2875587+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:18:58.2895600+03:00 0HL7OIHK18EKA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:18:58.3105740+03:00 0HL7OIHK18EKA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303376760.39805748599985913\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:18:58.3105740+03:00 0HL7OIHK18EKA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:18:58.3115746+03:00 0HL7OIHK18EKA [INF] Request finished in 61.0601ms 302  (15c52c40)
2017-09-13T22:19:00.8802823+03:00 0HL7OIHK18EKB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.118628731086731331505330340687&state=15053303406870.17379206851486484   (e5be5b71)
2017-09-13T22:19:00.8832842+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:00.8842849+03:00 0HL7OIHK18EKB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:19:00.8842849+03:00 0HL7OIHK18EKB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:00.8852852+03:00 0HL7OIHK18EKB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:19:00.8852852+03:00 0HL7OIHK18EKB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:00.8852852+03:00 0HL7OIHK18EKB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:00.8862858+03:00 0HL7OIHK18EKB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303406870.17379206851486484\",
  \"Nonce\": \"N0.118628731086731331505330340687\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.118628731086731331505330340687\",
    \"state\": \"15053303406870.17379206851486484\"
  }
}" (9a175e33)
2017-09-13T22:19:00.8912892+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:19:01.0724095+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:19:01.0774132+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:19:01.0814151+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:19:01.1184400+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:19:01.1244444+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:19:01.1894867+03:00 0HL7OIHK18EKB [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:19:01.2095015+03:00 0HL7OIHK18EKB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303406870.17379206851486484\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:19:01.2155043+03:00 0HL7OIHK18EKB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:01.2225085+03:00 0HL7OIHK18EKB [INF] Request finished in 336.9115ms 302  (15c52c40)
2017-09-13T22:19:01.7398516+03:00 0HL7OIHK18EKC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:19:02.0280425+03:00 0HL7OIHK18EKC [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:02.2221710+03:00 0HL7OIHK18EKC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:19:02.2962201+03:00 0HL7OIHK18EKC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:02.2962201+03:00 0HL7OIHK18EKC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:19:02.4853449+03:00 0HL7OIHK18EKC [INF] Request finished in 579.8025ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:19:02.6014226+03:00 0HL7OIHK18EKD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:19:02.6044246+03:00 0HL7OIHK18EKD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:02.6044246+03:00 0HL7OIHK18EKD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:19:02.6054249+03:00 0HL7OIHK18EKD [INF] Request finished in 4.3863ms 200 application/json (15c52c40)
2017-09-13T22:19:03.0937479+03:00 0HL7OIHK18EKE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:19:03.1027543+03:00 0HL7OIHK18EKE [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:03.1027543+03:00 0HL7OIHK18EKE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:19:03.1447821+03:00 0HL7OIHK18EKE [INF] Executed DbCommand (19ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:19:03.1447821+03:00 0HL7OIHK18EKE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:19:03.1527886+03:00 0HL7OIHK18EKE [INF] Request finished in 143.2637ms 200 application/json (15c52c40)
2017-09-13T22:19:06.5630457+03:00 0HL7OIHK18EKF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85320596093218631505330346429&state=15053303464290.9122730787283395   (e5be5b71)
2017-09-13T22:19:06.5660493+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:06.5670484+03:00 0HL7OIHK18EKF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:19:06.5670484+03:00 0HL7OIHK18EKF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:06.5670484+03:00 0HL7OIHK18EKF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:19:06.5680490+03:00 0HL7OIHK18EKF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:06.5680490+03:00 0HL7OIHK18EKF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:06.5690513+03:00 0HL7OIHK18EKF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053303464290.9122730787283395\",
  \"Nonce\": \"N0.85320596093218631505330346429\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85320596093218631505330346429\",
    \"state\": \"15053303464290.9122730787283395\"
  }
}" (9a175e33)
2017-09-13T22:19:06.5740530+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:19:06.5870616+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:19:06.5920653+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:19:06.5950673+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:19:06.6000706+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:19:06.6060738+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:19:06.6100769+03:00 0HL7OIHK18EKF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:19:06.6250868+03:00 0HL7OIHK18EKF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053303464290.9122730787283395\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:19:06.6260875+03:00 0HL7OIHK18EKF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:19:06.6270877+03:00 0HL7OIHK18EKF [INF] Request finished in 63.6887ms 302  (15c52c40)
2017-09-13T22:19:09.7741725+03:00 0HL7OIHK18EKG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:19:09.7761739+03:00 0HL7OIHK18EKG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:09.7771749+03:00 0HL7OIHK18EKG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:19:09.7791758+03:00 0HL7OIHK18EKG [INF] Request finished in 4.0215ms 200 application/json (15c52c40)
2017-09-13T22:19:10.7007866+03:00 0HL7OIHK18EKH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:19:10.7047889+03:00 0HL7OIHK18EKH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:10.7047889+03:00 0HL7OIHK18EKH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:19:10.7258028+03:00 0HL7OIHK18EKH [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:19:10.7258028+03:00 0HL7OIHK18EKH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:19:10.7268039+03:00 0HL7OIHK18EKH [INF] Request finished in 26.1293ms 200 application/json (15c52c40)
2017-09-13T22:19:11.3822380+03:00 0HL7OIHK18EKI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:19:11.3852400+03:00 0HL7OIHK18EKI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:19:11.3852400+03:00 0HL7OIHK18EKI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:19:11.4072542+03:00 0HL7OIHK18EKI [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:19:11.4082548+03:00 0HL7OIHK18EKI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:19:11.4082548+03:00 0HL7OIHK18EKI [INF] Request finished in 26.4403ms 200 application/json (15c52c40)
2017-09-13T22:23:06.0378134+03:00 0HL7OIHK18EKJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:23:06.0568264+03:00 0HL7OIHK18EKJ [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:23:06.0568264+03:00 0HL7OIHK18EKJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:23:06.0868459+03:00 0HL7OIHK18EKJ [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:23:06.0878466+03:00 0HL7OIHK18EKJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:23:06.1118637+03:00 0HL7OIHK18EKJ [INF] Request finished in 51.9894ms 200 application/json (15c52c40)
2017-09-13T22:23:13.5007563+03:00 0HL7OIHK18EKK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:23:13.5037579+03:00 0HL7OIHK18EKK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:23:13.5037579+03:00 0HL7OIHK18EKK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:23:13.5157675+03:00 0HL7OIHK18EKK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:23:13.5167673+03:00 0HL7OIHK18EKK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:23:13.5167673+03:00 0HL7OIHK18EKK [INF] Request finished in 16.022ms 200 application/json (15c52c40)
2017-09-13T22:23:14.9927449+03:00 0HL7OIHK18EKL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:23:14.9957465+03:00 0HL7OIHK18EKL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:23:14.9957465+03:00 0HL7OIHK18EKL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:23:15.0097558+03:00 0HL7OIHK18EKL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:23:15.0097558+03:00 0HL7OIHK18EKL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:23:15.0107564+03:00 0HL7OIHK18EKL [INF] Request finished in 17.9708ms 200 application/json (15c52c40)
2017-09-13T22:23:21.0487556+03:00 0HL7OIHK18EKM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:23:21.0517580+03:00 0HL7OIHK18EKM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:23:21.0517580+03:00 0HL7OIHK18EKM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:23:21.0747728+03:00 0HL7OIHK18EKM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:23:21.0747728+03:00 0HL7OIHK18EKM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:23:21.0767737+03:00 0HL7OIHK18EKM [INF] Request finished in 27.7588ms 200 application/json (15c52c40)
2017-09-13T22:23:22.5227318+03:00 0HL7OIHK18EKN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:23:22.5247324+03:00 0HL7OIHK18EKN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:23:22.5247324+03:00 0HL7OIHK18EKN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:23:22.5377414+03:00 0HL7OIHK18EKN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:23:22.5387420+03:00 0HL7OIHK18EKN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:23:22.5387420+03:00 0HL7OIHK18EKN [INF] Request finished in 16.2028ms 200 application/json (15c52c40)
2017-09-13T22:24:08.7107724+03:00 0HL7OIHK18EKO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52277081654535171505330648687&state=15053306486870.03995923900475007   (e5be5b71)
2017-09-13T22:24:08.7137736+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:08.7137736+03:00 0HL7OIHK18EKO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:08.7137736+03:00 0HL7OIHK18EKO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:08.7137736+03:00 0HL7OIHK18EKO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:08.7147742+03:00 0HL7OIHK18EKO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:08.7147742+03:00 0HL7OIHK18EKO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:08.7147742+03:00 0HL7OIHK18EKO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306486870.03995923900475007\",
  \"Nonce\": \"N0.52277081654535171505330648687\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52277081654535171505330648687\",
    \"state\": \"15053306486870.03995923900475007\"
  }
}" (9a175e33)
2017-09-13T22:24:08.7177758+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:08.7317855+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:08.7357913+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:08.7407918+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:08.7447945+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:08.7467958+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:08.7648078+03:00 0HL7OIHK18EKO [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:08.7838196+03:00 0HL7OIHK18EKO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306486870.03995923900475007\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:08.7848226+03:00 0HL7OIHK18EKO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:08.7868223+03:00 0HL7OIHK18EKO [INF] Request finished in 75.5458ms 302  (15c52c40)
2017-09-13T22:24:13.2457756+03:00 0HL7OIHK18EKP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.125331592642754951505330651965&state=15053306519650.8756498036703126   (e5be5b71)
2017-09-13T22:24:13.2888041+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:13.2948077+03:00 0HL7OIHK18EKP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:13.3208249+03:00 0HL7OIHK18EKP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:13.3218260+03:00 0HL7OIHK18EKP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:13.3218260+03:00 0HL7OIHK18EKP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:13.3228263+03:00 0HL7OIHK18EKP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:13.3228263+03:00 0HL7OIHK18EKP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306519650.8756498036703126\",
  \"Nonce\": \"N0.125331592642754951505330651965\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.125331592642754951505330651965\",
    \"state\": \"15053306519650.8756498036703126\"
  }
}" (9a175e33)
2017-09-13T22:24:13.3278296+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:13.9292287+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:14.1403717+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:14.1433701+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:14.4085461+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:14.5076106+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:14.5106130+03:00 0HL7OIHK18EKP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:14.5306270+03:00 0HL7OIHK18EKP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306519650.8756498036703126\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:14.5376312+03:00 0HL7OIHK18EKP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:14.5386315+03:00 0HL7OIHK18EKP [INF] Request finished in 1298.6877ms 302  (15c52c40)
2017-09-13T22:24:30.1329605+03:00 0HL7OIHK18EKQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87146337608609371505330669833&state=15053306698330.358475849357057   (e5be5b71)
2017-09-13T22:24:30.1369643+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:30.1369643+03:00 0HL7OIHK18EKQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:30.1379634+03:00 0HL7OIHK18EKQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:30.1379634+03:00 0HL7OIHK18EKQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:30.1389644+03:00 0HL7OIHK18EKQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:30.1389644+03:00 0HL7OIHK18EKQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:30.1389644+03:00 0HL7OIHK18EKQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306698330.358475849357057\",
  \"Nonce\": \"N0.87146337608609371505330669833\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87146337608609371505330669833\",
    \"state\": \"15053306698330.358475849357057\"
  }
}" (9a175e33)
2017-09-13T22:24:30.1449684+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:30.1569764+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:30.1649813+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:30.1669826+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:30.1699858+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:30.1729874+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:30.1769892+03:00 0HL7OIHK18EKQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:30.2200181+03:00 0HL7OIHK18EKQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306698330.358475849357057\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:30.2240204+03:00 0HL7OIHK18EKQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:30.2260221+03:00 0HL7OIHK18EKQ [INF] Request finished in 93.2076ms 302  (15c52c40)
2017-09-13T22:24:37.6569442+03:00 0HL7OIHK18EKR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2998502186562121505330676997&state=15053306769970.6919945797292761   (e5be5b71)
2017-09-13T22:24:37.6609465+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:37.6619471+03:00 0HL7OIHK18EKR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:37.6619471+03:00 0HL7OIHK18EKR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:37.6619471+03:00 0HL7OIHK18EKR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:37.6629482+03:00 0HL7OIHK18EKR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:37.6639484+03:00 0HL7OIHK18EKR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:37.6639484+03:00 0HL7OIHK18EKR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306769970.6919945797292761\",
  \"Nonce\": \"N0.2998502186562121505330676997\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2998502186562121505330676997\",
    \"state\": \"15053306769970.6919945797292761\"
  }
}" (9a175e33)
2017-09-13T22:24:37.6749561+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:37.6949690+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:37.7129809+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:37.7440015+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:37.7500058+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:37.7760219+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:37.7800257+03:00 0HL7OIHK18EKR [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:37.8060422+03:00 0HL7OIHK18EKR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306769970.6919945797292761\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:37.8310591+03:00 0HL7OIHK18EKR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:37.9031072+03:00 0HL7OIHK18EKR [INF] Request finished in 178.6082ms 302  (15c52c40)
2017-09-13T22:24:42.2059560+03:00 0HL7OIHK18EKS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.71009833573584281505330681699&state=15053306816990.06380573556620872   (e5be5b71)
2017-09-13T22:24:42.2089583+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:42.2119599+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:42.2219697+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:42.2279709+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:42.2309745+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:42.2379783+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:42.2389786+03:00 0HL7OIHK18EKS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:42.2399789+03:00 0HL7OIHK18EKS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:42.2399789+03:00 0HL7OIHK18EKS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:42.2409795+03:00 0HL7OIHK18EKS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:42.2419802+03:00 0HL7OIHK18EKS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:42.2419802+03:00 0HL7OIHK18EKS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306816990.06380573556620872\",
  \"Nonce\": \"N0.71009833573584281505330681699\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.71009833573584281505330681699\",
    \"state\": \"15053306816990.06380573556620872\"
  }
}" (9a175e33)
2017-09-13T22:24:42.2579904+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:42.2599921+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:42.2619931+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:42.2649951+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:42.2679982+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:42.2720001+03:00 0HL7OIHK18EKS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:42.2950153+03:00 0HL7OIHK18EKS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306816990.06380573556620872\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:42.2950153+03:00 0HL7OIHK18EKS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:42.2970167+03:00 0HL7OIHK18EKS [INF] Request finished in 90.302ms 302  (15c52c40)
2017-09-13T22:24:44.8266925+03:00 0HL7OIHK18EKT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7188069066646331505330684723&state=15053306847230.5221461206405071   (e5be5b71)
2017-09-13T22:24:44.8296949+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:44.8296949+03:00 0HL7OIHK18EKT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:44.8306960+03:00 0HL7OIHK18EKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:44.8306960+03:00 0HL7OIHK18EKT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:44.8306960+03:00 0HL7OIHK18EKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:44.8326969+03:00 0HL7OIHK18EKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:44.8326969+03:00 0HL7OIHK18EKT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306847230.5221461206405071\",
  \"Nonce\": \"N0.7188069066646331505330684723\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7188069066646331505330684723\",
    \"state\": \"15053306847230.5221461206405071\"
  }
}" (9a175e33)
2017-09-13T22:24:44.8417025+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:44.8577131+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:44.8597148+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:44.8837303+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:44.9147512+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:44.9187539+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:44.9537791+03:00 0HL7OIHK18EKT [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:44.9817953+03:00 0HL7OIHK18EKT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306847230.5221461206405071\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:44.9888019+03:00 0HL7OIHK18EKT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:44.9938040+03:00 0HL7OIHK18EKT [INF] Request finished in 166.9302ms 302  (15c52c40)
2017-09-13T22:24:49.1485550+03:00 0HL7OIHK18EKU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:24:49.1565611+03:00 0HL7OIHK18EKU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:49.2095962+03:00 0HL7OIHK18EKU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:49.2095962+03:00 0HL7OIHK18EKU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:49.2105961+03:00 0HL7OIHK18EKU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:24:49.2105961+03:00 0HL7OIHK18EKU [INF] Request finished in 62.866ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:24:49.6418822+03:00 0HL7OIHK18EKV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:24:49.6468855+03:00 0HL7OIHK18EKV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:49.6468855+03:00 0HL7OIHK18EKV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:24:49.6568925+03:00 0HL7OIHK18EKV [INF] Request finished in 6.626ms 200 application/json (15c52c40)
2017-09-13T22:24:49.7149301+03:00 0HL7OIHK18EL0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.467713015689309231505330688844&state=15053306888440.17475672922913144   (e5be5b71)
2017-09-13T22:24:49.7309407+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:49.7379458+03:00 0HL7OIHK18EL0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:49.7389468+03:00 0HL7OIHK18EL0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:49.7389468+03:00 0HL7OIHK18EL0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:49.7399467+03:00 0HL7OIHK18EL0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:49.7419476+03:00 0HL7OIHK18EL0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:49.7419476+03:00 0HL7OIHK18EL0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306888440.17475672922913144\",
  \"Nonce\": \"N0.467713015689309231505330688844\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.467713015689309231505330688844\",
    \"state\": \"15053306888440.17475672922913144\"
  }
}" (9a175e33)
2017-09-13T22:24:49.7449504+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:49.8039895+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:49.8210004+03:00 0HL7OIHK18EL1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:24:49.8210004+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:49.8430146+03:00 0HL7OIHK18EL1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:49.8440152+03:00 0HL7OIHK18EL1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:24:49.8450159+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:49.8640285+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:49.8710343+03:00 0HL7OIHK18EL1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:49.8720350+03:00 0HL7OIHK18EL1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:24:49.8820404+03:00 0HL7OIHK18EL1 [INF] Request finished in 66.2655ms 200 application/json (15c52c40)
2017-09-13T22:24:49.8820404+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:49.9000535+03:00 0HL7OIHK18EL0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:49.9250701+03:00 0HL7OIHK18EL0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306888440.17475672922913144\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:49.9340757+03:00 0HL7OIHK18EL0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:49.9380775+03:00 0HL7OIHK18EL0 [INF] Request finished in 225.2651ms 302  (15c52c40)
2017-09-13T22:24:51.8733601+03:00 0HL7OIHK18EL2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:24:51.8763613+03:00 0HL7OIHK18EL2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:51.8763613+03:00 0HL7OIHK18EL2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:24:51.9013783+03:00 0HL7OIHK18EL2 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:51.9013783+03:00 0HL7OIHK18EL2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:24:51.9023789+03:00 0HL7OIHK18EL2 [INF] Request finished in 29.6504ms 200 application/json (15c52c40)
2017-09-13T22:24:54.0888279+03:00 0HL7OIHK18EL3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.491910911953422851505330692697&state=15053306926970.417502154643147   (e5be5b71)
2017-09-13T22:24:54.0918295+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:54.0918295+03:00 0HL7OIHK18EL3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:54.0928301+03:00 0HL7OIHK18EL3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:54.0928301+03:00 0HL7OIHK18EL3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:54.0938300+03:00 0HL7OIHK18EL3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:54.0938300+03:00 0HL7OIHK18EL3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:54.0948307+03:00 0HL7OIHK18EL3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306926970.417502154643147\",
  \"Nonce\": \"N0.491910911953422851505330692697\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.491910911953422851505330692697\",
    \"state\": \"15053306926970.417502154643147\"
  }
}" (9a175e33)
2017-09-13T22:24:54.0978327+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:54.1138433+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:54.1178463+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:54.1198468+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:54.1218494+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:54.1258508+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:54.1278525+03:00 0HL7OIHK18EL3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:54.1488665+03:00 0HL7OIHK18EL3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306926970.417502154643147\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:54.1498671+03:00 0HL7OIHK18EL3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:54.1508682+03:00 0HL7OIHK18EL3 [INF] Request finished in 63.6157ms 302  (15c52c40)
2017-09-13T22:24:56.6054936+03:00 0HL7OIHK18EL4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:24:56.6084955+03:00 0HL7OIHK18EL4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:56.6084955+03:00 0HL7OIHK18EL4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:24:56.6305105+03:00 0HL7OIHK18EL4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:56.6305105+03:00 0HL7OIHK18EL4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:24:56.6315116+03:00 0HL7OIHK18EL4 [INF] Request finished in 26.1877ms 200 application/json (15c52c40)
2017-09-13T22:24:56.9166997+03:00 0HL7OIHK18EL5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58739885355124111505330696733&state=15053306967330.024500297883603084   (e5be5b71)
2017-09-13T22:24:56.9207023+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:24:56.9217042+03:00 0HL7OIHK18EL5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:24:56.9217042+03:00 0HL7OIHK18EL5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:56.9217042+03:00 0HL7OIHK18EL5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:24:56.9227044+03:00 0HL7OIHK18EL5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:56.9237051+03:00 0HL7OIHK18EL5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:56.9237051+03:00 0HL7OIHK18EL5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053306967330.024500297883603084\",
  \"Nonce\": \"N0.58739885355124111505330696733\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58739885355124111505330696733\",
    \"state\": \"15053306967330.024500297883603084\"
  }
}" (9a175e33)
2017-09-13T22:24:56.9317092+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:24:56.9457201+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:56.9497219+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:24:56.9927500+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:24:57.0007557+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:24:57.0037577+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:24:57.0187673+03:00 0HL7OIHK18EL5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:24:57.0597952+03:00 0HL7OIHK18EL5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053306967330.024500297883603084\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:24:57.0728031+03:00 0HL7OIHK18EL5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:24:57.0798077+03:00 0HL7OIHK18EL5 [INF] Request finished in 157.5805ms 302  (15c52c40)
2017-09-13T22:25:01.5967998+03:00 0HL7OIHK18EL6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:25:01.5998018+03:00 0HL7OIHK18EL6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:25:01.5998018+03:00 0HL7OIHK18EL6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:25:01.6008025+03:00 0HL7OIHK18EL6 [INF] Request finished in 3.9556ms 200 application/json (15c52c40)
2017-09-13T22:25:01.9190132+03:00 0HL7OIHK18EL7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:25:01.9210138+03:00 0HL7OIHK18EL7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:25:01.9210138+03:00 0HL7OIHK18EL7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:25:01.9390257+03:00 0HL7OIHK18EL7 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:25:01.9390257+03:00 0HL7OIHK18EL7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:25:01.9400260+03:00 0HL7OIHK18EL7 [INF] Request finished in 21.5053ms 200 application/json (15c52c40)
2017-09-13T22:25:03.6240992+03:00 0HL7OIHK18EL8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:25:03.6271016+03:00 0HL7OIHK18EL8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:25:03.6271016+03:00 0HL7OIHK18EL8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:25:03.6491165+03:00 0HL7OIHK18EL8 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:25:03.6491165+03:00 0HL7OIHK18EL8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:25:03.6501160+03:00 0HL7OIHK18EL8 [INF] Request finished in 25.4405ms 200 application/json (15c52c40)
2017-09-13T22:26:29.2051475+03:00 0HL7OIHK18EL9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:26:29.6034074+03:00 0HL7OIHK18EL9 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:29.8715854+03:00 0HL7OIHK18EL9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:26:30.1027381+03:00 0HL7OIHK18EL9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:26:30.1037383+03:00 0HL7OIHK18EL9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:26:30.5430289+03:00 0HL7OIHK18EL9 [INF] Request finished in 953.7003ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:26:30.8532352+03:00 0HL7OIHK18ELA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:26:30.9012666+03:00 0HL7OIHK18ELA [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:30.9022672+03:00 0HL7OIHK18ELA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:26:30.9462960+03:00 0HL7OIHK18ELA [INF] Request finished in 136.8689ms 200 application/json (15c52c40)
2017-09-13T22:26:31.1424259+03:00 0HL7OIHK18ELB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:26:31.1644413+03:00 0HL7OIHK18ELB [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:31.1644413+03:00 0HL7OIHK18ELB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:26:31.6677735+03:00 0HL7OIHK18ELB [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:26:31.6687745+03:00 0HL7OIHK18ELB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:26:31.8979275+03:00 0HL7OIHK18ELB [INF] Request finished in 711.9129ms 200 application/json (15c52c40)
2017-09-13T22:26:38.9643308+03:00 0HL7OIHK18ELC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:26:38.9673328+03:00 0HL7OIHK18ELC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:38.9673328+03:00 0HL7OIHK18ELC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:26:38.9873457+03:00 0HL7OIHK18ELC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:26:38.9883459+03:00 0HL7OIHK18ELC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:26:38.9883459+03:00 0HL7OIHK18ELC [INF] Request finished in 24.7959ms 200 application/json (15c52c40)
2017-09-13T22:26:40.4763315+03:00 0HL7OIHK18ELD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:26:40.4833365+03:00 0HL7OIHK18ELD [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:40.4843372+03:00 0HL7OIHK18ELD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:26:40.5043504+03:00 0HL7OIHK18ELD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:26:40.5053507+03:00 0HL7OIHK18ELD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:26:40.5063522+03:00 0HL7OIHK18ELD [INF] Request finished in 30.7343ms 200 application/json (15c52c40)
2017-09-13T22:26:57.0062896+03:00 0HL7OIHK18ELE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:26:57.0122932+03:00 0HL7OIHK18ELE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:57.0132946+03:00 0HL7OIHK18ELE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:26:57.0333063+03:00 0HL7OIHK18ELE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:26:57.0333063+03:00 0HL7OIHK18ELE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:26:57.0343070+03:00 0HL7OIHK18ELE [INF] Request finished in 28.9785ms 200 application/json (15c52c40)
2017-09-13T22:26:58.4982766+03:00 0HL7OIHK18ELF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:26:58.5012782+03:00 0HL7OIHK18ELF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:26:58.5012782+03:00 0HL7OIHK18ELF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:26:58.5192909+03:00 0HL7OIHK18ELF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:26:58.5202916+03:00 0HL7OIHK18ELF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:26:58.5212926+03:00 0HL7OIHK18ELF [INF] Request finished in 22.8999ms 200 application/json (15c52c40)
2017-09-13T22:29:57.7189466+03:00 0HL7OIHK18ELG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.111124719693423521505330997686&state=15053309976860.34249660678946414   (e5be5b71)
2017-09-13T22:29:57.7229489+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:29:57.7239495+03:00 0HL7OIHK18ELG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:29:57.7239495+03:00 0HL7OIHK18ELG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:29:57.7239495+03:00 0HL7OIHK18ELG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:29:57.7249498+03:00 0HL7OIHK18ELG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:29:57.7249498+03:00 0HL7OIHK18ELG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:29:57.7259516+03:00 0HL7OIHK18ELG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053309976860.34249660678946414\",
  \"Nonce\": \"N0.111124719693423521505330997686\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.111124719693423521505330997686\",
    \"state\": \"15053309976860.34249660678946414\"
  }
}" (9a175e33)
2017-09-13T22:29:57.7289524+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:29:57.7409616+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:29:57.7439616+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:29:57.7469640+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:29:57.7499656+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:29:57.7509666+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:29:57.7559703+03:00 0HL7OIHK18ELG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:29:57.7669792+03:00 0HL7OIHK18ELG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053309976860.34249660678946414\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:29:57.7669792+03:00 0HL7OIHK18ELG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:29:57.7679779+03:00 0HL7OIHK18ELG [INF] Request finished in 49.3798ms 302  (15c52c40)
2017-09-13T22:30:02.0007865+03:00 0HL7OIHK18ELH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59843565626871921505331001709&state=15053310017090.414175976012608   (e5be5b71)
2017-09-13T22:30:02.0057922+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:30:02.0067909+03:00 0HL7OIHK18ELH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:30:02.0067909+03:00 0HL7OIHK18ELH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:02.0067909+03:00 0HL7OIHK18ELH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:30:02.0077912+03:00 0HL7OIHK18ELH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:02.0087918+03:00 0HL7OIHK18ELH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:02.0087918+03:00 0HL7OIHK18ELH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053310017090.414175976012608\",
  \"Nonce\": \"N0.59843565626871921505331001709\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59843565626871921505331001709\",
    \"state\": \"15053310017090.414175976012608\"
  }
}" (9a175e33)
2017-09-13T22:30:02.0308068+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:30:02.0638287+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:30:02.0948492+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:30:02.1018535+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:30:02.1078582+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:30:02.1138614+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:30:02.1158635+03:00 0HL7OIHK18ELH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:30:02.1448824+03:00 0HL7OIHK18ELH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053310017090.414175976012608\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:30:02.1789049+03:00 0HL7OIHK18ELH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:02.1819069+03:00 0HL7OIHK18ELH [INF] Request finished in 179.7403ms 302  (15c52c40)
2017-09-13T22:30:05.1929015+03:00 0HL7OIHK18ELI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8832124399196081505331005118&state=15053310051180.589291946442259   (e5be5b71)
2017-09-13T22:30:05.1949021+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:30:05.1959027+03:00 0HL7OIHK18ELI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:30:05.1959027+03:00 0HL7OIHK18ELI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:05.1959027+03:00 0HL7OIHK18ELI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:30:05.1969030+03:00 0HL7OIHK18ELI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:05.1969030+03:00 0HL7OIHK18ELI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:05.1969030+03:00 0HL7OIHK18ELI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053310051180.589291946442259\",
  \"Nonce\": \"N0.8832124399196081505331005118\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8832124399196081505331005118\",
    \"state\": \"15053310051180.589291946442259\"
  }
}" (9a175e33)
2017-09-13T22:30:05.1999062+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:30:05.2089114+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:30:05.2109135+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:30:05.2119141+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:30:05.2139159+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:30:05.2169171+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:30:05.2209201+03:00 0HL7OIHK18ELI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:30:05.2419328+03:00 0HL7OIHK18ELI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053310051180.589291946442259\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:30:05.2429347+03:00 0HL7OIHK18ELI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:30:05.2439346+03:00 0HL7OIHK18ELI [INF] Request finished in 51.1174ms 302  (15c52c40)
2017-09-13T22:30:09.6688653+03:00 0HL7OIHK18ELJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:30:09.6728707+03:00 0HL7OIHK18ELJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:30:09.6728707+03:00 0HL7OIHK18ELJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:30:09.6738690+03:00 0HL7OIHK18ELJ [INF] Request finished in 4.498ms 200 application/json (15c52c40)
2017-09-13T22:30:09.9900792+03:00 0HL7OIHK18ELK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:30:09.9930812+03:00 0HL7OIHK18ELK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:30:09.9930812+03:00 0HL7OIHK18ELK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:30:10.0150946+03:00 0HL7OIHK18ELK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:30:10.0150946+03:00 0HL7OIHK18ELK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:30:10.0160953+03:00 0HL7OIHK18ELK [INF] Request finished in 26.3523ms 200 application/json (15c52c40)
2017-09-13T22:30:10.1571891+03:00 0HL7OIHK18ELL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:30:10.1601907+03:00 0HL7OIHK18ELL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:30:10.1601907+03:00 0HL7OIHK18ELL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:30:10.1822049+03:00 0HL7OIHK18ELL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:30:10.1832068+03:00 0HL7OIHK18ELL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:30:10.1842098+03:00 0HL7OIHK18ELL [INF] Request finished in 26.4763ms 200 application/json (15c52c40)
2017-09-13T22:34:26.7133836+03:00 0HL7OIHK18ELM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:34:27.2466472+03:00 0HL7OIHK18ELM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:34:27.2471481+03:00 0HL7OIHK18ELM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:34:27.3141933+03:00 0HL7OIHK18ELM [INF] Executed DbCommand (50ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:34:27.3146931+03:00 0HL7OIHK18ELM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:34:27.3151936+03:00 0HL7OIHK18ELM [INF] Request finished in 608.6607ms 200 application/json (15c52c40)
2017-09-13T22:34:28.2323028+03:00 0HL7OIHK18ELN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:34:28.2408063+03:00 0HL7OIHK18ELN [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:34:28.2408063+03:00 0HL7OIHK18ELN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:34:28.2703260+03:00 0HL7OIHK18ELN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:34:28.2708265+03:00 0HL7OIHK18ELN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:34:28.2723269+03:00 0HL7OIHK18ELN [INF] Request finished in 41.378ms 200 application/json (15c52c40)
2017-09-13T22:35:05.7489732+03:00 0HL7OIHK18ELO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53195410223151711505331305713&state=15053313057130.3237645480004885   (e5be5b71)
2017-09-13T22:35:05.7519760+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:05.7529747+03:00 0HL7OIHK18ELO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:05.7529747+03:00 0HL7OIHK18ELO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:05.7539761+03:00 0HL7OIHK18ELO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:05.7539761+03:00 0HL7OIHK18ELO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:05.7549764+03:00 0HL7OIHK18ELO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:05.7549764+03:00 0HL7OIHK18ELO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313057130.3237645480004885\",
  \"Nonce\": \"N0.53195410223151711505331305713\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53195410223151711505331305713\",
    \"state\": \"15053313057130.3237645480004885\"
  }
}" (9a175e33)
2017-09-13T22:35:05.7599797+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:05.8720543+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:05.8820617+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:05.8960702+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:05.9020734+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:05.9050754+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:05.9090777+03:00 0HL7OIHK18ELO [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:05.9190851+03:00 0HL7OIHK18ELO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313057130.3237645480004885\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:05.9200850+03:00 0HL7OIHK18ELO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:05.9200850+03:00 0HL7OIHK18ELO [INF] Request finished in 171.7918ms 302  (15c52c40)
2017-09-13T22:35:08.8110005+03:00 0HL7OIHK18ELP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50284979235355491505331308720&state=15053313087200.7248489201378834   (e5be5b71)
2017-09-13T22:35:08.8480254+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:08.8490257+03:00 0HL7OIHK18ELP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:08.8510266+03:00 0HL7OIHK18ELP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:08.8510266+03:00 0HL7OIHK18ELP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:08.8520273+03:00 0HL7OIHK18ELP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:08.8530283+03:00 0HL7OIHK18ELP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:08.8530283+03:00 0HL7OIHK18ELP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313087200.7248489201378834\",
  \"Nonce\": \"N0.50284979235355491505331308720\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50284979235355491505331308720\",
    \"state\": \"15053313087200.7248489201378834\"
  }
}" (9a175e33)
2017-09-13T22:35:08.8580324+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:08.8740418+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:08.8770442+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:08.8820483+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:08.8880511+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:08.9070637+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:08.9300793+03:00 0HL7OIHK18ELP [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:08.9540949+03:00 0HL7OIHK18ELP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313087200.7248489201378834\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:08.9550955+03:00 0HL7OIHK18ELP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:08.9570968+03:00 0HL7OIHK18ELP [INF] Request finished in 181.5478ms 302  (15c52c40)
2017-09-13T22:35:11.9417360+03:00 0HL7OIHK18ELQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.154154785041225931505331311894&state=15053313118940.8212958184988937   (e5be5b71)
2017-09-13T22:35:11.9457390+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:11.9487410+03:00 0HL7OIHK18ELQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:11.9487410+03:00 0HL7OIHK18ELQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:11.9497429+03:00 0HL7OIHK18ELQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:11.9507419+03:00 0HL7OIHK18ELQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:11.9517426+03:00 0HL7OIHK18ELQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:11.9517426+03:00 0HL7OIHK18ELQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313118940.8212958184988937\",
  \"Nonce\": \"N0.154154785041225931505331311894\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.154154785041225931505331311894\",
    \"state\": \"15053313118940.8212958184988937\"
  }
}" (9a175e33)
2017-09-13T22:35:11.9547446+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:11.9657523+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:11.9687539+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:11.9717559+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:11.9727573+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:11.9767596+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:11.9787601+03:00 0HL7OIHK18ELQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:12.0017757+03:00 0HL7OIHK18ELQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313118940.8212958184988937\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:12.0017757+03:00 0HL7OIHK18ELQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:12.0047773+03:00 0HL7OIHK18ELQ [INF] Request finished in 61.5018ms 302  (15c52c40)
2017-09-13T22:35:14.9177134+03:00 0HL7OIHK18ELR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51054863475723861505331314897&state=15053313148970.9485595865909078   (e5be5b71)
2017-09-13T22:35:14.9207169+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:14.9207169+03:00 0HL7OIHK18ELR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:14.9217152+03:00 0HL7OIHK18ELR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:14.9217152+03:00 0HL7OIHK18ELR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:14.9217152+03:00 0HL7OIHK18ELR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:14.9227163+03:00 0HL7OIHK18ELR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:14.9227163+03:00 0HL7OIHK18ELR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313148970.9485595865909078\",
  \"Nonce\": \"N0.51054863475723861505331314897\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51054863475723861505331314897\",
    \"state\": \"15053313148970.9485595865909078\"
  }
}" (9a175e33)
2017-09-13T22:35:14.9257187+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:14.9327257+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:14.9347246+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:14.9367244+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:14.9387257+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:14.9397283+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:14.9417289+03:00 0HL7OIHK18ELR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:14.9737556+03:00 0HL7OIHK18ELR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313148970.9485595865909078\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:14.9747571+03:00 0HL7OIHK18ELR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:14.9757569+03:00 0HL7OIHK18ELR [INF] Request finished in 57.3109ms 302  (15c52c40)
2017-09-13T22:35:17.9320692+03:00 0HL7OIHK18ELS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59933027902687421505331317898&state=15053313178980.5284176910409735   (e5be5b71)
2017-09-13T22:35:17.9340721+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:17.9350708+03:00 0HL7OIHK18ELS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:17.9350708+03:00 0HL7OIHK18ELS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:17.9350708+03:00 0HL7OIHK18ELS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:17.9360715+03:00 0HL7OIHK18ELS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:17.9360715+03:00 0HL7OIHK18ELS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:17.9370721+03:00 0HL7OIHK18ELS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313178980.5284176910409735\",
  \"Nonce\": \"N0.59933027902687421505331317898\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59933027902687421505331317898\",
    \"state\": \"15053313178980.5284176910409735\"
  }
}" (9a175e33)
2017-09-13T22:35:17.9410752+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:17.9520821+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:17.9610884+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:17.9650915+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:17.9680935+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:17.9730964+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:17.9750977+03:00 0HL7OIHK18ELS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:17.9911083+03:00 0HL7OIHK18ELS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313178980.5284176910409735\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:17.9921098+03:00 0HL7OIHK18ELS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:17.9921098+03:00 0HL7OIHK18ELS [INF] Request finished in 61.2895ms 302  (15c52c40)
2017-09-13T22:35:21.0371258+03:00 0HL7OIHK18ELT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.154196410854868571505331320901&state=15053313209010.687695538803017   (e5be5b71)
2017-09-13T22:35:21.0461318+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:21.0471328+03:00 0HL7OIHK18ELT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:21.0471328+03:00 0HL7OIHK18ELT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:21.0471328+03:00 0HL7OIHK18ELT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:21.0481335+03:00 0HL7OIHK18ELT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:21.0491337+03:00 0HL7OIHK18ELT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:21.0491337+03:00 0HL7OIHK18ELT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313209010.687695538803017\",
  \"Nonce\": \"N0.154196410854868571505331320901\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.154196410854868571505331320901\",
    \"state\": \"15053313209010.687695538803017\"
  }
}" (9a175e33)
2017-09-13T22:35:21.0561380+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:21.0691470+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:21.0741503+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:21.0811553+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:21.1081728+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:21.1321891+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:21.1341901+03:00 0HL7OIHK18ELT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:21.1532023+03:00 0HL7OIHK18ELT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313209010.687695538803017\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:21.1542037+03:00 0HL7OIHK18ELT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:21.1672123+03:00 0HL7OIHK18ELT [INF] Request finished in 201.5907ms 302  (15c52c40)
2017-09-13T22:35:26.6448407+03:00 0HL7OIHK18ELU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47116922645632831505331326314&state=15053313263140.10510058152693014   (e5be5b71)
2017-09-13T22:35:26.6538467+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:26.6558500+03:00 0HL7OIHK18ELU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:26.6588496+03:00 0HL7OIHK18ELU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:26.6588496+03:00 0HL7OIHK18ELU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:26.6598499+03:00 0HL7OIHK18ELU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:26.6598499+03:00 0HL7OIHK18ELU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:26.6608505+03:00 0HL7OIHK18ELU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313263140.10510058152693014\",
  \"Nonce\": \"N0.47116922645632831505331326314\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47116922645632831505331326314\",
    \"state\": \"15053313263140.10510058152693014\"
  }
}" (9a175e33)
2017-09-13T22:35:26.6638521+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:26.7369009+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:26.7619171+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:26.7679214+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:26.7749261+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:26.7779281+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:26.7979413+03:00 0HL7OIHK18ELU [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:26.8329645+03:00 0HL7OIHK18ELU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313263140.10510058152693014\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:26.8339652+03:00 0HL7OIHK18ELU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:26.8349659+03:00 0HL7OIHK18ELU [INF] Request finished in 190.864ms 302  (15c52c40)
2017-09-13T22:35:30.0160732+03:00 0HL7OIHK18ELV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.363519460134777761505331329691&state=15053313296910.616917063039826   (e5be5b71)
2017-09-13T22:35:30.0180741+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:30.0190752+03:00 0HL7OIHK18ELV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:30.0190752+03:00 0HL7OIHK18ELV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:30.0200758+03:00 0HL7OIHK18ELV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:30.0200758+03:00 0HL7OIHK18ELV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:30.0210765+03:00 0HL7OIHK18ELV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:30.0210765+03:00 0HL7OIHK18ELV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313296910.616917063039826\",
  \"Nonce\": \"N0.363519460134777761505331329691\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.363519460134777761505331329691\",
    \"state\": \"15053313296910.616917063039826\"
  }
}" (9a175e33)
2017-09-13T22:35:30.0290814+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:30.0420904+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:30.0440913+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:30.0460931+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:30.0480940+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:30.0500953+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:30.0520963+03:00 0HL7OIHK18ELV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:30.0751119+03:00 0HL7OIHK18ELV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313296910.616917063039826\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:30.0771132+03:00 0HL7OIHK18ELV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:30.0781135+03:00 0HL7OIHK18ELV [INF] Request finished in 62.4141ms 302  (15c52c40)
2017-09-13T22:35:50.3815618+03:00 0HL7OIHK18EM0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40701331069203021505331343205&state=15053313432050.4582719279001377   (e5be5b71)
2017-09-13T22:35:50.3855645+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:50.3855645+03:00 0HL7OIHK18EM0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:50.3865647+03:00 0HL7OIHK18EM0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:50.3865647+03:00 0HL7OIHK18EM0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:50.3865647+03:00 0HL7OIHK18EM0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:50.3875654+03:00 0HL7OIHK18EM0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:50.3875654+03:00 0HL7OIHK18EM0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313432050.4582719279001377\",
  \"Nonce\": \"N0.40701331069203021505331343205\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40701331069203021505331343205\",
    \"state\": \"15053313432050.4582719279001377\"
  }
}" (9a175e33)
2017-09-13T22:35:50.3955711+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:50.4175853+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:50.7978375+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:50.8278570+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:50.8368634+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:50.8428669+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:50.8468696+03:00 0HL7OIHK18EM0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:50.8688842+03:00 0HL7OIHK18EM0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313432050.4582719279001377\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:50.8698852+03:00 0HL7OIHK18EM0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:50.8728868+03:00 0HL7OIHK18EM0 [INF] Request finished in 491.6277ms 302  (15c52c40)
2017-09-13T22:35:51.1550737+03:00 0HL7OIHK18EM1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.450940418291077671505331350962&state=15053313509620.3255104230208019   (e5be5b71)
2017-09-13T22:35:51.1580761+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:51.1580761+03:00 0HL7OIHK18EM1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:51.1590772+03:00 0HL7OIHK18EM1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:51.1590772+03:00 0HL7OIHK18EM1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:51.1600778+03:00 0HL7OIHK18EM1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:51.1600778+03:00 0HL7OIHK18EM1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:51.1600778+03:00 0HL7OIHK18EM1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313509620.3255104230208019\",
  \"Nonce\": \"N0.450940418291077671505331350962\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.450940418291077671505331350962\",
    \"state\": \"15053313509620.3255104230208019\"
  }
}" (9a175e33)
2017-09-13T22:35:51.1640797+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:51.1750870+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:51.1760880+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:51.1780894+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:51.1800903+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:51.1830919+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:51.1850936+03:00 0HL7OIHK18EM1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:51.2051073+03:00 0HL7OIHK18EM1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313509620.3255104230208019\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:51.2051073+03:00 0HL7OIHK18EM1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:51.2061079+03:00 0HL7OIHK18EM1 [INF] Request finished in 51.3803ms 302  (15c52c40)
2017-09-13T22:35:55.2477848+03:00 0HL7OIHK18EM2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69744107891175311505331355083&state=15053313550830.019365858226595645   (e5be5b71)
2017-09-13T22:35:55.2527878+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:55.2537888+03:00 0HL7OIHK18EM2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:55.2547899+03:00 0HL7OIHK18EM2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:55.2547899+03:00 0HL7OIHK18EM2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:55.2597932+03:00 0HL7OIHK18EM2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:55.2607931+03:00 0HL7OIHK18EM2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:55.2617949+03:00 0HL7OIHK18EM2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313550830.019365858226595645\",
  \"Nonce\": \"N0.69744107891175311505331355083\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69744107891175311505331355083\",
    \"state\": \"15053313550830.019365858226595645\"
  }
}" (9a175e33)
2017-09-13T22:35:55.2657968+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:55.2808063+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:55.2838087+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:55.2878110+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:55.2958167+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:55.2998189+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:55.3048222+03:00 0HL7OIHK18EM2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:55.3268368+03:00 0HL7OIHK18EM2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313550830.019365858226595645\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:55.3468501+03:00 0HL7OIHK18EM2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:55.3488514+03:00 0HL7OIHK18EM2 [INF] Request finished in 100.9532ms 302  (15c52c40)
2017-09-13T22:35:58.7410986+03:00 0HL7OIHK18EM3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.376908412093818651505331358481&state=15053313584810.2526216374405883   (e5be5b71)
2017-09-13T22:35:58.7481075+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:35:58.7501049+03:00 0HL7OIHK18EM3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:35:58.7541072+03:00 0HL7OIHK18EM3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:58.7541072+03:00 0HL7OIHK18EM3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:35:58.7551078+03:00 0HL7OIHK18EM3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:58.7571092+03:00 0HL7OIHK18EM3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:58.7571092+03:00 0HL7OIHK18EM3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313584810.2526216374405883\",
  \"Nonce\": \"N0.376908412093818651505331358481\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.376908412093818651505331358481\",
    \"state\": \"15053313584810.2526216374405883\"
  }
}" (9a175e33)
2017-09-13T22:35:58.7611118+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:35:58.7771228+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:58.7801240+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:35:58.7841271+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:35:58.7991370+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:35:58.8071431+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:35:58.8131467+03:00 0HL7OIHK18EM3 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:35:58.8371622+03:00 0HL7OIHK18EM3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313584810.2526216374405883\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:35:58.8381636+03:00 0HL7OIHK18EM3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:35:58.8451675+03:00 0HL7OIHK18EM3 [INF] Request finished in 100.9903ms 302  (15c52c40)
2017-09-13T22:36:01.7641004+03:00 0HL7OIHK18EM4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5171726218863471505331361701&state=15053313617010.4077201909265342   (e5be5b71)
2017-09-13T22:36:01.7661017+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:01.7671024+03:00 0HL7OIHK18EM4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:01.7671024+03:00 0HL7OIHK18EM4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:01.7681030+03:00 0HL7OIHK18EM4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:01.7681030+03:00 0HL7OIHK18EM4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:01.7681030+03:00 0HL7OIHK18EM4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:01.7691033+03:00 0HL7OIHK18EM4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313617010.4077201909265342\",
  \"Nonce\": \"N0.5171726218863471505331361701\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5171726218863471505331361701\",
    \"state\": \"15053313617010.4077201909265342\"
  }
}" (9a175e33)
2017-09-13T22:36:01.7711046+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:01.7821123+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:01.7841136+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:01.7861154+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:01.7891173+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:01.7921185+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:01.7931200+03:00 0HL7OIHK18EM4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:01.8121318+03:00 0HL7OIHK18EM4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313617010.4077201909265342\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:01.8131325+03:00 0HL7OIHK18EM4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:01.8161348+03:00 0HL7OIHK18EM4 [INF] Request finished in 50.7634ms 302  (15c52c40)
2017-09-13T22:36:05.7487399+03:00 0HL7OIHK18EM5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69808039811132481505331365689&state=15053313656890.460234375632149   (e5be5b71)
2017-09-13T22:36:05.7507412+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:05.7507412+03:00 0HL7OIHK18EM5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:05.7517415+03:00 0HL7OIHK18EM5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:05.7517415+03:00 0HL7OIHK18EM5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:05.7517415+03:00 0HL7OIHK18EM5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:05.7527426+03:00 0HL7OIHK18EM5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:05.7527426+03:00 0HL7OIHK18EM5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313656890.460234375632149\",
  \"Nonce\": \"N0.69808039811132481505331365689\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69808039811132481505331365689\",
    \"state\": \"15053313656890.460234375632149\"
  }
}" (9a175e33)
2017-09-13T22:36:05.7557457+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:05.7667514+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:05.7677525+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:05.7697538+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:05.7717563+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:05.7847638+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:05.7857644+03:00 0HL7OIHK18EM5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:05.8057777+03:00 0HL7OIHK18EM5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313656890.460234375632149\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:05.8057777+03:00 0HL7OIHK18EM5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:05.8067780+03:00 0HL7OIHK18EM5 [INF] Request finished in 58.7872ms 302  (15c52c40)
2017-09-13T22:36:07.5299192+03:00 0HL7OIHK18EM6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:36:07.5459302+03:00 0HL7OIHK18EM6 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:07.5469309+03:00 0HL7OIHK18EM6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:07.5479312+03:00 0HL7OIHK18EM6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:07.5479312+03:00 0HL7OIHK18EM6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:36:07.5489326+03:00 0HL7OIHK18EM6 [INF] Request finished in 30.5835ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:36:08.2483955+03:00 0HL7OIHK18EM7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:36:08.2533988+03:00 0HL7OIHK18EM7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:08.2533988+03:00 0HL7OIHK18EM7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:36:08.2543999+03:00 0HL7OIHK18EM7 [INF] Request finished in 5.91ms 200 application/json (15c52c40)
2017-09-13T22:36:08.3914907+03:00 0HL7OIHK18EM8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:08.3954925+03:00 0HL7OIHK18EM8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:08.3964936+03:00 0HL7OIHK18EM8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:08.4465263+03:00 0HL7OIHK18EM8 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:08.4465263+03:00 0HL7OIHK18EM8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:08.4835512+03:00 0HL7OIHK18EM8 [INF] Request finished in 65.0395ms 200 application/json (15c52c40)
2017-09-13T22:36:10.0545922+03:00 0HL7OIHK18EM9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55516006597474711505331369846&state=15053313698460.29427239401917604   (e5be5b71)
2017-09-13T22:36:10.0575938+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:10.0585940+03:00 0HL7OIHK18EM9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:10.0585940+03:00 0HL7OIHK18EM9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:10.0585940+03:00 0HL7OIHK18EM9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:10.0595951+03:00 0HL7OIHK18EM9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:10.0595951+03:00 0HL7OIHK18EM9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:10.0595951+03:00 0HL7OIHK18EM9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313698460.29427239401917604\",
  \"Nonce\": \"N0.55516006597474711505331369846\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55516006597474711505331369846\",
    \"state\": \"15053313698460.29427239401917604\"
  }
}" (9a175e33)
2017-09-13T22:36:10.0635974+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:10.0746054+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:10.0766060+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:10.0776070+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:10.0796080+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:10.0816097+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:10.0836110+03:00 0HL7OIHK18EM9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:10.1006215+03:00 0HL7OIHK18EM9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313698460.29427239401917604\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:10.1016222+03:00 0HL7OIHK18EM9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:10.1026236+03:00 0HL7OIHK18EM9 [INF] Request finished in 48.5935ms 302  (15c52c40)
2017-09-13T22:36:14.2436646+03:00 0HL7OIHK18EMA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.153815890504591431505331374133&state=15053313741330.3774643600541485   (e5be5b71)
2017-09-13T22:36:14.2476680+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:14.2486683+03:00 0HL7OIHK18EMA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:14.2486683+03:00 0HL7OIHK18EMA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:14.2496689+03:00 0HL7OIHK18EMA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:14.2496689+03:00 0HL7OIHK18EMA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:14.2506692+03:00 0HL7OIHK18EMA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:14.2506692+03:00 0HL7OIHK18EMA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313741330.3774643600541485\",
  \"Nonce\": \"N0.153815890504591431505331374133\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.153815890504591431505331374133\",
    \"state\": \"15053313741330.3774643600541485\"
  }
}" (9a175e33)
2017-09-13T22:36:14.2606758+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:14.2796888+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:14.2836915+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:14.2906961+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:14.2956994+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:14.2977007+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:14.3017034+03:00 0HL7OIHK18EMA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:14.3237180+03:00 0HL7OIHK18EMA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313741330.3774643600541485\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:14.3247190+03:00 0HL7OIHK18EMA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:14.3257193+03:00 0HL7OIHK18EMA [INF] Request finished in 82.7052ms 302  (15c52c40)
2017-09-13T22:36:15.3784169+03:00 0HL7OIHK18EMB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:15.3814185+03:00 0HL7OIHK18EMB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:15.3814185+03:00 0HL7OIHK18EMB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:15.4104377+03:00 0HL7OIHK18EMB [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:15.4114380+03:00 0HL7OIHK18EMB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:15.4124395+03:00 0HL7OIHK18EMB [INF] Request finished in 37.0174ms 200 application/json (15c52c40)
2017-09-13T22:36:18.4043738+03:00 0HL7OIHK18EMC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:36:18.4063751+03:00 0HL7OIHK18EMC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:18.4063751+03:00 0HL7OIHK18EMC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:36:18.4073761+03:00 0HL7OIHK18EMC [INF] Request finished in 3.6548ms 200 application/json (15c52c40)
2017-09-13T22:36:19.3590056+03:00 0HL7OIHK18EMD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:19.3620076+03:00 0HL7OIHK18EMD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:19.3620076+03:00 0HL7OIHK18EMD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:19.3850225+03:00 0HL7OIHK18EMD [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:19.3850225+03:00 0HL7OIHK18EMD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:19.3860235+03:00 0HL7OIHK18EMD [INF] Request finished in 27.518ms 200 application/json (15c52c40)
2017-09-13T22:36:19.5101057+03:00 0HL7OIHK18EME [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31453826271136621505331378926&state=15053313789260.628303373689092   (e5be5b71)
2017-09-13T22:36:19.5151090+03:00 0HL7OIHK18EME [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:19.5161097+03:00 0HL7OIHK18EME [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:19.5171100+03:00 0HL7OIHK18EME [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:19.5171100+03:00 0HL7OIHK18EME [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:19.5171100+03:00 0HL7OIHK18EME [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:19.5181106+03:00 0HL7OIHK18EME [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:19.5191113+03:00 0HL7OIHK18EME [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313789260.628303373689092\",
  \"Nonce\": \"N0.31453826271136621505331378926\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31453826271136621505331378926\",
    \"state\": \"15053313789260.628303373689092\"
  }
}" (9a175e33)
2017-09-13T22:36:19.5281180+03:00 0HL7OIHK18EME [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:19.5461292+03:00 0HL7OIHK18EME [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:19.5531338+03:00 0HL7OIHK18EME [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:19.5601385+03:00 0HL7OIHK18EME [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:19.5661420+03:00 0HL7OIHK18EME [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:19.5781504+03:00 0HL7OIHK18EME [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:19.5871564+03:00 0HL7OIHK18EME [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:19.6081703+03:00 0HL7OIHK18EME [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313789260.628303373689092\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:19.6131736+03:00 0HL7OIHK18EME [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:19.6301853+03:00 0HL7OIHK18EME [INF] Request finished in 107.7265ms 302  (15c52c40)
2017-09-13T22:36:23.8709941+03:00 0HL7OIHK18EMF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.216997498910027181505331383832&state=15053313838320.07020159467095799   (e5be5b71)
2017-09-13T22:36:23.8800004+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:23.8810015+03:00 0HL7OIHK18EMF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:23.8810015+03:00 0HL7OIHK18EMF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:23.8810015+03:00 0HL7OIHK18EMF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:23.8820010+03:00 0HL7OIHK18EMF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:23.8830028+03:00 0HL7OIHK18EMF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:23.8830028+03:00 0HL7OIHK18EMF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313838320.07020159467095799\",
  \"Nonce\": \"N0.216997498910027181505331383832\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.216997498910027181505331383832\",
    \"state\": \"15053313838320.07020159467095799\"
  }
}" (9a175e33)
2017-09-13T22:36:23.8880057+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:23.9030161+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:23.9080221+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:23.9350365+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:23.9420419+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:23.9610545+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:23.9660574+03:00 0HL7OIHK18EMF [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:23.9860703+03:00 0HL7OIHK18EMF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313838320.07020159467095799\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:23.9860703+03:00 0HL7OIHK18EMF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:23.9980782+03:00 0HL7OIHK18EMF [INF] Request finished in 125.892ms 302  (15c52c40)
2017-09-13T22:36:24.1401723+03:00 0HL7OIHK18EMG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:36:24.1431775+03:00 0HL7OIHK18EMG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:24.1431775+03:00 0HL7OIHK18EMG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:36:24.1441754+03:00 0HL7OIHK18EMG [INF] Request finished in 4.92ms 200 application/json (15c52c40)
2017-09-13T22:36:26.4487017+03:00 0HL7OIHK18EMH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:36:26.4517033+03:00 0HL7OIHK18EMH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:26.4527052+03:00 0HL7OIHK18EMH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:26.4527052+03:00 0HL7OIHK18EMH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:26.4537043+03:00 0HL7OIHK18EMH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:36:26.4577077+03:00 0HL7OIHK18EMH [INF] Request finished in 5.7955ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:36:26.5988012+03:00 0HL7OIHK18EMI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:36:26.6198147+03:00 0HL7OIHK18EMI [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:26.6208149+03:00 0HL7OIHK18EMI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:36:26.6608446+03:00 0HL7OIHK18EMI [INF] Request finished in 98.4814ms 200 application/json (15c52c40)
2017-09-13T22:36:26.7989337+03:00 0HL7OIHK18EMJ [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T22:36:26.8349576+03:00 0HL7OIHK18EMJ [INF] Request finished in 54.6484ms 204  (15c52c40)
2017-09-13T22:36:27.1721809+03:00 0HL7OIHK18EMK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T22:36:27.1851899+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:27.1861898+03:00 0HL7OIHK18EMK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T22:36:27.1861898+03:00 0HL7OIHK18EMK [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T22:36:27.2162093+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:27.2882578+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:27.2942614+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:27.3082707+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:27.3102724+03:00 0HL7OIHK18EML [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:27.3132736+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:27.3162760+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:27.3192787+03:00 0HL7OIHK18EML [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:27.3202786+03:00 0HL7OIHK18EML [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:27.3222795+03:00 0HL7OIHK18EMK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:27.3222795+03:00 0HL7OIHK18EMK [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T22:36:27.3543004+03:00 0HL7OIHK18EMK [INF] Request finished in 190.1294ms 200 application/json (15c52c40)
2017-09-13T22:36:27.3563017+03:00 0HL7OIHK18EML [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:27.3563017+03:00 0HL7OIHK18EML [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:27.3613058+03:00 0HL7OIHK18EML [INF] Request finished in 56.1942ms 200 application/json (15c52c40)
2017-09-13T22:36:36.9473728+03:00 0HL7OIHK18EMM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47473877008225761505331396934&state=15053313969340.9819845956418709   (e5be5b71)
2017-09-13T22:36:36.9513747+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:36.9513747+03:00 0HL7OIHK18EMM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:36.9523766+03:00 0HL7OIHK18EMM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:36.9523766+03:00 0HL7OIHK18EMM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T22:36:36.9523766+03:00 0HL7OIHK18EMM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:36.9533768+03:00 0HL7OIHK18EMM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:36.9533768+03:00 0HL7OIHK18EMM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053313969340.9819845956418709\",
  \"Nonce\": \"N0.47473877008225761505331396934\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47473877008225761505331396934\",
    \"state\": \"15053313969340.9819845956418709\"
  }
}" (9a175e33)
2017-09-13T22:36:36.9603823+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:36.9753910+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:36.9793933+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:36.9823957+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:36.9853972+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:36.9873986+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:36.9904006+03:00 0HL7OIHK18EMM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:37.0044094+03:00 0HL7OIHK18EMM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053313969340.9819845956418709\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T22:36:37.0054101+03:00 0HL7OIHK18EMM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:37.0064112+03:00 0HL7OIHK18EMM [INF] Request finished in 64.5863ms 302  (15c52c40)
2017-09-13T22:36:38.6334932+03:00 0HL7OIHK18EMN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:36:38.6394932+03:00 0HL7OIHK18EMN [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:38.6404939+03:00 0HL7OIHK18EMN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:36:38.7015355+03:00 0HL7OIHK18EMN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:36:38.7015355+03:00 0HL7OIHK18EMN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:36:38.7215479+03:00 0HL7OIHK18EMN [INF] Request finished in 70.8812ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:36:38.7965969+03:00 0HL7OIHK18EMO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T22:36:38.8316204+03:00 0HL7OIHK18EMO [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:38.8316204+03:00 0HL7OIHK18EMO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T22:36:38.8736487+03:00 0HL7OIHK18EMO [INF] Request finished in 112.6185ms 200 application/json (15c52c40)
2017-09-13T22:36:39.0637742+03:00 0HL7OIHK18EMP [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T22:36:39.0907921+03:00 0HL7OIHK18EMP [INF] Request finished in 97.5383ms 204  (15c52c40)
2017-09-13T22:36:39.1017998+03:00 0HL7OIHK18EMQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T22:36:39.1078034+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:39.1088040+03:00 0HL7OIHK18EMQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T22:36:39.1088040+03:00 0HL7OIHK18EMQ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T22:36:39.1648411+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:39.1858547+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:39.1918590+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T22:36:39.2048677+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T22:36:39.2078700+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T22:36:39.2208787+03:00 0HL7OIHK18EMR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:39.2208787+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T22:36:39.2238810+03:00 0HL7OIHK18EMQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T22:36:39.2248809+03:00 0HL7OIHK18EMQ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T22:36:39.2248809+03:00 0HL7OIHK18EMQ [INF] Request finished in 133.9324ms 200 application/json (15c52c40)
2017-09-13T22:36:39.2258820+03:00 0HL7OIHK18EMR [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:39.2258820+03:00 0HL7OIHK18EMR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:39.2689109+03:00 0HL7OIHK18EMR [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:39.2699111+03:00 0HL7OIHK18EMR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:39.2749148+03:00 0HL7OIHK18EMR [INF] Request finished in 56.5198ms 200 application/json (15c52c40)
2017-09-13T22:36:42.8432771+03:00 0HL7OIHK18EMS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:42.8452788+03:00 0HL7OIHK18EMS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:42.8462799+03:00 0HL7OIHK18EMS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:42.8692943+03:00 0HL7OIHK18EMS [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:42.8702954+03:00 0HL7OIHK18EMS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:42.8722963+03:00 0HL7OIHK18EMS [INF] Request finished in 28.3142ms 200 application/json (15c52c40)
2017-09-13T22:36:45.0027077+03:00 0HL7OIHK18EMT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:36:45.0057097+03:00 0HL7OIHK18EMT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:36:45.0057097+03:00 0HL7OIHK18EMT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:36:45.0257226+03:00 0HL7OIHK18EMT [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:36:45.0257226+03:00 0HL7OIHK18EMT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:36:45.0267236+03:00 0HL7OIHK18EMT [INF] Request finished in 23.9768ms 200 application/json (15c52c40)
2017-09-13T22:37:01.7848313+03:00 0HL7OIHK18EMU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:37:01.7898346+03:00 0HL7OIHK18EMU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:37:01.7898346+03:00 0HL7OIHK18EMU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:37:01.8118496+03:00 0HL7OIHK18EMU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:37:01.8128502+03:00 0HL7OIHK18EMU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:37:01.8198553+03:00 0HL7OIHK18EMU [INF] Request finished in 28.9904ms 200 application/json (15c52c40)
2017-09-13T22:38:54.7214785+03:00 0HL7OIHK18EMV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:38:54.7675093+03:00 0HL7OIHK18EMV [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:38:54.7675093+03:00 0HL7OIHK18EMV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:38:54.8225446+03:00 0HL7OIHK18EMV [INF] Executed DbCommand (25ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:38:54.8235461+03:00 0HL7OIHK18EMV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:38:54.8495637+03:00 0HL7OIHK18EMV [INF] Request finished in 105.3494ms 200 application/json (15c52c40)
2017-09-13T22:38:54.9536326+03:00 0HL7OIHK18EN0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:38:54.9586359+03:00 0HL7OIHK18EN0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:38:54.9586359+03:00 0HL7OIHK18EN0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:38:54.9826514+03:00 0HL7OIHK18EN0 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:38:54.9826514+03:00 0HL7OIHK18EN0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:38:54.9836521+03:00 0HL7OIHK18EN0 [INF] Request finished in 30.2804ms 200 application/json (15c52c40)
2017-09-13T22:38:57.9115910+03:00 0HL7OIHK18EN1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:38:57.9145933+03:00 0HL7OIHK18EN1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:38:57.9145933+03:00 0HL7OIHK18EN1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:38:58.1427445+03:00 0HL7OIHK18EN1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:38:58.1437451+03:00 0HL7OIHK18EN1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:38:58.1447454+03:00 0HL7OIHK18EN1 [INF] Request finished in 232.8133ms 200 application/json (15c52c40)
2017-09-13T22:38:59.1674227+03:00 0HL7OIHK18EN2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:38:59.1744274+03:00 0HL7OIHK18EN2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:38:59.1744274+03:00 0HL7OIHK18EN2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:38:59.1954409+03:00 0HL7OIHK18EN2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:38:59.1964420+03:00 0HL7OIHK18EN2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:38:59.1964420+03:00 0HL7OIHK18EN2 [INF] Request finished in 33.6964ms 200 application/json (15c52c40)
2017-09-13T22:39:00.0299944+03:00 0HL7OIHK18EN3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:00.0339975+03:00 0HL7OIHK18EN3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:00.0339975+03:00 0HL7OIHK18EN3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:00.0670186+03:00 0HL7OIHK18EN3 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:00.0680196+03:00 0HL7OIHK18EN3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:00.0700217+03:00 0HL7OIHK18EN3 [INF] Request finished in 41.4511ms 200 application/json (15c52c40)
2017-09-13T22:39:01.0796893+03:00 0HL7OIHK18EN4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:01.0826913+03:00 0HL7OIHK18EN4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:01.0826913+03:00 0HL7OIHK18EN4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:01.1057065+03:00 0HL7OIHK18EN4 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:01.1067068+03:00 0HL7OIHK18EN4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:01.1067068+03:00 0HL7OIHK18EN4 [INF] Request finished in 28.1586ms 200 application/json (15c52c40)
2017-09-13T22:39:03.8548137+03:00 0HL7OIHK18EN5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:03.8568154+03:00 0HL7OIHK18EN5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:03.8568154+03:00 0HL7OIHK18EN5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:03.8688238+03:00 0HL7OIHK18EN5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:03.8698229+03:00 0HL7OIHK18EN5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:03.8698229+03:00 0HL7OIHK18EN5 [INF] Request finished in 15.2906ms 200 application/json (15c52c40)
2017-09-13T22:39:09.8818040+03:00 0HL7OIHK18EN6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:09.8848056+03:00 0HL7OIHK18EN6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:09.8848056+03:00 0HL7OIHK18EN6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:09.8978138+03:00 0HL7OIHK18EN6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:09.8978138+03:00 0HL7OIHK18EN6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:09.8988149+03:00 0HL7OIHK18EN6 [INF] Request finished in 16.684ms 200 application/json (15c52c40)
2017-09-13T22:39:13.3631097+03:00 0HL7OIHK18EN7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:13.3671124+03:00 0HL7OIHK18EN7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:13.3671124+03:00 0HL7OIHK18EN7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:13.3871253+03:00 0HL7OIHK18EN7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:13.3871253+03:00 0HL7OIHK18EN7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:13.3881267+03:00 0HL7OIHK18EN7 [INF] Request finished in 25.7567ms 200 application/json (15c52c40)
2017-09-13T22:39:15.8407504+03:00 0HL7OIHK18EN8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:15.8437520+03:00 0HL7OIHK18EN8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:15.8437520+03:00 0HL7OIHK18EN8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:15.8587623+03:00 0HL7OIHK18EN8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:15.8597626+03:00 0HL7OIHK18EN8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:15.8597626+03:00 0HL7OIHK18EN8 [INF] Request finished in 19.9856ms 200 application/json (15c52c40)
2017-09-13T22:39:21.9147730+03:00 0HL7OIHK18EN9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:39:21.9167751+03:00 0HL7OIHK18EN9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:39:21.9167751+03:00 0HL7OIHK18EN9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:39:21.9297841+03:00 0HL7OIHK18EN9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:39:21.9307836+03:00 0HL7OIHK18EN9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:39:21.9307836+03:00 0HL7OIHK18EN9 [INF] Request finished in 16.7499ms 200 application/json (15c52c40)
2017-09-13T22:40:02.2364799+03:00 0HL7OIHK18ENA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:02.2394811+03:00 0HL7OIHK18ENA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:02.2394811+03:00 0HL7OIHK18ENA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:02.2915160+03:00 0HL7OIHK18ENA [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:02.2925170+03:00 0HL7OIHK18ENA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:02.3205352+03:00 0HL7OIHK18ENA [INF] Request finished in 58.696ms 200 application/json (15c52c40)
2017-09-13T22:40:07.6770842+03:00 0HL7OIHK18ENB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:07.6800858+03:00 0HL7OIHK18ENB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:07.6800858+03:00 0HL7OIHK18ENB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:07.7051019+03:00 0HL7OIHK18ENB [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:07.7061022+03:00 0HL7OIHK18ENB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:07.7081035+03:00 0HL7OIHK18ENB [INF] Request finished in 30.3368ms 200 application/json (15c52c40)
2017-09-13T22:40:12.0579862+03:00 0HL7OIHK18ENC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:12.0609874+03:00 0HL7OIHK18ENC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:12.0609874+03:00 0HL7OIHK18ENC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:12.0880052+03:00 0HL7OIHK18ENC [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:12.0890051+03:00 0HL7OIHK18ENC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:12.1050161+03:00 0HL7OIHK18ENC [INF] Request finished in 31.7026ms 200 application/json (15c52c40)
2017-09-13T22:40:14.8788533+03:00 0HL7OIHK18END [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:14.8818557+03:00 0HL7OIHK18END [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:14.8818557+03:00 0HL7OIHK18END [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:14.9078721+03:00 0HL7OIHK18END [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:14.9088732+03:00 0HL7OIHK18END [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:14.9118744+03:00 0HL7OIHK18END [INF] Request finished in 30.6459ms 200 application/json (15c52c40)
2017-09-13T22:40:15.2260833+03:00 0HL7OIHK18ENE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:15.2290857+03:00 0HL7OIHK18ENE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:15.2290857+03:00 0HL7OIHK18ENE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:15.2510995+03:00 0HL7OIHK18ENE [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:15.2510995+03:00 0HL7OIHK18ENE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:15.2521005+03:00 0HL7OIHK18ENE [INF] Request finished in 26.0302ms 200 application/json (15c52c40)
2017-09-13T22:40:16.6480255+03:00 0HL7OIHK18ENF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:16.6550297+03:00 0HL7OIHK18ENF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:16.6550297+03:00 0HL7OIHK18ENF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:16.6790460+03:00 0HL7OIHK18ENF [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:16.6800459+03:00 0HL7OIHK18ENF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:16.6810466+03:00 0HL7OIHK18ENF [INF] Request finished in 32.7526ms 200 application/json (15c52c40)
2017-09-13T22:40:16.8221404+03:00 0HL7OIHK18ENG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:16.8251424+03:00 0HL7OIHK18ENG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:16.8251424+03:00 0HL7OIHK18ENG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:16.8511592+03:00 0HL7OIHK18ENG [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:16.8511592+03:00 0HL7OIHK18ENG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:16.8521603+03:00 0HL7OIHK18ENG [INF] Request finished in 30.5827ms 200 application/json (15c52c40)
2017-09-13T22:40:18.3511531+03:00 0HL7OIHK18ENH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:18.3531536+03:00 0HL7OIHK18ENH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:18.3541547+03:00 0HL7OIHK18ENH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:18.3761693+03:00 0HL7OIHK18ENH [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:18.3771699+03:00 0HL7OIHK18ENH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:18.3781710+03:00 0HL7OIHK18ENH [INF] Request finished in 26.7885ms 200 application/json (15c52c40)
2017-09-13T22:40:26.1443147+03:00 0HL7OIHK18ENI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:26.1503207+03:00 0HL7OIHK18ENI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:26.1503207+03:00 0HL7OIHK18ENI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:26.1733339+03:00 0HL7OIHK18ENI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:26.1743354+03:00 0HL7OIHK18ENI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:26.1753353+03:00 0HL7OIHK18ENI [INF] Request finished in 30.6854ms 200 application/json (15c52c40)
2017-09-13T22:40:27.3901399+03:00 0HL7OIHK18ENJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:27.3931415+03:00 0HL7OIHK18ENJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:27.3931415+03:00 0HL7OIHK18ENJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:27.4121537+03:00 0HL7OIHK18ENJ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:27.4121537+03:00 0HL7OIHK18ENJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:27.4131547+03:00 0HL7OIHK18ENJ [INF] Request finished in 23.6472ms 200 application/json (15c52c40)
2017-09-13T22:40:28.2547125+03:00 0HL7OIHK18ENK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:28.3107492+03:00 0HL7OIHK18ENK [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:28.3117515+03:00 0HL7OIHK18ENK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:28.3527771+03:00 0HL7OIHK18ENK [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:28.3537781+03:00 0HL7OIHK18ENK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:28.3537781+03:00 0HL7OIHK18ENK [INF] Request finished in 100.8743ms 200 application/json (15c52c40)
2017-09-13T22:40:30.0128770+03:00 0HL7OIHK18ENL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:30.0158794+03:00 0HL7OIHK18ENL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:30.0158794+03:00 0HL7OIHK18ENL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:30.0418958+03:00 0HL7OIHK18ENL [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:30.0428969+03:00 0HL7OIHK18ENL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:30.0448986+03:00 0HL7OIHK18ENL [INF] Request finished in 31.476ms 200 application/json (15c52c40)
2017-09-13T22:40:31.6109350+03:00 0HL7OIHK18ENM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:31.6149381+03:00 0HL7OIHK18ENM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:31.6159391+03:00 0HL7OIHK18ENM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:31.6959910+03:00 0HL7OIHK18ENM [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:31.6959910+03:00 0HL7OIHK18ENM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:31.7330163+03:00 0HL7OIHK18ENM [INF] Request finished in 87.2408ms 200 application/json (15c52c40)
2017-09-13T22:40:32.0912536+03:00 0HL7OIHK18ENN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:32.0972571+03:00 0HL7OIHK18ENN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:32.0972571+03:00 0HL7OIHK18ENN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:32.1192717+03:00 0HL7OIHK18ENN [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:32.1192717+03:00 0HL7OIHK18ENN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:32.1212730+03:00 0HL7OIHK18ENN [INF] Request finished in 28.8289ms 200 application/json (15c52c40)
2017-09-13T22:40:36.6002400+03:00 0HL7OIHK18ENO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:36.6022417+03:00 0HL7OIHK18ENO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:36.6032424+03:00 0HL7OIHK18ENO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:36.6272575+03:00 0HL7OIHK18ENO [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:36.6272575+03:00 0HL7OIHK18ENO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:36.6282585+03:00 0HL7OIHK18ENO [INF] Request finished in 28.3627ms 200 application/json (15c52c40)
2017-09-13T22:40:38.4534670+03:00 0HL7OIHK18ENP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:38.4564706+03:00 0HL7OIHK18ENP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:38.4564706+03:00 0HL7OIHK18ENP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:38.4834873+03:00 0HL7OIHK18ENP [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:38.4834873+03:00 0HL7OIHK18ENP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:38.4844880+03:00 0HL7OIHK18ENP [INF] Request finished in 31.6758ms 200 application/json (15c52c40)
2017-09-13T22:40:40.9040901+03:00 0HL7OIHK18ENQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:40.9080928+03:00 0HL7OIHK18ENQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:40.9080928+03:00 0HL7OIHK18ENQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:40.9581259+03:00 0HL7OIHK18ENQ [INF] Executed DbCommand (25ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:40.9581259+03:00 0HL7OIHK18ENQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:40.9601273+03:00 0HL7OIHK18ENQ [INF] Request finished in 57.1944ms 200 application/json (15c52c40)
2017-09-13T22:40:41.1982854+03:00 0HL7OIHK18ENR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:41.2012874+03:00 0HL7OIHK18ENR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:41.2012874+03:00 0HL7OIHK18ENR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:41.2393126+03:00 0HL7OIHK18ENR [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:41.2403128+03:00 0HL7OIHK18ENR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:41.2423145+03:00 0HL7OIHK18ENR [INF] Request finished in 43.9742ms 200 application/json (15c52c40)
2017-09-13T22:40:42.8783982+03:00 0HL7OIHK18ENS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:42.8803999+03:00 0HL7OIHK18ENS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:42.8803999+03:00 0HL7OIHK18ENS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:42.9044154+03:00 0HL7OIHK18ENS [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:42.9044154+03:00 0HL7OIHK18ENS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:42.9054165+03:00 0HL7OIHK18ENS [INF] Request finished in 27.3506ms 200 application/json (15c52c40)
2017-09-13T22:40:44.7096110+03:00 0HL7OIHK18ENT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:40:44.7126130+03:00 0HL7OIHK18ENT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:40:44.7126130+03:00 0HL7OIHK18ENT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:40:44.7366285+03:00 0HL7OIHK18ENT [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:40:44.7366285+03:00 0HL7OIHK18ENT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:40:44.7386299+03:00 0HL7OIHK18ENT [INF] Request finished in 28.4993ms 200 application/json (15c52c40)
2017-09-13T22:42:39.9397425+03:00 0HL7OIHK18ENU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T22:42:39.9437456+03:00 0HL7OIHK18ENU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:42:39.9447455+03:00 0HL7OIHK18ENU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T22:42:39.9447455+03:00 0HL7OIHK18ENU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T22:42:39.9447455+03:00 0HL7OIHK18ENU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T22:42:39.9457465+03:00 0HL7OIHK18ENU [INF] Request finished in 6.7492ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T22:42:40.2749638+03:00 0HL7OIHK18ENV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T22:42:40.2769655+03:00 0HL7OIHK18ENV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:42:40.2779662+03:00 0HL7OIHK18ENV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T22:42:40.2789672+03:00 0HL7OIHK18ENV [INF] Request finished in 4.0504ms 200 application/json (15c52c40)
2017-09-13T22:42:40.3800334+03:00 0HL7OIHK18EO0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:42:40.3830362+03:00 0HL7OIHK18EO0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:42:40.3840368+03:00 0HL7OIHK18EO0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:42:40.4080511+03:00 0HL7OIHK18EO0 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:42:40.4080511+03:00 0HL7OIHK18EO0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:42:40.4090522+03:00 0HL7OIHK18EO0 [INF] Request finished in 28.5482ms 200 application/json (15c52c40)
2017-09-13T22:42:44.5968267+03:00 0HL7OIHK18EO1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:42:44.5998283+03:00 0HL7OIHK18EO1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:42:44.5998283+03:00 0HL7OIHK18EO1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:42:44.6218432+03:00 0HL7OIHK18EO1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:42:44.6218432+03:00 0HL7OIHK18EO1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:42:44.6228435+03:00 0HL7OIHK18EO1 [INF] Request finished in 26.5177ms 200 application/json (15c52c40)
2017-09-13T22:42:49.0566563+03:00 0HL7OIHK18EO2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:42:49.0586576+03:00 0HL7OIHK18EO2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:42:49.0586576+03:00 0HL7OIHK18EO2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:42:49.0706660+03:00 0HL7OIHK18EO2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:42:49.0716670+03:00 0HL7OIHK18EO2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:42:49.0716670+03:00 0HL7OIHK18EO2 [INF] Request finished in 16.0583ms 200 application/json (15c52c40)
2017-09-13T22:43:11.4287070+03:00 0HL7OIHK18EO3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:43:11.4347114+03:00 0HL7OIHK18EO3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:43:11.4347114+03:00 0HL7OIHK18EO3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:43:11.4577259+03:00 0HL7OIHK18EO3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:43:11.4577259+03:00 0HL7OIHK18EO3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:43:11.4587269+03:00 0HL7OIHK18EO3 [INF] Request finished in 31.0047ms 200 application/json (15c52c40)
2017-09-13T22:43:24.3112391+03:00 0HL7OIHK18EO4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:43:24.3142419+03:00 0HL7OIHK18EO4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:43:24.3142419+03:00 0HL7OIHK18EO4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:43:24.3462623+03:00 0HL7OIHK18EO4 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:43:24.3472626+03:00 0HL7OIHK18EO4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:43:24.3472626+03:00 0HL7OIHK18EO4 [INF] Request finished in 36.6522ms 200 application/json (15c52c40)
2017-09-13T22:43:36.8909568+03:00 0HL7OIHK18EO5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:43:36.8929581+03:00 0HL7OIHK18EO5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:43:36.8929581+03:00 0HL7OIHK18EO5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:43:36.9059655+03:00 0HL7OIHK18EO5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:43:36.9059655+03:00 0HL7OIHK18EO5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:43:36.9059655+03:00 0HL7OIHK18EO5 [INF] Request finished in 16.2924ms 200 application/json (15c52c40)
2017-09-13T22:47:03.7034768+03:00 0HL7OIHK18EO6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:47:03.7064780+03:00 0HL7OIHK18EO6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:47:03.7069789+03:00 0HL7OIHK18EO6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:47:03.7319947+03:00 0HL7OIHK18EO6 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:47:03.7334963+03:00 0HL7OIHK18EO6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:47:03.7344969+03:00 0HL7OIHK18EO6 [INF] Request finished in 31.2585ms 200 application/json (15c52c40)
2017-09-13T22:47:04.8957659+03:00 0HL7OIHK18EO7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:47:04.8982677+03:00 0HL7OIHK18EO7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:47:04.8982677+03:00 0HL7OIHK18EO7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:47:04.9147781+03:00 0HL7OIHK18EO7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:47:04.9147781+03:00 0HL7OIHK18EO7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:47:04.9152790+03:00 0HL7OIHK18EO7 [INF] Request finished in 19.9228ms 200 application/json (15c52c40)
2017-09-13T22:47:36.8622151+03:00 0HL7OIHK18EO8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:47:36.8652159+03:00 0HL7OIHK18EO8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:47:36.8652159+03:00 0HL7OIHK18EO8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:47:36.8772246+03:00 0HL7OIHK18EO8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:47:36.8777244+03:00 0HL7OIHK18EO8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:47:36.8782245+03:00 0HL7OIHK18EO8 [INF] Request finished in 16.4649ms 200 application/json (15c52c40)
2017-09-13T22:54:58.8826499+03:00 0HL7OIHK18EO9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:54:59.2001099+03:00 0HL7OIHK18EO9 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:54:59.2001099+03:00 0HL7OIHK18EO9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:54:59.2761547+03:00 0HL7OIHK18EO9 [INF] Executed DbCommand (56ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:54:59.2766556+03:00 0HL7OIHK18EO9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:54:59.2776567+03:00 0HL7OIHK18EO9 [INF] Request finished in 395.621ms 200 application/json (15c52c40)
2017-09-13T22:55:30.5540603+03:00 0HL7OIHK18EOA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T22:55:30.5570619+03:00 0HL7OIHK18EOA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T22:55:30.5575620+03:00 0HL7OIHK18EOA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T22:55:30.5840794+03:00 0HL7OIHK18EOA [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T22:55:30.5845803+03:00 0HL7OIHK18EOA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T22:55:30.5850804+03:00 0HL7OIHK18EOA [INF] Request finished in 32.5963ms 200 application/json (15c52c40)
2017-09-13T23:02:45.8045058+03:00 0HL7OIHK18EOB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T23:02:46.8361880+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:02:47.0523315+03:00 0HL7OIHK18EOC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T23:02:47.0603368+03:00 0HL7OIHK18EOC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:02:47.0603368+03:00 0HL7OIHK18EOC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T23:02:47.0623385+03:00 0HL7OIHK18EOC [INF] Request finished in 9.4382ms 200 application/json (15c52c40)
2017-09-13T23:02:47.0713449+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (231ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:02:47.0903583+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:02:47.0953612+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:02:47.1063677+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:02:47.1143726+03:00 0HL7OIHK18EOB [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:02:47.1263806+03:00 0HL7OIHK18EOB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:02:47.1273812+03:00 0HL7OIHK18EOB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:02:47.1283827+03:00 0HL7OIHK18EOB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T23:02:47.1844198+03:00 0HL7OIHK18EOB [INF] Request finished in 1341.8244ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T23:02:47.2824847+03:00 0HL7OIHK18EOD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:02:47.2974943+03:00 0HL7OIHK18EOD [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:02:47.2984950+03:00 0HL7OIHK18EOD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:02:47.3295163+03:00 0HL7OIHK18EOD [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:02:47.3295163+03:00 0HL7OIHK18EOD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:02:47.3305162+03:00 0HL7OIHK18EOD [INF] Request finished in 129.3333ms 200 application/json (15c52c40)
2017-09-13T23:03:46.8250405+03:00 0HL7OIHK18EOE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:03:46.8290432+03:00 0HL7OIHK18EOE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:03:46.8290432+03:00 0HL7OIHK18EOE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:03:46.8530579+03:00 0HL7OIHK18EOE [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:03:46.8540586+03:00 0HL7OIHK18EOE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:03:46.8550600+03:00 0HL7OIHK18EOE [INF] Request finished in 29.5359ms 200 application/json (15c52c40)
2017-09-13T23:03:51.4811240+03:00 0HL7OIHK18EOF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:03:51.4841256+03:00 0HL7OIHK18EOF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:03:51.4841256+03:00 0HL7OIHK18EOF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:03:51.5071412+03:00 0HL7OIHK18EOF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:03:51.5081415+03:00 0HL7OIHK18EOF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:03:51.5081415+03:00 0HL7OIHK18EOF [INF] Request finished in 28.6888ms 200 application/json (15c52c40)
2017-09-13T23:05:16.0340902+03:00 0HL7OIHK18EOG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:05:16.0400946+03:00 0HL7OIHK18EOG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:05:16.0400946+03:00 0HL7OIHK18EOG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:05:16.0671121+03:00 0HL7OIHK18EOG [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:05:16.0671121+03:00 0HL7OIHK18EOG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:05:16.0681132+03:00 0HL7OIHK18EOG [INF] Request finished in 35.6389ms 200 application/json (15c52c40)
2017-09-13T23:07:12.0847680+03:00 0HL7OIHK18EOH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:07:12.0877708+03:00 0HL7OIHK18EOH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:07:12.0877708+03:00 0HL7OIHK18EOH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:07:12.1197916+03:00 0HL7OIHK18EOH [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:07:12.1207922+03:00 0HL7OIHK18EOH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:07:12.1217933+03:00 0HL7OIHK18EOH [INF] Request finished in 37.6568ms 200 application/json (15c52c40)
2017-09-13T23:07:25.6282246+03:00 0HL7OIHK18EOI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:07:25.6322276+03:00 0HL7OIHK18EOI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:07:25.6322276+03:00 0HL7OIHK18EOI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:07:25.6542418+03:00 0HL7OIHK18EOI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:07:25.6552425+03:00 0HL7OIHK18EOI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:07:25.6552425+03:00 0HL7OIHK18EOI [INF] Request finished in 28.1196ms 200 application/json (15c52c40)
2017-09-13T23:09:34.5478056+03:00 0HL7OIHK18EOJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:09:34.5518079+03:00 0HL7OIHK18EOJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:09:34.5518079+03:00 0HL7OIHK18EOJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:09:34.5658184+03:00 0HL7OIHK18EOJ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:09:34.5658184+03:00 0HL7OIHK18EOJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:09:34.5668194+03:00 0HL7OIHK18EOJ [INF] Request finished in 19.8214ms 200 application/json (15c52c40)
2017-09-13T23:11:08.5463795+03:00 0HL7OIHK18EOK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:11:08.5558852+03:00 0HL7OIHK18EOK [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:11:08.5563857+03:00 0HL7OIHK18EOK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:11:08.5814015+03:00 0HL7OIHK18EOK [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:11:08.5819024+03:00 0HL7OIHK18EOK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:11:08.5829027+03:00 0HL7OIHK18EOK [INF] Request finished in 37.2937ms 200 application/json (15c52c40)
2017-09-13T23:11:11.3337250+03:00 0HL7OIHK18EOL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:11:11.3362265+03:00 0HL7OIHK18EOL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:11:11.3362265+03:00 0HL7OIHK18EOL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:11:11.3597422+03:00 0HL7OIHK18EOL [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:11:11.3602424+03:00 0HL7OIHK18EOL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:11:11.3677479+03:00 0HL7OIHK18EOL [INF] Request finished in 33.2113ms 200 application/json (15c52c40)
2017-09-13T23:12:01.4563344+03:00 0HL7OIHK18EOM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:12:01.4593364+03:00 0HL7OIHK18EOM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:12:01.4598369+03:00 0HL7OIHK18EOM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:12:01.4938587+03:00 0HL7OIHK18EOM [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:12:01.4948605+03:00 0HL7OIHK18EOM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:12:01.4973612+03:00 0HL7OIHK18EOM [INF] Request finished in 39.4497ms 200 application/json (15c52c40)
2017-09-13T23:12:09.3585687+03:00 0HL7OIHK18EON [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:12:09.3785815+03:00 0HL7OIHK18EON [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:12:09.3785815+03:00 0HL7OIHK18EON [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:12:09.4206090+03:00 0HL7OIHK18EON [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:12:09.4211103+03:00 0HL7OIHK18EON [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:12:09.4231104+03:00 0HL7OIHK18EON [INF] Request finished in 65.7022ms 200 application/json (15c52c40)
2017-09-13T23:13:40.7669062+03:00 0HL7OIHK18EOO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:13:40.7729094+03:00 0HL7OIHK18EOO [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:13:40.7729094+03:00 0HL7OIHK18EOO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:13:40.8024287+03:00 0HL7OIHK18EOO [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:13:40.8029293+03:00 0HL7OIHK18EOO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:13:40.8049302+03:00 0HL7OIHK18EOO [INF] Request finished in 38.9725ms 200 application/json (15c52c40)
2017-09-13T23:14:26.0758181+03:00 0HL7OIHK18EOP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:14:26.0803217+03:00 0HL7OIHK18EOP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:14:26.0803217+03:00 0HL7OIHK18EOP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:14:26.1248510+03:00 0HL7OIHK18EOP [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:14:26.1253511+03:00 0HL7OIHK18EOP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:14:26.1373598+03:00 0HL7OIHK18EOP [INF] Request finished in 50.8545ms 200 application/json (15c52c40)
2017-09-13T23:14:31.6620182+03:00 0HL7OIHK18EOQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:14:31.6730259+03:00 0HL7OIHK18EOQ [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:14:31.6730259+03:00 0HL7OIHK18EOQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:14:31.6955406+03:00 0HL7OIHK18EOQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:14:31.6960415+03:00 0HL7OIHK18EOQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:14:31.6965416+03:00 0HL7OIHK18EOQ [INF] Request finished in 35.8272ms 200 application/json (15c52c40)
2017-09-13T23:14:32.9098446+03:00 0HL7OIHK18EOR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:14:32.9148480+03:00 0HL7OIHK18EOR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:14:32.9148480+03:00 0HL7OIHK18EOR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:14:32.9388639+03:00 0HL7OIHK18EOR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:14:32.9393644+03:00 0HL7OIHK18EOR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:14:32.9403651+03:00 0HL7OIHK18EOR [INF] Request finished in 30.3865ms 200 application/json (15c52c40)
2017-09-13T23:15:33.5916284+03:00 0HL7OIHK18EOS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:15:33.5946311+03:00 0HL7OIHK18EOS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:15:33.5946311+03:00 0HL7OIHK18EOS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:15:33.6226485+03:00 0HL7OIHK18EOS [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:15:33.6236504+03:00 0HL7OIHK18EOS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:15:33.6256509+03:00 0HL7OIHK18EOS [INF] Request finished in 33.972ms 200 application/json (15c52c40)
2017-09-13T23:15:34.7804153+03:00 0HL7OIHK18EOT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:15:34.7834181+03:00 0HL7OIHK18EOT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:15:34.7834181+03:00 0HL7OIHK18EOT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:15:34.8094345+03:00 0HL7OIHK18EOT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:15:34.8104372+03:00 0HL7OIHK18EOT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:15:34.8124369+03:00 0HL7OIHK18EOT [INF] Request finished in 30.7185ms 200 application/json (15c52c40)
2017-09-13T23:15:50.7199737+03:00 0HL7OIHK18EOU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T23:15:51.0371834+03:00 0HL7OIHK18EOU [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:15:51.1342469+03:00 0HL7OIHK18EOU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:15:51.2163017+03:00 0HL7OIHK18EOU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:15:51.2163017+03:00 0HL7OIHK18EOU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T23:15:51.4624647+03:00 0HL7OIHK18EOU [INF] Request finished in 503.2323ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T23:15:51.7416508+03:00 0HL7OIHK18EOV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:15:51.7596615+03:00 0HL7OIHK18EOV [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:15:51.7596615+03:00 0HL7OIHK18EOV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:15:51.8587275+03:00 0HL7OIHK18EOV [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:15:51.8597282+03:00 0HL7OIHK18EOV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:15:51.8647311+03:00 0HL7OIHK18EOV [INF] Request finished in 126.3065ms 200 application/json (15c52c40)
2017-09-13T23:17:34.9591791+03:00 0HL7OIHK18EP0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T23:17:35.0212194+03:00 0HL7OIHK18EP0 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:17:35.0217195+03:00 0HL7OIHK18EP0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:17:35.0222201+03:00 0HL7OIHK18EP0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:17:35.0227198+03:00 0HL7OIHK18EP0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T23:17:35.0237209+03:00 0HL7OIHK18EP0 [INF] Request finished in 69.7444ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T23:17:36.4436613+03:00 0HL7OIHK18EP1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T23:17:36.4561698+03:00 0HL7OIHK18EP1 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:17:36.4561698+03:00 0HL7OIHK18EP1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T23:17:36.4571705+03:00 0HL7OIHK18EP1 [INF] Request finished in 16.504ms 200 application/json (15c52c40)
2017-09-13T23:17:36.5902582+03:00 0HL7OIHK18EP2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:17:36.5942609+03:00 0HL7OIHK18EP2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:17:36.5942609+03:00 0HL7OIHK18EP2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:17:36.6212788+03:00 0HL7OIHK18EP2 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:17:36.6217793+03:00 0HL7OIHK18EP2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:17:36.6227800+03:00 0HL7OIHK18EP2 [INF] Request finished in 33.3297ms 200 application/json (15c52c40)
2017-09-13T23:17:36.9389894+03:00 0HL7OIHK18EP3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:17:36.9449934+03:00 0HL7OIHK18EP3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:17:36.9449934+03:00 0HL7OIHK18EP3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:17:37.0120378+03:00 0HL7OIHK18EP3 [INF] Executed DbCommand (32ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:17:37.0125383+03:00 0HL7OIHK18EP3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:17:37.0145392+03:00 0HL7OIHK18EP3 [INF] Request finished in 75.0141ms 200 application/json (15c52c40)
2017-09-13T23:17:49.4818069+03:00 0HL7OIHK18EP4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:17:49.4853082+03:00 0HL7OIHK18EP4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:17:49.4853082+03:00 0HL7OIHK18EP4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:17:49.5298379+03:00 0HL7OIHK18EP4 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:17:49.5308394+03:00 0HL7OIHK18EP4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:17:49.5333408+03:00 0HL7OIHK18EP4 [INF] Request finished in 52.1355ms 200 application/json (15c52c40)
2017-09-13T23:42:22.5118110+03:00 0HL7OIHK18EP5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T23:42:27.3492970+03:00 0HL7OIHK18EP6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-13T23:42:48.9703273+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:42:48.9818418+03:00 0HL7OIHK18EP6 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:42:48.9823428+03:00 0HL7OIHK18EP6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-13T23:42:48.9838455+03:00 0HL7OIHK18EP6 [INF] Request finished in 21634.893ms 200 application/json (15c52c40)
2017-09-13T23:42:49.0422558+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (69ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:42:49.0537640+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:42:49.0587673+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:42:49.0627696+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:42:49.0662725+03:00 0HL7OIHK18EP5 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:42:49.0667722+03:00 0HL7OIHK18EP5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:42:49.0677729+03:00 0HL7OIHK18EP5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:42:49.0677729+03:00 0HL7OIHK18EP5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T23:42:49.0687740+03:00 0HL7OIHK18EP5 [INF] Request finished in 26559.6495ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T23:42:49.0902880+03:00 0HL7OIHK18EP7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:42:49.0932904+03:00 0HL7OIHK18EP7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:42:49.0932904+03:00 0HL7OIHK18EP7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:42:49.0942911+03:00 0HL7OIHK18EP7 [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"76986343b37e436e63f9f6b2cd72751dd5e96ac29572a9eac283eacda553c0c3\"
}" (c9724191)
2017-09-13T23:42:49.0942911+03:00 0HL7OIHK18EP7 [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:42:49.0947916+03:00 0HL7OIHK18EP7 [INF] Request finished in 4.935ms 200 application/json (15c52c40)
2017-09-13T23:46:30.9033547+03:00 0HL7OIHK18EP8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.71605868100699691505335589752&state=15053355897520.4024458579283212   (e5be5b71)
2017-09-13T23:46:30.9073582+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:30.9083592+03:00 0HL7OIHK18EP8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:46:30.9083592+03:00 0HL7OIHK18EP8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:46:30.9093607+03:00 0HL7OIHK18EP8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T23:46:30.9093607+03:00 0HL7OIHK18EP8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:46:30.9103614+03:00 0HL7OIHK18EP8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:46:30.9103614+03:00 0HL7OIHK18EP8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053355897520.4024458579283212\",
  \"Nonce\": \"N0.71605868100699691505335589752\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.71605868100699691505335589752\",
    \"state\": \"15053355897520.4024458579283212\"
  }
}" (9a175e33)
2017-09-13T23:46:30.9143620+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:46:30.9303742+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:46:30.9323755+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:46:30.9343765+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:46:30.9363786+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:46:30.9393806+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:46:30.9443839+03:00 0HL7OIHK18EP8 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T23:46:30.9583932+03:00 0HL7OIHK18EP8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053355897520.4024458579283212\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T23:46:30.9593915+03:00 0HL7OIHK18EP8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:46:30.9603933+03:00 0HL7OIHK18EP8 [INF] Request finished in 57.9859ms 302  (15c52c40)
2017-09-13T23:46:39.8742972+03:00 0HL7OIHK18EP9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-13T23:46:39.8742972+03:00 0HL7OIHK18EPA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T23:46:39.8772992+03:00 0HL7OIHK18EPA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:39.8772992+03:00 0HL7OIHK18EPA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T23:46:39.8793017+03:00 0HL7OIHK18EPA [INF] Request finished in 14.1233ms 200 application/json (15c52c40)
2017-09-13T23:46:39.8993142+03:00 0HL7OIHK18EP9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:39.9003156+03:00 0HL7OIHK18EP9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:46:39.9003156+03:00 0HL7OIHK18EP9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:46:39.9013159+03:00 0HL7OIHK18EP9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-13T23:46:39.9023158+03:00 0HL7OIHK18EP9 [INF] Request finished in 37.5637ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-13T23:46:39.9633570+03:00 0HL7OIHK18EPB [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-13T23:46:39.9653575+03:00 0HL7OIHK18EPB [INF] Request finished in 2.4154ms 204  (15c52c40)
2017-09-13T23:46:39.9913748+03:00 0HL7OIHK18EPC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-13T23:46:39.9943768+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:39.9953782+03:00 0HL7OIHK18EPC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-13T23:46:39.9953782+03:00 0HL7OIHK18EPC [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-13T23:46:40.0203936+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:46:40.0233972+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:46:40.0394066+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:46:40.0414083+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:46:40.0464124+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:46:40.0484126+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:46:40.0724292+03:00 0HL7OIHK18EPC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T23:46:40.0734299+03:00 0HL7OIHK18EPC [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-13T23:46:40.0764311+03:00 0HL7OIHK18EPC [INF] Request finished in 93.9797ms 200 application/json (15c52c40)
2017-09-13T23:46:40.1664912+03:00 0HL7OIHK18EPD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:46:40.1714941+03:00 0HL7OIHK18EPD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:40.1714941+03:00 0HL7OIHK18EPD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:46:40.1935087+03:00 0HL7OIHK18EPD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:46:40.1945089+03:00 0HL7OIHK18EPD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:46:40.1955100+03:00 0HL7OIHK18EPD [INF] Request finished in 28.6975ms 200 application/json (15c52c40)
2017-09-13T23:46:43.9570013+03:00 0HL7OIHK18EPE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:46:43.9600025+03:00 0HL7OIHK18EPE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:43.9610036+03:00 0HL7OIHK18EPE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:46:43.9920241+03:00 0HL7OIHK18EPE [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:46:43.9920241+03:00 0HL7OIHK18EPE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:46:43.9940258+03:00 0HL7OIHK18EPE [INF] Request finished in 36.0092ms 200 application/json (15c52c40)
2017-09-13T23:46:49.4656502+03:00 0HL7OIHK18EPF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:46:49.4696521+03:00 0HL7OIHK18EPF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:46:49.4696521+03:00 0HL7OIHK18EPF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:46:49.5016741+03:00 0HL7OIHK18EPF [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:46:49.5026752+03:00 0HL7OIHK18EPF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:46:49.5036782+03:00 0HL7OIHK18EPF [INF] Request finished in 37.5495ms 200 application/json (15c52c40)
2017-09-13T23:51:31.2128102+03:00 0HL7OIHK18EPG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.310983924670852561505335891197&state=15053358911970.022017886411825227   (e5be5b71)
2017-09-13T23:51:31.5240159+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:51:31.5250166+03:00 0HL7OIHK18EPG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:51:31.5250166+03:00 0HL7OIHK18EPG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:31.5250166+03:00 0HL7OIHK18EPG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T23:51:31.5260165+03:00 0HL7OIHK18EPG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:31.5260165+03:00 0HL7OIHK18EPG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:31.5270171+03:00 0HL7OIHK18EPG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053358911970.022017886411825227\",
  \"Nonce\": \"N0.310983924670852561505335891197\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.310983924670852561505335891197\",
    \"state\": \"15053358911970.022017886411825227\"
  }
}" (9a175e33)
2017-09-13T23:51:31.5590391+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:51:31.5940619+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:51:31.5970639+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:51:31.6050696+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:51:31.6120735+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:51:31.6140752+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:51:31.6220809+03:00 0HL7OIHK18EPG [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T23:51:31.6460960+03:00 0HL7OIHK18EPG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053358911970.022017886411825227\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T23:51:31.6470970+03:00 0HL7OIHK18EPG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:31.6490984+03:00 0HL7OIHK18EPG [INF] Request finished in 439.9995ms 302  (15c52c40)
2017-09-13T23:51:34.2428163+03:00 0HL7OIHK18EPH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27961497243421851505335894224&state=15053358942240.5964588137402747   (e5be5b71)
2017-09-13T23:51:34.2478200+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:51:34.2488206+03:00 0HL7OIHK18EPH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:51:34.2508220+03:00 0HL7OIHK18EPH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:34.2508220+03:00 0HL7OIHK18EPH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T23:51:34.2548250+03:00 0HL7OIHK18EPH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:34.2558261+03:00 0HL7OIHK18EPH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:34.2558261+03:00 0HL7OIHK18EPH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053358942240.5964588137402747\",
  \"Nonce\": \"N0.27961497243421851505335894224\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27961497243421851505335894224\",
    \"state\": \"15053358942240.5964588137402747\"
  }
}" (9a175e33)
2017-09-13T23:51:34.2698349+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:51:34.2878461+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:51:34.2978535+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:51:34.3038571+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:51:34.3108617+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:51:34.3138629+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:51:34.3218686+03:00 0HL7OIHK18EPH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T23:51:34.3448843+03:00 0HL7OIHK18EPH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053358942240.5964588137402747\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T23:51:34.3468856+03:00 0HL7OIHK18EPH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:51:34.3498880+03:00 0HL7OIHK18EPH [INF] Request finished in 117.0199ms 302  (15c52c40)
2017-09-13T23:51:36.3322001+03:00 0HL7OIHK18EPI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T23:51:36.3362028+03:00 0HL7OIHK18EPI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:51:36.3362028+03:00 0HL7OIHK18EPI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T23:51:36.3382041+03:00 0HL7OIHK18EPI [INF] Request finished in 6.0513ms 200 application/json (15c52c40)
2017-09-13T23:51:36.5553479+03:00 0HL7OIHK18EPJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:51:36.5573488+03:00 0HL7OIHK18EPJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:51:36.5573488+03:00 0HL7OIHK18EPJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:51:36.5793630+03:00 0HL7OIHK18EPJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:51:36.5793630+03:00 0HL7OIHK18EPJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:51:36.5803641+03:00 0HL7OIHK18EPJ [INF] Request finished in 25.5964ms 200 application/json (15c52c40)
2017-09-13T23:51:37.2357986+03:00 0HL7OIHK18EPK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:51:37.2377995+03:00 0HL7OIHK18EPK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:51:37.2377995+03:00 0HL7OIHK18EPK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:51:37.2588131+03:00 0HL7OIHK18EPK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:51:37.2588131+03:00 0HL7OIHK18EPK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:51:37.2598149+03:00 0HL7OIHK18EPK [INF] Request finished in 24.4753ms 200 application/json (15c52c40)
2017-09-13T23:54:41.5312381+03:00 0HL7OIHK18EPL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:54:41.5347398+03:00 0HL7OIHK18EPL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:54:41.5347398+03:00 0HL7OIHK18EPL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:54:41.5562554+03:00 0HL7OIHK18EPL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:54:41.5567556+03:00 0HL7OIHK18EPL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:54:41.5572553+03:00 0HL7OIHK18EPL [INF] Request finished in 29.0476ms 200 application/json (15c52c40)
2017-09-13T23:54:43.4675205+03:00 0HL7OIHK18EPM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:54:43.4705225+03:00 0HL7OIHK18EPM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:54:43.4705225+03:00 0HL7OIHK18EPM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:54:43.4915360+03:00 0HL7OIHK18EPM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:54:43.4920366+03:00 0HL7OIHK18EPM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:54:43.4935374+03:00 0HL7OIHK18EPM [INF] Request finished in 25.1803ms 200 application/json (15c52c40)
2017-09-13T23:56:34.7140440+03:00 0HL7OIHK18EPN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.09660426456340311505336194685&state=15053361946850.2723911730523174   (e5be5b71)
2017-09-13T23:56:34.7180462+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:56:34.7190492+03:00 0HL7OIHK18EPN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-13T23:56:34.7200475+03:00 0HL7OIHK18EPN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:56:34.7200475+03:00 0HL7OIHK18EPN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-13T23:56:34.7220485+03:00 0HL7OIHK18EPN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:56:34.7220485+03:00 0HL7OIHK18EPN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:56:34.7230495+03:00 0HL7OIHK18EPN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053361946850.2723911730523174\",
  \"Nonce\": \"N0.09660426456340311505336194685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.09660426456340311505336194685\",
    \"state\": \"15053361946850.2723911730523174\"
  }
}" (9a175e33)
2017-09-13T23:56:34.7400600+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:56:34.7610747+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:56:34.7770849+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-13T23:56:34.7800869+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-13T23:56:34.7820878+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-13T23:56:34.7840896+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-13T23:56:34.7880922+03:00 0HL7OIHK18EPN [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-13T23:56:34.8041016+03:00 0HL7OIHK18EPN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053361946850.2723911730523174\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-13T23:56:34.8051027+03:00 0HL7OIHK18EPN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-13T23:56:34.8051027+03:00 0HL7OIHK18EPN [INF] Request finished in 91.4732ms 302  (15c52c40)
2017-09-13T23:56:39.0989478+03:00 0HL7OIHK18EPO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-13T23:56:39.1029501+03:00 0HL7OIHK18EPO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:56:39.1029501+03:00 0HL7OIHK18EPO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-13T23:56:39.1039507+03:00 0HL7OIHK18EPO [INF] Request finished in 5.083ms 200 application/json (15c52c40)
2017-09-13T23:56:39.7123533+03:00 0HL7OIHK18EPP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:56:39.7153553+03:00 0HL7OIHK18EPP [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:56:39.7153553+03:00 0HL7OIHK18EPP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:56:39.7353689+03:00 0HL7OIHK18EPP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:56:39.7363692+03:00 0HL7OIHK18EPP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:56:39.7363692+03:00 0HL7OIHK18EPP [INF] Request finished in 25.1318ms 200 application/json (15c52c40)
2017-09-13T23:56:40.2176880+03:00 0HL7OIHK18EPQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-13T23:56:40.2186886+03:00 0HL7OIHK18EPQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-13T23:56:40.2196897+03:00 0HL7OIHK18EPQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-13T23:56:40.2306970+03:00 0HL7OIHK18EPQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-13T23:56:40.2306970+03:00 0HL7OIHK18EPQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-13T23:56:40.2316973+03:00 0HL7OIHK18EPQ [INF] Request finished in 14.1537ms 200 application/json (15c52c40)
