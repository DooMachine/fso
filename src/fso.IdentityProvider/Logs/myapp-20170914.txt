2017-09-14T00:01:35.7366443+03:00 0HL7OIHK18EPR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0285969625717474861505336495701&state=15053364957010.14810951486702795   (e5be5b71)
2017-09-14T00:01:36.0738665+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:36.0738665+03:00 0HL7OIHK18EPR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:01:36.0748691+03:00 0HL7OIHK18EPR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:36.0748691+03:00 0HL7OIHK18EPR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:01:36.0748691+03:00 0HL7OIHK18EPR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:36.0758694+03:00 0HL7OIHK18EPR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:36.0758694+03:00 0HL7OIHK18EPR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053364957010.14810951486702795\",
  \"Nonce\": \"N0.0285969625717474861505336495701\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0285969625717474861505336495701\",
    \"state\": \"15053364957010.14810951486702795\"
  }
}" (9a175e33)
2017-09-14T00:01:36.1299048+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (51ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:36.1459150+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:36.1489170+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:01:36.1519186+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:01:36.1559208+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:01:36.1579233+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:36.1609249+03:00 0HL7OIHK18EPR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:01:36.1749334+03:00 0HL7OIHK18EPR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053364957010.14810951486702795\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:01:36.1759349+03:00 0HL7OIHK18EPR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:36.1759349+03:00 0HL7OIHK18EPR [INF] Request finished in 439.9331ms 302  (15c52c40)
2017-09-14T00:01:40.2296194+03:00 0HL7OIHK18EPS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0484539357692457261505336499798&state=15053364997980.4983608154870902   (e5be5b71)
2017-09-14T00:01:40.2326213+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:40.2326213+03:00 0HL7OIHK18EPS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:01:40.2336216+03:00 0HL7OIHK18EPS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:40.2336216+03:00 0HL7OIHK18EPS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:01:40.2346227+03:00 0HL7OIHK18EPS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:40.2366248+03:00 0HL7OIHK18EPS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:40.2366248+03:00 0HL7OIHK18EPS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053364997980.4983608154870902\",
  \"Nonce\": \"N0.0484539357692457261505336499798\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0484539357692457261505336499798\",
    \"state\": \"15053364997980.4983608154870902\"
  }
}" (9a175e33)
2017-09-14T00:01:40.2396260+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:40.2506337+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:40.2516343+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:01:40.2536361+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:01:40.2566373+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:01:40.2586386+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:40.2606403+03:00 0HL7OIHK18EPS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:01:40.2796521+03:00 0HL7OIHK18EPS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053364997980.4983608154870902\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:01:40.2796521+03:00 0HL7OIHK18EPS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:40.2806532+03:00 0HL7OIHK18EPS [INF] Request finished in 52.1524ms 302  (15c52c40)
2017-09-14T00:01:47.1732187+03:00 0HL7OIHK18EPT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39493426027510961505336505079&state=15053365050790.4198094091051394   (e5be5b71)
2017-09-14T00:01:47.1762211+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:47.1762211+03:00 0HL7OIHK18EPT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:01:47.1772213+03:00 0HL7OIHK18EPT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:47.1772213+03:00 0HL7OIHK18EPT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:01:47.1772213+03:00 0HL7OIHK18EPT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:47.1782220+03:00 0HL7OIHK18EPT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:47.1782220+03:00 0HL7OIHK18EPT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053365050790.4198094091051394\",
  \"Nonce\": \"N0.39493426027510961505336505079\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39493426027510961505336505079\",
    \"state\": \"15053365050790.4198094091051394\"
  }
}" (9a175e33)
2017-09-14T00:01:47.1822243+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:47.1932319+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:47.1952337+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:01:47.1972342+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:01:47.1982360+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:01:47.2012368+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:47.2042388+03:00 0HL7OIHK18EPT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:01:47.2272553+03:00 0HL7OIHK18EPT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053365050790.4198094091051394\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:01:47.2332585+03:00 0HL7OIHK18EPT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:47.2332585+03:00 0HL7OIHK18EPT [INF] Request finished in 60.7684ms 302  (15c52c40)
2017-09-14T00:01:48.8273138+03:00 0HL7OIHK18EPU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66306392861756171505336508684&state=15053365086840.18815099383545686   (e5be5b71)
2017-09-14T00:01:48.8303166+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:48.8303166+03:00 0HL7OIHK18EPU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:01:48.8313173+03:00 0HL7OIHK18EPU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:48.8313173+03:00 0HL7OIHK18EPU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:01:48.8313173+03:00 0HL7OIHK18EPU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:48.8323176+03:00 0HL7OIHK18EPU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:48.8323176+03:00 0HL7OIHK18EPU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053365086840.18815099383545686\",
  \"Nonce\": \"N0.66306392861756171505336508684\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66306392861756171505336508684\",
    \"state\": \"15053365086840.18815099383545686\"
  }
}" (9a175e33)
2017-09-14T00:01:48.8383215+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:48.8463272+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:48.8483289+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:01:48.8513298+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:01:48.8533315+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:01:48.8563331+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:01:48.8583352+03:00 0HL7OIHK18EPU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:01:48.8813500+03:00 0HL7OIHK18EPU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053365086840.18815099383545686\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:01:48.8823503+03:00 0HL7OIHK18EPU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:01:48.8833514+03:00 0HL7OIHK18EPU [INF] Request finished in 56.2486ms 302  (15c52c40)
2017-09-14T00:01:51.7042193+03:00 0HL7OIHK18EPV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:01:51.7072213+03:00 0HL7OIHK18EPV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:51.7072213+03:00 0HL7OIHK18EPV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:01:51.7082219+03:00 0HL7OIHK18EPV [INF] Request finished in 3.9679ms 200 application/json (15c52c40)
2017-09-14T00:01:52.4066850+03:00 0HL7OIHK18EQ0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:01:52.4086871+03:00 0HL7OIHK18EQ0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:52.4086871+03:00 0HL7OIHK18EQ0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:01:52.4276993+03:00 0HL7OIHK18EQ0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:52.4287003+03:00 0HL7OIHK18EQ0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:01:52.4287003+03:00 0HL7OIHK18EQ0 [INF] Request finished in 23.1656ms 200 application/json (15c52c40)
2017-09-14T00:01:53.1291635+03:00 0HL7OIHK18EQ1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:01:53.1311644+03:00 0HL7OIHK18EQ1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:01:53.1321655+03:00 0HL7OIHK18EQ1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:01:53.1441742+03:00 0HL7OIHK18EQ1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:01:53.1441742+03:00 0HL7OIHK18EQ1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:01:53.1441742+03:00 0HL7OIHK18EQ1 [INF] Request finished in 15.6356ms 200 application/json (15c52c40)
2017-09-14T00:06:49.7096335+03:00 0HL7OIHK18EQ2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64222584863662751505336809685&state=15053368096850.05532647419548531   (e5be5b71)
2017-09-14T00:06:49.7126355+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:49.7131364+03:00 0HL7OIHK18EQ2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:06:49.7136362+03:00 0HL7OIHK18EQ2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:49.7136362+03:00 0HL7OIHK18EQ2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:06:49.7141367+03:00 0HL7OIHK18EQ2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:49.7146376+03:00 0HL7OIHK18EQ2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:49.7151378+03:00 0HL7OIHK18EQ2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053368096850.05532647419548531\",
  \"Nonce\": \"N0.64222584863662751505336809685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64222584863662751505336809685\",
    \"state\": \"15053368096850.05532647419548531\"
  }
}" (9a175e33)
2017-09-14T00:06:49.7191424+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:06:49.7291471+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:49.7306475+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:06:49.7321494+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:06:49.7331489+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:06:49.7366522+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:49.7381530+03:00 0HL7OIHK18EQ2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:06:49.7491619+03:00 0HL7OIHK18EQ2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053368096850.05532647419548531\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:06:49.7501614+03:00 0HL7OIHK18EQ2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:49.7506611+03:00 0HL7OIHK18EQ2 [INF] Request finished in 41.2063ms 302  (15c52c40)
2017-09-14T00:06:54.8403754+03:00 0HL7OIHK18EQ3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:06:54.8438779+03:00 0HL7OIHK18EQ3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:54.8438779+03:00 0HL7OIHK18EQ3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:06:54.8448785+03:00 0HL7OIHK18EQ3 [INF] Request finished in 4.4068ms 200 application/json (15c52c40)
2017-09-14T00:06:55.0214957+03:00 0HL7OIHK18EQ4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:06:55.0345035+03:00 0HL7OIHK18EQ5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72130376876195351505336814940&state=15053368149400.2866661994627506   (e5be5b71)
2017-09-14T00:06:55.0375059+03:00 0HL7OIHK18EQ4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:55.0375059+03:00 0HL7OIHK18EQ4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:06:55.0430098+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:55.0435107+03:00 0HL7OIHK18EQ5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:06:55.0440108+03:00 0HL7OIHK18EQ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:55.0440108+03:00 0HL7OIHK18EQ5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:06:55.0445110+03:00 0HL7OIHK18EQ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:55.0455120+03:00 0HL7OIHK18EQ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:55.0455120+03:00 0HL7OIHK18EQ5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053368149400.2866661994627506\",
  \"Nonce\": \"N0.72130376876195351505336814940\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72130376876195351505336814940\",
    \"state\": \"15053368149400.2866661994627506\"
  }
}" (9a175e33)
2017-09-14T00:06:55.0485132+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:06:55.0595205+03:00 0HL7OIHK18EQ4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:06:55.0600206+03:00 0HL7OIHK18EQ4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:06:55.0605212+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:55.0615222+03:00 0HL7OIHK18EQ4 [INF] Request finished in 39.7292ms 200 application/json (15c52c40)
2017-09-14T00:06:55.0630230+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:06:55.0710291+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:06:55.0730296+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:06:55.0770323+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:55.0790336+03:00 0HL7OIHK18EQ5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:06:55.1020501+03:00 0HL7OIHK18EQ5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053368149400.2866661994627506\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:06:55.1035501+03:00 0HL7OIHK18EQ5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:06:55.1060519+03:00 0HL7OIHK18EQ5 [INF] Request finished in 70.5485ms 302  (15c52c40)
2017-09-14T00:06:59.2593029+03:00 0HL7OIHK18EQ6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:06:59.2623041+03:00 0HL7OIHK18EQ6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:59.2628050+03:00 0HL7OIHK18EQ6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:06:59.2638053+03:00 0HL7OIHK18EQ6 [INF] Request finished in 4.9137ms 200 application/json (15c52c40)
2017-09-14T00:06:59.6045312+03:00 0HL7OIHK18EQ7 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T00:06:59.6065329+03:00 0HL7OIHK18EQ7 [INF] Request finished in 1.8821ms 204  (15c52c40)
2017-09-14T00:06:59.6600678+03:00 0HL7OIHK18EQ8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:06:59.6630698+03:00 0HL7OIHK18EQ8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:59.6630698+03:00 0HL7OIHK18EQ8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:06:59.6940899+03:00 0HL7OIHK18EQ9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T00:06:59.6975928+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:06:59.6975928+03:00 0HL7OIHK18EQ9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T00:06:59.6975928+03:00 0HL7OIHK18EQ9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T00:06:59.7000943+03:00 0HL7OIHK18EQ8 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:06:59.7005952+03:00 0HL7OIHK18EQ8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:06:59.7131029+03:00 0HL7OIHK18EQ8 [INF] Request finished in 48.0156ms 200 application/json (15c52c40)
2017-09-14T00:06:59.7216083+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:06:59.7256114+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:59.7726417+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:06:59.7961583+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:06:59.7991599+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:06:59.8221747+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:06:59.8276786+03:00 0HL7OIHK18EQ9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:06:59.8276786+03:00 0HL7OIHK18EQ9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T00:06:59.8371855+03:00 0HL7OIHK18EQ9 [INF] Request finished in 137.1196ms 200 application/json (15c52c40)
2017-09-14T00:11:56.7354194+03:00 0HL7OIHK18EQA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.60427689732043581505337116690&state=15053371166900.20293311639015843   (e5be5b71)
2017-09-14T00:11:56.7394225+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:11:56.7394225+03:00 0HL7OIHK18EQA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:11:56.7404232+03:00 0HL7OIHK18EQA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:11:56.7404232+03:00 0HL7OIHK18EQA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:11:56.7414238+03:00 0HL7OIHK18EQA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:11:56.7434251+03:00 0HL7OIHK18EQA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:11:56.7434251+03:00 0HL7OIHK18EQA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053371166900.20293311639015843\",
  \"Nonce\": \"N0.60427689732043581505337116690\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.60427689732043581505337116690\",
    \"state\": \"15053371166900.20293311639015843\"
  }
}" (9a175e33)
2017-09-14T00:11:56.7494287+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:11:56.7644438+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:11:56.7679499+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:11:56.7709503+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:11:56.7739535+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:11:56.7759540+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:11:56.7779557+03:00 0HL7OIHK18EQA [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:11:56.8984473+03:00 0HL7OIHK18EQA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053371166900.20293311639015843\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:11:56.8994480+03:00 0HL7OIHK18EQA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:11:56.9004451+03:00 0HL7OIHK18EQA [INF] Request finished in 166.5975ms 302  (15c52c40)
2017-09-14T00:12:00.6503146+03:00 0HL7OIHK18EQB [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:12:00.6533165+03:00 0HL7OIHK18EQB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:12:00.6533165+03:00 0HL7OIHK18EQB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:12:00.6543172+03:00 0HL7OIHK18EQB [INF] Request finished in 4.1731ms 200 application/json (15c52c40)
2017-09-14T00:12:01.1917825+03:00 0HL7OIHK18EQC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:12:01.1937838+03:00 0HL7OIHK18EQC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:12:01.1937838+03:00 0HL7OIHK18EQC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:12:01.2097948+03:00 0HL7OIHK18EQC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:12:01.2107951+03:00 0HL7OIHK18EQC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:12:01.2107951+03:00 0HL7OIHK18EQC [INF] Request finished in 19.7827ms 200 application/json (15c52c40)
2017-09-14T00:12:01.8292046+03:00 0HL7OIHK18EQD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:12:01.8312060+03:00 0HL7OIHK18EQD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:12:01.8322066+03:00 0HL7OIHK18EQD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:12:01.8512188+03:00 0HL7OIHK18EQD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:12:01.8512188+03:00 0HL7OIHK18EQD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:12:01.8522203+03:00 0HL7OIHK18EQD [INF] Request finished in 23.2489ms 200 application/json (15c52c40)
2017-09-14T00:16:08.0047367+03:00 0HL7OIHK18EQE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:16:08.0082388+03:00 0HL7OIHK18EQE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:16:08.0082388+03:00 0HL7OIHK18EQE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:16:08.0317566+03:00 0HL7OIHK18EQE [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:16:08.0322551+03:00 0HL7OIHK18EQE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:16:08.0327556+03:00 0HL7OIHK18EQE [INF] Request finished in 28.6434ms 200 application/json (15c52c40)
2017-09-14T00:16:59.7380326+03:00 0HL7OIHK18EQF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97256147009117221505337419684&state=15053374196840.7208773247711069   (e5be5b71)
2017-09-14T00:16:59.7425354+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:16:59.7505407+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:16:59.7565451+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:16:59.7605473+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:16:59.7650509+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:16:59.7690540+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:16:59.7700542+03:00 0HL7OIHK18EQF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:16:59.7710573+03:00 0HL7OIHK18EQF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:16:59.7710573+03:00 0HL7OIHK18EQF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:16:59.7720555+03:00 0HL7OIHK18EQF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:16:59.7730562+03:00 0HL7OIHK18EQF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:16:59.7730562+03:00 0HL7OIHK18EQF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053374196840.7208773247711069\",
  \"Nonce\": \"N0.97256147009117221505337419684\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97256147009117221505337419684\",
    \"state\": \"15053374196840.7208773247711069\"
  }
}" (9a175e33)
2017-09-14T00:16:59.7810603+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:16:59.7820610+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:16:59.7835622+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:16:59.7855643+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:16:59.7870647+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:16:59.7890660+03:00 0HL7OIHK18EQF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:16:59.7990727+03:00 0HL7OIHK18EQF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053374196840.7208773247711069\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:16:59.7995728+03:00 0HL7OIHK18EQF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:16:59.8005742+03:00 0HL7OIHK18EQF [INF] Request finished in 64.0866ms 302  (15c52c40)
2017-09-14T00:17:04.4542533+03:00 0HL7OIHK18EQG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:17:04.4572557+03:00 0HL7OIHK18EQG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:17:04.4577559+03:00 0HL7OIHK18EQG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:17:04.4587557+03:00 0HL7OIHK18EQG [INF] Request finished in 4.3602ms 200 application/json (15c52c40)
2017-09-14T00:17:05.0101209+03:00 0HL7OIHK18EQH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:17:05.0131229+03:00 0HL7OIHK18EQH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:17:05.0131229+03:00 0HL7OIHK18EQH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:17:05.0336359+03:00 0HL7OIHK18EQH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:17:05.0341372+03:00 0HL7OIHK18EQH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:17:05.0351387+03:00 0HL7OIHK18EQH [INF] Request finished in 24.6885ms 200 application/json (15c52c40)
2017-09-14T00:17:05.5845013+03:00 0HL7OIHK18EQI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:17:05.5870032+03:00 0HL7OIHK18EQI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:17:05.5870032+03:00 0HL7OIHK18EQI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:17:05.6045146+03:00 0HL7OIHK18EQI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:17:05.6050151+03:00 0HL7OIHK18EQI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:17:05.6055153+03:00 0HL7OIHK18EQI [INF] Request finished in 21.7801ms 200 application/json (15c52c40)
2017-09-14T00:18:48.8688747+03:00 0HL7OIHK18EQJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:18:48.8788809+03:00 0HL7OIHK18EQJ [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:18:48.8788809+03:00 0HL7OIHK18EQJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:18:48.9023955+03:00 0HL7OIHK18EQJ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:18:48.9028961+03:00 0HL7OIHK18EQJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:18:48.9038971+03:00 0HL7OIHK18EQJ [INF] Request finished in 35.8608ms 200 application/json (15c52c40)
2017-09-14T00:18:56.2662732+03:00 0HL7OIHK18EQK [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:18:56.2712769+03:00 0HL7OIHK18EQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:18:56.2712769+03:00 0HL7OIHK18EQK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:18:56.2727777+03:00 0HL7OIHK18EQK [INF] Request finished in 6.1985ms 200 application/json (15c52c40)
2017-09-14T00:31:07.7788549+03:00 0HL7OIHK18EQL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49269434007607751505338267732&state=15053382677320.6108055993406227   (e5be5b71)
2017-09-14T00:31:14.9633787+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:14.9638792+03:00 0HL7OIHK18EQL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:31:14.9648811+03:00 0HL7OIHK18EQL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:31:14.9653816+03:00 0HL7OIHK18EQL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:31:14.9658810+03:00 0HL7OIHK18EQL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:31:14.9663807+03:00 0HL7OIHK18EQL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:31:14.9663807+03:00 0HL7OIHK18EQL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053382677320.6108055993406227\",
  \"Nonce\": \"N0.49269434007607751505338267732\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49269434007607751505338267732\",
    \"state\": \"15053382677320.6108055993406227\"
  }
}" (9a175e33)
2017-09-14T00:31:14.9823917+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:31:14.9943993+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:31:14.9974028+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:31:15.0014039+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:31:15.0044059+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:31:15.0064072+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:31:15.0094100+03:00 0HL7OIHK18EQL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:31:15.0234185+03:00 0HL7OIHK18EQL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053382677320.6108055993406227\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:31:15.0239190+03:00 0HL7OIHK18EQL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:31:15.0244199+03:00 0HL7OIHK18EQL [INF] Request finished in 7250.8308ms 302  (15c52c40)
2017-09-14T00:31:22.0389621+03:00 0HL7OIHK18EQM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T00:31:22.0424630+03:00 0HL7OIHK18EQM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:22.0434641+03:00 0HL7OIHK18EQM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:31:22.0439642+03:00 0HL7OIHK18EQM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:31:22.0439642+03:00 0HL7OIHK18EQM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T00:31:22.0459656+03:00 0HL7OIHK18EQM [INF] Request finished in 6.5092ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T00:31:22.2961324+03:00 0HL7OIHK18EQN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:31:22.3226498+03:00 0HL7OIHK18EQN [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:22.3226498+03:00 0HL7OIHK18EQN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:31:22.3836898+03:00 0HL7OIHK18EQN [INF] Request finished in 166.6591ms 200 application/json (15c52c40)
2017-09-14T00:31:22.4557376+03:00 0HL7OIHK18EQO [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T00:31:22.4837561+03:00 0HL7OIHK18EQO [INF] Request finished in 16.6228ms 204  (15c52c40)
2017-09-14T00:31:22.5608072+03:00 0HL7OIHK18EQP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T00:31:22.5708138+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:22.5713139+03:00 0HL7OIHK18EQP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T00:31:22.5713139+03:00 0HL7OIHK18EQP [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T00:31:22.6038357+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:31:22.6323539+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:31:22.6533683+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:31:22.6578710+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:31:22.6893921+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:31:22.6938949+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:31:22.7409261+03:00 0HL7OIHK18EQP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:31:22.7409261+03:00 0HL7OIHK18EQQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:31:22.7414266+03:00 0HL7OIHK18EQP [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T00:31:22.7949618+03:00 0HL7OIHK18EQP [INF] Request finished in 238.1972ms 200 application/json (15c52c40)
2017-09-14T00:31:22.8169764+03:00 0HL7OIHK18EQQ [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:22.8174773+03:00 0HL7OIHK18EQQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:31:22.9975986+03:00 0HL7OIHK18EQQ [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:31:22.9985973+03:00 0HL7OIHK18EQQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:31:23.0501309+03:00 0HL7OIHK18EQQ [INF] Request finished in 300.6365ms 200 application/json (15c52c40)
2017-09-14T00:31:24.1803800+03:00 0HL7OIHK18EQR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:31:24.1838814+03:00 0HL7OIHK18EQR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:24.1838814+03:00 0HL7OIHK18EQR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:31:24.2229072+03:00 0HL7OIHK18EQR [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:31:24.2234085+03:00 0HL7OIHK18EQR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:31:24.2249089+03:00 0HL7OIHK18EQR [INF] Request finished in 46.004ms 200 application/json (15c52c40)
2017-09-14T00:31:27.0498344+03:00 0HL7OIHK18EQS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:31:27.0593421+03:00 0HL7OIHK18EQS [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:31:27.0593421+03:00 0HL7OIHK18EQS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:31:27.1253838+03:00 0HL7OIHK18EQS [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:31:27.1258864+03:00 0HL7OIHK18EQS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:31:27.1644105+03:00 0HL7OIHK18EQS [INF] Request finished in 82.1297ms 200 application/json (15c52c40)
2017-09-14T00:34:32.9811826+03:00 0HL7OIHK18EQT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:34:32.9851857+03:00 0HL7OIHK18EQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:34:32.9851857+03:00 0HL7OIHK18EQT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:34:33.0077012+03:00 0HL7OIHK18EQT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:34:33.0087022+03:00 0HL7OIHK18EQT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:34:33.0097017+03:00 0HL7OIHK18EQT [INF] Request finished in 28.8518ms 200 application/json (15c52c40)
2017-09-14T00:34:35.0695662+03:00 0HL7OIHK18EQU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:34:35.0720681+03:00 0HL7OIHK18EQU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:34:35.0725686+03:00 0HL7OIHK18EQU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:34:35.0960832+03:00 0HL7OIHK18EQU [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:34:35.0965833+03:00 0HL7OIHK18EQU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:34:35.1020876+03:00 0HL7OIHK18EQU [INF] Request finished in 27.6644ms 200 application/json (15c52c40)
2017-09-14T00:35:56.0549250+03:00 0HL7OIHK18EQV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:35:56.0579269+03:00 0HL7OIHK18EQV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:35:56.0584267+03:00 0HL7OIHK18EQV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:35:56.0814431+03:00 0HL7OIHK18EQV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:35:56.0819432+03:00 0HL7OIHK18EQV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:35:56.0839446+03:00 0HL7OIHK18EQV [INF] Request finished in 28.4318ms 200 application/json (15c52c40)
2017-09-14T00:36:18.7112630+03:00 0HL7OIHK18ER0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49875145388670841505338578686&state=15053385786860.28769981922180676   (e5be5b71)
2017-09-14T00:36:18.7162655+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:18.7167657+03:00 0HL7OIHK18ER0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:36:18.7172658+03:00 0HL7OIHK18ER0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:18.7177667+03:00 0HL7OIHK18ER0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:36:18.7187682+03:00 0HL7OIHK18ER0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:18.7192679+03:00 0HL7OIHK18ER0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:18.7192679+03:00 0HL7OIHK18ER0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053385786860.28769981922180676\",
  \"Nonce\": \"N0.49875145388670841505338578686\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49875145388670841505338578686\",
    \"state\": \"15053385786860.28769981922180676\"
  }
}" (9a175e33)
2017-09-14T00:36:18.7222695+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:18.7312759+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:18.7332764+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:36:18.7347772+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:36:18.7367797+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:36:18.7398662+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:18.7408668+03:00 0HL7OIHK18ER0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:36:18.7533745+03:00 0HL7OIHK18ER0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053385786860.28769981922180676\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:36:18.7538755+03:00 0HL7OIHK18ER0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:18.7543768+03:00 0HL7OIHK18ER0 [INF] Request finished in 43.96ms 302  (15c52c40)
2017-09-14T00:36:22.7459613+03:00 0HL7OIHK18ER1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56572707451682751505338582689&state=15053385826890.07823578575549872   (e5be5b71)
2017-09-14T00:36:22.7499644+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:22.7509654+03:00 0HL7OIHK18ER1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:36:22.7519657+03:00 0HL7OIHK18ER1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:22.7524698+03:00 0HL7OIHK18ER1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:36:22.7529672+03:00 0HL7OIHK18ER1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:22.7544676+03:00 0HL7OIHK18ER1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:22.7549677+03:00 0HL7OIHK18ER1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053385826890.07823578575549872\",
  \"Nonce\": \"N0.56572707451682751505338582689\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56572707451682751505338582689\",
    \"state\": \"15053385826890.07823578575549872\"
  }
}" (9a175e33)
2017-09-14T00:36:22.7584694+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:22.7719790+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:22.7744804+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:36:22.7764814+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:36:22.7789832+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:36:22.7829859+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:22.7859882+03:00 0HL7OIHK18ER1 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:36:22.8065016+03:00 0HL7OIHK18ER1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053385826890.07823578575549872\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:36:22.8075019+03:00 0HL7OIHK18ER1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:22.8080024+03:00 0HL7OIHK18ER1 [INF] Request finished in 62.8574ms 302  (15c52c40)
2017-09-14T00:36:26.5241182+03:00 0HL7OIHK18ER2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46467758074355171505338586310&state=15053385863100.11556532811238474   (e5be5b71)
2017-09-14T00:36:26.5276207+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:26.5281212+03:00 0HL7OIHK18ER2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:36:26.5286213+03:00 0HL7OIHK18ER2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:26.5286213+03:00 0HL7OIHK18ER2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:36:26.5291219+03:00 0HL7OIHK18ER2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:26.5296220+03:00 0HL7OIHK18ER2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:26.5301229+03:00 0HL7OIHK18ER2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053385863100.11556532811238474\",
  \"Nonce\": \"N0.46467758074355171505338586310\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46467758074355171505338586310\",
    \"state\": \"15053385863100.11556532811238474\"
  }
}" (9a175e33)
2017-09-14T00:36:26.5341252+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:26.5466333+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:26.5486342+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:36:26.5526372+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:36:26.5556396+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:36:26.5581407+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:26.5611431+03:00 0HL7OIHK18ER2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:36:26.5816569+03:00 0HL7OIHK18ER2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053385863100.11556532811238474\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:36:26.6036714+03:00 0HL7OIHK18ER2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:26.6041720+03:00 0HL7OIHK18ER2 [INF] Request finished in 80.4315ms 302  (15c52c40)
2017-09-14T00:36:31.1246654+03:00 0HL7OIHK18ER3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:36:31.1271681+03:00 0HL7OIHK18ER3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:31.1271681+03:00 0HL7OIHK18ER3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:36:31.1286681+03:00 0HL7OIHK18ER3 [INF] Request finished in 3.8242ms 200 application/json (15c52c40)
2017-09-14T00:36:31.4929093+03:00 0HL7OIHK18ER4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:36:31.4959113+03:00 0HL7OIHK18ER4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:31.4959113+03:00 0HL7OIHK18ER4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:36:31.5194271+03:00 0HL7OIHK18ER4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:31.5194271+03:00 0HL7OIHK18ER4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:36:31.5209295+03:00 0HL7OIHK18ER4 [INF] Request finished in 28.2332ms 200 application/json (15c52c40)
2017-09-14T00:36:31.6204944+03:00 0HL7OIHK18ER5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.402515976039890641505338591312&state=15053385913120.3580791586968213   (e5be5b71)
2017-09-14T00:36:31.6259975+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:31.6264980+03:00 0HL7OIHK18ER5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:36:31.6295000+03:00 0HL7OIHK18ER5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:31.6295000+03:00 0HL7OIHK18ER5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:36:31.6370052+03:00 0HL7OIHK18ER5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:31.6520151+03:00 0HL7OIHK18ER5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:31.6525156+03:00 0HL7OIHK18ER5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053385913120.3580791586968213\",
  \"Nonce\": \"N0.402515976039890641505338591312\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.402515976039890641505338591312\",
    \"state\": \"15053385913120.3580791586968213\"
  }
}" (9a175e33)
2017-09-14T00:36:31.6610211+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:31.6750303+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:31.6795331+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:36:31.7015485+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:36:31.7215610+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:36:31.7250631+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:31.7420744+03:00 0HL7OIHK18ER5 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:36:31.7660907+03:00 0HL7OIHK18ER5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053385913120.3580791586968213\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:36:31.7670909+03:00 0HL7OIHK18ER5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:36:31.7730945+03:00 0HL7OIHK18ER5 [INF] Request finished in 149.0873ms 302  (15c52c40)
2017-09-14T00:36:36.1950501+03:00 0HL7OIHK18ER6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:36:36.1980521+03:00 0HL7OIHK18ER6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:36.1985542+03:00 0HL7OIHK18ER6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:36:36.2000534+03:00 0HL7OIHK18ER6 [INF] Request finished in 4.7447ms 200 application/json (15c52c40)
2017-09-14T00:36:36.3231349+03:00 0HL7OIHK18ER7 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T00:36:36.3236355+03:00 0HL7OIHK18ER7 [INF] Request finished in 1.0582ms 204  (15c52c40)
2017-09-14T00:36:36.3766698+03:00 0HL7OIHK18ER8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:36:36.3791721+03:00 0HL7OIHK18ER8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:36.3791721+03:00 0HL7OIHK18ER8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:36:36.4031880+03:00 0HL7OIHK18ER8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:36.4036885+03:00 0HL7OIHK18ER8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:36:36.4041886+03:00 0HL7OIHK18ER8 [INF] Request finished in 28.013ms 200 application/json (15c52c40)
2017-09-14T00:36:36.4051893+03:00 0HL7OIHK18ER9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T00:36:36.4081913+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:36:36.4081913+03:00 0HL7OIHK18ER9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T00:36:36.4081913+03:00 0HL7OIHK18ER9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T00:36:36.4287047+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:36:36.4322072+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:36.4357093+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:36:36.4387117+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:36:36.4407134+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:36:36.4432141+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:36:36.4462161+03:00 0HL7OIHK18ER9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:36:36.4467166+03:00 0HL7OIHK18ER9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T00:36:36.4497186+03:00 0HL7OIHK18ER9 [INF] Request finished in 42.7474ms 200 application/json (15c52c40)
2017-09-14T00:37:15.4882672+03:00 0HL7OIHK18ERA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:15.5107823+03:00 0HL7OIHK18ERA [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:15.5107823+03:00 0HL7OIHK18ERA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:15.5578135+03:00 0HL7OIHK18ERA [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:15.5583140+03:00 0HL7OIHK18ERA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:15.5618161+03:00 0HL7OIHK18ERA [INF] Request finished in 71.8673ms 200 application/json (15c52c40)
2017-09-14T00:37:16.5624793+03:00 0HL7OIHK18ERB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:16.5749874+03:00 0HL7OIHK18ERB [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:16.5754875+03:00 0HL7OIHK18ERB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:16.6035056+03:00 0HL7OIHK18ERB [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:16.6040058+03:00 0HL7OIHK18ERB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:16.6055070+03:00 0HL7OIHK18ERB [INF] Request finished in 43.0991ms 200 application/json (15c52c40)
2017-09-14T00:37:16.9307224+03:00 0HL7OIHK18ERC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:16.9342253+03:00 0HL7OIHK18ERC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:16.9347258+03:00 0HL7OIHK18ERC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:16.9552388+03:00 0HL7OIHK18ERC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:16.9557389+03:00 0HL7OIHK18ERC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:16.9567400+03:00 0HL7OIHK18ERC [INF] Request finished in 25.9564ms 200 application/json (15c52c40)
2017-09-14T00:37:51.8739025+03:00 0HL7OIHK18ERD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:51.8794063+03:00 0HL7OIHK18ERD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:51.8799065+03:00 0HL7OIHK18ERD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:51.9309411+03:00 0HL7OIHK18ERD [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:51.9314416+03:00 0HL7OIHK18ERD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:51.9319417+03:00 0HL7OIHK18ERD [INF] Request finished in 58.8591ms 200 application/json (15c52c40)
2017-09-14T00:37:55.9177299+03:00 0HL7OIHK18ERE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:55.9317396+03:00 0HL7OIHK18ERE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:55.9322401+03:00 0HL7OIHK18ERE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:55.9697644+03:00 0HL7OIHK18ERE [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:55.9707655+03:00 0HL7OIHK18ERE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:55.9762689+03:00 0HL7OIHK18ERE [INF] Request finished in 66.4013ms 200 application/json (15c52c40)
2017-09-14T00:37:56.0803374+03:00 0HL7OIHK18ERF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:37:56.0833394+03:00 0HL7OIHK18ERF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:37:56.0833394+03:00 0HL7OIHK18ERF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:37:56.1188632+03:00 0HL7OIHK18ERF [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:37:56.1198638+03:00 0HL7OIHK18ERF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:37:56.1283693+03:00 0HL7OIHK18ERF [INF] Request finished in 40.4216ms 200 application/json (15c52c40)
2017-09-14T00:38:23.0702238+03:00 0HL7OIHK18ERG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:23.0907376+03:00 0HL7OIHK18ERG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:23.0907376+03:00 0HL7OIHK18ERG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:23.1147531+03:00 0HL7OIHK18ERG [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:23.1152541+03:00 0HL7OIHK18ERG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:23.1157542+03:00 0HL7OIHK18ERG [INF] Request finished in 46.3312ms 200 application/json (15c52c40)
2017-09-14T00:38:24.0743891+03:00 0HL7OIHK18ERH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:24.0828946+03:00 0HL7OIHK18ERH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:24.0828946+03:00 0HL7OIHK18ERH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:24.1134146+03:00 0HL7OIHK18ERH [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:24.1139155+03:00 0HL7OIHK18ERH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:24.1184183+03:00 0HL7OIHK18ERH [INF] Request finished in 44.2498ms 200 application/json (15c52c40)
2017-09-14T00:38:24.5211849+03:00 0HL7OIHK18ERI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:24.5251871+03:00 0HL7OIHK18ERI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:24.5256876+03:00 0HL7OIHK18ERI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:24.5507038+03:00 0HL7OIHK18ERI [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:24.5512047+03:00 0HL7OIHK18ERI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:24.5527055+03:00 0HL7OIHK18ERI [INF] Request finished in 32.9054ms 200 application/json (15c52c40)
2017-09-14T00:38:44.3691792+03:00 0HL7OIHK18ERJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:44.3786861+03:00 0HL7OIHK18ERJ [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:44.3786861+03:00 0HL7OIHK18ERJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:44.4162108+03:00 0HL7OIHK18ERJ [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:44.4167113+03:00 0HL7OIHK18ERJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:44.4252175+03:00 0HL7OIHK18ERJ [INF] Request finished in 48.9183ms 200 application/json (15c52c40)
2017-09-14T00:38:45.9972580+03:00 0HL7OIHK18ERK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:46.0007605+03:00 0HL7OIHK18ERK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:46.0012610+03:00 0HL7OIHK18ERK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:46.0257770+03:00 0HL7OIHK18ERK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:46.0257770+03:00 0HL7OIHK18ERK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:46.0267777+03:00 0HL7OIHK18ERK [INF] Request finished in 30.5279ms 200 application/json (15c52c40)
2017-09-14T00:38:53.6423219+03:00 0HL7OIHK18ERL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:53.6463245+03:00 0HL7OIHK18ERL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:53.6463245+03:00 0HL7OIHK18ERL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:53.9155024+03:00 0HL7OIHK18ERL [INF] Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:53.9165031+03:00 0HL7OIHK18ERL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:53.9490248+03:00 0HL7OIHK18ERL [INF] Request finished in 275.4948ms 200 application/json (15c52c40)
2017-09-14T00:38:56.5037220+03:00 0HL7OIHK18ERM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:38:56.5122270+03:00 0HL7OIHK18ERM [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:38:56.5122270+03:00 0HL7OIHK18ERM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:38:56.5827744+03:00 0HL7OIHK18ERM [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:38:56.5832749+03:00 0HL7OIHK18ERM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:38:56.5937820+03:00 0HL7OIHK18ERM [INF] Request finished in 80.5535ms 200 application/json (15c52c40)
2017-09-14T00:39:00.7380816+03:00 0HL7OIHK18ERN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:00.7435854+03:00 0HL7OIHK18ERN [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:00.7440851+03:00 0HL7OIHK18ERN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:00.8066268+03:00 0HL7OIHK18ERN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:00.8071277+03:00 0HL7OIHK18ERN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:00.8081284+03:00 0HL7OIHK18ERN [INF] Request finished in 70.4115ms 200 application/json (15c52c40)
2017-09-14T00:39:00.8816765+03:00 0HL7OIHK18ERO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:00.8846785+03:00 0HL7OIHK18ERO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:00.8846785+03:00 0HL7OIHK18ERO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:00.9302171+03:00 0HL7OIHK18ERO [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:00.9307180+03:00 0HL7OIHK18ERO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:00.9327194+03:00 0HL7OIHK18ERO [INF] Request finished in 50.1199ms 200 application/json (15c52c40)
2017-09-14T00:39:02.9415493+03:00 0HL7OIHK18ERP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:02.9490544+03:00 0HL7OIHK18ERP [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:02.9490544+03:00 0HL7OIHK18ERP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:03.0206016+03:00 0HL7OIHK18ERP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:03.0216023+03:00 0HL7OIHK18ERP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:03.0246047+03:00 0HL7OIHK18ERP [INF] Request finished in 81.8459ms 200 application/json (15c52c40)
2017-09-14T00:39:28.2987006+03:00 0HL7OIHK18ERQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:28.3127099+03:00 0HL7OIHK18ERQ [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:28.3132108+03:00 0HL7OIHK18ERQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:28.3667453+03:00 0HL7OIHK18ERQ [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:28.3677463+03:00 0HL7OIHK18ERQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:28.3827567+03:00 0HL7OIHK18ERQ [INF] Request finished in 80.3972ms 200 application/json (15c52c40)
2017-09-14T00:39:29.3438927+03:00 0HL7OIHK18ERR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:29.3478957+03:00 0HL7OIHK18ERR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:29.3478957+03:00 0HL7OIHK18ERR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:29.3869216+03:00 0HL7OIHK18ERR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:29.3874217+03:00 0HL7OIHK18ERR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:29.3879222+03:00 0HL7OIHK18ERR [INF] Request finished in 44.9749ms 200 application/json (15c52c40)
2017-09-14T00:39:34.4110977+03:00 0HL7OIHK18ERS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:34.4135992+03:00 0HL7OIHK18ERS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:34.4135992+03:00 0HL7OIHK18ERS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:34.4671345+03:00 0HL7OIHK18ERS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:34.4676354+03:00 0HL7OIHK18ERS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:34.4681355+03:00 0HL7OIHK18ERS [INF] Request finished in 57.4029ms 200 application/json (15c52c40)
2017-09-14T00:39:50.4842930+03:00 0HL7OIHK18ERT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:50.4882956+03:00 0HL7OIHK18ERT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:50.4882956+03:00 0HL7OIHK18ERT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:50.5303231+03:00 0HL7OIHK18ERT [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:50.5308240+03:00 0HL7OIHK18ERT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:50.5473347+03:00 0HL7OIHK18ERT [INF] Request finished in 48.693ms 200 application/json (15c52c40)
2017-09-14T00:39:51.4554364+03:00 0HL7OIHK18ERU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:51.4614407+03:00 0HL7OIHK18ERU [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:51.4614407+03:00 0HL7OIHK18ERU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:51.5099727+03:00 0HL7OIHK18ERU [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:51.5099727+03:00 0HL7OIHK18ERU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:51.5109734+03:00 0HL7OIHK18ERU [INF] Request finished in 56.8838ms 200 application/json (15c52c40)
2017-09-14T00:39:52.3009960+03:00 0HL7OIHK18ERV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:39:52.3280147+03:00 0HL7OIHK18ERV [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:39:52.3280147+03:00 0HL7OIHK18ERV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:39:52.3705423+03:00 0HL7OIHK18ERV [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:39:52.3710432+03:00 0HL7OIHK18ERV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:39:52.3715429+03:00 0HL7OIHK18ERV [INF] Request finished in 73.3081ms 200 application/json (15c52c40)
2017-09-14T00:40:08.6659679+03:00 0HL7OIHK18ES0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:40:08.6684690+03:00 0HL7OIHK18ES0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:40:08.6684690+03:00 0HL7OIHK18ES0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:40:08.6954869+03:00 0HL7OIHK18ES0 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:40:08.6959878+03:00 0HL7OIHK18ES0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:40:08.6969881+03:00 0HL7OIHK18ES0 [INF] Request finished in 31.4914ms 200 application/json (15c52c40)
2017-09-14T00:40:19.8947005+03:00 0HL7OIHK18ES1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:40:19.8972019+03:00 0HL7OIHK18ES1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:40:19.8977025+03:00 0HL7OIHK18ES1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:40:19.9182163+03:00 0HL7OIHK18ES1 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:40:19.9182163+03:00 0HL7OIHK18ES1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:40:19.9192165+03:00 0HL7OIHK18ES1 [INF] Request finished in 25.1034ms 200 application/json (15c52c40)
2017-09-14T00:40:40.8223232+03:00 0HL7OIHK18ES2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:40:40.8243233+03:00 0HL7OIHK18ES2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:40:40.8243233+03:00 0HL7OIHK18ES2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:40:40.8413346+03:00 0HL7OIHK18ES2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:40:40.8413346+03:00 0HL7OIHK18ES2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:40:40.8423360+03:00 0HL7OIHK18ES2 [INF] Request finished in 20.3503ms 200 application/json (15c52c40)
2017-09-14T00:40:41.7233910+03:00 0HL7OIHK18ES3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:40:41.7253955+03:00 0HL7OIHK18ES3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:40:41.7258928+03:00 0HL7OIHK18ES3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:40:41.7369005+03:00 0HL7OIHK18ES3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:40:41.7369005+03:00 0HL7OIHK18ES3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:40:41.7374002+03:00 0HL7OIHK18ES3 [INF] Request finished in 14.2224ms 200 application/json (15c52c40)
2017-09-14T00:41:31.7190792+03:00 0HL7OIHK18ES4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.052762138540679571505338891685&state=15053388916850.27886516203380696   (e5be5b71)
2017-09-14T00:41:31.7215811+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:31.7220808+03:00 0HL7OIHK18ES4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:41:31.7225814+03:00 0HL7OIHK18ES4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:31.7225814+03:00 0HL7OIHK18ES4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:41:31.7230811+03:00 0HL7OIHK18ES4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:31.7240822+03:00 0HL7OIHK18ES4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:31.7240822+03:00 0HL7OIHK18ES4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053388916850.27886516203380696\",
  \"Nonce\": \"N0.052762138540679571505338891685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.052762138540679571505338891685\",
    \"state\": \"15053388916850.27886516203380696\"
  }
}" (9a175e33)
2017-09-14T00:41:31.7270834+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:41:31.7535770+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:31.7560793+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:41:31.7590809+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:41:31.7620829+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:41:31.7635833+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:31.7670850+03:00 0HL7OIHK18ES4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:41:31.7815956+03:00 0HL7OIHK18ES4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053388916850.27886516203380696\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:41:31.7825963+03:00 0HL7OIHK18ES4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:31.7840974+03:00 0HL7OIHK18ES4 [INF] Request finished in 64.7675ms 302  (15c52c40)
2017-09-14T00:41:34.8167187+03:00 0HL7OIHK18ES5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.1011024574662761505338894710&state=15053388947100.5000280535858066   (e5be5b71)
2017-09-14T00:41:34.8197206+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:34.8202216+03:00 0HL7OIHK18ES5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:41:34.8207213+03:00 0HL7OIHK18ES5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:34.8207213+03:00 0HL7OIHK18ES5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:41:34.8212218+03:00 0HL7OIHK18ES5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:34.8217224+03:00 0HL7OIHK18ES5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:34.8222225+03:00 0HL7OIHK18ES5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053388947100.5000280535858066\",
  \"Nonce\": \"N0.1011024574662761505338894710\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.1011024574662761505338894710\",
    \"state\": \"15053388947100.5000280535858066\"
  }
}" (9a175e33)
2017-09-14T00:41:34.8257250+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:41:34.8382331+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:34.8407358+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:41:34.8432368+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:41:34.8452377+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:41:34.8482405+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:34.8502411+03:00 0HL7OIHK18ES5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:41:34.8697542+03:00 0HL7OIHK18ES5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053388947100.5000280535858066\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:41:34.8707548+03:00 0HL7OIHK18ES5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:34.8717555+03:00 0HL7OIHK18ES5 [INF] Request finished in 55.4213ms 302  (15c52c40)
2017-09-14T00:41:38.7933525+03:00 0HL7OIHK18ES6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74036019969073851505338898690&state=15053388986900.9087963145190145   (e5be5b71)
2017-09-14T00:41:38.7963553+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:38.7973559+03:00 0HL7OIHK18ES6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:41:38.7983574+03:00 0HL7OIHK18ES6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:38.7983574+03:00 0HL7OIHK18ES6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:41:38.8003579+03:00 0HL7OIHK18ES6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:38.8028598+03:00 0HL7OIHK18ES6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:38.8028598+03:00 0HL7OIHK18ES6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053388986900.9087963145190145\",
  \"Nonce\": \"N0.74036019969073851505338898690\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74036019969073851505338898690\",
    \"state\": \"15053388986900.9087963145190145\"
  }
}" (9a175e33)
2017-09-14T00:41:38.8073622+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:41:38.8248736+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:38.8278760+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:41:38.8298777+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:41:38.8353803+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:41:38.8388828+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:41:38.8413847+03:00 0HL7OIHK18ES6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:41:38.8659003+03:00 0HL7OIHK18ES6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053388986900.9087963145190145\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:41:38.8664009+03:00 0HL7OIHK18ES6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:41:38.8674019+03:00 0HL7OIHK18ES6 [INF] Request finished in 74.6624ms 302  (15c52c40)
2017-09-14T00:41:42.7890072+03:00 0HL7OIHK18ES7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:41:42.8185270+03:00 0HL7OIHK18ES7 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:42.8185270+03:00 0HL7OIHK18ES7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:41:42.8435423+03:00 0HL7OIHK18ES7 [INF] Request finished in 40.2309ms 200 application/json (15c52c40)
2017-09-14T00:41:43.3393848+03:00 0HL7OIHK18ES8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:41:43.3423871+03:00 0HL7OIHK18ES8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:43.3423871+03:00 0HL7OIHK18ES8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:41:43.3613993+03:00 0HL7OIHK18ES8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:41:43.3619007+03:00 0HL7OIHK18ES8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:41:43.3624000+03:00 0HL7OIHK18ES8 [INF] Request finished in 23.0168ms 200 application/json (15c52c40)
2017-09-14T00:41:43.8332120+03:00 0HL7OIHK18ES9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:41:43.8362144+03:00 0HL7OIHK18ES9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:41:43.8367145+03:00 0HL7OIHK18ES9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:41:43.8522242+03:00 0HL7OIHK18ES9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:41:43.8527248+03:00 0HL7OIHK18ES9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:41:43.8532253+03:00 0HL7OIHK18ES9 [INF] Request finished in 21.0312ms 200 application/json (15c52c40)
2017-09-14T00:42:05.1006641+03:00 0HL7OIHK18ESA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:05.1061680+03:00 0HL7OIHK18ESA [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:05.1061680+03:00 0HL7OIHK18ESA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:05.1281822+03:00 0HL7OIHK18ESA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:05.1286827+03:00 0HL7OIHK18ESA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:05.1296837+03:00 0HL7OIHK18ESA [INF] Request finished in 32.2844ms 200 application/json (15c52c40)
2017-09-14T00:42:05.5704759+03:00 0HL7OIHK18ESB [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:42:05.5764795+03:00 0HL7OIHK18ESB [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:05.5769796+03:00 0HL7OIHK18ESB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:42:05.5864865+03:00 0HL7OIHK18ESB [INF] Request finished in 124.2013ms 200 application/json (15c52c40)
2017-09-14T00:42:05.7606014+03:00 0HL7OIHK18ESC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:05.7691069+03:00 0HL7OIHK18ESC [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:05.7691069+03:00 0HL7OIHK18ESC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:05.7906209+03:00 0HL7OIHK18ESC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:05.7911214+03:00 0HL7OIHK18ESC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:05.7921221+03:00 0HL7OIHK18ESC [INF] Request finished in 32.0152ms 200 application/json (15c52c40)
2017-09-14T00:42:23.0974016+03:00 0HL7OIHK18ESD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77736105135749491505338943090&state=15053389430900.49994998609639096   (e5be5b71)
2017-09-14T00:42:23.1034056+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:23.1039057+03:00 0HL7OIHK18ESD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:42:23.1064076+03:00 0HL7OIHK18ESD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:42:23.1064076+03:00 0HL7OIHK18ESD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:42:23.1079088+03:00 0HL7OIHK18ESD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:42:23.1084085+03:00 0HL7OIHK18ESD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:42:23.1089090+03:00 0HL7OIHK18ESD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053389430900.49994998609639096\",
  \"Nonce\": \"N0.77736105135749491505338943090\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77736105135749491505338943090\",
    \"state\": \"15053389430900.49994998609639096\"
  }
}" (9a175e33)
2017-09-14T00:42:23.1124112+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:23.1254198+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:42:23.1274211+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:42:23.1289223+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:42:23.1349310+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:42:23.1369276+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:42:23.1394294+03:00 0HL7OIHK18ESD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:42:23.1624443+03:00 0HL7OIHK18ESD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053389430900.49994998609639096\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:42:23.1654467+03:00 0HL7OIHK18ESD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:42:23.1759574+03:00 0HL7OIHK18ESD [INF] Request finished in 70.2733ms 302  (15c52c40)
2017-09-14T00:42:28.0271792+03:00 0HL7OIHK18ESE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T00:42:28.0296806+03:00 0HL7OIHK18ESE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:28.0306813+03:00 0HL7OIHK18ESE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:42:28.0311814+03:00 0HL7OIHK18ESE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:42:28.0311814+03:00 0HL7OIHK18ESE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T00:42:28.0321825+03:00 0HL7OIHK18ESE [INF] Request finished in 5.2287ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T00:42:28.1377530+03:00 0HL7OIHK18ESF [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:42:28.1462584+03:00 0HL7OIHK18ESF [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:28.1467590+03:00 0HL7OIHK18ESF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:42:28.2298136+03:00 0HL7OIHK18ESF [INF] Request finished in 43.9967ms 200 application/json (15c52c40)
2017-09-14T00:42:28.4166505+03:00 0HL7OIHK18ESG [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T00:42:28.4336606+03:00 0HL7OIHK18ESG [INF] Request finished in 86.265ms 204  (15c52c40)
2017-09-14T00:42:28.6097777+03:00 0HL7OIHK18ESH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T00:42:28.6202844+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:28.6207845+03:00 0HL7OIHK18ESH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T00:42:28.6207845+03:00 0HL7OIHK18ESH [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T00:42:28.8489361+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:28.8539394+03:00 0HL7OIHK18ESI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:28.9034720+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:42:28.9054737+03:00 0HL7OIHK18ESI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:28.9059742+03:00 0HL7OIHK18ESI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:28.9700162+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:42:28.9815237+03:00 0HL7OIHK18ESI [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:28.9820242+03:00 0HL7OIHK18ESI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:28.9885279+03:00 0HL7OIHK18ESI [INF] Request finished in 179.1565ms 200 application/json (15c52c40)
2017-09-14T00:42:28.9975339+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:42:29.1026039+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:42:29.1771530+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:42:29.1801546+03:00 0HL7OIHK18ESH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:42:29.1801546+03:00 0HL7OIHK18ESH [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T00:42:29.2141780+03:00 0HL7OIHK18ESH [INF] Request finished in 686.2813ms 200 application/json (15c52c40)
2017-09-14T00:42:30.1663084+03:00 0HL7OIHK18ESJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:30.1698105+03:00 0HL7OIHK18ESJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:30.1698105+03:00 0HL7OIHK18ESJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:30.1993295+03:00 0HL7OIHK18ESJ [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:30.2013332+03:00 0HL7OIHK18ESJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:30.2068346+03:00 0HL7OIHK18ESJ [INF] Request finished in 36.2413ms 200 application/json (15c52c40)
2017-09-14T00:42:32.2439034+03:00 0HL7OIHK18ESK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:32.2464048+03:00 0HL7OIHK18ESK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:32.2464048+03:00 0HL7OIHK18ESK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:32.2609146+03:00 0HL7OIHK18ESK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:32.2609146+03:00 0HL7OIHK18ESK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:32.2619153+03:00 0HL7OIHK18ESK [INF] Request finished in 18.1962ms 200 application/json (15c52c40)
2017-09-14T00:42:32.9138473+03:00 0HL7OIHK18ESL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:32.9193507+03:00 0HL7OIHK18ESL [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:32.9193507+03:00 0HL7OIHK18ESL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:32.9433666+03:00 0HL7OIHK18ESL [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:32.9438672+03:00 0HL7OIHK18ESL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:32.9453680+03:00 0HL7OIHK18ESL [INF] Request finished in 31.1306ms 200 application/json (15c52c40)
2017-09-14T00:42:46.9014943+03:00 0HL7OIHK18ESM [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:42:46.9049969+03:00 0HL7OIHK18ESM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:42:46.9049969+03:00 0HL7OIHK18ESM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:42:46.9245096+03:00 0HL7OIHK18ESM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:42:46.9250101+03:00 0HL7OIHK18ESM [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:42:46.9255110+03:00 0HL7OIHK18ESM [INF] Request finished in 24.426ms 200 application/json (15c52c40)
2017-09-14T00:43:40.9692343+03:00 0HL7OIHK18ESN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:43:40.9722367+03:00 0HL7OIHK18ESN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:43:40.9722367+03:00 0HL7OIHK18ESN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:43:40.9982535+03:00 0HL7OIHK18ESN [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:43:40.9982535+03:00 0HL7OIHK18ESN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:43:40.9992545+03:00 0HL7OIHK18ESN [INF] Request finished in 29.8485ms 200 application/json (15c52c40)
2017-09-14T00:47:24.7414546+03:00 0HL7OIHK18ESO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70503867860984681505339244686&state=15053392446860.005714070675516325   (e5be5b71)
2017-09-14T00:47:25.1521550+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:25.1831768+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (26ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:47:25.1911809+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:25.1946842+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:47:25.1986860+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:47:25.2026891+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:47:25.2031892+03:00 0HL7OIHK18ESO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:47:25.2036898+03:00 0HL7OIHK18ESO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:25.2041903+03:00 0HL7OIHK18ESO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:47:25.2046908+03:00 0HL7OIHK18ESO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:25.2051906+03:00 0HL7OIHK18ESO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:25.2051906+03:00 0HL7OIHK18ESO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053392446860.005714070675516325\",
  \"Nonce\": \"N0.70503867860984681505339244686\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70503867860984681505339244686\",
    \"state\": \"15053392446860.005714070675516325\"
  }
}" (9a175e33)
2017-09-14T00:47:25.2146970+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:25.2171989+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:47:25.2197008+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:47:25.2212008+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:47:25.2232021+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:25.2272051+03:00 0HL7OIHK18ESO [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:47:25.2462173+03:00 0HL7OIHK18ESO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053392446860.005714070675516325\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:47:25.2472180+03:00 0HL7OIHK18ESO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:25.2482187+03:00 0HL7OIHK18ESO [INF] Request finished in 507.6387ms 302  (15c52c40)
2017-09-14T00:47:28.7118141+03:00 0HL7OIHK18ESP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56312343652144441505339248687&state=15053392486870.8632104777513958   (e5be5b71)
2017-09-14T00:47:28.7143147+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:28.7148149+03:00 0HL7OIHK18ESP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:47:28.7153154+03:00 0HL7OIHK18ESP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:28.7158155+03:00 0HL7OIHK18ESP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:47:28.7163161+03:00 0HL7OIHK18ESP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:28.7168174+03:00 0HL7OIHK18ESP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:28.7168174+03:00 0HL7OIHK18ESP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053392486870.8632104777513958\",
  \"Nonce\": \"N0.56312343652144441505339248687\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56312343652144441505339248687\",
    \"state\": \"15053392486870.8632104777513958\"
  }
}" (9a175e33)
2017-09-14T00:47:28.7208189+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:47:28.7288249+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:28.7303250+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:47:28.7318273+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:47:28.7338275+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:47:28.7358284+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:28.7383314+03:00 0HL7OIHK18ESP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:47:28.7508387+03:00 0HL7OIHK18ESP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053392486870.8632104777513958\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:47:28.7513389+03:00 0HL7OIHK18ESP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:28.7523399+03:00 0HL7OIHK18ESP [INF] Request finished in 40.859ms 302  (15c52c40)
2017-09-14T00:47:32.8962412+03:00 0HL7OIHK18ESQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84289052633284681505339252704&state=15053392527040.1777863267137343   (e5be5b71)
2017-09-14T00:47:32.8992420+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:32.8997425+03:00 0HL7OIHK18ESQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:47:32.9007431+03:00 0HL7OIHK18ESQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:32.9007431+03:00 0HL7OIHK18ESQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:47:32.9012437+03:00 0HL7OIHK18ESQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:32.9022447+03:00 0HL7OIHK18ESQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:32.9022447+03:00 0HL7OIHK18ESQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053392527040.1777863267137343\",
  \"Nonce\": \"N0.84289052633284681505339252704\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84289052633284681505339252704\",
    \"state\": \"15053392527040.1777863267137343\"
  }
}" (9a175e33)
2017-09-14T00:47:32.9057469+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:47:32.9192556+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:32.9212569+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:47:32.9247595+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:47:32.9267600+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:47:32.9292622+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:47:32.9322642+03:00 0HL7OIHK18ESQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:47:32.9477751+03:00 0HL7OIHK18ESQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053392527040.1777863267137343\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:47:32.9482748+03:00 0HL7OIHK18ESQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:47:32.9497760+03:00 0HL7OIHK18ESQ [INF] Request finished in 53.1598ms 302  (15c52c40)
2017-09-14T00:47:36.2454586+03:00 0HL7OIHK18ESR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:47:36.2484606+03:00 0HL7OIHK18ESR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:36.2484606+03:00 0HL7OIHK18ESR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:47:36.2504620+03:00 0HL7OIHK18ESR [INF] Request finished in 3.9959ms 200 application/json (15c52c40)
2017-09-14T00:47:36.7087651+03:00 0HL7OIHK18ESS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:47:36.7112670+03:00 0HL7OIHK18ESS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:36.7117675+03:00 0HL7OIHK18ESS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:47:36.7332815+03:00 0HL7OIHK18ESS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:47:36.7337821+03:00 0HL7OIHK18ESS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:47:36.7342826+03:00 0HL7OIHK18ESS [INF] Request finished in 25.8557ms 200 application/json (15c52c40)
2017-09-14T00:47:37.4322447+03:00 0HL7OIHK18EST [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:47:37.4357468+03:00 0HL7OIHK18EST [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:47:37.4357468+03:00 0HL7OIHK18EST [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:47:37.4587624+03:00 0HL7OIHK18EST [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:47:37.4592630+03:00 0HL7OIHK18EST [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:47:37.4602628+03:00 0HL7OIHK18EST [INF] Request finished in 27.7623ms 200 application/json (15c52c40)
2017-09-14T00:52:32.7320910+03:00 0HL7OIHK18ESU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25210573379194921505339552687&state=15053395526870.3022253858591799   (e5be5b71)
2017-09-14T00:52:32.7350942+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:52:32.7360941+03:00 0HL7OIHK18ESU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:52:32.7360941+03:00 0HL7OIHK18ESU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:52:32.7360941+03:00 0HL7OIHK18ESU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:52:32.7370951+03:00 0HL7OIHK18ESU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:52:32.7380974+03:00 0HL7OIHK18ESU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:52:32.7380974+03:00 0HL7OIHK18ESU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053395526870.3022253858591799\",
  \"Nonce\": \"N0.25210573379194921505339552687\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25210573379194921505339552687\",
    \"state\": \"15053395526870.3022253858591799\"
  }
}" (9a175e33)
2017-09-14T00:52:32.7410974+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:52:32.7501049+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:52:32.7511040+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:52:32.7531057+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:52:32.7541056+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:52:32.7551063+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:52:32.7561069+03:00 0HL7OIHK18ESU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:52:32.7661135+03:00 0HL7OIHK18ESU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053395526870.3022253858591799\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:52:32.7671138+03:00 0HL7OIHK18ESU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:52:32.7671138+03:00 0HL7OIHK18ESU [INF] Request finished in 36.3376ms 302  (15c52c40)
2017-09-14T00:52:37.0029197+03:00 0HL7OIHK18ESV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:52:37.0059213+03:00 0HL7OIHK18ESV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:52:37.0059213+03:00 0HL7OIHK18ESV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:52:37.0069224+03:00 0HL7OIHK18ESV [INF] Request finished in 3.5025ms 200 application/json (15c52c40)
2017-09-14T00:52:37.1670284+03:00 0HL7OIHK18ET0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:52:37.1690305+03:00 0HL7OIHK18ET0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:52:37.1690305+03:00 0HL7OIHK18ET0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:52:37.1810385+03:00 0HL7OIHK18ET0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:52:37.1820387+03:00 0HL7OIHK18ET0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:52:37.1820387+03:00 0HL7OIHK18ET0 [INF] Request finished in 16.4819ms 200 application/json (15c52c40)
2017-09-14T00:52:38.4378705+03:00 0HL7OIHK18ET1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:52:38.4408721+03:00 0HL7OIHK18ET1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:52:38.4408721+03:00 0HL7OIHK18ET1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:52:38.4618864+03:00 0HL7OIHK18ET1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:52:38.4628867+03:00 0HL7OIHK18ET1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:52:38.4628867+03:00 0HL7OIHK18ET1 [INF] Request finished in 25.8092ms 200 application/json (15c52c40)
2017-09-14T00:57:35.7315119+03:00 0HL7OIHK18ET2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.463932811298914951505339855685&state=15053398556850.5010881117838608   (e5be5b71)
2017-09-14T00:57:36.0907499+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:57:36.0917525+03:00 0HL7OIHK18ET2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:57:36.0927532+03:00 0HL7OIHK18ET2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:36.0937550+03:00 0HL7OIHK18ET2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:57:36.0937550+03:00 0HL7OIHK18ET2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:36.0947565+03:00 0HL7OIHK18ET2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:36.0957567+03:00 0HL7OIHK18ET2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053398556850.5010881117838608\",
  \"Nonce\": \"N0.463932811298914951505339855685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.463932811298914951505339855685\",
    \"state\": \"15053398556850.5010881117838608\"
  }
}" (9a175e33)
2017-09-14T00:57:36.1668062+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (65ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:57:36.1918176+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:57:36.1998241+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:57:36.2048254+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:57:36.2078274+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:57:36.2128307+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:57:36.2178344+03:00 0HL7OIHK18ET2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:57:36.2338454+03:00 0HL7OIHK18ET2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053398556850.5010881117838608\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:57:36.2348449+03:00 0HL7OIHK18ET2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:36.2348449+03:00 0HL7OIHK18ET2 [INF] Request finished in 504.8314ms 302  (15c52c40)
2017-09-14T00:57:38.9636136+03:00 0HL7OIHK18ET3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99533761057331781505339858895&state=15053398588950.7269737417730304   (e5be5b71)
2017-09-14T00:57:38.9666152+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:57:38.9676162+03:00 0HL7OIHK18ET3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T00:57:38.9676162+03:00 0HL7OIHK18ET3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:38.9676162+03:00 0HL7OIHK18ET3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T00:57:38.9686165+03:00 0HL7OIHK18ET3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:38.9696176+03:00 0HL7OIHK18ET3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:38.9696176+03:00 0HL7OIHK18ET3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053398588950.7269737417730304\",
  \"Nonce\": \"N0.99533761057331781505339858895\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99533761057331781505339858895\",
    \"state\": \"15053398588950.7269737417730304\"
  }
}" (9a175e33)
2017-09-14T00:57:38.9736210+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:57:38.9856286+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:57:38.9876303+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T00:57:38.9906315+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T00:57:38.9926332+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T00:57:38.9956348+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T00:57:38.9976361+03:00 0HL7OIHK18ET3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T00:57:39.0186500+03:00 0HL7OIHK18ET3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053398588950.7269737417730304\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T00:57:39.0196511+03:00 0HL7OIHK18ET3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T00:57:39.0206518+03:00 0HL7OIHK18ET3 [INF] Request finished in 56.7579ms 302  (15c52c40)
2017-09-14T00:57:41.9135674+03:00 0HL7OIHK18ET4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T00:57:41.9165694+03:00 0HL7OIHK18ET4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:57:41.9165694+03:00 0HL7OIHK18ET4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T00:57:41.9175701+03:00 0HL7OIHK18ET4 [INF] Request finished in 4.0022ms 200 application/json (15c52c40)
2017-09-14T00:57:42.2718047+03:00 0HL7OIHK18ET5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:57:42.2738072+03:00 0HL7OIHK18ET5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:57:42.2738072+03:00 0HL7OIHK18ET5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:57:42.2938185+03:00 0HL7OIHK18ET5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:57:42.2938185+03:00 0HL7OIHK18ET5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:57:42.2948199+03:00 0HL7OIHK18ET5 [INF] Request finished in 23.2986ms 200 application/json (15c52c40)
2017-09-14T00:57:42.8802077+03:00 0HL7OIHK18ET6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T00:57:42.8832100+03:00 0HL7OIHK18ET6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T00:57:42.8832100+03:00 0HL7OIHK18ET6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T00:57:42.9082254+03:00 0HL7OIHK18ET6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T00:57:42.9082254+03:00 0HL7OIHK18ET6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T00:57:42.9092269+03:00 0HL7OIHK18ET6 [INF] Request finished in 29.1518ms 200 application/json (15c52c40)
2017-09-14T01:00:33.1498178+03:00 0HL7OIHK18ET7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:00:33.1538200+03:00 0HL7OIHK18ET7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:00:33.1538200+03:00 0HL7OIHK18ET7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:00:33.1828397+03:00 0HL7OIHK18ET7 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:00:33.1828397+03:00 0HL7OIHK18ET7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:00:33.1838403+03:00 0HL7OIHK18ET7 [INF] Request finished in 37.8301ms 200 application/json (15c52c40)
2017-09-14T01:00:34.3436085+03:00 0HL7OIHK18ET8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:00:34.3466105+03:00 0HL7OIHK18ET8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:00:34.3466105+03:00 0HL7OIHK18ET8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:00:34.3716266+03:00 0HL7OIHK18ET8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:00:34.3716266+03:00 0HL7OIHK18ET8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:00:34.3726281+03:00 0HL7OIHK18ET8 [INF] Request finished in 33.4833ms 200 application/json (15c52c40)
2017-09-14T01:02:41.7221874+03:00 0HL7OIHK18ET9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53164399385073181505340161685&state=15053401616850.8409578104759643   (e5be5b71)
2017-09-14T01:02:41.7251898+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:02:41.7256903+03:00 0HL7OIHK18ET9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T01:02:41.7261901+03:00 0HL7OIHK18ET9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:02:41.7261901+03:00 0HL7OIHK18ET9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T01:02:41.7266890+03:00 0HL7OIHK18ET9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:02:41.7276920+03:00 0HL7OIHK18ET9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:02:41.7276920+03:00 0HL7OIHK18ET9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053401616850.8409578104759643\",
  \"Nonce\": \"N0.53164399385073181505340161685\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53164399385073181505340161685\",
    \"state\": \"15053401616850.8409578104759643\"
  }
}" (9a175e33)
2017-09-14T01:02:41.7341942+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:02:41.7439355+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:02:41.7464390+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T01:02:41.7494410+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T01:02:41.7534448+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T01:02:41.7549460+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:02:41.7579480+03:00 0HL7OIHK18ET9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T01:02:41.7689541+03:00 0HL7OIHK18ET9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053401616850.8409578104759643\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T01:02:41.7694554+03:00 0HL7OIHK18ET9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:02:41.7699571+03:00 0HL7OIHK18ET9 [INF] Request finished in 48.5872ms 302  (15c52c40)
2017-09-14T01:02:46.1762566+03:00 0HL7OIHK18ETA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T01:02:46.1797587+03:00 0HL7OIHK18ETA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:02:46.1797587+03:00 0HL7OIHK18ETA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T01:02:46.1812595+03:00 0HL7OIHK18ETA [INF] Request finished in 4.6409ms 200 application/json (15c52c40)
2017-09-14T01:02:46.8451995+03:00 0HL7OIHK18ETB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:02:46.8482011+03:00 0HL7OIHK18ETB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:02:46.8482011+03:00 0HL7OIHK18ETB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:02:46.8762200+03:00 0HL7OIHK18ETB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:02:46.8767205+03:00 0HL7OIHK18ETB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:02:46.8777212+03:00 0HL7OIHK18ETB [INF] Request finished in 32.8529ms 200 application/json (15c52c40)
2017-09-14T01:02:47.6577372+03:00 0HL7OIHK18ETC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:02:47.6602391+03:00 0HL7OIHK18ETC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:02:47.6602391+03:00 0HL7OIHK18ETC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:02:47.6792517+03:00 0HL7OIHK18ETC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:02:47.6792517+03:00 0HL7OIHK18ETC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:02:47.6802523+03:00 0HL7OIHK18ETC [INF] Request finished in 22.4436ms 200 application/json (15c52c40)
2017-09-14T01:07:42.7288565+03:00 0HL7OIHK18ETD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.122194609882782191505340462686&state=15053404626860.08200850352810174   (e5be5b71)
2017-09-14T01:07:42.9554160+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:42.9564167+03:00 0HL7OIHK18ETD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T01:07:42.9574146+03:00 0HL7OIHK18ETD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:42.9579175+03:00 0HL7OIHK18ETD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T01:07:42.9589182+03:00 0HL7OIHK18ETD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:42.9604186+03:00 0HL7OIHK18ETD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:42.9609199+03:00 0HL7OIHK18ETD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053404626860.08200850352810174\",
  \"Nonce\": \"N0.122194609882782191505340462686\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.122194609882782191505340462686\",
    \"state\": \"15053404626860.08200850352810174\"
  }
}" (9a175e33)
2017-09-14T01:07:43.0559473+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:07:43.0709269+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:43.0764299+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T01:07:43.0814313+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T01:07:43.0864362+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T01:07:43.0894370+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:43.0939397+03:00 0HL7OIHK18ETD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T01:07:43.1109514+03:00 0HL7OIHK18ETD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053404626860.08200850352810174\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T01:07:43.1124538+03:00 0HL7OIHK18ETD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:43.1134556+03:00 0HL7OIHK18ETD [INF] Request finished in 384.7281ms 302  (15c52c40)
2017-09-14T01:07:47.7024296+03:00 0HL7OIHK18ETE [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T01:07:47.7054311+03:00 0HL7OIHK18ETE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:47.7054311+03:00 0HL7OIHK18ETE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T01:07:47.7074333+03:00 0HL7OIHK18ETE [INF] Request finished in 3.9323ms 200 application/json (15c52c40)
2017-09-14T01:07:47.9435889+03:00 0HL7OIHK18ETF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95032644207187491505340465755&state=15053404657550.8470252748937139   (e5be5b71)
2017-09-14T01:07:47.9455906+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:47.9460911+03:00 0HL7OIHK18ETF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T01:07:47.9465917+03:00 0HL7OIHK18ETF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:47.9465917+03:00 0HL7OIHK18ETF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T01:07:47.9465917+03:00 0HL7OIHK18ETF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:47.9470918+03:00 0HL7OIHK18ETF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:47.9475919+03:00 0HL7OIHK18ETF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053404657550.8470252748937139\",
  \"Nonce\": \"N0.95032644207187491505340465755\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95032644207187491505340465755\",
    \"state\": \"15053404657550.8470252748937139\"
  }
}" (9a175e33)
2017-09-14T01:07:47.9505935+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:07:47.9601004+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:47.9626035+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T01:07:47.9651037+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T01:07:47.9681053+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T01:07:47.9706068+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:47.9726085+03:00 0HL7OIHK18ETF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T01:07:47.9921224+03:00 0HL7OIHK18ETF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053404657550.8470252748937139\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T01:07:47.9931223+03:00 0HL7OIHK18ETF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:07:47.9941233+03:00 0HL7OIHK18ETF [INF] Request finished in 50.579ms 302  (15c52c40)
2017-09-14T01:07:48.0861839+03:00 0HL7OIHK18ETG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:07:48.0891855+03:00 0HL7OIHK18ETG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:48.0891855+03:00 0HL7OIHK18ETG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:07:48.1177050+03:00 0HL7OIHK18ETG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:07:48.1182051+03:00 0HL7OIHK18ETG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:07:48.1197059+03:00 0HL7OIHK18ETG [INF] Request finished in 33.837ms 200 application/json (15c52c40)
2017-09-14T01:07:51.2687924+03:00 0HL7OIHK18ETH [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T01:07:51.2717936+03:00 0HL7OIHK18ETH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:51.2717936+03:00 0HL7OIHK18ETH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T01:07:51.2727951+03:00 0HL7OIHK18ETH [INF] Request finished in 3.9939ms 200 application/json (15c52c40)
2017-09-14T01:07:51.4729273+03:00 0HL7OIHK18ETI [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T01:07:51.4734274+03:00 0HL7OIHK18ETI [INF] Request finished in 0.8968ms 204  (15c52c40)
2017-09-14T01:07:51.5149547+03:00 0HL7OIHK18ETJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:07:51.5179567+03:00 0HL7OIHK18ETJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:51.5184572+03:00 0HL7OIHK18ETJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:07:51.5474764+03:00 0HL7OIHK18ETJ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:07:51.5479770+03:00 0HL7OIHK18ETJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:07:51.5529799+03:00 0HL7OIHK18ETJ [INF] Request finished in 34.0702ms 200 application/json (15c52c40)
2017-09-14T01:07:51.7556139+03:00 0HL7OIHK18ETK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T01:07:51.7586179+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:07:51.7586179+03:00 0HL7OIHK18ETK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T01:07:51.7586179+03:00 0HL7OIHK18ETK [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T01:07:51.7826322+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:07:51.7976417+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:51.8206570+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T01:07:51.8231592+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T01:07:51.8256603+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T01:07:51.8356673+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:07:51.8376682+03:00 0HL7OIHK18ETK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T01:07:51.8376682+03:00 0HL7OIHK18ETK [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T01:07:51.8391698+03:00 0HL7OIHK18ETK [INF] Request finished in 82.6815ms 200 application/json (15c52c40)
2017-09-14T01:12:48.7373201+03:00 0HL7OIHK18ETL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0548820242043976951505340768688&state=15053407686880.016116812035204875   (e5be5b71)
2017-09-14T01:12:48.7413236+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:12:48.7413236+03:00 0HL7OIHK18ETL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T01:12:48.7423238+03:00 0HL7OIHK18ETL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:12:48.7423238+03:00 0HL7OIHK18ETL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T01:12:48.7423238+03:00 0HL7OIHK18ETL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:12:48.7433245+03:00 0HL7OIHK18ETL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:12:48.7433245+03:00 0HL7OIHK18ETL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15053407686880.016116812035204875\",
  \"Nonce\": \"N0.0548820242043976951505340768688\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0548820242043976951505340768688\",
    \"state\": \"15053407686880.016116812035204875\"
  }
}" (9a175e33)
2017-09-14T01:12:48.7503295+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:12:48.7643380+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:12:48.7673400+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T01:12:48.7703420+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T01:12:48.7723433+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T01:12:48.7743446+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T01:12:48.7763460+03:00 0HL7OIHK18ETL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T01:12:48.7873521+03:00 0HL7OIHK18ETL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15053407686880.016116812035204875\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T01:12:48.7873521+03:00 0HL7OIHK18ETL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T01:12:48.7883531+03:00 0HL7OIHK18ETL [INF] Request finished in 51.4838ms 302  (15c52c40)
2017-09-14T01:12:55.1805873+03:00 0HL7OIHK18ETM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T01:12:55.1845903+03:00 0HL7OIHK18ETM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:12:55.1845903+03:00 0HL7OIHK18ETM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T01:12:55.1865916+03:00 0HL7OIHK18ETM [INF] Request finished in 4.56ms 200 application/json (15c52c40)
2017-09-14T01:12:55.5248157+03:00 0HL7OIHK18ETN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:12:55.5268174+03:00 0HL7OIHK18ETN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:12:55.5268174+03:00 0HL7OIHK18ETN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:12:55.5458296+03:00 0HL7OIHK18ETN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:12:55.5468306+03:00 0HL7OIHK18ETN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:12:55.5468306+03:00 0HL7OIHK18ETN [INF] Request finished in 22.7945ms 200 application/json (15c52c40)
2017-09-14T01:12:57.7202816+03:00 0HL7OIHK18ETO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:12:57.7232836+03:00 0HL7OIHK18ETO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:12:57.7232836+03:00 0HL7OIHK18ETO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:12:57.7442975+03:00 0HL7OIHK18ETO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:12:57.7452982+03:00 0HL7OIHK18ETO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:12:57.7462988+03:00 0HL7OIHK18ETO [INF] Request finished in 26.0914ms 200 application/json (15c52c40)
2017-09-14T01:28:56.2199842+03:00 0HL7OIHK18ETP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T01:29:03.4174621+03:00 0HL7OIHK18ETP [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T01:29:03.4179626+03:00 0HL7OIHK18ETP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T01:29:03.4514846+03:00 0HL7OIHK18ETP [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T01:29:03.4519848+03:00 0HL7OIHK18ETP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T01:29:03.4529854+03:00 0HL7OIHK18ETP [INF] Request finished in 7233.0738ms 200 application/json (15c52c40)
2017-09-14T21:10:22.4677824+03:00 0HL7OIHK18ETQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T21:10:23.0606749+03:00 0HL7OIHK18ETR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-14T21:10:23.1262181+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:23.1277193+03:00 0HL7OIHK18ETR [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:23.1282198+03:00 0HL7OIHK18ETR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-14T21:10:23.1377259+03:00 0HL7OIHK18ETR [INF] Request finished in 72.7819ms 200 application/json (15c52c40)
2017-09-14T21:10:23.2893265+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (142ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:10:23.4364235+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:10:23.5590045+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:10:23.5705123+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:10:23.5755161+03:00 0HL7OIHK18ETQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:10:23.5765167+03:00 0HL7OIHK18ETS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:10:23.5785180+03:00 0HL7OIHK18ETQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:10:23.5805186+03:00 0HL7OIHK18ETQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:23.5845220+03:00 0HL7OIHK18ETQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T21:10:23.5875232+03:00 0HL7OIHK18ETQ [INF] Request finished in 1122.5529ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T21:10:23.5880237+03:00 0HL7OIHK18ETS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:23.5885243+03:00 0HL7OIHK18ETS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:10:23.5905252+03:00 0HL7OIHK18ETS [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"84ec1d06428b31c0d275e7fdb8c8f1b420113fb3f5974d367e3c832fa6407501\"
}" (c9724191)
2017-09-14T21:10:23.5905252+03:00 0HL7OIHK18ETS [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:10:23.5920264+03:00 0HL7OIHK18ETS [INF] Request finished in 14.6092ms 200 application/json (15c52c40)
2017-09-14T21:10:28.9785191+03:00 0HL7OIHK18ETT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70648889209240061505412628972&state=15054126289720.9941144346148272   (e5be5b71)
2017-09-14T21:10:28.9815211+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:28.9820208+03:00 0HL7OIHK18ETT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:10:28.9825217+03:00 0HL7OIHK18ETT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:28.9830215+03:00 0HL7OIHK18ETT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:10:28.9840221+03:00 0HL7OIHK18ETT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:28.9850240+03:00 0HL7OIHK18ETT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:28.9855237+03:00 0HL7OIHK18ETT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054126289720.9941144346148272\",
  \"Nonce\": \"N0.70648889209240061505412628972\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70648889209240061505412628972\",
    \"state\": \"15054126289720.9941144346148272\"
  }
}" (9a175e33)
2017-09-14T21:10:28.9945293+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:10:29.0155436+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:10:29.0175441+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:10:29.0195458+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:10:29.0230480+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:10:29.0250497+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:10:29.0290523+03:00 0HL7OIHK18ETT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:10:29.1096047+03:00 0HL7OIHK18ETT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054126289720.9941144346148272\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:10:29.1101060+03:00 0HL7OIHK18ETT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:29.1111059+03:00 0HL7OIHK18ETT [INF] Request finished in 133.2274ms 302  (15c52c40)
2017-09-14T21:10:34.7743748+03:00 0HL7OIHK18ETU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T21:10:34.7783774+03:00 0HL7OIHK18ETU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:34.7788780+03:00 0HL7OIHK18ETU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:10:34.7793785+03:00 0HL7OIHK18ETU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:10:34.7793785+03:00 0HL7OIHK18ETU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T21:10:34.7818800+03:00 0HL7OIHK18ETU [INF] Request finished in 10.9966ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T21:10:34.9665040+03:00 0HL7OIHK18ETV [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:10:34.9755080+03:00 0HL7OIHK18ETV [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:34.9755080+03:00 0HL7OIHK18ETV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:10:34.9795106+03:00 0HL7OIHK18ETV [INF] Request finished in 14.4786ms 200 application/json (15c52c40)
2017-09-14T21:10:36.8257331+03:00 0HL7OIHK18EU0 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T21:10:36.8267341+03:00 0HL7OIHK18EU0 [INF] Request finished in 0.9907ms 204  (15c52c40)
2017-09-14T21:10:36.8942818+03:00 0HL7OIHK18EU1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T21:10:36.8972806+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:36.8977808+03:00 0HL7OIHK18EU1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T21:10:36.8977808+03:00 0HL7OIHK18EU1 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T21:10:36.9252992+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:10:36.9288013+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:10:36.9358071+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:10:36.9568199+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:10:36.9573204+03:00 0HL7OIHK18EU2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:10:36.9613231+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:10:36.9623241+03:00 0HL7OIHK18EU2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:10:36.9628243+03:00 0HL7OIHK18EU2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:10:36.9643250+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:10:36.9718302+03:00 0HL7OIHK18EU1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:10:36.9723300+03:00 0HL7OIHK18EU1 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T21:10:36.9738315+03:00 0HL7OIHK18EU1 [INF] Request finished in 78.8088ms 200 application/json (15c52c40)
2017-09-14T21:10:36.9978471+03:00 0HL7OIHK18EU2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:10:36.9983476+03:00 0HL7OIHK18EU2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:10:37.0003493+03:00 0HL7OIHK18EU2 [INF] Request finished in 51.9803ms 200 application/json (15c52c40)
2017-09-14T21:11:05.2248542+03:00 0HL7OIHK18EU3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:11:05.2268551+03:00 0HL7OIHK18EU3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:11:05.2273545+03:00 0HL7OIHK18EU3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:11:05.2448667+03:00 0HL7OIHK18EU3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:11:05.2453668+03:00 0HL7OIHK18EU3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:11:05.2458673+03:00 0HL7OIHK18EU3 [INF] Request finished in 21.6099ms 200 application/json (15c52c40)
2017-09-14T21:11:07.1716430+03:00 0HL7OIHK18EU4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:11:07.1746446+03:00 0HL7OIHK18EU4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:11:07.1751455+03:00 0HL7OIHK18EU4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:11:07.2021650+03:00 0HL7OIHK18EU4 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:11:07.2026644+03:00 0HL7OIHK18EU4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:11:07.2031645+03:00 0HL7OIHK18EU4 [INF] Request finished in 32.1325ms 200 application/json (15c52c40)
2017-09-14T21:11:09.7299173+03:00 0HL7OIHK18EU5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:11:09.7319183+03:00 0HL7OIHK18EU5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:11:09.7319183+03:00 0HL7OIHK18EU5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:11:09.7469278+03:00 0HL7OIHK18EU5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:11:09.7474283+03:00 0HL7OIHK18EU5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:11:09.7479293+03:00 0HL7OIHK18EU5 [INF] Request finished in 18.6743ms 200 application/json (15c52c40)
2017-09-14T21:15:18.8443106+03:00 0HL7OIHK18EU6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:18.8478124+03:00 0HL7OIHK18EU6 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:18.8483129+03:00 0HL7OIHK18EU6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:18.8678256+03:00 0HL7OIHK18EU6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:18.8688271+03:00 0HL7OIHK18EU6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:18.8698277+03:00 0HL7OIHK18EU6 [INF] Request finished in 25.7128ms 200 application/json (15c52c40)
2017-09-14T21:15:21.3799368+03:00 0HL7OIHK18EU7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:21.3839414+03:00 0HL7OIHK18EU7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:21.3839414+03:00 0HL7OIHK18EU7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:21.4094562+03:00 0HL7OIHK18EU7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:21.4099567+03:00 0HL7OIHK18EU7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:21.4109574+03:00 0HL7OIHK18EU7 [INF] Request finished in 30.9794ms 200 application/json (15c52c40)
2017-09-14T21:15:22.6262625+03:00 0HL7OIHK18EU8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:22.6282642+03:00 0HL7OIHK18EU8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:22.6287643+03:00 0HL7OIHK18EU8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:22.6487772+03:00 0HL7OIHK18EU8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:22.6492769+03:00 0HL7OIHK18EU8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:22.6502784+03:00 0HL7OIHK18EU8 [INF] Request finished in 23.9795ms 200 application/json (15c52c40)
2017-09-14T21:15:29.7989303+03:00 0HL7OIHK18EU9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70026801928555461505412929791&state=15054129297910.7254958453075186   (e5be5b71)
2017-09-14T21:15:29.8024320+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:29.8034962+03:00 0HL7OIHK18EU9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:15:29.8034962+03:00 0HL7OIHK18EU9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:15:29.8039999+03:00 0HL7OIHK18EU9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:15:29.8039999+03:00 0HL7OIHK18EU9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:15:29.8045005+03:00 0HL7OIHK18EU9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:15:29.8050002+03:00 0HL7OIHK18EU9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054129297910.7254958453075186\",
  \"Nonce\": \"N0.70026801928555461505412929791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70026801928555461505412929791\",
    \"state\": \"15054129297910.7254958453075186\"
  }
}" (9a175e33)
2017-09-14T21:15:29.8075009+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:29.8165076+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:15:29.8190099+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:15:29.8215117+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:15:29.8240132+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:15:29.8255128+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:15:29.8270140+03:00 0HL7OIHK18EU9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:15:29.8415234+03:00 0HL7OIHK18EU9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054129297910.7254958453075186\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:15:29.8425260+03:00 0HL7OIHK18EU9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:15:29.8430246+03:00 0HL7OIHK18EU9 [INF] Request finished in 45.3689ms 302  (15c52c40)
2017-09-14T21:15:33.8760433+03:00 0HL7OIHK18EUA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:15:33.8885522+03:00 0HL7OIHK18EUA [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:33.8885522+03:00 0HL7OIHK18EUA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:15:33.8915534+03:00 0HL7OIHK18EUA [INF] Request finished in 18.4477ms 200 application/json (15c52c40)
2017-09-14T21:15:34.3588633+03:00 0HL7OIHK18EUB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:34.3618653+03:00 0HL7OIHK18EUB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:34.3618653+03:00 0HL7OIHK18EUB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:34.3893829+03:00 0HL7OIHK18EUB [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:34.3903836+03:00 0HL7OIHK18EUB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:34.3913850+03:00 0HL7OIHK18EUB [INF] Request finished in 32.5687ms 200 application/json (15c52c40)
2017-09-14T21:15:35.2324439+03:00 0HL7OIHK18EUC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:35.2364441+03:00 0HL7OIHK18EUC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:35.2364441+03:00 0HL7OIHK18EUC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:35.2609618+03:00 0HL7OIHK18EUC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:35.2614623+03:00 0HL7OIHK18EUC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:35.2624622+03:00 0HL7OIHK18EUC [INF] Request finished in 31.971ms 200 application/json (15c52c40)
2017-09-14T21:15:37.9899436+03:00 0HL7OIHK18EUD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:37.9924458+03:00 0HL7OIHK18EUD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:37.9929464+03:00 0HL7OIHK18EUD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:38.0129596+03:00 0HL7OIHK18EUD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:38.0134590+03:00 0HL7OIHK18EUD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:38.0139599+03:00 0HL7OIHK18EUD [INF] Request finished in 24.5661ms 200 application/json (15c52c40)
2017-09-14T21:15:40.0631321+03:00 0HL7OIHK18EUE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:40.0661365+03:00 0HL7OIHK18EUE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:40.0666350+03:00 0HL7OIHK18EUE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:40.0846462+03:00 0HL7OIHK18EUE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:40.0851467+03:00 0HL7OIHK18EUE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:40.0861470+03:00 0HL7OIHK18EUE [INF] Request finished in 22.7073ms 200 application/json (15c52c40)
2017-09-14T21:15:40.4013561+03:00 0HL7OIHK18EUF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:15:40.4053588+03:00 0HL7OIHK18EUF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:15:40.4053588+03:00 0HL7OIHK18EUF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:15:40.4323767+03:00 0HL7OIHK18EUF [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:15:40.4328772+03:00 0HL7OIHK18EUF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:15:40.4333773+03:00 0HL7OIHK18EUF [INF] Request finished in 31.9876ms 200 application/json (15c52c40)
2017-09-14T21:20:59.5502504+03:00 0HL7OIHK18EUG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T21:21:00.4303327+03:00 0HL7OIHK18EUH [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-14T21:21:12.7464900+03:00 0HL7OIHK18EUG [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:12.7469910+03:00 0HL7OIHK18EUG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:12.7609995+03:00 0HL7OIHK18EUG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:12.7609995+03:00 0HL7OIHK18EUG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T21:21:12.7614996+03:00 0HL7OIHK18EUG [INF] Request finished in 13212.667ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T21:21:12.8890843+03:00 0HL7OIHK18EUH [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:12.8895848+03:00 0HL7OIHK18EUH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-14T21:21:12.9216056+03:00 0HL7OIHK18EUH [INF] Request finished in 12460.4797ms 200 application/json (15c52c40)
2017-09-14T21:21:13.6746050+03:00 0HL7OIHK18EUI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:21:13.8136967+03:00 0HL7OIHK18EUI [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:13.8136967+03:00 0HL7OIHK18EUI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:21:15.2801686+03:00 0HL7OIHK18EUI [INF] Executed DbCommand (300ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:15.2806687+03:00 0HL7OIHK18EUI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:21:15.6859371+03:00 0HL7OIHK18EUI [INF] Request finished in 1758.7936ms 200 application/json (15c52c40)
2017-09-14T21:21:22.9977792+03:00 0HL7OIHK18EUJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDU0MTI5MjksImV4cCI6MTUwNTQxMzIyOSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjcwMDI2ODAxOTI4NTU1NDYxNTA1NDEyOTI5NzkxIiwiaWF0IjoxNTA1NDEyOTI5LCJhdF9oYXNoIjoic2FPcm5WeF9PaGhMSGhleld0VFBhQSIsInNpZCI6ImJkMjZmMDkzNTIwM2Y1NDdjOTlhMTZhNTE5NWY2MzI5Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MzI1NzMzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.Smca8Gsj8sBcvX5ZLjw8hB4mEafwGK5eEcjOQk6GRsPzQ4o49SCz5Taw_iu9ic-6fK6_l-2M73lS65YpdfGQlNXyZ0DtkplN_gXDhIQLm3D9hqMsva_EzBj_zYthKwacaUAZ7cn_-hFt95_mQi35162W6knuS3iS3NL0k2eikXY6I59u5KH29SBAp-PGTml3hxFCCSDPISoCI0j6YZEUdlh3fgyIVJZWA6v_0BroJYsL5Q7yYOPTvNw59UQKSe7MlCqYPnr-1z1FHCHhAgpnVxilFk-A_o5uZpTpFNG7s40sOqxfZekVsWWyEG6UajBBdy6i4HQ0lamTVop8jhTwVA&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-14T21:21:23.0468120+03:00 0HL7OIHK18EUK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7166488845054951505413281851&state=15054132818510.4642677162655351   (e5be5b71)
2017-09-14T21:21:23.1763977+03:00 0HL7OIHK18EUJ [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:23.1984130+03:00 0HL7OIHK18EUJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:23.4876046+03:00 0HL7OIHK18EUJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:23.5301321+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:23.5391385+03:00 0HL7OIHK18EUJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-14T21:21:23.5571500+03:00 0HL7OIHK18EUK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:23.5576506+03:00 0HL7OIHK18EUK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:23.5576506+03:00 0HL7OIHK18EUK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:21:23.5581511+03:00 0HL7OIHK18EUK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:23.5586508+03:00 0HL7OIHK18EUK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:23.5591514+03:00 0HL7OIHK18EUK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054132818510.4642677162655351\",
  \"Nonce\": \"N0.7166488845054951505413281851\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7166488845054951505413281851\",
    \"state\": \"15054132818510.4642677162655351\"
  }
}" (9a175e33)
2017-09-14T21:21:23.7657884+03:00 0HL7OIHK18EUJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:23.7672892+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:25.0201202+03:00 0HL7OIHK18EUJ [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:26.0142781+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (477ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:26.0317895+03:00 0HL7OIHK18EUJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:26.0437974+03:00 0HL7OIHK18EUJ [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDU0MTI5MjksImV4cCI6MTUwNTQxMzIyOSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjcwMDI2ODAxOTI4NTU1NDYxNTA1NDEyOTI5NzkxIiwiaWF0IjoxNTA1NDEyOTI5LCJhdF9oYXNoIjoic2FPcm5WeF9PaGhMSGhleld0VFBhQSIsInNpZCI6ImJkMjZmMDkzNTIwM2Y1NDdjOTlhMTZhNTE5NWY2MzI5Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MzI1NzMzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.Smca8Gsj8sBcvX5ZLjw8hB4mEafwGK5eEcjOQk6GRsPzQ4o49SCz5Taw_iu9ic-6fK6_l-2M73lS65YpdfGQlNXyZ0DtkplN_gXDhIQLm3D9hqMsva_EzBj_zYthKwacaUAZ7cn_-hFt95_mQi35162W6knuS3iS3NL0k2eikXY6I59u5KH29SBAp-PGTml3hxFCCSDPISoCI0j6YZEUdlh3fgyIVJZWA6v_0BroJYsL5Q7yYOPTvNw59UQKSe7MlCqYPnr-1z1FHCHhAgpnVxilFk-A_o5uZpTpFNG7s40sOqxfZekVsWWyEG6UajBBdy6i4HQ0lamTVop8jhTwVA\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-14T21:21:26.3184791+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:21:26.3209810+03:00 0HL7OIHK18EUJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:26.5241159+03:00 0HL7OIHK18EUJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:26.5346223+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (26ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:21:26.6652086+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:21:26.6652086+03:00 0HL7OIHK18EUJ [INF] Request finished in 5226.9586ms 302  (15c52c40)
2017-09-14T21:21:26.6712126+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:26.6777171+03:00 0HL7OIHK18EUK [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:21:26.6967297+03:00 0HL7OIHK18EUK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054132818510.4642677162655351\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:21:26.6972326+03:00 0HL7OIHK18EUK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:26.6982313+03:00 0HL7OIHK18EUK [INF] Request finished in 4778.848ms 302  (15c52c40)
2017-09-14T21:21:50.6315828+03:00 0HL7OIHK18EUL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T21:21:50.7392162+03:00 0HL7OIHK18EUM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:21:50.7412187+03:00 0HL7OIHK18EUL [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:50.7422194+03:00 0HL7OIHK18EUL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:50.7427195+03:00 0HL7OIHK18EUL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:50.7427195+03:00 0HL7OIHK18EUL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T21:21:50.7577290+03:00 0HL7OIHK18EUL [INF] Request finished in 129.942ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T21:21:50.8602972+03:00 0HL7OIHK18EUM [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:50.8607977+03:00 0HL7OIHK18EUM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:21:50.8648004+03:00 0HL7OIHK18EUM [INF] Request finished in 201.179ms 200 application/json (15c52c40)
2017-09-14T21:21:53.0892733+03:00 0HL7OIHK18EUN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80272646858650171505413313076&state=15054133130760.47299753477937156   (e5be5b71)
2017-09-14T21:21:53.0917747+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:53.0922757+03:00 0HL7OIHK18EUN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:53.0927758+03:00 0HL7OIHK18EUN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:53.0927758+03:00 0HL7OIHK18EUN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:21:53.0937765+03:00 0HL7OIHK18EUN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:53.0942766+03:00 0HL7OIHK18EUN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:53.0942766+03:00 0HL7OIHK18EUN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054133130760.47299753477937156\",
  \"Nonce\": \"N0.80272646858650171505413313076\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80272646858650171505413313076\",
    \"state\": \"15054133130760.47299753477937156\"
  }
}" (9a175e33)
2017-09-14T21:21:53.1012808+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:53.1197933+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:53.1303001+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:21:53.1358035+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:21:53.1503137+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:21:53.1543168+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:53.1588192+03:00 0HL7OIHK18EUN [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:21:53.1793325+03:00 0HL7OIHK18EUN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054133130760.47299753477937156\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:21:53.1903402+03:00 0HL7OIHK18EUN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:53.2108544+03:00 0HL7OIHK18EUN [INF] Request finished in 108.8425ms 302  (15c52c40)
2017-09-14T21:21:56.2528684+03:00 0HL7OIHK18EUO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T21:21:56.2568719+03:00 0HL7OIHK18EUO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:56.2573716+03:00 0HL7OIHK18EUO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:21:56.2578717+03:00 0HL7OIHK18EUO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:21:56.2578717+03:00 0HL7OIHK18EUO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T21:21:56.2588724+03:00 0HL7OIHK18EUO [INF] Request finished in 6.5668ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T21:21:56.2878920+03:00 0HL7OIHK18EUP [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:21:56.2958973+03:00 0HL7OIHK18EUP [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:56.2958973+03:00 0HL7OIHK18EUP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:21:56.3044028+03:00 0HL7OIHK18EUP [INF] Request finished in 11.4947ms 200 application/json (15c52c40)
2017-09-14T21:21:56.4119746+03:00 0HL7OIHK18EUQ [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T21:21:56.4139751+03:00 0HL7OIHK18EUQ [INF] Request finished in 1.1009ms 204  (15c52c40)
2017-09-14T21:21:56.4424946+03:00 0HL7OIHK18EUR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T21:21:56.4550027+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:56.4555032+03:00 0HL7OIHK18EUR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T21:21:56.4555032+03:00 0HL7OIHK18EUR [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T21:21:56.5310531+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:56.5350553+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:56.5665764+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:21:56.5695788+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:21:56.5740808+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:21:56.5770836+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:21:56.5805853+03:00 0HL7OIHK18EUR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:21:56.5805853+03:00 0HL7OIHK18EUR [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T21:21:56.5865893+03:00 0HL7OIHK18EUR [INF] Request finished in 141.9725ms 200 application/json (15c52c40)
2017-09-14T21:21:56.6041022+03:00 0HL7OIHK18EUS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:21:57.0569012+03:00 0HL7OIHK18EUS [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:21:57.0569012+03:00 0HL7OIHK18EUS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:21:57.0774145+03:00 0HL7OIHK18EUS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:21:57.0774145+03:00 0HL7OIHK18EUS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:21:57.0794163+03:00 0HL7OIHK18EUS [INF] Request finished in 474.6082ms 200 application/json (15c52c40)
2017-09-14T21:22:14.4516577+03:00 0HL7OIHK18EUT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:22:14.4541591+03:00 0HL7OIHK18EUT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:22:14.4541591+03:00 0HL7OIHK18EUT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:22:14.4741720+03:00 0HL7OIHK18EUT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:22:14.4746725+03:00 0HL7OIHK18EUT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:22:14.4756736+03:00 0HL7OIHK18EUT [INF] Request finished in 24.2306ms 200 application/json (15c52c40)
2017-09-14T21:22:33.0952157+03:00 0HL7OIHK18EUU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:22:33.0982177+03:00 0HL7OIHK18EUU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:22:33.0982177+03:00 0HL7OIHK18EUU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:22:33.1192316+03:00 0HL7OIHK18EUU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:22:33.1192316+03:00 0HL7OIHK18EUU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:22:33.1242353+03:00 0HL7OIHK18EUU [INF] Request finished in 25.0268ms 200 application/json (15c52c40)
2017-09-14T21:22:35.7334633+03:00 0HL7OIHK18EUV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:22:35.7364657+03:00 0HL7OIHK18EUV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:22:35.7369658+03:00 0HL7OIHK18EUV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:22:35.7624825+03:00 0HL7OIHK18EUV [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:22:35.7629830+03:00 0HL7OIHK18EUV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:22:35.7649851+03:00 0HL7OIHK18EUV [INF] Request finished in 31.0489ms 200 application/json (15c52c40)
2017-09-14T21:22:45.1779399+03:00 0HL7OIHK18EV0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:22:45.1809423+03:00 0HL7OIHK18EV0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:22:45.1809423+03:00 0HL7OIHK18EV0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:22:45.2219695+03:00 0HL7OIHK18EV0 [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:22:45.2224704+03:00 0HL7OIHK18EV0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:22:45.2229697+03:00 0HL7OIHK18EV0 [INF] Request finished in 45.3231ms 200 application/json (15c52c40)
2017-09-14T21:26:53.7087866+03:00 0HL7OIHK18EV1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.415557204388942171505413613694&state=15054136136940.782205212996369   (e5be5b71)
2017-09-14T21:26:54.0244943+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:26:54.0249944+03:00 0HL7OIHK18EV1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:26:54.0254942+03:00 0HL7OIHK18EV1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:54.0254942+03:00 0HL7OIHK18EV1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:26:54.0259951+03:00 0HL7OIHK18EV1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:54.0264948+03:00 0HL7OIHK18EV1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:54.0264948+03:00 0HL7OIHK18EV1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054136136940.782205212996369\",
  \"Nonce\": \"N0.415557204388942171505413613694\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.415557204388942171505413613694\",
    \"state\": \"15054136136940.782205212996369\"
  }
}" (9a175e33)
2017-09-14T21:26:54.0920207+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (62ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:26:54.1048844+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:26:54.1078852+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:26:54.1113862+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:26:54.1153896+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:26:54.1168916+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:26:54.1198928+03:00 0HL7OIHK18EV1 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:26:54.1339032+03:00 0HL7OIHK18EV1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054136136940.782205212996369\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:26:54.1344014+03:00 0HL7OIHK18EV1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:54.1364043+03:00 0HL7OIHK18EV1 [INF] Request finished in 429.7027ms 302  (15c52c40)
2017-09-14T21:26:56.7051439+03:00 0HL7OIHK18EV2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66932418261434171505413616696&state=15054136166960.598873041912936   (e5be5b71)
2017-09-14T21:26:56.7091466+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:26:56.7101472+03:00 0HL7OIHK18EV2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:26:56.7106482+03:00 0HL7OIHK18EV2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:56.7106482+03:00 0HL7OIHK18EV2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:26:56.7116484+03:00 0HL7OIHK18EV2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:56.7121490+03:00 0HL7OIHK18EV2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:56.7121490+03:00 0HL7OIHK18EV2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054136166960.598873041912936\",
  \"Nonce\": \"N0.66932418261434171505413616696\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66932418261434171505413616696\",
    \"state\": \"15054136166960.598873041912936\"
  }
}" (9a175e33)
2017-09-14T21:26:56.7161516+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:26:56.7276590+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:26:56.7296600+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:26:56.7326623+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:26:56.7356643+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:26:56.7391668+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:26:56.7436700+03:00 0HL7OIHK18EV2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:26:56.7666849+03:00 0HL7OIHK18EV2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054136166960.598873041912936\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:26:56.7686862+03:00 0HL7OIHK18EV2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:26:56.7726892+03:00 0HL7OIHK18EV2 [INF] Request finished in 68.0296ms 302  (15c52c40)
2017-09-14T21:26:58.9767116+03:00 0HL7OIHK18EV3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:26:58.9797132+03:00 0HL7OIHK18EV3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:26:58.9797132+03:00 0HL7OIHK18EV3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:26:58.9837182+03:00 0HL7OIHK18EV3 [INF] Request finished in 5.8512ms 200 application/json (15c52c40)
2017-09-14T21:26:59.2228904+03:00 0HL7OIHK18EV4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:26:59.2258924+03:00 0HL7OIHK18EV4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:26:59.2268934+03:00 0HL7OIHK18EV4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:26:59.2479066+03:00 0HL7OIHK18EV4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:26:59.2484071+03:00 0HL7OIHK18EV4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:26:59.2489072+03:00 0HL7OIHK18EV4 [INF] Request finished in 26.359ms 200 application/json (15c52c40)
2017-09-14T21:27:00.0499380+03:00 0HL7OIHK18EV5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:27:00.0524394+03:00 0HL7OIHK18EV5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:27:00.0524394+03:00 0HL7OIHK18EV5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:27:00.0719522+03:00 0HL7OIHK18EV5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:27:00.0729540+03:00 0HL7OIHK18EV5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:27:00.0734537+03:00 0HL7OIHK18EV5 [INF] Request finished in 23.6985ms 200 application/json (15c52c40)
2017-09-14T21:31:56.8427976+03:00 0HL7OIHK18EV6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0109751162270745881505413916805&state=15054139168050.6146255462033561   (e5be5b71)
2017-09-14T21:31:56.8473008+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:31:56.8478029+03:00 0HL7OIHK18EV6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:31:56.8483026+03:00 0HL7OIHK18EV6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:56.8483026+03:00 0HL7OIHK18EV6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:31:56.8488020+03:00 0HL7OIHK18EV6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:56.8493021+03:00 0HL7OIHK18EV6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:56.8498026+03:00 0HL7OIHK18EV6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054139168050.6146255462033561\",
  \"Nonce\": \"N0.0109751162270745881505413916805\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0109751162270745881505413916805\",
    \"state\": \"15054139168050.6146255462033561\"
  }
}" (9a175e33)
2017-09-14T21:31:56.8537939+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:31:56.8628022+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:31:56.8647889+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:31:56.8667922+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:31:56.8682938+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:31:56.8712950+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:31:56.8738004+03:00 0HL7OIHK18EV6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:31:56.8908077+03:00 0HL7OIHK18EV6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054139168050.6146255462033561\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:31:56.8918100+03:00 0HL7OIHK18EV6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:56.8928086+03:00 0HL7OIHK18EV6 [INF] Request finished in 50.1894ms 302  (15c52c40)
2017-09-14T21:31:59.8144558+03:00 0HL7OIHK18EV7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.072134204968216991505413919807&state=15054139198070.4916959967456034   (e5be5b71)
2017-09-14T21:31:59.8169576+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:31:59.8179575+03:00 0HL7OIHK18EV7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:31:59.8189586+03:00 0HL7OIHK18EV7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:59.8189586+03:00 0HL7OIHK18EV7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:31:59.8194579+03:00 0HL7OIHK18EV7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:59.8199580+03:00 0HL7OIHK18EV7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:59.8204586+03:00 0HL7OIHK18EV7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054139198070.4916959967456034\",
  \"Nonce\": \"N0.072134204968216991505413919807\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.072134204968216991505413919807\",
    \"state\": \"15054139198070.4916959967456034\"
  }
}" (9a175e33)
2017-09-14T21:31:59.8239611+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:31:59.8329670+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:31:59.8349696+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:31:59.8369693+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:31:59.8389710+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:31:59.8419730+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:31:59.8454755+03:00 0HL7OIHK18EV7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:31:59.8624868+03:00 0HL7OIHK18EV7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054139198070.4916959967456034\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:31:59.8634875+03:00 0HL7OIHK18EV7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:31:59.8644881+03:00 0HL7OIHK18EV7 [INF] Request finished in 49.7951ms 302  (15c52c40)
2017-09-14T21:32:02.1780200+03:00 0HL7OIHK18EV8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:32:02.1805223+03:00 0HL7OIHK18EV8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:32:02.1805223+03:00 0HL7OIHK18EV8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:32:02.1815229+03:00 0HL7OIHK18EV8 [INF] Request finished in 3.1965ms 200 application/json (15c52c40)
2017-09-14T21:32:02.4461984+03:00 0HL7OIHK18EV9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:32:02.4497002+03:00 0HL7OIHK18EV9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:32:02.4502003+03:00 0HL7OIHK18EV9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:32:02.4737157+03:00 0HL7OIHK18EV9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:32:02.4742162+03:00 0HL7OIHK18EV9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:32:02.4752173+03:00 0HL7OIHK18EV9 [INF] Request finished in 33.5543ms 200 application/json (15c52c40)
2017-09-14T21:32:03.8146042+03:00 0HL7OIHK18EVA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:32:03.8176062+03:00 0HL7OIHK18EVA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:32:03.8181079+03:00 0HL7OIHK18EVA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:32:03.8411219+03:00 0HL7OIHK18EVA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:32:03.8416221+03:00 0HL7OIHK18EVA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:32:03.8426227+03:00 0HL7OIHK18EVA [INF] Request finished in 28.0276ms 200 application/json (15c52c40)
2017-09-14T21:36:59.9339606+03:00 0HL7OIHK18EVB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.20620167660410751505414219924&state=15054142199240.5959884078060285   (e5be5b71)
2017-09-14T21:36:59.9369618+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:36:59.9379632+03:00 0HL7OIHK18EVB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:36:59.9379632+03:00 0HL7OIHK18EVB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:36:59.9384622+03:00 0HL7OIHK18EVB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:36:59.9389623+03:00 0HL7OIHK18EVB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:36:59.9394636+03:00 0HL7OIHK18EVB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:36:59.9394636+03:00 0HL7OIHK18EVB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054142199240.5959884078060285\",
  \"Nonce\": \"N0.20620167660410751505414219924\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.20620167660410751505414219924\",
    \"state\": \"15054142199240.5959884078060285\"
  }
}" (9a175e33)
2017-09-14T21:36:59.9434659+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:36:59.9544593+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:36:59.9559629+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:36:59.9574645+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:36:59.9594666+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:36:59.9614664+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:36:59.9644687+03:00 0HL7OIHK18EVB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:36:59.9769772+03:00 0HL7OIHK18EVB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054142199240.5959884078060285\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:36:59.9779775+03:00 0HL7OIHK18EVB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:36:59.9789789+03:00 0HL7OIHK18EVB [INF] Request finished in 45.9732ms 302  (15c52c40)
2017-09-14T21:37:03.2436615+03:00 0HL7OIHK18EVC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:37:03.2521678+03:00 0HL7OIHK18EVC [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:37:03.2521678+03:00 0HL7OIHK18EVC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:37:03.2546684+03:00 0HL7OIHK18EVC [INF] Request finished in 10.1108ms 200 application/json (15c52c40)
2017-09-14T21:37:03.5208451+03:00 0HL7OIHK18EVD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:37:03.5238479+03:00 0HL7OIHK18EVD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:37:03.5243476+03:00 0HL7OIHK18EVD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:37:03.5473641+03:00 0HL7OIHK18EVD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:37:03.5478626+03:00 0HL7OIHK18EVD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:37:03.5483632+03:00 0HL7OIHK18EVD [INF] Request finished in 27.6348ms 200 application/json (15c52c40)
2017-09-14T21:37:04.2603349+03:00 0HL7OIHK18EVE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:37:04.2633369+03:00 0HL7OIHK18EVE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:37:04.2633369+03:00 0HL7OIHK18EVE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:37:04.3023631+03:00 0HL7OIHK18EVE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:37:04.3028633+03:00 0HL7OIHK18EVE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:37:04.3038639+03:00 0HL7OIHK18EVE [INF] Request finished in 44.0571ms 200 application/json (15c52c40)
2017-09-14T21:42:00.5127435+03:00 0HL7OIHK18EVF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44064832049246051505414520500&state=15054145205000.6364189199249246   (e5be5b71)
2017-09-14T21:42:00.5212501+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:42:00.5327587+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:42:00.5387596+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:42:00.5437625+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:42:00.5507663+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:42:00.5527673+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:42:00.5532682+03:00 0HL7OIHK18EVF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:42:00.5542684+03:00 0HL7OIHK18EVF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:42:00.5542684+03:00 0HL7OIHK18EVF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:42:00.5547694+03:00 0HL7OIHK18EVF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:42:00.5557696+03:00 0HL7OIHK18EVF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:42:00.5557696+03:00 0HL7OIHK18EVF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054145205000.6364189199249246\",
  \"Nonce\": \"N0.44064832049246051505414520500\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44064832049246051505414520500\",
    \"state\": \"15054145205000.6364189199249246\"
  }
}" (9a175e33)
2017-09-14T21:42:00.5657759+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:42:00.5687787+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:42:00.5722804+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:42:00.5742817+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:42:00.5767847+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:42:00.5787849+03:00 0HL7OIHK18EVF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:42:00.6038018+03:00 0HL7OIHK18EVF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054145205000.6364189199249246\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:42:00.6043020+03:00 0HL7OIHK18EVF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:42:00.6053022+03:00 0HL7OIHK18EVF [INF] Request finished in 93.9344ms 302  (15c52c40)
2017-09-14T21:42:04.6974986+03:00 0HL7OIHK18EVG [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:42:04.7025011+03:00 0HL7OIHK18EVG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:42:04.7030021+03:00 0HL7OIHK18EVG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:42:04.7075052+03:00 0HL7OIHK18EVG [INF] Request finished in 17.7352ms 200 application/json (15c52c40)
2017-09-14T21:42:05.0097050+03:00 0HL7OIHK18EVH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:42:05.0132071+03:00 0HL7OIHK18EVH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:42:05.0132071+03:00 0HL7OIHK18EVH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:42:05.0327203+03:00 0HL7OIHK18EVH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:42:05.0332208+03:00 0HL7OIHK18EVH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:42:05.0347220+03:00 0HL7OIHK18EVH [INF] Request finished in 26.1088ms 200 application/json (15c52c40)
2017-09-14T21:42:05.7782136+03:00 0HL7OIHK18EVI [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:42:05.7807159+03:00 0HL7OIHK18EVI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:42:05.7807159+03:00 0HL7OIHK18EVI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:42:05.8037311+03:00 0HL7OIHK18EVI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:42:05.8042372+03:00 0HL7OIHK18EVI [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:42:05.8047318+03:00 0HL7OIHK18EVI [INF] Request finished in 27.0865ms 200 application/json (15c52c40)
2017-09-14T21:45:29.5765842+03:00 0HL7OIHK18EVJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:45:29.5805873+03:00 0HL7OIHK18EVJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:45:29.5810874+03:00 0HL7OIHK18EVJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:45:29.6061040+03:00 0HL7OIHK18EVJ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:45:29.6061040+03:00 0HL7OIHK18EVJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:45:29.6071058+03:00 0HL7OIHK18EVJ [INF] Request finished in 31.3979ms 200 application/json (15c52c40)
2017-09-14T21:45:31.7785428+03:00 0HL7OIHK18EVK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:45:31.7810443+03:00 0HL7OIHK18EVK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:45:31.7810443+03:00 0HL7OIHK18EVK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:45:31.8060613+03:00 0HL7OIHK18EVK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:45:31.8065618+03:00 0HL7OIHK18EVK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:45:31.8075628+03:00 0HL7OIHK18EVK [INF] Request finished in 29.346ms 200 application/json (15c52c40)
2017-09-14T21:47:02.8189925+03:00 0HL7OIHK18EVL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25195302063697911505414822803&state=15054148228030.3552308300114537   (e5be5b71)
2017-09-14T21:47:02.8229932+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:47:02.8239931+03:00 0HL7OIHK18EVL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:47:02.8244948+03:00 0HL7OIHK18EVL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:47:02.8244948+03:00 0HL7OIHK18EVL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:47:02.8254966+03:00 0HL7OIHK18EVL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:47:02.8264957+03:00 0HL7OIHK18EVL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:47:02.8264957+03:00 0HL7OIHK18EVL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054148228030.3552308300114537\",
  \"Nonce\": \"N0.25195302063697911505414822803\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25195302063697911505414822803\",
    \"state\": \"15054148228030.3552308300114537\"
  }
}" (9a175e33)
2017-09-14T21:47:02.8355013+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:47:02.8470087+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:47:02.8490096+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:47:02.8515115+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:47:02.8535132+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:47:02.8560150+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:47:02.8580160+03:00 0HL7OIHK18EVL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:47:02.8700231+03:00 0HL7OIHK18EVL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054148228030.3552308300114537\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:47:02.8705249+03:00 0HL7OIHK18EVL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:47:02.8710246+03:00 0HL7OIHK18EVL [INF] Request finished in 52.7706ms 302  (15c52c40)
2017-09-14T21:47:06.8391822+03:00 0HL7OIHK18EVM [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:47:06.8426851+03:00 0HL7OIHK18EVM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:47:06.8431845+03:00 0HL7OIHK18EVM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:47:06.8451858+03:00 0HL7OIHK18EVM [INF] Request finished in 4.8229ms 200 application/json (15c52c40)
2017-09-14T21:47:07.2204339+03:00 0HL7OIHK18EVN [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:47:07.2229362+03:00 0HL7OIHK18EVN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:47:07.2229362+03:00 0HL7OIHK18EVN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:47:07.2469521+03:00 0HL7OIHK18EVN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:47:07.2474526+03:00 0HL7OIHK18EVN [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:47:07.2484529+03:00 0HL7OIHK18EVN [INF] Request finished in 27.8302ms 200 application/json (15c52c40)
2017-09-14T21:47:07.9364087+03:00 0HL7OIHK18EVO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:47:07.9384097+03:00 0HL7OIHK18EVO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:47:07.9384097+03:00 0HL7OIHK18EVO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:47:07.9554209+03:00 0HL7OIHK18EVO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:47:07.9554209+03:00 0HL7OIHK18EVO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:47:07.9559211+03:00 0HL7OIHK18EVO [INF] Request finished in 20.0006ms 200 application/json (15c52c40)
2017-09-14T21:52:05.8004429+03:00 0HL7OIHK18EVP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83241036562462871505415125792&state=15054151257920.997722923561079   (e5be5b71)
2017-09-14T21:52:05.8044487+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:52:05.8054466+03:00 0HL7OIHK18EVP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:52:05.8054466+03:00 0HL7OIHK18EVP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:52:05.8054466+03:00 0HL7OIHK18EVP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:52:05.8064469+03:00 0HL7OIHK18EVP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:52:05.8074484+03:00 0HL7OIHK18EVP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:52:05.8074484+03:00 0HL7OIHK18EVP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054151257920.997722923561079\",
  \"Nonce\": \"N0.83241036562462871505415125792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83241036562462871505415125792\",
    \"state\": \"15054151257920.997722923561079\"
  }
}" (9a175e33)
2017-09-14T21:52:05.8114514+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:52:05.8204566+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:52:05.8214565+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:52:05.8234598+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:52:05.8254595+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:52:05.8284623+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:52:05.8294626+03:00 0HL7OIHK18EVP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:52:05.8424700+03:00 0HL7OIHK18EVP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054151257920.997722923561079\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:52:05.8434710+03:00 0HL7OIHK18EVP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:52:05.8434710+03:00 0HL7OIHK18EVP [INF] Request finished in 43.7863ms 302  (15c52c40)
2017-09-14T21:52:10.3619399+03:00 0HL7OIHK18EVQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:52:10.3649423+03:00 0HL7OIHK18EVQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:52:10.3649423+03:00 0HL7OIHK18EVQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:52:10.3659425+03:00 0HL7OIHK18EVQ [INF] Request finished in 4.1771ms 200 application/json (15c52c40)
2017-09-14T21:52:10.9543322+03:00 0HL7OIHK18EVR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:52:10.9573342+03:00 0HL7OIHK18EVR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:52:10.9573342+03:00 0HL7OIHK18EVR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:52:10.9793488+03:00 0HL7OIHK18EVR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:52:10.9803495+03:00 0HL7OIHK18EVR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:52:10.9803495+03:00 0HL7OIHK18EVR [INF] Request finished in 26.6286ms 200 application/json (15c52c40)
2017-09-14T21:52:11.4476610+03:00 0HL7OIHK18EVS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:52:11.4496611+03:00 0HL7OIHK18EVS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:52:11.4496611+03:00 0HL7OIHK18EVS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:52:11.4706742+03:00 0HL7OIHK18EVS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:52:11.4716753+03:00 0HL7OIHK18EVS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:52:11.4716753+03:00 0HL7OIHK18EVS [INF] Request finished in 25.3118ms 200 application/json (15c52c40)
2017-09-14T21:57:08.8052722+03:00 0HL7OIHK18EVT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63675958435647511505415428792&state=15054154287920.472763527372396   (e5be5b71)
2017-09-14T21:57:08.8112761+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:08.8122772+03:00 0HL7OIHK18EVT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:57:08.8137784+03:00 0HL7OIHK18EVT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:08.8142789+03:00 0HL7OIHK18EVT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:57:08.8147791+03:00 0HL7OIHK18EVT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:08.8162613+03:00 0HL7OIHK18EVT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:08.8167658+03:00 0HL7OIHK18EVT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054154287920.472763527372396\",
  \"Nonce\": \"N0.63675958435647511505415428792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63675958435647511505415428792\",
    \"state\": \"15054154287920.472763527372396\"
  }
}" (9a175e33)
2017-09-14T21:57:08.8212701+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:57:08.8332761+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:08.8362781+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:57:08.8377797+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:57:08.8387808+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:57:08.8407813+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:08.8427834+03:00 0HL7OIHK18EVT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:57:08.8872851+03:00 0HL7OIHK18EVT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054154287920.472763527372396\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:57:08.8882853+03:00 0HL7OIHK18EVT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:08.8892860+03:00 0HL7OIHK18EVT [INF] Request finished in 85.646ms 302  (15c52c40)
2017-09-14T21:57:13.9859982+03:00 0HL7OIHK18EVU [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:57:13.9885016+03:00 0HL7OIHK18EVU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:13.9890002+03:00 0HL7OIHK18EVU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:57:13.9900004+03:00 0HL7OIHK18EVU [INF] Request finished in 4.2339ms 200 application/json (15c52c40)
2017-09-14T21:57:14.1996391+03:00 0HL7OIHK18EVV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59227433669065951505415434105&state=15054154341050.8970462854992463   (e5be5b71)
2017-09-14T21:57:14.2031416+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:14.2036417+03:00 0HL7OIHK18EVV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T21:57:14.2041423+03:00 0HL7OIHK18EVV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:14.2041423+03:00 0HL7OIHK18EVV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T21:57:14.2046428+03:00 0HL7OIHK18EVV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:14.2056435+03:00 0HL7OIHK18F00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:57:14.2056435+03:00 0HL7OIHK18EVV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:14.2061444+03:00 0HL7OIHK18EVV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054154341050.8970462854992463\",
  \"Nonce\": \"N0.59227433669065951505415434105\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59227433669065951505415434105\",
    \"state\": \"15054154341050.8970462854992463\"
  }
}" (9a175e33)
2017-09-14T21:57:14.2136488+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:57:14.2181519+03:00 0HL7OIHK18F00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:14.2186525+03:00 0HL7OIHK18F00 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:57:14.2241563+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:14.2301599+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:57:14.2331615+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:57:14.2376655+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:57:14.2451690+03:00 0HL7OIHK18F00 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:57:14.2456700+03:00 0HL7OIHK18F00 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:57:14.2511738+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:14.2526746+03:00 0HL7OIHK18F00 [INF] Request finished in 41.1167ms 200 application/json (15c52c40)
2017-09-14T21:57:14.2546759+03:00 0HL7OIHK18EVV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:57:14.2791924+03:00 0HL7OIHK18EVV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054154341050.8970462854992463\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T21:57:14.2801926+03:00 0HL7OIHK18EVV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T21:57:14.2811933+03:00 0HL7OIHK18EVV [INF] Request finished in 81.3232ms 302  (15c52c40)
2017-09-14T21:57:18.0086064+03:00 0HL7OIHK18F01 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T21:57:18.0116084+03:00 0HL7OIHK18F01 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:18.0121102+03:00 0HL7OIHK18F01 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T21:57:18.0136094+03:00 0HL7OIHK18F01 [INF] Request finished in 5.2823ms 200 application/json (15c52c40)
2017-09-14T21:57:18.2302531+03:00 0HL7OIHK18F02 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T21:57:18.2312537+03:00 0HL7OIHK18F02 [INF] Request finished in 0.9402ms 204  (15c52c40)
2017-09-14T21:57:18.2937953+03:00 0HL7OIHK18F03 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T21:57:18.2967969+03:00 0HL7OIHK18F03 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:18.2967969+03:00 0HL7OIHK18F03 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T21:57:18.3178112+03:00 0HL7OIHK18F04 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T21:57:18.3198122+03:00 0HL7OIHK18F03 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:57:18.3203127+03:00 0HL7OIHK18F03 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T21:57:18.3208132+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T21:57:18.3208132+03:00 0HL7OIHK18F04 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T21:57:18.3208132+03:00 0HL7OIHK18F04 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T21:57:18.3233147+03:00 0HL7OIHK18F03 [INF] Request finished in 27.709ms 200 application/json (15c52c40)
2017-09-14T21:57:18.3448287+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T21:57:18.3678440+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:18.3753488+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T21:57:18.3778506+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T21:57:18.4133743+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T21:57:18.4358891+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T21:57:18.4468967+03:00 0HL7OIHK18F04 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T21:57:18.4468967+03:00 0HL7OIHK18F04 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T21:57:18.4579040+03:00 0HL7OIHK18F04 [INF] Request finished in 130.4714ms 200 application/json (15c52c40)
2017-09-14T22:02:14.7986070+03:00 0HL7OIHK18F05 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27480578134389911505415734791&state=15054157347910.2749509992243493   (e5be5b71)
2017-09-14T22:02:15.0640854+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:15.0645844+03:00 0HL7OIHK18F05 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:02:15.0650853+03:00 0HL7OIHK18F05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.0650853+03:00 0HL7OIHK18F05 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:02:15.0655846+03:00 0HL7OIHK18F05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.0660852+03:00 0HL7OIHK18F05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.0660852+03:00 0HL7OIHK18F05 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054157347910.2749509992243493\",
  \"Nonce\": \"N0.27480578134389911505415734791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27480578134389911505415734791\",
    \"state\": \"15054157347910.2749509992243493\"
  }
}" (9a175e33)
2017-09-14T22:02:15.1091144+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (39ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:15.1221223+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:15.1271264+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:02:15.1326302+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:02:15.1356318+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:02:15.1376339+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:15.1431370+03:00 0HL7OIHK18F05 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:02:15.1586470+03:00 0HL7OIHK18F05 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054157347910.2749509992243493\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:02:15.1591488+03:00 0HL7OIHK18F05 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.1601478+03:00 0HL7OIHK18F05 [INF] Request finished in 362.1203ms 302  (15c52c40)
2017-09-14T22:02:15.8014949+03:00 0HL7OIHK18F06 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62663238934365381505415735793&state=15054157357930.3629719219275638   (e5be5b71)
2017-09-14T22:02:15.8039968+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:15.8044973+03:00 0HL7OIHK18F06 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:02:15.8044973+03:00 0HL7OIHK18F06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.8049966+03:00 0HL7OIHK18F06 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:02:15.8049966+03:00 0HL7OIHK18F06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.8054976+03:00 0HL7OIHK18F06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.8059973+03:00 0HL7OIHK18F06 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054157357930.3629719219275638\",
  \"Nonce\": \"N0.62663238934365381505415735793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62663238934365381505415735793\",
    \"state\": \"15054157357930.3629719219275638\"
  }
}" (9a175e33)
2017-09-14T22:02:15.8100004+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:15.8200074+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:15.8225084+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:02:15.8325155+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:02:15.8350169+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:02:15.8390196+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:15.8430226+03:00 0HL7OIHK18F06 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:02:15.8645367+03:00 0HL7OIHK18F06 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054157357930.3629719219275638\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:02:15.8650368+03:00 0HL7OIHK18F06 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:15.8660379+03:00 0HL7OIHK18F06 [INF] Request finished in 65.0079ms 302  (15c52c40)
2017-09-14T22:02:19.9525196+03:00 0HL7OIHK18F07 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T22:02:19.9560217+03:00 0HL7OIHK18F07 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:19.9560217+03:00 0HL7OIHK18F07 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T22:02:19.9660287+03:00 0HL7OIHK18F07 [INF] Request finished in 5.7154ms 200 application/json (15c52c40)
2017-09-14T22:02:20.7100217+03:00 0HL7OIHK18F08 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92114438569184291505415740396&state=15054157403960.9590965259719222   (e5be5b71)
2017-09-14T22:02:20.7135234+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:20.7140240+03:00 0HL7OIHK18F08 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:02:20.7145241+03:00 0HL7OIHK18F08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:20.7145241+03:00 0HL7OIHK18F08 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:02:20.7160257+03:00 0HL7OIHK18F08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:20.7165258+03:00 0HL7OIHK18F08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:20.7165258+03:00 0HL7OIHK18F08 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054157403960.9590965259719222\",
  \"Nonce\": \"N0.92114438569184291505415740396\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92114438569184291505415740396\",
    \"state\": \"15054157403960.9590965259719222\"
  }
}" (9a175e33)
2017-09-14T22:02:20.7215295+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:20.7425434+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:20.7450441+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:02:20.7470454+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:02:20.7580531+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:02:20.7625563+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:20.7640575+03:00 0HL7OIHK18F09 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:02:20.7645572+03:00 0HL7OIHK18F08 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:02:20.7670591+03:00 0HL7OIHK18F09 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:20.7670591+03:00 0HL7OIHK18F09 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:02:20.7845709+03:00 0HL7OIHK18F08 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054157403960.9590965259719222\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:02:20.7855715+03:00 0HL7OIHK18F08 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:02:20.7865726+03:00 0HL7OIHK18F08 [INF] Request finished in 78.4401ms 302  (15c52c40)
2017-09-14T22:02:20.7895742+03:00 0HL7OIHK18F09 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:20.7925766+03:00 0HL7OIHK18F09 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:02:20.7965784+03:00 0HL7OIHK18F09 [INF] Request finished in 31.2333ms 200 application/json (15c52c40)
2017-09-14T22:02:23.4183153+03:00 0HL7OIHK18F0A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T22:02:23.4213173+03:00 0HL7OIHK18F0A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:23.4213173+03:00 0HL7OIHK18F0A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T22:02:23.4233182+03:00 0HL7OIHK18F0A [INF] Request finished in 4.6101ms 200 application/json (15c52c40)
2017-09-14T22:02:23.9331561+03:00 0HL7OIHK18F0B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T22:02:23.9336566+03:00 0HL7OIHK18F0B [INF] Request finished in 0.9568ms 204  (15c52c40)
2017-09-14T22:02:24.0492334+03:00 0HL7OIHK18F0C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:02:24.0522353+03:00 0HL7OIHK18F0C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:24.0522353+03:00 0HL7OIHK18F0C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:02:24.0792528+03:00 0HL7OIHK18F0C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:24.0797538+03:00 0HL7OIHK18F0C [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:02:24.0807548+03:00 0HL7OIHK18F0C [INF] Request finished in 32.2797ms 200 application/json (15c52c40)
2017-09-14T22:02:24.7061683+03:00 0HL7OIHK18F0D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T22:02:24.7096704+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:24.7101713+03:00 0HL7OIHK18F0D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T22:02:24.7101713+03:00 0HL7OIHK18F0D [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T22:02:24.7361878+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:24.7391901+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:24.7411915+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:02:24.7461944+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:02:24.7486970+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:02:24.7511977+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:02:24.7567015+03:00 0HL7OIHK18F0D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:02:24.7602041+03:00 0HL7OIHK18F0D [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T22:02:24.7617049+03:00 0HL7OIHK18F0D [INF] Request finished in 55.1102ms 200 application/json (15c52c40)
2017-09-14T22:02:42.7208308+03:00 0HL7OIHK18F0E [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:02:42.7238328+03:00 0HL7OIHK18F0E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:42.7243334+03:00 0HL7OIHK18F0E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:02:42.7478499+03:00 0HL7OIHK18F0E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:42.7483501+03:00 0HL7OIHK18F0E [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:02:42.7493511+03:00 0HL7OIHK18F0E [INF] Request finished in 28.9394ms 200 application/json (15c52c40)
2017-09-14T22:02:44.1721294+03:00 0HL7OIHK18F0F [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:02:44.1751313+03:00 0HL7OIHK18F0F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:02:44.1751313+03:00 0HL7OIHK18F0F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:02:44.1981462+03:00 0HL7OIHK18F0F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:02:44.1986467+03:00 0HL7OIHK18F0F [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:02:44.2091543+03:00 0HL7OIHK18F0F [INF] Request finished in 28.3288ms 200 application/json (15c52c40)
2017-09-14T22:07:20.8012952+03:00 0HL7OIHK18F0G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55086315842866961505416040792&state=15054160407920.6824033376090513   (e5be5b71)
2017-09-14T22:07:21.0767198+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:21.0772199+03:00 0HL7OIHK18F0G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:21.0772199+03:00 0HL7OIHK18F0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.0772199+03:00 0HL7OIHK18F0G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:21.0777205+03:00 0HL7OIHK18F0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.0782865+03:00 0HL7OIHK18F0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.0782865+03:00 0HL7OIHK18F0G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160407920.6824033376090513\",
  \"Nonce\": \"N0.55086315842866961505416040792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55086315842866961505416040792\",
    \"state\": \"15054160407920.6824033376090513\"
  }
}" (9a175e33)
2017-09-14T22:07:21.0997469+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:21.1107546+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:21.1150699+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:21.1180719+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:21.1210730+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:21.1235773+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:21.1274686+03:00 0HL7OIHK18F0G [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:21.1414787+03:00 0HL7OIHK18F0G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160407920.6824033376090513\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:21.1424778+03:00 0HL7OIHK18F0G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.1459815+03:00 0HL7OIHK18F0G [INF] Request finished in 343.5735ms 302  (15c52c40)
2017-09-14T22:07:21.8090178+03:00 0HL7OIHK18F0H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68315678214325071505416041791&state=15054160417910.5463325999678414   (e5be5b71)
2017-09-14T22:07:21.8155251+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:21.8185243+03:00 0HL7OIHK18F0H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:21.8195246+03:00 0HL7OIHK18F0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.8200251+03:00 0HL7OIHK18F0H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:21.8205257+03:00 0HL7OIHK18F0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.8210250+03:00 0HL7OIHK18F0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.8215251+03:00 0HL7OIHK18F0H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160417910.5463325999678414\",
  \"Nonce\": \"N0.68315678214325071505416041791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68315678214325071505416041791\",
    \"state\": \"15054160417910.5463325999678414\"
  }
}" (9a175e33)
2017-09-14T22:07:21.8245279+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:21.8355344+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:21.8370356+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:21.8385368+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:21.8450409+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:21.8470422+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:21.8495445+03:00 0HL7OIHK18F0H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:21.8675560+03:00 0HL7OIHK18F0H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160417910.5463325999678414\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:21.8680562+03:00 0HL7OIHK18F0H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:21.8685571+03:00 0HL7OIHK18F0H [INF] Request finished in 61.2954ms 302  (15c52c40)
2017-09-14T22:07:24.7979482+03:00 0HL7OIHK18F0I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81546493642489381505416044790&state=15054160447900.4006880168857281   (e5be5b71)
2017-09-14T22:07:24.8009502+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:24.8014515+03:00 0HL7OIHK18F0I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:24.8014515+03:00 0HL7OIHK18F0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:24.8019512+03:00 0HL7OIHK18F0I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:24.8024514+03:00 0HL7OIHK18F0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:24.8029515+03:00 0HL7OIHK18F0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:24.8029515+03:00 0HL7OIHK18F0I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160447900.4006880168857281\",
  \"Nonce\": \"N0.81546493642489381505416044790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81546493642489381505416044790\",
    \"state\": \"15054160447900.4006880168857281\"
  }
}" (9a175e33)
2017-09-14T22:07:24.8054530+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:24.8144593+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:24.8174613+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:24.8189617+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:24.8204629+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:24.8224642+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:24.8259667+03:00 0HL7OIHK18F0I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:24.8434781+03:00 0HL7OIHK18F0I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160447900.4006880168857281\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:24.8444788+03:00 0HL7OIHK18F0I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:24.8449793+03:00 0HL7OIHK18F0I [INF] Request finished in 47.5044ms 302  (15c52c40)
2017-09-14T22:07:27.7983816+03:00 0HL7OIHK18F0J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78686604751041591505416047791&state=15054160477910.4138910825627895   (e5be5b71)
2017-09-14T22:07:27.8008819+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:27.8013828+03:00 0HL7OIHK18F0J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:27.8018818+03:00 0HL7OIHK18F0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:27.8018818+03:00 0HL7OIHK18F0J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:27.8023819+03:00 0HL7OIHK18F0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:27.8033841+03:00 0HL7OIHK18F0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:27.8033841+03:00 0HL7OIHK18F0J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160477910.4138910825627895\",
  \"Nonce\": \"N0.78686604751041591505416047791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78686604751041591505416047791\",
    \"state\": \"15054160477910.4138910825627895\"
  }
}" (9a175e33)
2017-09-14T22:07:27.8083867+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:27.8218954+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:27.8284011+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:27.8329027+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:27.8374067+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:27.8389063+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:27.8434095+03:00 0HL7OIHK18F0J [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:27.8629230+03:00 0HL7OIHK18F0J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160477910.4138910825627895\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:27.8634227+03:00 0HL7OIHK18F0J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:27.8644238+03:00 0HL7OIHK18F0J [INF] Request finished in 66.789ms 302  (15c52c40)
2017-09-14T22:07:31.7989177+03:00 0HL7OIHK18F0K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.100242895291113851505416051790&state=15054160517900.6954188354051869   (e5be5b71)
2017-09-14T22:07:31.8024190+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:31.8029191+03:00 0HL7OIHK18F0K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:31.8034201+03:00 0HL7OIHK18F0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:31.8034201+03:00 0HL7OIHK18F0K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:31.8044207+03:00 0HL7OIHK18F0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:31.8054210+03:00 0HL7OIHK18F0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:31.8054210+03:00 0HL7OIHK18F0K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160517900.6954188354051869\",
  \"Nonce\": \"N0.100242895291113851505416051790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.100242895291113851505416051790\",
    \"state\": \"15054160517900.6954188354051869\"
  }
}" (9a175e33)
2017-09-14T22:07:31.8139268+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:31.8304380+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:31.8344402+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:31.8379427+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:31.8439471+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:31.8459484+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:31.8504512+03:00 0HL7OIHK18F0K [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:31.8699639+03:00 0HL7OIHK18F0K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160517900.6954188354051869\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:31.8704641+03:00 0HL7OIHK18F0K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:31.8714651+03:00 0HL7OIHK18F0K [INF] Request finished in 72.8727ms 302  (15c52c40)
2017-09-14T22:07:35.7984815+03:00 0HL7OIHK18F0L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47323380398612391505416055791&state=15054160557910.27707058135843354   (e5be5b71)
2017-09-14T22:07:35.8014839+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:35.8019840+03:00 0HL7OIHK18F0L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:35.8024849+03:00 0HL7OIHK18F0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:35.8024849+03:00 0HL7OIHK18F0L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:35.8029847+03:00 0HL7OIHK18F0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:35.8034848+03:00 0HL7OIHK18F0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:35.8034848+03:00 0HL7OIHK18F0L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160557910.27707058135843354\",
  \"Nonce\": \"N0.47323380398612391505416055791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47323380398612391505416055791\",
    \"state\": \"15054160557910.27707058135843354\"
  }
}" (9a175e33)
2017-09-14T22:07:35.8059882+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:35.8164954+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:35.8179958+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:35.8204968+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:35.8224990+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:35.8255002+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:35.8275007+03:00 0HL7OIHK18F0L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:35.8435121+03:00 0HL7OIHK18F0L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160557910.27707058135843354\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:35.8440122+03:00 0HL7OIHK18F0L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:35.8450129+03:00 0HL7OIHK18F0L [INF] Request finished in 46.5148ms 302  (15c52c40)
2017-09-14T22:07:39.8018522+03:00 0HL7OIHK18F0M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96901943257615141505416059791&state=15054160597910.19461303986835854   (e5be5b71)
2017-09-14T22:07:39.8038539+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:39.8043520+03:00 0HL7OIHK18F0M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:39.8048526+03:00 0HL7OIHK18F0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:39.8053531+03:00 0HL7OIHK18F0M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:39.8058532+03:00 0HL7OIHK18F0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:39.8063538+03:00 0HL7OIHK18F0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:39.8063538+03:00 0HL7OIHK18F0M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160597910.19461303986835854\",
  \"Nonce\": \"N0.96901943257615141505416059791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96901943257615141505416059791\",
    \"state\": \"15054160597910.19461303986835854\"
  }
}" (9a175e33)
2017-09-14T22:07:39.8128626+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:39.8213633+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:39.8263686+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:39.8288685+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:39.8313703+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:39.8333713+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:39.8348728+03:00 0HL7OIHK18F0M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:39.8548861+03:00 0HL7OIHK18F0M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160597910.19461303986835854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:39.8553866+03:00 0HL7OIHK18F0M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:39.8558864+03:00 0HL7OIHK18F0M [INF] Request finished in 55.0403ms 302  (15c52c40)
2017-09-14T22:07:43.8062326+03:00 0HL7OIHK18F0N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.00205920158921824031505416063791&state=15054160637910.79448533268536   (e5be5b71)
2017-09-14T22:07:43.8107361+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:43.8112367+03:00 0HL7OIHK18F0N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:43.8117368+03:00 0HL7OIHK18F0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:43.8122369+03:00 0HL7OIHK18F0N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:43.8127375+03:00 0HL7OIHK18F0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:43.8137377+03:00 0HL7OIHK18F0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:43.8137377+03:00 0HL7OIHK18F0N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160637910.79448533268536\",
  \"Nonce\": \"N0.00205920158921824031505416063791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.00205920158921824031505416063791\",
    \"state\": \"15054160637910.79448533268536\"
  }
}" (9a175e33)
2017-09-14T22:07:43.8167397+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:43.8302489+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:43.8322502+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:43.8342519+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:43.8372531+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:43.8402559+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:43.8432575+03:00 0HL7OIHK18F0N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:43.8837849+03:00 0HL7OIHK18F0N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160637910.79448533268536\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:43.8842851+03:00 0HL7OIHK18F0N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:43.8847856+03:00 0HL7OIHK18F0N [INF] Request finished in 79.0894ms 302  (15c52c40)
2017-09-14T22:07:46.8047937+03:00 0HL7OIHK18F0O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82908237091164241505416066792&state=15054160667920.9554268078947497   (e5be5b71)
2017-09-14T22:07:46.8112955+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:46.8137989+03:00 0HL7OIHK18F0O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:46.8148008+03:00 0HL7OIHK18F0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:46.8153033+03:00 0HL7OIHK18F0O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:46.8163020+03:00 0HL7OIHK18F0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:46.8172987+03:00 0HL7OIHK18F0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:46.8178012+03:00 0HL7OIHK18F0O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160667920.9554268078947497\",
  \"Nonce\": \"N0.82908237091164241505416066792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82908237091164241505416066792\",
    \"state\": \"15054160667920.9554268078947497\"
  }
}" (9a175e33)
2017-09-14T22:07:46.8263082+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:46.8468188+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:46.8488201+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:46.8513216+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:46.8548233+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:46.8568247+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:46.8598270+03:00 0HL7OIHK18F0O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:46.8768403+03:00 0HL7OIHK18F0O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160667920.9554268078947497\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:46.8773377+03:00 0HL7OIHK18F0O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:46.8783387+03:00 0HL7OIHK18F0O [INF] Request finished in 75.7491ms 302  (15c52c40)
2017-09-14T22:07:50.8079315+03:00 0HL7OIHK18F0P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54695182597404891505416070791&state=15054160707910.19259293028598368   (e5be5b71)
2017-09-14T22:07:50.8134409+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:50.8179425+03:00 0HL7OIHK18F0P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:50.8196758+03:00 0HL7OIHK18F0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:50.8196758+03:00 0HL7OIHK18F0P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:50.8206812+03:00 0HL7OIHK18F0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:50.8221808+03:00 0HL7OIHK18F0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:50.8221808+03:00 0HL7OIHK18F0P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160707910.19259293028598368\",
  \"Nonce\": \"N0.54695182597404891505416070791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54695182597404891505416070791\",
    \"state\": \"15054160707910.19259293028598368\"
  }
}" (9a175e33)
2017-09-14T22:07:50.8301861+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:50.8396922+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:50.8416927+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:50.8441946+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:50.8471970+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:50.8506995+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:50.8527008+03:00 0HL7OIHK18F0P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:50.8662084+03:00 0HL7OIHK18F0P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160707910.19259293028598368\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:50.8672272+03:00 0HL7OIHK18F0P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:50.8677301+03:00 0HL7OIHK18F0P [INF] Request finished in 62.0778ms 302  (15c52c40)
2017-09-14T22:07:53.8375227+03:00 0HL7OIHK18F0Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68617431675536181505416073805&state=15054160738050.12379776107576701   (e5be5b71)
2017-09-14T22:07:53.8405251+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:53.8410260+03:00 0HL7OIHK18F0Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:53.8420255+03:00 0HL7OIHK18F0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:53.8420255+03:00 0HL7OIHK18F0Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:53.8495311+03:00 0HL7OIHK18F0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:53.8510323+03:00 0HL7OIHK18F0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:53.8510323+03:00 0HL7OIHK18F0Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160738050.12379776107576701\",
  \"Nonce\": \"N0.68617431675536181505416073805\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68617431675536181505416073805\",
    \"state\": \"15054160738050.12379776107576701\"
  }
}" (9a175e33)
2017-09-14T22:07:53.8560352+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:53.8795506+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:53.8835536+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:53.8855549+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:53.8895588+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:53.8955612+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:53.8980630+03:00 0HL7OIHK18F0Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:53.9230788+03:00 0HL7OIHK18F0Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160738050.12379776107576701\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:53.9240799+03:00 0HL7OIHK18F0Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:53.9320852+03:00 0HL7OIHK18F0Q [INF] Request finished in 87.7618ms 302  (15c52c40)
2017-09-14T22:07:57.7993752+03:00 0HL7OIHK18F0R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84127764231968791505416077790&state=15054160777900.655391807817292   (e5be5b71)
2017-09-14T22:07:57.8013773+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:07:57.8018766+03:00 0HL7OIHK18F0R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:07:57.8023783+03:00 0HL7OIHK18F0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:57.8023783+03:00 0HL7OIHK18F0R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:07:57.8028773+03:00 0HL7OIHK18F0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:57.8028773+03:00 0HL7OIHK18F0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:57.8033774+03:00 0HL7OIHK18F0R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160777900.655391807817292\",
  \"Nonce\": \"N0.84127764231968791505416077790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84127764231968791505416077790\",
    \"state\": \"15054160777900.655391807817292\"
  }
}" (9a175e33)
2017-09-14T22:07:57.8053791+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:07:57.8143851+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:57.8163872+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:07:57.8198897+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:07:57.8223900+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:07:57.8238916+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:07:57.8288957+03:00 0HL7OIHK18F0R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:07:57.8459058+03:00 0HL7OIHK18F0R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160777900.655391807817292\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:07:57.8464071+03:00 0HL7OIHK18F0R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:07:57.8474074+03:00 0HL7OIHK18F0R [INF] Request finished in 48.389ms 302  (15c52c40)
2017-09-14T22:08:01.8111747+03:00 0HL7OIHK18F0S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96589346919111981505416081792&state=15054160817920.6587042630675966   (e5be5b71)
2017-09-14T22:08:01.8141767+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:01.8151773+03:00 0HL7OIHK18F0S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:01.8156779+03:00 0HL7OIHK18F0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:01.8156779+03:00 0HL7OIHK18F0S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:01.8161780+03:00 0HL7OIHK18F0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:01.8166785+03:00 0HL7OIHK18F0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:01.8166785+03:00 0HL7OIHK18F0S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160817920.6587042630675966\",
  \"Nonce\": \"N0.96589346919111981505416081792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96589346919111981505416081792\",
    \"state\": \"15054160817920.6587042630675966\"
  }
}" (9a175e33)
2017-09-14T22:08:01.8206812+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:01.8316885+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:01.8341903+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:01.8381926+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:01.8411946+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:01.8436964+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:01.8456978+03:00 0HL7OIHK18F0S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:01.8687126+03:00 0HL7OIHK18F0S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160817920.6587042630675966\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:01.8692127+03:00 0HL7OIHK18F0S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:01.8707143+03:00 0HL7OIHK18F0S [INF] Request finished in 59.4626ms 302  (15c52c40)
2017-09-14T22:08:05.8010548+03:00 0HL7OIHK18F0T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88162139636442241505416085791&state=15054160857910.5112105265123752   (e5be5b71)
2017-09-14T22:08:05.8030557+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:05.8035551+03:00 0HL7OIHK18F0T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:05.8040560+03:00 0HL7OIHK18F0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:05.8045557+03:00 0HL7OIHK18F0T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:05.8045557+03:00 0HL7OIHK18F0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:05.8050559+03:00 0HL7OIHK18F0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:05.8055564+03:00 0HL7OIHK18F0T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160857910.5112105265123752\",
  \"Nonce\": \"N0.88162139636442241505416085791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88162139636442241505416085791\",
    \"state\": \"15054160857910.5112105265123752\"
  }
}" (9a175e33)
2017-09-14T22:08:05.8080578+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:05.8195657+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:05.8215670+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:05.8240688+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:05.8270740+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:05.8295739+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:05.8315736+03:00 0HL7OIHK18F0T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:05.8465843+03:00 0HL7OIHK18F0T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160857910.5112105265123752\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:05.8475842+03:00 0HL7OIHK18F0T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:05.8480847+03:00 0HL7OIHK18F0T [INF] Request finished in 47.834ms 302  (15c52c40)
2017-09-14T22:08:09.7991608+03:00 0HL7OIHK18F0U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53547001952648631505416089791&state=15054160897910.04823647599229863   (e5be5b71)
2017-09-14T22:08:09.8016631+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:09.8021624+03:00 0HL7OIHK18F0U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:09.8026633+03:00 0HL7OIHK18F0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:09.8026633+03:00 0HL7OIHK18F0U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:09.8031635+03:00 0HL7OIHK18F0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:09.8036640+03:00 0HL7OIHK18F0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:09.8036640+03:00 0HL7OIHK18F0U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160897910.04823647599229863\",
  \"Nonce\": \"N0.53547001952648631505416089791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53547001952648631505416089791\",
    \"state\": \"15054160897910.04823647599229863\"
  }
}" (9a175e33)
2017-09-14T22:08:09.8071661+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:09.8196742+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:09.8216755+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:09.8236769+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:09.8266792+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:09.8291807+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:09.8311820+03:00 0HL7OIHK18F0U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:09.8486942+03:00 0HL7OIHK18F0U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160897910.04823647599229863\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:09.8496941+03:00 0HL7OIHK18F0U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:09.8501946+03:00 0HL7OIHK18F0U [INF] Request finished in 51.7526ms 302  (15c52c40)
2017-09-14T22:08:13.8050266+03:00 0HL7OIHK18F0V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40665052602213961505416093790&state=15054160937900.3461785303656477   (e5be5b71)
2017-09-14T22:08:13.8085284+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:13.8100319+03:00 0HL7OIHK18F0V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:13.8120305+03:00 0HL7OIHK18F0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:13.8120305+03:00 0HL7OIHK18F0V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:13.8140322+03:00 0HL7OIHK18F0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:13.8150329+03:00 0HL7OIHK18F0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:13.8155334+03:00 0HL7OIHK18F0V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160937900.3461785303656477\",
  \"Nonce\": \"N0.40665052602213961505416093790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40665052602213961505416093790\",
    \"state\": \"15054160937900.3461785303656477\"
  }
}" (9a175e33)
2017-09-14T22:08:13.8195396+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:13.8365513+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:13.8385522+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:13.8425549+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:13.8465571+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:13.8495603+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:13.8535617+03:00 0HL7OIHK18F0V [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:13.8745761+03:00 0HL7OIHK18F0V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160937900.3461785303656477\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:13.8785795+03:00 0HL7OIHK18F0V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:13.8795790+03:00 0HL7OIHK18F0V [INF] Request finished in 74.9245ms 302  (15c52c40)
2017-09-14T22:08:17.7973821+03:00 0HL7OIHK18F10 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.1810348325420391505416097790&state=15054160977900.432094770692653   (e5be5b71)
2017-09-14T22:08:17.7998852+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:17.8003845+03:00 0HL7OIHK18F10 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:17.8008858+03:00 0HL7OIHK18F10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:17.8008858+03:00 0HL7OIHK18F10 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:17.8013848+03:00 0HL7OIHK18F10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:17.8018853+03:00 0HL7OIHK18F10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:17.8023874+03:00 0HL7OIHK18F10 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054160977900.432094770692653\",
  \"Nonce\": \"N0.1810348325420391505416097790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.1810348325420391505416097790\",
    \"state\": \"15054160977900.432094770692653\"
  }
}" (9a175e33)
2017-09-14T22:08:17.8043887+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:17.8158946+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:17.8173958+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:17.8193975+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:17.8213992+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:17.8244028+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:17.8264014+03:00 0HL7OIHK18F10 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:17.8404110+03:00 0HL7OIHK18F10 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054160977900.432094770692653\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:17.8414137+03:00 0HL7OIHK18F10 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:17.8424127+03:00 0HL7OIHK18F10 [INF] Request finished in 45.3977ms 302  (15c52c40)
2017-09-14T22:08:21.7986891+03:00 0HL7OIHK18F11 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49441578868092261505416101791&state=15054161017910.937349332533888   (e5be5b71)
2017-09-14T22:08:21.8011906+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:21.8016907+03:00 0HL7OIHK18F11 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:21.8021916+03:00 0HL7OIHK18F11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:21.8021916+03:00 0HL7OIHK18F11 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:21.8026918+03:00 0HL7OIHK18F11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:21.8036936+03:00 0HL7OIHK18F11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:21.8036936+03:00 0HL7OIHK18F11 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161017910.937349332533888\",
  \"Nonce\": \"N0.49441578868092261505416101791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49441578868092261505416101791\",
    \"state\": \"15054161017910.937349332533888\"
  }
}" (9a175e33)
2017-09-14T22:08:21.8086953+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:21.8217044+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:21.8237057+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:21.8262071+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:21.8297124+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:21.8317118+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:21.8352135+03:00 0HL7OIHK18F11 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:21.8562274+03:00 0HL7OIHK18F11 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161017910.937349332533888\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:21.8567276+03:00 0HL7OIHK18F11 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:21.8577282+03:00 0HL7OIHK18F11 [INF] Request finished in 59.6651ms 302  (15c52c40)
2017-09-14T22:08:25.7996227+03:00 0HL7OIHK18F12 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.28059806006402391505416105792&state=15054161057920.9123214798529657   (e5be5b71)
2017-09-14T22:08:25.8026211+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:25.8031228+03:00 0HL7OIHK18F12 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:25.8036222+03:00 0HL7OIHK18F12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:25.8036222+03:00 0HL7OIHK18F12 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:25.8041227+03:00 0HL7OIHK18F12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:25.8051230+03:00 0HL7OIHK18F12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:25.8051230+03:00 0HL7OIHK18F12 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161057920.9123214798529657\",
  \"Nonce\": \"N0.28059806006402391505416105792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.28059806006402391505416105792\",
    \"state\": \"15054161057920.9123214798529657\"
  }
}" (9a175e33)
2017-09-14T22:08:25.8091256+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:25.8251362+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:25.8271379+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:25.8286391+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:25.8306420+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:25.8331423+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:25.8356430+03:00 0HL7OIHK18F12 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:25.8551561+03:00 0HL7OIHK18F12 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161057920.9123214798529657\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:25.8556582+03:00 0HL7OIHK18F12 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:25.8566577+03:00 0HL7OIHK18F12 [INF] Request finished in 57.8098ms 302  (15c52c40)
2017-09-14T22:08:29.8312389+03:00 0HL7OIHK18F13 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85973456317821321505416109801&state=15054161098010.704928367357454   (e5be5b71)
2017-09-14T22:08:29.8352415+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:29.8362426+03:00 0HL7OIHK18F13 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:29.8387440+03:00 0HL7OIHK18F13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:29.8387440+03:00 0HL7OIHK18F13 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:29.8397447+03:00 0HL7OIHK18F13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:29.8507516+03:00 0HL7OIHK18F13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:29.8512525+03:00 0HL7OIHK18F13 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161098010.704928367357454\",
  \"Nonce\": \"N0.85973456317821321505416109801\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85973456317821321505416109801\",
    \"state\": \"15054161098010.704928367357454\"
  }
}" (9a175e33)
2017-09-14T22:08:29.8547546+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:29.8857748+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:29.8987838+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:29.9172959+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:29.9388099+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:29.9483164+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:29.9533197+03:00 0HL7OIHK18F13 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:29.9843407+03:00 0HL7OIHK18F13 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161098010.704928367357454\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:29.9868417+03:00 0HL7OIHK18F13 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:29.9878424+03:00 0HL7OIHK18F13 [INF] Request finished in 159.4105ms 302  (15c52c40)
2017-09-14T22:08:33.8005929+03:00 0HL7OIHK18F14 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94387219374012181505416113791&state=15054161137910.2460973233447057   (e5be5b71)
2017-09-14T22:08:33.8040962+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:33.8045964+03:00 0HL7OIHK18F14 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:33.8050953+03:00 0HL7OIHK18F14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:33.8050953+03:00 0HL7OIHK18F14 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:33.8055974+03:00 0HL7OIHK18F14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:33.8060960+03:00 0HL7OIHK18F14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:33.8060960+03:00 0HL7OIHK18F14 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161137910.2460973233447057\",
  \"Nonce\": \"N0.94387219374012181505416113791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94387219374012181505416113791\",
    \"state\": \"15054161137910.2460973233447057\"
  }
}" (9a175e33)
2017-09-14T22:08:33.8121008+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:33.8261096+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:33.8306140+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:33.8341145+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:33.8376182+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:33.8391179+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:33.8431205+03:00 0HL7OIHK18F14 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:33.8596324+03:00 0HL7OIHK18F14 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161137910.2460973233447057\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:33.8611328+03:00 0HL7OIHK18F14 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:33.8631342+03:00 0HL7OIHK18F14 [INF] Request finished in 64.9972ms 302  (15c52c40)
2017-09-14T22:08:37.8106442+03:00 0HL7OIHK18F15 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0463903864211734351505416117792&state=15054161177920.4096658708425662   (e5be5b71)
2017-09-14T22:08:37.8151466+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:37.8156471+03:00 0HL7OIHK18F15 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:37.8161476+03:00 0HL7OIHK18F15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:37.8166478+03:00 0HL7OIHK18F15 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:37.8171491+03:00 0HL7OIHK18F15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:37.8176488+03:00 0HL7OIHK18F15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:37.8181493+03:00 0HL7OIHK18F15 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161177920.4096658708425662\",
  \"Nonce\": \"N0.0463903864211734351505416117792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0463903864211734351505416117792\",
    \"state\": \"15054161177920.4096658708425662\"
  }
}" (9a175e33)
2017-09-14T22:08:37.8241529+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:37.8421652+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:37.8471678+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:37.8511712+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:37.8536723+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:37.8556736+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:37.8591761+03:00 0HL7OIHK18F15 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:37.8761874+03:00 0HL7OIHK18F15 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161177920.4096658708425662\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:37.8766907+03:00 0HL7OIHK18F15 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:37.8796927+03:00 0HL7OIHK18F15 [INF] Request finished in 68.1804ms 302  (15c52c40)
2017-09-14T22:08:41.8148245+03:00 0HL7OIHK18F16 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47820819623563041505416121792&state=15054161217920.9827951208000809   (e5be5b71)
2017-09-14T22:08:41.8223328+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:41.8238300+03:00 0HL7OIHK18F16 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:41.8253312+03:00 0HL7OIHK18F16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:41.8258317+03:00 0HL7OIHK18F16 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:41.8268316+03:00 0HL7OIHK18F16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:41.8288333+03:00 0HL7OIHK18F16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:41.8298352+03:00 0HL7OIHK18F16 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161217920.9827951208000809\",
  \"Nonce\": \"N0.47820819623563041505416121792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47820819623563041505416121792\",
    \"state\": \"15054161217920.9827951208000809\"
  }
}" (9a175e33)
2017-09-14T22:08:41.8328356+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:41.8463443+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:41.8483453+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:41.8503470+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:41.8523483+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:41.8598535+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:41.8618552+03:00 0HL7OIHK18F16 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:41.8808682+03:00 0HL7OIHK18F16 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161217920.9827951208000809\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:41.8813683+03:00 0HL7OIHK18F16 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:41.8818677+03:00 0HL7OIHK18F16 [INF] Request finished in 69.68ms 302  (15c52c40)
2017-09-14T22:08:45.8045762+03:00 0HL7OIHK18F17 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.38176311450323741505416125792&state=15054161257920.062321880847298505   (e5be5b71)
2017-09-14T22:08:45.8105782+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:45.8110772+03:00 0HL7OIHK18F17 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:45.8140800+03:00 0HL7OIHK18F17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:45.8145817+03:00 0HL7OIHK18F17 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:45.8160829+03:00 0HL7OIHK18F17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:45.8170831+03:00 0HL7OIHK18F17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:45.8180826+03:00 0HL7OIHK18F17 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161257920.062321880847298505\",
  \"Nonce\": \"N0.38176311450323741505416125792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.38176311450323741505416125792\",
    \"state\": \"15054161257920.062321880847298505\"
  }
}" (9a175e33)
2017-09-14T22:08:45.8235494+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:45.8350580+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:45.8370573+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:45.8390594+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:45.8415621+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:45.8430613+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:45.8455659+03:00 0HL7OIHK18F17 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:45.8595732+03:00 0HL7OIHK18F17 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161257920.062321880847298505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:45.8605731+03:00 0HL7OIHK18F17 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:45.8610736+03:00 0HL7OIHK18F17 [INF] Request finished in 58.0392ms 302  (15c52c40)
2017-09-14T22:08:49.8056109+03:00 0HL7OIHK18F18 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76613939325314061505416129792&state=15054161297920.3029112093970241   (e5be5b71)
2017-09-14T22:08:49.8081135+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:49.8086132+03:00 0HL7OIHK18F18 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:49.8091138+03:00 0HL7OIHK18F18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:49.8091138+03:00 0HL7OIHK18F18 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:49.8096135+03:00 0HL7OIHK18F18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:49.8101136+03:00 0HL7OIHK18F18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:49.8106146+03:00 0HL7OIHK18F18 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161297920.3029112093970241\",
  \"Nonce\": \"N0.76613939325314061505416129792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76613939325314061505416129792\",
    \"state\": \"15054161297920.3029112093970241\"
  }
}" (9a175e33)
2017-09-14T22:08:49.8151173+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:49.8261262+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:49.8276254+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:49.8301269+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:49.8331289+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:49.8351310+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:49.8366314+03:00 0HL7OIHK18F18 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:49.8506407+03:00 0HL7OIHK18F18 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161297920.3029112093970241\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:49.8511416+03:00 0HL7OIHK18F18 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:49.8516413+03:00 0HL7OIHK18F18 [INF] Request finished in 46.5148ms 302  (15c52c40)
2017-09-14T22:08:53.8062132+03:00 0HL7OIHK18F19 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77763023973874451505416133791&state=15054161337910.031714860566877334   (e5be5b71)
2017-09-14T22:08:53.8112181+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:53.8122208+03:00 0HL7OIHK18F19 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:53.8137184+03:00 0HL7OIHK18F19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:53.8142205+03:00 0HL7OIHK18F19 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:53.8162238+03:00 0HL7OIHK18F19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:53.8185334+03:00 0HL7OIHK18F19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:53.8190336+03:00 0HL7OIHK18F19 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161337910.031714860566877334\",
  \"Nonce\": \"N0.77763023973874451505416133791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77763023973874451505416133791\",
    \"state\": \"15054161337910.031714860566877334\"
  }
}" (9a175e33)
2017-09-14T22:08:53.8250371+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:53.8425481+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:53.8445514+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:53.8475538+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:53.8495544+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:53.8520562+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:53.8635621+03:00 0HL7OIHK18F19 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:53.8890792+03:00 0HL7OIHK18F19 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161337910.031714860566877334\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:53.8895801+03:00 0HL7OIHK18F19 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:53.8905803+03:00 0HL7OIHK18F19 [INF] Request finished in 85.6196ms 302  (15c52c40)
2017-09-14T22:08:57.8240242+03:00 0HL7OIHK18F1A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96689526404655781505416137791&state=15054161377910.9620552108091558   (e5be5b71)
2017-09-14T22:08:57.8270262+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:08:57.8275264+03:00 0HL7OIHK18F1A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:08:57.8280273+03:00 0HL7OIHK18F1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:57.8280273+03:00 0HL7OIHK18F1A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:08:57.8290287+03:00 0HL7OIHK18F1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:57.8335303+03:00 0HL7OIHK18F1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:57.8340305+03:00 0HL7OIHK18F1A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161377910.9620552108091558\",
  \"Nonce\": \"N0.96689526404655781505416137791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96689526404655781505416137791\",
    \"state\": \"15054161377910.9620552108091558\"
  }
}" (9a175e33)
2017-09-14T22:08:57.8380331+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:08:57.8545446+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:57.8570465+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:08:57.8595476+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:08:57.8660525+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:08:57.8705553+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:08:57.8735568+03:00 0HL7OIHK18F1A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:08:57.8950713+03:00 0HL7OIHK18F1A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161377910.9620552108091558\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:08:57.8965745+03:00 0HL7OIHK18F1A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:08:57.8990735+03:00 0HL7OIHK18F1A [INF] Request finished in 74.3928ms 302  (15c52c40)
2017-09-14T22:09:01.8000956+03:00 0HL7OIHK18F1B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37811274898632031505416141792&state=15054161417920.5538693798788414   (e5be5b71)
2017-09-14T22:09:01.8025974+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:01.8030991+03:00 0HL7OIHK18F1B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:01.8035973+03:00 0HL7OIHK18F1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:01.8035973+03:00 0HL7OIHK18F1B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:01.8040974+03:00 0HL7OIHK18F1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:01.8050981+03:00 0HL7OIHK18F1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:01.8050981+03:00 0HL7OIHK18F1B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161417920.5538693798788414\",
  \"Nonce\": \"N0.37811274898632031505416141792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37811274898632031505416141792\",
    \"state\": \"15054161417920.5538693798788414\"
  }
}" (9a175e33)
2017-09-14T22:09:01.8075995+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:01.8201076+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:01.8231104+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:01.8251117+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:01.8271131+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:01.8316159+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:01.8346174+03:00 0HL7OIHK18F1B [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:01.8536296+03:00 0HL7OIHK18F1B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161417920.5538693798788414\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:01.8541298+03:00 0HL7OIHK18F1B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:01.8551312+03:00 0HL7OIHK18F1B [INF] Request finished in 55.4675ms 302  (15c52c40)
2017-09-14T22:09:05.8002554+03:00 0HL7OIHK18F1C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76611689028773641505416145790&state=15054161457900.6752381873780859   (e5be5b71)
2017-09-14T22:09:05.8037576+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:05.8042589+03:00 0HL7OIHK18F1C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:05.8047606+03:00 0HL7OIHK18F1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:05.8047606+03:00 0HL7OIHK18F1C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:05.8052580+03:00 0HL7OIHK18F1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:05.8057581+03:00 0HL7OIHK18F1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:05.8057581+03:00 0HL7OIHK18F1C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161457900.6752381873780859\",
  \"Nonce\": \"N0.76611689028773641505416145790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76611689028773641505416145790\",
    \"state\": \"15054161457900.6752381873780859\"
  }
}" (9a175e33)
2017-09-14T22:09:05.8097611+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:05.8217695+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:05.8237704+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:05.8252716+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:05.8277731+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:05.8322766+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:05.8347773+03:00 0HL7OIHK18F1C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:05.8512896+03:00 0HL7OIHK18F1C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161457900.6752381873780859\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:05.8522899+03:00 0HL7OIHK18F1C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:05.8532906+03:00 0HL7OIHK18F1C [INF] Request finished in 54.1913ms 302  (15c52c40)
2017-09-14T22:09:09.8005858+03:00 0HL7OIHK18F1D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25881174548785381505416149791&state=15054161497910.07574850310947889   (e5be5b71)
2017-09-14T22:09:09.8030869+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:09.8040880+03:00 0HL7OIHK18F1D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:09.8045869+03:00 0HL7OIHK18F1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:09.8045869+03:00 0HL7OIHK18F1D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:09.8050882+03:00 0HL7OIHK18F1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:09.8055880+03:00 0HL7OIHK18F1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:09.8060881+03:00 0HL7OIHK18F1D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161497910.07574850310947889\",
  \"Nonce\": \"N0.25881174548785381505416149791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25881174548785381505416149791\",
    \"state\": \"15054161497910.07574850310947889\"
  }
}" (9a175e33)
2017-09-14T22:09:09.8105917+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:09.8236003+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:09.8256016+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:09.8286032+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:09.8311051+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:09.8341074+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:09.8356078+03:00 0HL7OIHK18F1D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:09.8666276+03:00 0HL7OIHK18F1D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161497910.07574850310947889\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:09.8671297+03:00 0HL7OIHK18F1D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:09.8681296+03:00 0HL7OIHK18F1D [INF] Request finished in 68.1599ms 302  (15c52c40)
2017-09-14T22:09:12.8025516+03:00 0HL7OIHK18F1E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.1593054137328521505416152792&state=15054161527920.8495537929502128   (e5be5b71)
2017-09-14T22:09:12.8060541+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:12.8065543+03:00 0HL7OIHK18F1E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:12.8070544+03:00 0HL7OIHK18F1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:12.8070544+03:00 0HL7OIHK18F1E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:12.8075545+03:00 0HL7OIHK18F1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:12.8080547+03:00 0HL7OIHK18F1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:12.8080547+03:00 0HL7OIHK18F1E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161527920.8495537929502128\",
  \"Nonce\": \"N0.1593054137328521505416152792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.1593054137328521505416152792\",
    \"state\": \"15054161527920.8495537929502128\"
  }
}" (9a175e33)
2017-09-14T22:09:12.8215642+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:12.8495836+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:12.8535854+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:12.8560873+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:12.8590893+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:12.8660939+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:12.8710968+03:00 0HL7OIHK18F1E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:12.8906092+03:00 0HL7OIHK18F1E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161527920.8495537929502128\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:12.8911105+03:00 0HL7OIHK18F1E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:12.8921108+03:00 0HL7OIHK18F1E [INF] Request finished in 91.635ms 302  (15c52c40)
2017-09-14T22:09:16.8287643+03:00 0HL7OIHK18F1F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40521254537397411505416156793&state=15054161567930.254496028975979   (e5be5b71)
2017-09-14T22:09:16.8382708+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:16.8392714+03:00 0HL7OIHK18F1F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:16.8397723+03:00 0HL7OIHK18F1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:16.8397723+03:00 0HL7OIHK18F1F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:16.8402721+03:00 0HL7OIHK18F1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:16.8407734+03:00 0HL7OIHK18F1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:16.8412731+03:00 0HL7OIHK18F1F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161567930.254496028975979\",
  \"Nonce\": \"N0.40521254537397411505416156793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40521254537397411505416156793\",
    \"state\": \"15054161567930.254496028975979\"
  }
}" (9a175e33)
2017-09-14T22:09:16.8447749+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:16.8582844+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:16.8602857+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:16.8642892+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:16.8702924+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:16.8767961+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:16.8782973+03:00 0HL7OIHK18F1F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:16.8943079+03:00 0HL7OIHK18F1F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161567930.254496028975979\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:16.8948080+03:00 0HL7OIHK18F1F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:16.8958095+03:00 0HL7OIHK18F1F [INF] Request finished in 67.1908ms 302  (15c52c40)
2017-09-14T22:09:20.8010260+03:00 0HL7OIHK18F1G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27476091346801111505416160791&state=15054161607910.5206150413921347   (e5be5b71)
2017-09-14T22:09:20.8040291+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:20.8050294+03:00 0HL7OIHK18F1G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:20.8055291+03:00 0HL7OIHK18F1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:20.8055291+03:00 0HL7OIHK18F1G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:20.8060297+03:00 0HL7OIHK18F1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:20.8070311+03:00 0HL7OIHK18F1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:20.8070311+03:00 0HL7OIHK18F1G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161607910.5206150413921347\",
  \"Nonce\": \"N0.27476091346801111505416160791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27476091346801111505416160791\",
    \"state\": \"15054161607910.5206150413921347\"
  }
}" (9a175e33)
2017-09-14T22:09:20.8105332+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:20.8235427+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:20.8255420+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:20.8290457+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:20.8320477+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:20.8340478+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:20.8360488+03:00 0HL7OIHK18F1G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:20.8480567+03:00 0HL7OIHK18F1G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161607910.5206150413921347\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:20.8485592+03:00 0HL7OIHK18F1G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:20.8495599+03:00 0HL7OIHK18F1G [INF] Request finished in 49.5448ms 302  (15c52c40)
2017-09-14T22:09:24.7990842+03:00 0HL7OIHK18F1H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0479173922596232151505416164792&state=15054161647920.8087055286149782   (e5be5b71)
2017-09-14T22:09:24.8030178+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:24.8035203+03:00 0HL7OIHK18F1H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:24.8040205+03:00 0HL7OIHK18F1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:24.8040205+03:00 0HL7OIHK18F1H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:24.8045206+03:00 0HL7OIHK18F1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:24.8055213+03:00 0HL7OIHK18F1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:24.8055213+03:00 0HL7OIHK18F1H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161647920.8087055286149782\",
  \"Nonce\": \"N0.0479173922596232151505416164792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0479173922596232151505416164792\",
    \"state\": \"15054161647920.8087055286149782\"
  }
}" (9a175e33)
2017-09-14T22:09:24.8085244+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:24.8190304+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:24.8210317+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:24.8235332+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:24.8265356+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:24.8295391+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:24.8320402+03:00 0HL7OIHK18F1H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:24.8445491+03:00 0HL7OIHK18F1H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161647920.8087055286149782\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:24.8455486+03:00 0HL7OIHK18F1H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:24.8465484+03:00 0HL7OIHK18F1H [INF] Request finished in 48.1604ms 302  (15c52c40)
2017-09-14T22:09:28.8069395+03:00 0HL7OIHK18F1I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92090047540971561505416168791&state=15054161687910.487822726807313   (e5be5b71)
2017-09-14T22:09:28.8124438+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:28.8134444+03:00 0HL7OIHK18F1I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:28.8159479+03:00 0HL7OIHK18F1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:28.8164472+03:00 0HL7OIHK18F1I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:28.8179472+03:00 0HL7OIHK18F1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:28.8194484+03:00 0HL7OIHK18F1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:28.8199497+03:00 0HL7OIHK18F1I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161687910.487822726807313\",
  \"Nonce\": \"N0.92090047540971561505416168791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92090047540971561505416168791\",
    \"state\": \"15054161687910.487822726807313\"
  }
}" (9a175e33)
2017-09-14T22:09:28.8274541+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:28.8434655+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:28.8454649+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:28.8479671+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:28.8504686+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:28.8524699+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:28.8539699+03:00 0HL7OIHK18F1I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:28.8644786+03:00 0HL7OIHK18F1I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161687910.487822726807313\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:28.8649776+03:00 0HL7OIHK18F1I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:28.8659786+03:00 0HL7OIHK18F1I [INF] Request finished in 61.5721ms 302  (15c52c40)
2017-09-14T22:09:32.8011270+03:00 0HL7OIHK18F1J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27423563944760491505416172791&state=15054161727910.34454295721774275   (e5be5b71)
2017-09-14T22:09:32.8036285+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:32.8041294+03:00 0HL7OIHK18F1J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:32.8046295+03:00 0HL7OIHK18F1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:32.8046295+03:00 0HL7OIHK18F1J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:32.8051301+03:00 0HL7OIHK18F1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:32.8056318+03:00 0HL7OIHK18F1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:32.8056318+03:00 0HL7OIHK18F1J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161727910.34454295721774275\",
  \"Nonce\": \"N0.27423563944760491505416172791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27423563944760491505416172791\",
    \"state\": \"15054161727910.34454295721774275\"
  }
}" (9a175e33)
2017-09-14T22:09:32.8086318+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:32.8201396+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:32.8221413+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:32.8241419+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:32.8261436+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:32.8311485+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:32.8331478+03:00 0HL7OIHK18F1J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:32.8506596+03:00 0HL7OIHK18F1J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161727910.34454295721774275\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:32.8511594+03:00 0HL7OIHK18F1J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:32.8516599+03:00 0HL7OIHK18F1J [INF] Request finished in 51.556ms 302  (15c52c40)
2017-09-14T22:09:36.7966029+03:00 0HL7OIHK18F1K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.229653483304593561505416176791&state=15054161767910.9978880140314699   (e5be5b71)
2017-09-14T22:09:36.7996049+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:36.8001173+03:00 0HL7OIHK18F1K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:36.8006052+03:00 0HL7OIHK18F1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:36.8006052+03:00 0HL7OIHK18F1K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:36.8011049+03:00 0HL7OIHK18F1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:36.8016054+03:00 0HL7OIHK18F1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:36.8016054+03:00 0HL7OIHK18F1K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161767910.9978880140314699\",
  \"Nonce\": \"N0.229653483304593561505416176791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.229653483304593561505416176791\",
    \"state\": \"15054161767910.9978880140314699\"
  }
}" (9a175e33)
2017-09-14T22:09:36.8061086+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:36.8182188+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:36.8217217+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:36.8254362+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:36.8279389+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:36.8294385+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:36.8344426+03:00 0HL7OIHK18F1K [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:36.8479513+03:00 0HL7OIHK18F1K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161767910.9978880140314699\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:36.8484519+03:00 0HL7OIHK18F1K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:36.8494529+03:00 0HL7OIHK18F1K [INF] Request finished in 52.9585ms 302  (15c52c40)
2017-09-14T22:09:40.8013658+03:00 0HL7OIHK18F1L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58671524167654691505416180791&state=15054161807910.8091392757994962   (e5be5b71)
2017-09-14T22:09:40.8043702+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:40.8048691+03:00 0HL7OIHK18F1L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:40.8068701+03:00 0HL7OIHK18F1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:40.8073706+03:00 0HL7OIHK18F1L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:40.8083705+03:00 0HL7OIHK18F1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:40.8093711+03:00 0HL7OIHK18F1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:40.8093711+03:00 0HL7OIHK18F1L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161807910.8091392757994962\",
  \"Nonce\": \"N0.58671524167654691505416180791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58671524167654691505416180791\",
    \"state\": \"15054161807910.8091392757994962\"
  }
}" (9a175e33)
2017-09-14T22:09:40.8153783+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:40.8438950+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:40.8503983+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:40.8574033+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:40.8624067+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:40.8739141+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:40.8774158+03:00 0HL7OIHK18F1L [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:40.8969293+03:00 0HL7OIHK18F1L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161807910.8091392757994962\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:40.9034334+03:00 0HL7OIHK18F1L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:40.9064354+03:00 0HL7OIHK18F1L [INF] Request finished in 104.1155ms 302  (15c52c40)
2017-09-14T22:09:44.8041412+03:00 0HL7OIHK18F1M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57139055172968621505416184791&state=15054161847910.38582773179316066   (e5be5b71)
2017-09-14T22:09:44.8066443+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:44.8071440+03:00 0HL7OIHK18F1M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:44.8076445+03:00 0HL7OIHK18F1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:44.8076445+03:00 0HL7OIHK18F1M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:44.8081447+03:00 0HL7OIHK18F1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:44.8086448+03:00 0HL7OIHK18F1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:44.8091453+03:00 0HL7OIHK18F1M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161847910.38582773179316066\",
  \"Nonce\": \"N0.57139055172968621505416184791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57139055172968621505416184791\",
    \"state\": \"15054161847910.38582773179316066\"
  }
}" (9a175e33)
2017-09-14T22:09:44.8161520+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:44.8331609+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:44.8366634+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:44.8411662+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:44.8446683+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:44.8506723+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:44.8541748+03:00 0HL7OIHK18F1M [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:44.8741872+03:00 0HL7OIHK18F1M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161847910.38582773179316066\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:44.8746878+03:00 0HL7OIHK18F1M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:44.8756888+03:00 0HL7OIHK18F1M [INF] Request finished in 72.0773ms 302  (15c52c40)
2017-09-14T22:09:48.7995994+03:00 0HL7OIHK18F1N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99990328410483161505416188792&state=15054161887920.8459825237209859   (e5be5b71)
2017-09-14T22:09:48.8030999+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:48.8036016+03:00 0HL7OIHK18F1N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:48.8046019+03:00 0HL7OIHK18F1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:48.8046019+03:00 0HL7OIHK18F1N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:48.8051016+03:00 0HL7OIHK18F1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:48.8061035+03:00 0HL7OIHK18F1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:48.8066028+03:00 0HL7OIHK18F1N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161887920.8459825237209859\",
  \"Nonce\": \"N0.99990328410483161505416188792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99990328410483161505416188792\",
    \"state\": \"15054161887920.8459825237209859\"
  }
}" (9a175e33)
2017-09-14T22:09:48.8096056+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:48.8206117+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:48.8231132+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:48.8331202+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:48.8371225+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:48.8401244+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:48.8416256+03:00 0HL7OIHK18F1N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:48.8626396+03:00 0HL7OIHK18F1N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161887920.8459825237209859\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:48.8636422+03:00 0HL7OIHK18F1N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:48.8651422+03:00 0HL7OIHK18F1N [INF] Request finished in 66.0607ms 302  (15c52c40)
2017-09-14T22:09:52.7984227+03:00 0HL7OIHK18F1O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97055555818395961505416192791&state=15054161927910.813082836707343   (e5be5b71)
2017-09-14T22:09:52.8014250+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:52.8019244+03:00 0HL7OIHK18F1O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:52.8019244+03:00 0HL7OIHK18F1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:52.8024249+03:00 0HL7OIHK18F1O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:52.8024249+03:00 0HL7OIHK18F1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:52.8029254+03:00 0HL7OIHK18F1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:52.8034260+03:00 0HL7OIHK18F1O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161927910.813082836707343\",
  \"Nonce\": \"N0.97055555818395961505416192791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97055555818395961505416192791\",
    \"state\": \"15054161927910.813082836707343\"
  }
}" (9a175e33)
2017-09-14T22:09:52.8059270+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:52.8179354+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:52.8199363+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:52.8219380+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:52.8239394+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:52.8269410+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:52.8284425+03:00 0HL7OIHK18F1O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:52.8434521+03:00 0HL7OIHK18F1O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161927910.813082836707343\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:52.8439526+03:00 0HL7OIHK18F1O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:52.8444532+03:00 0HL7OIHK18F1O [INF] Request finished in 46.75ms 302  (15c52c40)
2017-09-14T22:09:56.7984325+03:00 0HL7OIHK18F1P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.168591116094332751505416196790&state=15054161967900.6769741244225422   (e5be5b71)
2017-09-14T22:09:56.8019343+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:09:56.8029349+03:00 0HL7OIHK18F1P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:09:56.8034370+03:00 0HL7OIHK18F1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:56.8039360+03:00 0HL7OIHK18F1P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:09:56.8044357+03:00 0HL7OIHK18F1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:56.8049366+03:00 0HL7OIHK18F1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:56.8054368+03:00 0HL7OIHK18F1P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054161967900.6769741244225422\",
  \"Nonce\": \"N0.168591116094332751505416196790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.168591116094332751505416196790\",
    \"state\": \"15054161967900.6769741244225422\"
  }
}" (9a175e33)
2017-09-14T22:09:56.8084384+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:09:56.8214470+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:56.8234483+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:09:56.8254496+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:09:56.8279519+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:09:56.8314536+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:09:56.8344556+03:00 0HL7OIHK18F1P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:09:56.8534678+03:00 0HL7OIHK18F1P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054161967900.6769741244225422\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:09:56.8544693+03:00 0HL7OIHK18F1P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:09:56.8549694+03:00 0HL7OIHK18F1P [INF] Request finished in 57.0097ms 302  (15c52c40)
2017-09-14T22:10:00.7978570+03:00 0HL7OIHK18F1Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40183233933656571505416200791&state=15054162007910.5786878043219761   (e5be5b71)
2017-09-14T22:10:00.8008582+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:00.8018604+03:00 0HL7OIHK18F1Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:00.8028603+03:00 0HL7OIHK18F1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:00.8028603+03:00 0HL7OIHK18F1Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:00.8033589+03:00 0HL7OIHK18F1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:00.8038614+03:00 0HL7OIHK18F1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:00.8043615+03:00 0HL7OIHK18F1Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162007910.5786878043219761\",
  \"Nonce\": \"N0.40183233933656571505416200791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40183233933656571505416200791\",
    \"state\": \"15054162007910.5786878043219761\"
  }
}" (9a175e33)
2017-09-14T22:10:00.8088627+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:00.8253754+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:00.8268766+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:00.8288760+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:00.8303768+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:00.8343822+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:00.8363811+03:00 0HL7OIHK18F1Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:00.8543923+03:00 0HL7OIHK18F1Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162007910.5786878043219761\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:00.8553941+03:00 0HL7OIHK18F1Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:00.8558939+03:00 0HL7OIHK18F1Q [INF] Request finished in 58.6337ms 302  (15c52c40)
2017-09-14T22:10:04.8006908+03:00 0HL7OIHK18F1R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69642450363435751505416204791&state=15054162047910.5573284102723508   (e5be5b71)
2017-09-14T22:10:04.8041926+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:04.8051936+03:00 0HL7OIHK18F1R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:04.8061943+03:00 0HL7OIHK18F1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:04.8061943+03:00 0HL7OIHK18F1R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:04.8066948+03:00 0HL7OIHK18F1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:04.8076951+03:00 0HL7OIHK18F1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:04.8076951+03:00 0HL7OIHK18F1R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162047910.5573284102723508\",
  \"Nonce\": \"N0.69642450363435751505416204791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69642450363435751505416204791\",
    \"state\": \"15054162047910.5573284102723508\"
  }
}" (9a175e33)
2017-09-14T22:10:04.8121979+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:04.8252069+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:04.8287094+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:04.8337119+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:04.8357136+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:04.8382151+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:04.8412167+03:00 0HL7OIHK18F1R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:04.8597288+03:00 0HL7OIHK18F1R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162047910.5573284102723508\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:04.8607298+03:00 0HL7OIHK18F1R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:04.8612299+03:00 0HL7OIHK18F1R [INF] Request finished in 62.2116ms 302  (15c52c40)
2017-09-14T22:10:08.8075068+03:00 0HL7OIHK18F1S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.14068392873548041505416208790&state=15054162087900.28472778534863563   (e5be5b71)
2017-09-14T22:10:08.8100090+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:08.8110093+03:00 0HL7OIHK18F1S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:08.8115094+03:00 0HL7OIHK18F1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:08.8115094+03:00 0HL7OIHK18F1S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:08.8120096+03:00 0HL7OIHK18F1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:08.8130102+03:00 0HL7OIHK18F1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:08.8130102+03:00 0HL7OIHK18F1S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162087900.28472778534863563\",
  \"Nonce\": \"N0.14068392873548041505416208790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.14068392873548041505416208790\",
    \"state\": \"15054162087900.28472778534863563\"
  }
}" (9a175e33)
2017-09-14T22:10:08.8200149+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:08.8415293+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:08.8440312+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:08.8460325+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:08.8480350+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:08.8510362+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:08.8620431+03:00 0HL7OIHK18F1S [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:08.8830570+03:00 0HL7OIHK18F1S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162087900.28472778534863563\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:08.8865591+03:00 0HL7OIHK18F1S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:08.8890606+03:00 0HL7OIHK18F1S [INF] Request finished in 80.9249ms 302  (15c52c40)
2017-09-14T22:10:12.7991123+03:00 0HL7OIHK18F1T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.28345780096457761505416212791&state=15054162127910.1330429753578093   (e5be5b71)
2017-09-14T22:10:12.8021143+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:12.8026148+03:00 0HL7OIHK18F1T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:12.8031157+03:00 0HL7OIHK18F1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:12.8031157+03:00 0HL7OIHK18F1T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:12.8036155+03:00 0HL7OIHK18F1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:12.8041160+03:00 0HL7OIHK18F1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:12.8046161+03:00 0HL7OIHK18F1T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162127910.1330429753578093\",
  \"Nonce\": \"N0.28345780096457761505416212791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.28345780096457761505416212791\",
    \"state\": \"15054162127910.1330429753578093\"
  }
}" (9a175e33)
2017-09-14T22:10:12.8081182+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:12.8211280+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:12.8231282+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:12.8251319+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:12.8266303+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:12.8286332+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:12.8301324+03:00 0HL7OIHK18F1T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:12.8466436+03:00 0HL7OIHK18F1T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162127910.1330429753578093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:12.8476442+03:00 0HL7OIHK18F1T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:12.8481444+03:00 0HL7OIHK18F1T [INF] Request finished in 49.951ms 302  (15c52c40)
2017-09-14T22:10:16.8099794+03:00 0HL7OIHK18F1U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.235201877794192441505416216795&state=15054162167950.3567682824145064   (e5be5b71)
2017-09-14T22:10:16.8124821+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:16.8129814+03:00 0HL7OIHK18F1U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:16.8134819+03:00 0HL7OIHK18F1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:16.8134819+03:00 0HL7OIHK18F1U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:16.8139817+03:00 0HL7OIHK18F1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:16.8144826+03:00 0HL7OIHK18F1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:16.8144826+03:00 0HL7OIHK18F1U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162167950.3567682824145064\",
  \"Nonce\": \"N0.235201877794192441505416216795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.235201877794192441505416216795\",
    \"state\": \"15054162167950.3567682824145064\"
  }
}" (9a175e33)
2017-09-14T22:10:16.8199865+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:16.8304924+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:16.8319944+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:16.8415001+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:16.8460029+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:16.8500063+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:16.8530075+03:00 0HL7OIHK18F1U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:16.8750225+03:00 0HL7OIHK18F1U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162167950.3567682824145064\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:16.8765237+03:00 0HL7OIHK18F1U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:16.8775244+03:00 0HL7OIHK18F1U [INF] Request finished in 67.854ms 302  (15c52c40)
2017-09-14T22:10:20.7984700+03:00 0HL7OIHK18F1V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0514897204015138941505416220791&state=15054162207910.1991979610323067   (e5be5b71)
2017-09-14T22:10:20.8019706+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:20.8029712+03:00 0HL7OIHK18F1V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:20.8034714+03:00 0HL7OIHK18F1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:20.8034714+03:00 0HL7OIHK18F1V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:20.8039723+03:00 0HL7OIHK18F1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:20.8049726+03:00 0HL7OIHK18F1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:20.8054755+03:00 0HL7OIHK18F1V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162207910.1991979610323067\",
  \"Nonce\": \"N0.0514897204015138941505416220791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0514897204015138941505416220791\",
    \"state\": \"15054162207910.1991979610323067\"
  }
}" (9a175e33)
2017-09-14T22:10:20.8084747+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:20.8194816+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:20.8209844+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:20.8229841+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:20.8264870+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:20.8289881+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:20.8309894+03:00 0HL7OIHK18F1V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:20.8500048+03:00 0HL7OIHK18F1V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162207910.1991979610323067\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:20.8510034+03:00 0HL7OIHK18F1V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:20.8520037+03:00 0HL7OIHK18F1V [INF] Request finished in 53.7101ms 302  (15c52c40)
2017-09-14T22:10:24.7973344+03:00 0HL7OIHK18F20 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72725277883285311505416224791&state=15054162247910.051789220985947404   (e5be5b71)
2017-09-14T22:10:24.7998354+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:24.8008373+03:00 0HL7OIHK18F20 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:24.8013370+03:00 0HL7OIHK18F20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:24.8013370+03:00 0HL7OIHK18F20 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:24.8018375+03:00 0HL7OIHK18F20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:24.8028382+03:00 0HL7OIHK18F20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:24.8028382+03:00 0HL7OIHK18F20 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162247910.051789220985947404\",
  \"Nonce\": \"N0.72725277883285311505416224791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72725277883285311505416224791\",
    \"state\": \"15054162247910.051789220985947404\"
  }
}" (9a175e33)
2017-09-14T22:10:24.8063407+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:24.8133458+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:24.8158464+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:24.8188480+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:24.8203492+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:24.8223513+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:24.8258527+03:00 0HL7OIHK18F20 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:24.8433641+03:00 0HL7OIHK18F20 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162247910.051789220985947404\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:24.8443651+03:00 0HL7OIHK18F20 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:24.8458691+03:00 0HL7OIHK18F20 [INF] Request finished in 48.091ms 302  (15c52c40)
2017-09-14T22:10:28.7989169+03:00 0HL7OIHK18F21 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98846193683865671505416228791&state=15054162287910.3235846860594713   (e5be5b71)
2017-09-14T22:10:28.8024190+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:28.8029203+03:00 0HL7OIHK18F21 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:28.8034193+03:00 0HL7OIHK18F21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:28.8034193+03:00 0HL7OIHK18F21 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:28.8044199+03:00 0HL7OIHK18F21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:28.8049201+03:00 0HL7OIHK18F21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:28.8049201+03:00 0HL7OIHK18F21 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162287910.3235846860594713\",
  \"Nonce\": \"N0.98846193683865671505416228791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98846193683865671505416228791\",
    \"state\": \"15054162287910.3235846860594713\"
  }
}" (9a175e33)
2017-09-14T22:10:28.8079224+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:28.8179295+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:28.8204309+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:28.8219321+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:28.8239334+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:28.8274379+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:28.8289356+03:00 0HL7OIHK18F21 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:28.8474496+03:00 0HL7OIHK18F21 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162287910.3235846860594713\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:28.8479509+03:00 0HL7OIHK18F21 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:28.8489492+03:00 0HL7OIHK18F21 [INF] Request finished in 50.1657ms 302  (15c52c40)
2017-09-14T22:10:32.8004891+03:00 0HL7OIHK18F22 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79263769740191761505416232791&state=15054162327910.656919517182009   (e5be5b71)
2017-09-14T22:10:32.8034911+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:32.8039920+03:00 0HL7OIHK18F22 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:32.8044918+03:00 0HL7OIHK18F22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:32.8044918+03:00 0HL7OIHK18F22 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:32.8049927+03:00 0HL7OIHK18F22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:32.8054924+03:00 0HL7OIHK18F22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:32.8059930+03:00 0HL7OIHK18F22 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162327910.656919517182009\",
  \"Nonce\": \"N0.79263769740191761505416232791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79263769740191761505416232791\",
    \"state\": \"15054162327910.656919517182009\"
  }
}" (9a175e33)
2017-09-14T22:10:32.8094963+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:32.8215030+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:32.8235044+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:32.8255073+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:32.8275082+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:32.8295083+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:32.8310095+03:00 0HL7OIHK18F22 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:32.8510228+03:00 0HL7OIHK18F22 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162327910.656919517182009\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:32.8520231+03:00 0HL7OIHK18F22 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:32.8525244+03:00 0HL7OIHK18F22 [INF] Request finished in 52.5685ms 302  (15c52c40)
2017-09-14T22:10:36.8005779+03:00 0HL7OIHK18F23 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.209924992972096321505416236791&state=15054162367910.6399949913503098   (e5be5b71)
2017-09-14T22:10:36.8040812+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:36.8045810+03:00 0HL7OIHK18F23 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:36.8050807+03:00 0HL7OIHK18F23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:36.8050807+03:00 0HL7OIHK18F23 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:36.8055813+03:00 0HL7OIHK18F23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:36.8060818+03:00 0HL7OIHK18F23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:36.8065815+03:00 0HL7OIHK18F23 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162367910.6399949913503098\",
  \"Nonce\": \"N0.209924992972096321505416236791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.209924992972096321505416236791\",
    \"state\": \"15054162367910.6399949913503098\"
  }
}" (9a175e33)
2017-09-14T22:10:36.8095827+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:36.8165881+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:36.8210917+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:36.8235928+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:36.8290970+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:36.8320982+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:36.8341007+03:00 0HL7OIHK18F23 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:36.8541124+03:00 0HL7OIHK18F23 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162367910.6399949913503098\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:36.8546133+03:00 0HL7OIHK18F23 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:36.8556140+03:00 0HL7OIHK18F23 [INF] Request finished in 55.3222ms 302  (15c52c40)
2017-09-14T22:10:40.8049248+03:00 0HL7OIHK18F24 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51645877482540591505416240793&state=15054162407930.23308975730955983   (e5be5b71)
2017-09-14T22:10:40.8084277+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:40.8089275+03:00 0HL7OIHK18F24 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:40.8114293+03:00 0HL7OIHK18F24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:40.8119294+03:00 0HL7OIHK18F24 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:40.8124296+03:00 0HL7OIHK18F24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:40.8129301+03:00 0HL7OIHK18F24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:40.8134306+03:00 0HL7OIHK18F24 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162407930.23308975730955983\",
  \"Nonce\": \"N0.51645877482540591505416240793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51645877482540591505416240793\",
    \"state\": \"15054162407930.23308975730955983\"
  }
}" (9a175e33)
2017-09-14T22:10:40.8169328+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:40.8334435+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:40.8409483+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:40.8434501+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:40.8454510+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:40.8474524+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:40.8489536+03:00 0HL7OIHK18F24 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:40.8734708+03:00 0HL7OIHK18F24 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162407930.23308975730955983\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:40.8739701+03:00 0HL7OIHK18F24 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:40.8749712+03:00 0HL7OIHK18F24 [INF] Request finished in 72.6516ms 302  (15c52c40)
2017-09-14T22:10:44.8145884+03:00 0HL7OIHK18F25 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57311345386773891505416244793&state=15054162447930.5068422935614068   (e5be5b71)
2017-09-14T22:10:44.8285977+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:44.8315997+03:00 0HL7OIHK18F25 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:44.8320998+03:00 0HL7OIHK18F25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:44.8320998+03:00 0HL7OIHK18F25 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:44.8331009+03:00 0HL7OIHK18F25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:44.8336010+03:00 0HL7OIHK18F25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:44.8336010+03:00 0HL7OIHK18F25 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162447930.5068422935614068\",
  \"Nonce\": \"N0.57311345386773891505416244793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57311345386773891505416244793\",
    \"state\": \"15054162447930.5068422935614068\"
  }
}" (9a175e33)
2017-09-14T22:10:44.8661227+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:44.9156549+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:44.9286640+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:44.9967090+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:45.0102178+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:45.0592502+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:45.0927723+03:00 0HL7OIHK18F25 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:45.1222924+03:00 0HL7OIHK18F25 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162447930.5068422935614068\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:45.1267948+03:00 0HL7OIHK18F25 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:45.1287965+03:00 0HL7OIHK18F25 [INF] Request finished in 314.8965ms 302  (15c52c40)
2017-09-14T22:10:48.1762421+03:00 0HL7OIHK18F26 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.076728004590655761505416248159&state=15054162481590.04229956665557899   (e5be5b71)
2017-09-14T22:10:48.1827470+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:48.1837477+03:00 0HL7OIHK18F26 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:48.2042615+03:00 0HL7OIHK18F26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:48.2047612+03:00 0HL7OIHK18F26 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:48.2097645+03:00 0HL7OIHK18F26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:48.2102647+03:00 0HL7OIHK18F26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:48.2102647+03:00 0HL7OIHK18F26 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162481590.04229956665557899\",
  \"Nonce\": \"N0.076728004590655761505416248159\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.076728004590655761505416248159\",
    \"state\": \"15054162481590.04229956665557899\"
  }
}" (9a175e33)
2017-09-14T22:10:48.2322792+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:48.2497906+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:48.2592971+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:48.2627993+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:48.2668027+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:48.2728063+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:48.2768085+03:00 0HL7OIHK18F26 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:48.2978225+03:00 0HL7OIHK18F26 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162481590.04229956665557899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:48.2988231+03:00 0HL7OIHK18F26 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:48.3063287+03:00 0HL7OIHK18F26 [INF] Request finished in 124.7895ms 302  (15c52c40)
2017-09-14T22:10:51.8031193+03:00 0HL7OIHK18F27 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56984619696708141505416251791&state=15054162517910.7165793091871115   (e5be5b71)
2017-09-14T22:10:51.8061205+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:51.8066206+03:00 0HL7OIHK18F27 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:51.8071211+03:00 0HL7OIHK18F27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:51.8076224+03:00 0HL7OIHK18F27 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:51.8081210+03:00 0HL7OIHK18F27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:51.8091225+03:00 0HL7OIHK18F27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:51.8091225+03:00 0HL7OIHK18F27 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162517910.7165793091871115\",
  \"Nonce\": \"N0.56984619696708141505416251791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56984619696708141505416251791\",
    \"state\": \"15054162517910.7165793091871115\"
  }
}" (9a175e33)
2017-09-14T22:10:51.8131255+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:51.8246325+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:51.8271336+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:51.8291349+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:51.8311358+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:51.8336377+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:51.8366397+03:00 0HL7OIHK18F27 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:51.8546520+03:00 0HL7OIHK18F27 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162517910.7165793091871115\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:51.8551525+03:00 0HL7OIHK18F27 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:51.8561528+03:00 0HL7OIHK18F27 [INF] Request finished in 54.1786ms 302  (15c52c40)
2017-09-14T22:10:55.8036956+03:00 0HL7OIHK18F28 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.275009290621600841505416255791&state=15054162557910.02238888487075874   (e5be5b71)
2017-09-14T22:10:55.8071969+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:55.8081976+03:00 0HL7OIHK18F28 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:55.8086973+03:00 0HL7OIHK18F28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:55.8086973+03:00 0HL7OIHK18F28 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:55.8091978+03:00 0HL7OIHK18F28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:55.8101985+03:00 0HL7OIHK18F28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:55.8101985+03:00 0HL7OIHK18F28 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162557910.02238888487075874\",
  \"Nonce\": \"N0.275009290621600841505416255791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.275009290621600841505416255791\",
    \"state\": \"15054162557910.02238888487075874\"
  }
}" (9a175e33)
2017-09-14T22:10:55.8137006+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:55.8322135+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:55.8337139+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:55.8402184+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:55.8432204+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:55.8467229+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:55.8497245+03:00 0HL7OIHK18F28 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:55.8752416+03:00 0HL7OIHK18F28 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162557910.02238888487075874\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:55.8762426+03:00 0HL7OIHK18F28 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:55.8772433+03:00 0HL7OIHK18F28 [INF] Request finished in 74.5539ms 302  (15c52c40)
2017-09-14T22:10:59.8006616+03:00 0HL7OIHK18F29 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32439952436606071505416259791&state=15054162597910.43301354012730275   (e5be5b71)
2017-09-14T22:10:59.8046635+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:10:59.8051640+03:00 0HL7OIHK18F29 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:10:59.8056673+03:00 0HL7OIHK18F29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:59.8056673+03:00 0HL7OIHK18F29 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:10:59.8061647+03:00 0HL7OIHK18F29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:59.8066648+03:00 0HL7OIHK18F29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:59.8066648+03:00 0HL7OIHK18F29 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162597910.43301354012730275\",
  \"Nonce\": \"N0.32439952436606071505416259791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32439952436606071505416259791\",
    \"state\": \"15054162597910.43301354012730275\"
  }
}" (9a175e33)
2017-09-14T22:10:59.8096664+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:10:59.8221749+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:59.8241762+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:10:59.8266777+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:10:59.8281793+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:10:59.8296804+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:10:59.8321819+03:00 0HL7OIHK18F29 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:10:59.8526957+03:00 0HL7OIHK18F29 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162597910.43301354012730275\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:10:59.8531954+03:00 0HL7OIHK18F29 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:10:59.8546970+03:00 0HL7OIHK18F29 [INF] Request finished in 54.08ms 302  (15c52c40)
2017-09-14T22:11:03.8019844+03:00 0HL7OIHK18F2A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.320658702361660941505416263791&state=15054162637910.3143698157535335   (e5be5b71)
2017-09-14T22:11:03.8059878+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:03.8069889+03:00 0HL7OIHK18F2A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:03.8074882+03:00 0HL7OIHK18F2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:03.8079888+03:00 0HL7OIHK18F2A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:03.8084889+03:00 0HL7OIHK18F2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:03.8089902+03:00 0HL7OIHK18F2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:03.8094896+03:00 0HL7OIHK18F2A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162637910.3143698157535335\",
  \"Nonce\": \"N0.320658702361660941505416263791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.320658702361660941505416263791\",
    \"state\": \"15054162637910.3143698157535335\"
  }
}" (9a175e33)
2017-09-14T22:11:03.8129921+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:03.8255006+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:03.8270010+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:03.8320047+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:03.8365082+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:03.8395098+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:03.8420109+03:00 0HL7OIHK18F2A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:03.8605230+03:00 0HL7OIHK18F2A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162637910.3143698157535335\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:03.8615240+03:00 0HL7OIHK18F2A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:03.8625247+03:00 0HL7OIHK18F2A [INF] Request finished in 60.6081ms 302  (15c52c40)
2017-09-14T22:11:06.8040205+03:00 0HL7OIHK18F2B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.402291307956715861505416266793&state=15054162667930.3736386506449838   (e5be5b71)
2017-09-14T22:11:06.8070224+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:06.8075218+03:00 0HL7OIHK18F2B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:06.8080219+03:00 0HL7OIHK18F2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:06.8085224+03:00 0HL7OIHK18F2B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:06.8085224+03:00 0HL7OIHK18F2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:06.8090226+03:00 0HL7OIHK18F2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:06.8095247+03:00 0HL7OIHK18F2B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162667930.3736386506449838\",
  \"Nonce\": \"N0.402291307956715861505416266793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.402291307956715861505416266793\",
    \"state\": \"15054162667930.3736386506449838\"
  }
}" (9a175e33)
2017-09-14T22:11:06.8125259+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:06.8240325+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:06.8260346+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:06.8285357+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:06.8315424+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:06.8340392+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:06.8395434+03:00 0HL7OIHK18F2B [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:06.8640594+03:00 0HL7OIHK18F2B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162667930.3736386506449838\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:06.8650597+03:00 0HL7OIHK18F2B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:06.8655606+03:00 0HL7OIHK18F2B [INF] Request finished in 62.8199ms 302  (15c52c40)
2017-09-14T22:11:10.7986500+03:00 0HL7OIHK18F2C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0225703674360395731505416270791&state=15054162707910.6529561305759481   (e5be5b71)
2017-09-14T22:11:10.8011511+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:10.8016512+03:00 0HL7OIHK18F2C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:10.8021522+03:00 0HL7OIHK18F2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:10.8021522+03:00 0HL7OIHK18F2C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:10.8026531+03:00 0HL7OIHK18F2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:10.8036541+03:00 0HL7OIHK18F2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:10.8036541+03:00 0HL7OIHK18F2C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162707910.6529561305759481\",
  \"Nonce\": \"N0.0225703674360395731505416270791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0225703674360395731505416270791\",
    \"state\": \"15054162707910.6529561305759481\"
  }
}" (9a175e33)
2017-09-14T22:11:10.8081561+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:10.8166616+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:10.8181628+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:10.8211655+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:10.8231661+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:10.8286727+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:10.8306705+03:00 0HL7OIHK18F2C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:10.8466815+03:00 0HL7OIHK18F2C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162707910.6529561305759481\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:10.8476833+03:00 0HL7OIHK18F2C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:10.8491833+03:00 0HL7OIHK18F2C [INF] Request finished in 50.3402ms 302  (15c52c40)
2017-09-14T22:11:14.7998264+03:00 0HL7OIHK18F2D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.196241450733261051505416274790&state=15054162747900.614465707597392   (e5be5b71)
2017-09-14T22:11:14.8028276+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:14.8038306+03:00 0HL7OIHK18F2D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:14.8043295+03:00 0HL7OIHK18F2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:14.8048289+03:00 0HL7OIHK18F2D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:14.8048289+03:00 0HL7OIHK18F2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:14.8053302+03:00 0HL7OIHK18F2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:14.8058295+03:00 0HL7OIHK18F2D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162747900.614465707597392\",
  \"Nonce\": \"N0.196241450733261051505416274790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.196241450733261051505416274790\",
    \"state\": \"15054162747900.614465707597392\"
  }
}" (9a175e33)
2017-09-14T22:11:14.8088327+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:14.8188382+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:14.8213404+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:14.8273444+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:14.8548628+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:14.8568637+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:14.8583649+03:00 0HL7OIHK18F2D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:14.8818803+03:00 0HL7OIHK18F2D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162747900.614465707597392\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:14.8828810+03:00 0HL7OIHK18F2D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:14.8833815+03:00 0HL7OIHK18F2D [INF] Request finished in 83.8902ms 302  (15c52c40)
2017-09-14T22:11:18.8006048+03:00 0HL7OIHK18F2E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.120058450787244861505416278791&state=15054162787910.7633838606424406   (e5be5b71)
2017-09-14T22:11:18.8051076+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:18.8056073+03:00 0HL7OIHK18F2E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:18.8061082+03:00 0HL7OIHK18F2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:18.8061082+03:00 0HL7OIHK18F2E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:18.8066088+03:00 0HL7OIHK18F2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:18.8076090+03:00 0HL7OIHK18F2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:18.8081099+03:00 0HL7OIHK18F2E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162787910.7633838606424406\",
  \"Nonce\": \"N0.120058450787244861505416278791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.120058450787244861505416278791\",
    \"state\": \"15054162787910.7633838606424406\"
  }
}" (9a175e33)
2017-09-14T22:11:18.8116117+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:18.8231195+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:18.8251208+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:18.8271221+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:18.8291231+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:18.8311248+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:18.8331261+03:00 0HL7OIHK18F2E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:18.8551411+03:00 0HL7OIHK18F2E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162787910.7633838606424406\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:18.8556416+03:00 0HL7OIHK18F2E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:18.8566419+03:00 0HL7OIHK18F2E [INF] Request finished in 56.4259ms 302  (15c52c40)
2017-09-14T22:11:22.7965678+03:00 0HL7OIHK18F2F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89491537418230931505416282791&state=15054162827910.7356561881493267   (e5be5b71)
2017-09-14T22:11:22.7985683+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:22.7990681+03:00 0HL7OIHK18F2F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:22.7995690+03:00 0HL7OIHK18F2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:22.7995690+03:00 0HL7OIHK18F2F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:22.8000691+03:00 0HL7OIHK18F2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:22.8005685+03:00 0HL7OIHK18F2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:22.8005685+03:00 0HL7OIHK18F2F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162827910.7356561881493267\",
  \"Nonce\": \"N0.89491537418230931505416282791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89491537418230931505416282791\",
    \"state\": \"15054162827910.7356561881493267\"
  }
}" (9a175e33)
2017-09-14T22:11:22.8040781+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:22.8150783+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:22.8165795+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:22.8180807+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:22.8200832+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:22.8230836+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:22.8250857+03:00 0HL7OIHK18F2F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:22.8435978+03:00 0HL7OIHK18F2F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162827910.7356561881493267\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:22.8445992+03:00 0HL7OIHK18F2F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:22.8491008+03:00 0HL7OIHK18F2F [INF] Request finished in 49.0237ms 302  (15c52c40)
2017-09-14T22:11:26.4762203+03:00 0HL7OIHK18F2G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.132104062912738351505416286461&state=15054162864610.03412486598888731   (e5be5b71)
2017-09-14T22:11:26.4817257+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:26.4822274+03:00 0HL7OIHK18F2G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:26.4827248+03:00 0HL7OIHK18F2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:26.4832257+03:00 0HL7OIHK18F2G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:26.4837255+03:00 0HL7OIHK18F2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:26.4847261+03:00 0HL7OIHK18F2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:26.4852271+03:00 0HL7OIHK18F2G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162864610.03412486598888731\",
  \"Nonce\": \"N0.132104062912738351505416286461\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.132104062912738351505416286461\",
    \"state\": \"15054162864610.03412486598888731\"
  }
}" (9a175e33)
2017-09-14T22:11:26.4892289+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:26.5017378+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:26.5117440+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:26.5132452+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:26.5152465+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:26.5179635+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:26.5189677+03:00 0HL7OIHK18F2G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:26.5349780+03:00 0HL7OIHK18F2G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162864610.03412486598888731\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:26.5354781+03:00 0HL7OIHK18F2G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:26.5359778+03:00 0HL7OIHK18F2G [INF] Request finished in 60.0662ms 302  (15c52c40)
2017-09-14T22:11:29.8146050+03:00 0HL7OIHK18F2H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.174056383588778061505416289798&state=15054162897980.9967995731858226   (e5be5b71)
2017-09-14T22:11:29.8191082+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:29.8206097+03:00 0HL7OIHK18F2H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:29.8226107+03:00 0HL7OIHK18F2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:29.8231112+03:00 0HL7OIHK18F2H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:29.8246116+03:00 0HL7OIHK18F2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:29.8251121+03:00 0HL7OIHK18F2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:29.8256135+03:00 0HL7OIHK18F2H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162897980.9967995731858226\",
  \"Nonce\": \"N0.174056383588778061505416289798\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.174056383588778061505416289798\",
    \"state\": \"15054162897980.9967995731858226\"
  }
}" (9a175e33)
2017-09-14T22:11:29.8286147+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:29.8456259+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:29.8496282+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:29.8521308+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:29.8576339+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:29.8646385+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:29.8671392+03:00 0HL7OIHK18F2H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:29.8881551+03:00 0HL7OIHK18F2H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162897980.9967995731858226\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:29.8891557+03:00 0HL7OIHK18F2H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:29.8911555+03:00 0HL7OIHK18F2H [INF] Request finished in 76.4699ms 302  (15c52c40)
2017-09-14T22:11:33.7987527+03:00 0HL7OIHK18F2I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37490111164194761505416293791&state=15054162937910.33733594854639226   (e5be5b71)
2017-09-14T22:11:33.8017547+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:33.8027585+03:00 0HL7OIHK18F2I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:33.8027585+03:00 0HL7OIHK18F2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:33.8032566+03:00 0HL7OIHK18F2I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:33.8037560+03:00 0HL7OIHK18F2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:33.8047574+03:00 0HL7OIHK18F2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:33.8047574+03:00 0HL7OIHK18F2I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162937910.33733594854639226\",
  \"Nonce\": \"N0.37490111164194761505416293791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37490111164194761505416293791\",
    \"state\": \"15054162937910.33733594854639226\"
  }
}" (9a175e33)
2017-09-14T22:11:33.8082584+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:33.8172651+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:33.8207688+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:33.8227694+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:33.8247711+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:33.8262723+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:33.8277711+03:00 0HL7OIHK18F2I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:33.8457838+03:00 0HL7OIHK18F2I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162937910.33733594854639226\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:33.8462839+03:00 0HL7OIHK18F2I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:33.8472846+03:00 0HL7OIHK18F2I [INF] Request finished in 49.3403ms 302  (15c52c40)
2017-09-14T22:11:37.8021750+03:00 0HL7OIHK18F2J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78259787744057621505416297792&state=15054162977920.4261887179241979   (e5be5b71)
2017-09-14T22:11:37.8051778+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:37.8056776+03:00 0HL7OIHK18F2J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:37.8061789+03:00 0HL7OIHK18F2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:37.8066786+03:00 0HL7OIHK18F2J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:37.8071784+03:00 0HL7OIHK18F2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:37.8081814+03:00 0HL7OIHK18F2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:37.8081814+03:00 0HL7OIHK18F2J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054162977920.4261887179241979\",
  \"Nonce\": \"N0.78259787744057621505416297792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78259787744057621505416297792\",
    \"state\": \"15054162977920.4261887179241979\"
  }
}" (9a175e33)
2017-09-14T22:11:37.8111806+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:37.8191863+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:37.8216890+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:37.8241904+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:37.8261910+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:37.8281923+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:37.8311939+03:00 0HL7OIHK18F2J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:37.8502069+03:00 0HL7OIHK18F2J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054162977920.4261887179241979\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:37.8507074+03:00 0HL7OIHK18F2J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:37.8517081+03:00 0HL7OIHK18F2J [INF] Request finished in 49.8886ms 302  (15c52c40)
2017-09-14T22:11:41.8021869+03:00 0HL7OIHK18F2K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94654917019816051505416301790&state=15054163017900.7854371972227934   (e5be5b71)
2017-09-14T22:11:41.8056894+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:41.8061899+03:00 0HL7OIHK18F2K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:41.8066901+03:00 0HL7OIHK18F2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:41.8071914+03:00 0HL7OIHK18F2K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:41.8076907+03:00 0HL7OIHK18F2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:41.8086942+03:00 0HL7OIHK18F2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:41.8091915+03:00 0HL7OIHK18F2K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163017900.7854371972227934\",
  \"Nonce\": \"N0.94654917019816051505416301790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94654917019816051505416301790\",
    \"state\": \"15054163017900.7854371972227934\"
  }
}" (9a175e33)
2017-09-14T22:11:41.8131942+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:41.8277040+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:41.8292044+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:41.8322064+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:41.8352092+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:41.8387117+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:41.8412123+03:00 0HL7OIHK18F2K [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:41.8647281+03:00 0HL7OIHK18F2K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163017900.7854371972227934\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:41.8652290+03:00 0HL7OIHK18F2K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:41.8667298+03:00 0HL7OIHK18F2K [INF] Request finished in 64.7118ms 302  (15c52c40)
2017-09-14T22:11:45.8048214+03:00 0HL7OIHK18F2L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.076113367917223011505416305791&state=15054163057910.4608902577568694   (e5be5b71)
2017-09-14T22:11:45.8083235+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:45.8088240+03:00 0HL7OIHK18F2L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:45.8093238+03:00 0HL7OIHK18F2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:45.8093238+03:00 0HL7OIHK18F2L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:45.8098243+03:00 0HL7OIHK18F2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:45.8103248+03:00 0HL7OIHK18F2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:45.8108250+03:00 0HL7OIHK18F2L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163057910.4608902577568694\",
  \"Nonce\": \"N0.076113367917223011505416305791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.076113367917223011505416305791\",
    \"state\": \"15054163057910.4608902577568694\"
  }
}" (9a175e33)
2017-09-14T22:11:45.8143271+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:45.8268360+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:45.8283368+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:45.8308382+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:45.8323394+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:45.8348409+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:45.8373427+03:00 0HL7OIHK18F2L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:45.8523523+03:00 0HL7OIHK18F2L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163057910.4608902577568694\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:45.8528528+03:00 0HL7OIHK18F2L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:45.8548577+03:00 0HL7OIHK18F2L [INF] Request finished in 49.9774ms 302  (15c52c40)
2017-09-14T22:11:49.8008870+03:00 0HL7OIHK18F2M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.38325726861739431505416309791&state=15054163097910.9175897859624651   (e5be5b71)
2017-09-14T22:11:49.8033885+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:49.8038878+03:00 0HL7OIHK18F2M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:49.8043883+03:00 0HL7OIHK18F2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:49.8043883+03:00 0HL7OIHK18F2M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:49.8048889+03:00 0HL7OIHK18F2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:49.8058895+03:00 0HL7OIHK18F2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:49.8058895+03:00 0HL7OIHK18F2M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163097910.9175897859624651\",
  \"Nonce\": \"N0.38325726861739431505416309791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.38325726861739431505416309791\",
    \"state\": \"15054163097910.9175897859624651\"
  }
}" (9a175e33)
2017-09-14T22:11:49.8108921+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:49.8239007+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:49.8274032+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:49.8309057+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:49.8344078+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:49.8374098+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:49.8414129+03:00 0HL7OIHK18F2M [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:49.8594244+03:00 0HL7OIHK18F2M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163097910.9175897859624651\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:49.8599249+03:00 0HL7OIHK18F2M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:49.8604255+03:00 0HL7OIHK18F2M [INF] Request finished in 59.6959ms 302  (15c52c40)
2017-09-14T22:11:53.7992690+03:00 0HL7OIHK18F2N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80788370957224911505416313790&state=15054163137900.9910384381365087   (e5be5b71)
2017-09-14T22:11:53.8017728+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:53.8022702+03:00 0HL7OIHK18F2N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:53.8027711+03:00 0HL7OIHK18F2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:53.8027711+03:00 0HL7OIHK18F2N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:53.8032712+03:00 0HL7OIHK18F2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:53.8037718+03:00 0HL7OIHK18F2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:53.8037718+03:00 0HL7OIHK18F2N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163137900.9910384381365087\",
  \"Nonce\": \"N0.80788370957224911505416313790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80788370957224911505416313790\",
    \"state\": \"15054163137900.9910384381365087\"
  }
}" (9a175e33)
2017-09-14T22:11:53.8092764+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:53.8217857+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:53.8262877+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:53.8292893+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:53.8327906+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:53.8352921+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:53.8392951+03:00 0HL7OIHK18F2N [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:53.8543054+03:00 0HL7OIHK18F2N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163137900.9910384381365087\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:53.8548060+03:00 0HL7OIHK18F2N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:53.8558074+03:00 0HL7OIHK18F2N [INF] Request finished in 57.0989ms 302  (15c52c40)
2017-09-14T22:11:57.7986094+03:00 0HL7OIHK18F2O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.312584652696074051505416317791&state=15054163177910.4387776881002181   (e5be5b71)
2017-09-14T22:11:57.8016114+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:11:57.8021115+03:00 0HL7OIHK18F2O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:11:57.8026128+03:00 0HL7OIHK18F2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:57.8026128+03:00 0HL7OIHK18F2O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:11:57.8031126+03:00 0HL7OIHK18F2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:57.8036131+03:00 0HL7OIHK18F2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:57.8036131+03:00 0HL7OIHK18F2O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163177910.4387776881002181\",
  \"Nonce\": \"N0.312584652696074051505416317791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.312584652696074051505416317791\",
    \"state\": \"15054163177910.4387776881002181\"
  }
}" (9a175e33)
2017-09-14T22:11:57.8061145+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:11:57.8176220+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:57.8191228+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:11:57.8276294+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:11:57.8301301+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:11:57.8321318+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:11:57.8341327+03:00 0HL7OIHK18F2O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:11:57.8561500+03:00 0HL7OIHK18F2O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163177910.4387776881002181\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:11:57.8571483+03:00 0HL7OIHK18F2O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:11:57.8576489+03:00 0HL7OIHK18F2O [INF] Request finished in 59.7314ms 302  (15c52c40)
2017-09-14T22:12:01.8035428+03:00 0HL7OIHK18F2P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46243271687667221505416321792&state=15054163217920.6098956000707607   (e5be5b71)
2017-09-14T22:12:01.8080464+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:01.8110484+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:01.8135494+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:01.8155520+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:01.8175525+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:01.8205545+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:01.8230563+03:00 0HL7OIHK18F2P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:01.8240570+03:00 0HL7OIHK18F2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:01.8240570+03:00 0HL7OIHK18F2P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:01.8245567+03:00 0HL7OIHK18F2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:01.8250577+03:00 0HL7OIHK18F2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:01.8250577+03:00 0HL7OIHK18F2P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163217920.6098956000707607\",
  \"Nonce\": \"N0.46243271687667221505416321792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46243271687667221505416321792\",
    \"state\": \"15054163217920.6098956000707607\"
  }
}" (9a175e33)
2017-09-14T22:12:01.8360646+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:01.8390673+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:01.8415680+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:01.8435697+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:01.8455707+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:01.8465709+03:00 0HL7OIHK18F2P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:01.8650834+03:00 0HL7OIHK18F2P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163217920.6098956000707607\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:01.8655839+03:00 0HL7OIHK18F2P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:01.8660848+03:00 0HL7OIHK18F2P [INF] Request finished in 63.1743ms 302  (15c52c40)
2017-09-14T22:12:05.8033510+03:00 0HL7OIHK18F2Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96382697753714891505416325792&state=15054163257920.015272654754079573   (e5be5b71)
2017-09-14T22:12:05.8063549+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:05.8068535+03:00 0HL7OIHK18F2Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:05.8073536+03:00 0HL7OIHK18F2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:05.8073536+03:00 0HL7OIHK18F2Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:05.8078538+03:00 0HL7OIHK18F2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:05.8083543+03:00 0HL7OIHK18F2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:05.8083543+03:00 0HL7OIHK18F2Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163257920.015272654754079573\",
  \"Nonce\": \"N0.96382697753714891505416325792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96382697753714891505416325792\",
    \"state\": \"15054163257920.015272654754079573\"
  }
}" (9a175e33)
2017-09-14T22:12:05.8113567+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:05.8218634+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:05.8248650+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:05.8263662+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:05.8278670+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:05.8293702+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:05.8313707+03:00 0HL7OIHK18F2Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:05.8458789+03:00 0HL7OIHK18F2Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163257920.015272654754079573\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:05.8463811+03:00 0HL7OIHK18F2Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:05.8478807+03:00 0HL7OIHK18F2Q [INF] Request finished in 44.3224ms 302  (15c52c40)
2017-09-14T22:12:09.8180526+03:00 0HL7OIHK18F2R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82777965349504061505416329792&state=15054163297920.10220309020071205   (e5be5b71)
2017-09-14T22:12:09.8210542+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:09.8215544+03:00 0HL7OIHK18F2R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:09.8220549+03:00 0HL7OIHK18F2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:09.8220549+03:00 0HL7OIHK18F2R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:09.8230575+03:00 0HL7OIHK18F2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:09.8240562+03:00 0HL7OIHK18F2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:09.8240562+03:00 0HL7OIHK18F2R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163297920.10220309020071205\",
  \"Nonce\": \"N0.82777965349504061505416329792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82777965349504061505416329792\",
    \"state\": \"15054163297920.10220309020071205\"
  }
}" (9a175e33)
2017-09-14T22:12:09.8320615+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:09.8440695+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:09.8485726+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:09.8510761+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:09.8535760+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:09.8560798+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:09.8590794+03:00 0HL7OIHK18F2R [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:09.8780924+03:00 0HL7OIHK18F2R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163297920.10220309020071205\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:09.8785933+03:00 0HL7OIHK18F2R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:09.8795932+03:00 0HL7OIHK18F2R [INF] Request finished in 62.287ms 302  (15c52c40)
2017-09-14T22:12:13.8198728+03:00 0HL7OIHK18F2S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5506942472320731505416333797&state=15054163337970.45862841491172945   (e5be5b71)
2017-09-14T22:12:13.8268778+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:13.8278777+03:00 0HL7OIHK18F2S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:13.8308801+03:00 0HL7OIHK18F2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:13.8308801+03:00 0HL7OIHK18F2S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:13.8318807+03:00 0HL7OIHK18F2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:13.8328806+03:00 0HL7OIHK18F2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:13.8328806+03:00 0HL7OIHK18F2S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163337970.45862841491172945\",
  \"Nonce\": \"N0.5506942472320731505416333797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5506942472320731505416333797\",
    \"state\": \"15054163337970.45862841491172945\"
  }
}" (9a175e33)
2017-09-14T22:12:13.8378843+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:13.8548956+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:13.8588986+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:13.8614001+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:13.8639019+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:13.8669039+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:13.8689048+03:00 0HL7OIHK18F2S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:13.8909202+03:00 0HL7OIHK18F2S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163337970.45862841491172945\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:13.8924206+03:00 0HL7OIHK18F2S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:13.8939226+03:00 0HL7OIHK18F2S [INF] Request finished in 84.474ms 302  (15c52c40)
2017-09-14T22:12:17.8059227+03:00 0HL7OIHK18F2T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.080158614789189731505416337792&state=15054163377920.029797876048948346   (e5be5b71)
2017-09-14T22:12:17.8109300+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:17.8124272+03:00 0HL7OIHK18F2T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:17.8149318+03:00 0HL7OIHK18F2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:17.8154324+03:00 0HL7OIHK18F2T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:17.8164322+03:00 0HL7OIHK18F2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:17.8174333+03:00 0HL7OIHK18F2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:17.8174333+03:00 0HL7OIHK18F2T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163377920.029797876048948346\",
  \"Nonce\": \"N0.080158614789189731505416337792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.080158614789189731505416337792\",
    \"state\": \"15054163377920.029797876048948346\"
  }
}" (9a175e33)
2017-09-14T22:12:17.8274368+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:17.8419023+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:17.8434043+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:17.8449047+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:17.8464063+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:17.8484069+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:17.8499080+03:00 0HL7OIHK18F2T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:17.8639165+03:00 0HL7OIHK18F2T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163377920.029797876048948346\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:17.8644175+03:00 0HL7OIHK18F2T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:17.8654185+03:00 0HL7OIHK18F2T [INF] Request finished in 61.1414ms 302  (15c52c40)
2017-09-14T22:12:21.8005862+03:00 0HL7OIHK18F2U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54316896877791751505416341792&state=15054163417920.7599835095527345   (e5be5b71)
2017-09-14T22:12:21.8035503+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:21.8040501+03:00 0HL7OIHK18F2U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:21.8045498+03:00 0HL7OIHK18F2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:21.8045498+03:00 0HL7OIHK18F2U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:21.8050503+03:00 0HL7OIHK18F2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:21.8055520+03:00 0HL7OIHK18F2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:21.8055520+03:00 0HL7OIHK18F2U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163417920.7599835095527345\",
  \"Nonce\": \"N0.54316896877791751505416341792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54316896877791751505416341792\",
    \"state\": \"15054163417920.7599835095527345\"
  }
}" (9a175e33)
2017-09-14T22:12:21.8105546+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:21.8200504+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:21.8285550+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:21.8315570+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:21.8330578+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:21.8350623+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:21.8370609+03:00 0HL7OIHK18F2U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:21.8540725+03:00 0HL7OIHK18F2U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163417920.7599835095527345\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:21.8545723+03:00 0HL7OIHK18F2U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:21.8555729+03:00 0HL7OIHK18F2U [INF] Request finished in 55.1067ms 302  (15c52c40)
2017-09-14T22:12:24.8878377+03:00 0HL7OIHK18F2V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49913528234294291505416344798&state=15054163447980.6478114256750516   (e5be5b71)
2017-09-14T22:12:24.8953429+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:24.8963439+03:00 0HL7OIHK18F2V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:24.8968449+03:00 0HL7OIHK18F2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:24.8973446+03:00 0HL7OIHK18F2V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:24.8978447+03:00 0HL7OIHK18F2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:24.8988454+03:00 0HL7OIHK18F2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:24.8993467+03:00 0HL7OIHK18F2V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163447980.6478114256750516\",
  \"Nonce\": \"N0.49913528234294291505416344798\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49913528234294291505416344798\",
    \"state\": \"15054163447980.6478114256750516\"
  }
}" (9a175e33)
2017-09-14T22:12:24.9058496+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:24.9203590+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:24.9223608+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:24.9268643+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:24.9288653+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:24.9313671+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:24.9328679+03:00 0HL7OIHK18F2V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:24.9583854+03:00 0HL7OIHK18F2V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163447980.6478114256750516\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:24.9588852+03:00 0HL7OIHK18F2V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:24.9603856+03:00 0HL7OIHK18F2V [INF] Request finished in 72.7262ms 302  (15c52c40)
2017-09-14T22:12:28.7992607+03:00 0HL7OIHK18F30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86790720234451471505416348791&state=15054163487910.04772748217437339   (e5be5b71)
2017-09-14T22:12:28.8017681+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:28.8022686+03:00 0HL7OIHK18F30 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:28.8027687+03:00 0HL7OIHK18F30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:28.8027687+03:00 0HL7OIHK18F30 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:28.8032689+03:00 0HL7OIHK18F30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:28.8042695+03:00 0HL7OIHK18F30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:28.8042695+03:00 0HL7OIHK18F30 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163487910.04772748217437339\",
  \"Nonce\": \"N0.86790720234451471505416348791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86790720234451471505416348791\",
    \"state\": \"15054163487910.04772748217437339\"
  }
}" (9a175e33)
2017-09-14T22:12:28.8092736+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:28.8202805+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:28.8222815+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:28.8242828+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:28.8272852+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:28.8292869+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:28.8312878+03:00 0HL7OIHK18F30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:28.8503000+03:00 0HL7OIHK18F30 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163487910.04772748217437339\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:28.8508005+03:00 0HL7OIHK18F30 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:28.8513007+03:00 0HL7OIHK18F30 [INF] Request finished in 52.6514ms 302  (15c52c40)
2017-09-14T22:12:32.7994099+03:00 0HL7OIHK18F31 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68928950676694581505416352791&state=15054163527910.4482348659529438   (e5be5b71)
2017-09-14T22:12:32.8024115+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:32.8029132+03:00 0HL7OIHK18F31 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:32.8034133+03:00 0HL7OIHK18F31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:32.8034133+03:00 0HL7OIHK18F31 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:32.8039123+03:00 0HL7OIHK18F31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:32.8044144+03:00 0HL7OIHK18F31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:32.8044144+03:00 0HL7OIHK18F31 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163527910.4482348659529438\",
  \"Nonce\": \"N0.68928950676694581505416352791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68928950676694581505416352791\",
    \"state\": \"15054163527910.4482348659529438\"
  }
}" (9a175e33)
2017-09-14T22:12:32.8099175+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:32.8204234+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:32.8224248+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:32.8244265+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:32.8274281+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:32.8299299+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:32.8319312+03:00 0HL7OIHK18F31 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:32.8489429+03:00 0HL7OIHK18F31 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163527910.4482348659529438\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:32.8494426+03:00 0HL7OIHK18F31 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:32.8504433+03:00 0HL7OIHK18F31 [INF] Request finished in 51.464ms 302  (15c52c40)
2017-09-14T22:12:36.8029716+03:00 0HL7OIHK18F32 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77132701844372351505416356791&state=15054163567910.7817705299170037   (e5be5b71)
2017-09-14T22:12:36.8059740+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:36.8064738+03:00 0HL7OIHK18F32 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:36.8069743+03:00 0HL7OIHK18F32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:36.8069743+03:00 0HL7OIHK18F32 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:36.8074744+03:00 0HL7OIHK18F32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:36.8084759+03:00 0HL7OIHK18F32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:36.8084759+03:00 0HL7OIHK18F32 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163567910.7817705299170037\",
  \"Nonce\": \"N0.77132701844372351505416356791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77132701844372351505416356791\",
    \"state\": \"15054163567910.7817705299170037\"
  }
}" (9a175e33)
2017-09-14T22:12:36.8124785+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:36.8234854+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:36.8254863+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:36.8284883+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:36.8314903+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:36.8339922+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:36.8354934+03:00 0HL7OIHK18F32 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:36.8550057+03:00 0HL7OIHK18F32 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163567910.7817705299170037\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:36.8555058+03:00 0HL7OIHK18F32 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:36.8560064+03:00 0HL7OIHK18F32 [INF] Request finished in 53.5526ms 302  (15c52c40)
2017-09-14T22:12:39.9022465+03:00 0HL7OIHK18F33 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.35987008582443591505416359821&state=15054163598210.2847294288800222   (e5be5b71)
2017-09-14T22:12:39.9067496+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:39.9082500+03:00 0HL7OIHK18F33 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:39.9102518+03:00 0HL7OIHK18F33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:39.9102518+03:00 0HL7OIHK18F33 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:39.9112524+03:00 0HL7OIHK18F33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:39.9132541+03:00 0HL7OIHK18F33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:39.9132541+03:00 0HL7OIHK18F33 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163598210.2847294288800222\",
  \"Nonce\": \"N0.35987008582443591505416359821\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.35987008582443591505416359821\",
    \"state\": \"15054163598210.2847294288800222\"
  }
}" (9a175e33)
2017-09-14T22:12:39.9547815+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:39.9802982+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:39.9833001+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:40.0013121+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:40.0043137+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:40.1053806+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:40.1213916+03:00 0HL7OIHK18F33 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:40.1494106+03:00 0HL7OIHK18F33 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163598210.2847294288800222\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:40.1564148+03:00 0HL7OIHK18F33 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:40.1584165+03:00 0HL7OIHK18F33 [INF] Request finished in 257.3791ms 302  (15c52c40)
2017-09-14T22:12:43.8056349+03:00 0HL7OIHK18F34 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.474994220165572131505416363791&state=15054163637910.16451763464047442   (e5be5b71)
2017-09-14T22:12:43.8111368+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:43.8131385+03:00 0HL7OIHK18F34 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:43.8136383+03:00 0HL7OIHK18F34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:43.8141384+03:00 0HL7OIHK18F34 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:43.8151387+03:00 0HL7OIHK18F34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:43.8161393+03:00 0HL7OIHK18F34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:43.8161393+03:00 0HL7OIHK18F34 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163637910.16451763464047442\",
  \"Nonce\": \"N0.474994220165572131505416363791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.474994220165572131505416363791\",
    \"state\": \"15054163637910.16451763464047442\"
  }
}" (9a175e33)
2017-09-14T22:12:43.8201440+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:43.8336527+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:43.8361526+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:43.8396555+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:43.8436578+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:43.8496613+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:43.8521640+03:00 0HL7OIHK18F34 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:43.8701751+03:00 0HL7OIHK18F34 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163637910.16451763464047442\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:43.8706753+03:00 0HL7OIHK18F34 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:43.8711766+03:00 0HL7OIHK18F34 [INF] Request finished in 67.942ms 302  (15c52c40)
2017-09-14T22:12:47.8034520+03:00 0HL7OIHK18F35 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66097521383850231505416367792&state=15054163677920.9376078183715197   (e5be5b71)
2017-09-14T22:12:47.8064540+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:47.8069545+03:00 0HL7OIHK18F35 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:47.8144589+03:00 0HL7OIHK18F35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:47.8149595+03:00 0HL7OIHK18F35 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:47.8154600+03:00 0HL7OIHK18F35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:47.8159597+03:00 0HL7OIHK18F35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:47.8159597+03:00 0HL7OIHK18F35 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163677920.9376078183715197\",
  \"Nonce\": \"N0.66097521383850231505416367792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66097521383850231505416367792\",
    \"state\": \"15054163677920.9376078183715197\"
  }
}" (9a175e33)
2017-09-14T22:12:47.8269686+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:47.8379743+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:47.8394759+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:47.8454795+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:47.8474812+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:47.8499830+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:47.8514838+03:00 0HL7OIHK18F35 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:47.8669943+03:00 0HL7OIHK18F35 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163677920.9376078183715197\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:47.8679950+03:00 0HL7OIHK18F35 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:47.8699959+03:00 0HL7OIHK18F35 [INF] Request finished in 65.8384ms 302  (15c52c40)
2017-09-14T22:12:51.7979786+03:00 0HL7OIHK18F36 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49098380627266881505416371792&state=15054163717920.47947191533035394   (e5be5b71)
2017-09-14T22:12:51.8007287+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:51.8012316+03:00 0HL7OIHK18F36 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:51.8012316+03:00 0HL7OIHK18F36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:51.8017318+03:00 0HL7OIHK18F36 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:51.8017318+03:00 0HL7OIHK18F36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:51.8022319+03:00 0HL7OIHK18F36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:51.8022319+03:00 0HL7OIHK18F36 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163717920.47947191533035394\",
  \"Nonce\": \"N0.49098380627266881505416371792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49098380627266881505416371792\",
    \"state\": \"15054163717920.47947191533035394\"
  }
}" (9a175e33)
2017-09-14T22:12:51.8042332+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:51.8127319+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:51.8142327+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:51.8157343+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:51.8172363+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:51.8192372+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:51.8207372+03:00 0HL7OIHK18F36 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:51.8337478+03:00 0HL7OIHK18F36 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163717920.47947191533035394\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:51.8354357+03:00 0HL7OIHK18F36 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:51.8359378+03:00 0HL7OIHK18F36 [INF] Request finished in 37.8992ms 302  (15c52c40)
2017-09-14T22:12:55.8032219+03:00 0HL7OIHK18F37 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.082488755728534541505416375791&state=15054163757910.5658112671636721   (e5be5b71)
2017-09-14T22:12:55.8057238+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:55.8062243+03:00 0HL7OIHK18F37 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:55.8067240+03:00 0HL7OIHK18F37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:55.8067240+03:00 0HL7OIHK18F37 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:55.8072245+03:00 0HL7OIHK18F37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:55.8087269+03:00 0HL7OIHK18F37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:55.8092275+03:00 0HL7OIHK18F37 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163757910.5658112671636721\",
  \"Nonce\": \"N0.082488755728534541505416375791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.082488755728534541505416375791\",
    \"state\": \"15054163757910.5658112671636721\"
  }
}" (9a175e33)
2017-09-14T22:12:55.8177317+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:55.8352431+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:55.8397463+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:55.8442495+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:55.8487530+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:55.8557565+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:55.8657635+03:00 0HL7OIHK18F37 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:55.8862769+03:00 0HL7OIHK18F37 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163757910.5658112671636721\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:55.8872776+03:00 0HL7OIHK18F37 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:55.8892793+03:00 0HL7OIHK18F37 [INF] Request finished in 85.1183ms 302  (15c52c40)
2017-09-14T22:12:59.8086717+03:00 0HL7OIHK18F38 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.103550388314243681505416379791&state=15054163797910.5973135431085774   (e5be5b71)
2017-09-14T22:12:59.8116736+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:12:59.8121738+03:00 0HL7OIHK18F38 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:12:59.8131752+03:00 0HL7OIHK18F38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:59.8131752+03:00 0HL7OIHK18F38 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:12:59.8136754+03:00 0HL7OIHK18F38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:59.8146760+03:00 0HL7OIHK18F38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:59.8146760+03:00 0HL7OIHK18F38 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163797910.5973135431085774\",
  \"Nonce\": \"N0.103550388314243681505416379791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.103550388314243681505416379791\",
    \"state\": \"15054163797910.5973135431085774\"
  }
}" (9a175e33)
2017-09-14T22:12:59.8201791+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:12:59.8391917+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:59.8436960+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:12:59.8506995+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:12:59.8567043+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:12:59.8592057+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:12:59.8627074+03:00 0HL7OIHK18F38 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:12:59.8847228+03:00 0HL7OIHK18F38 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163797910.5973135431085774\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:12:59.8852226+03:00 0HL7OIHK18F38 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:12:59.8862232+03:00 0HL7OIHK18F38 [INF] Request finished in 78.8001ms 302  (15c52c40)
2017-09-14T22:13:02.8041330+03:00 0HL7OIHK18F39 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.308931579582844451505416382792&state=15054163827920.10842340719183907   (e5be5b71)
2017-09-14T22:13:02.8071349+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:02.8076355+03:00 0HL7OIHK18F39 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:02.8081360+03:00 0HL7OIHK18F39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:02.8081360+03:00 0HL7OIHK18F39 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:02.8086361+03:00 0HL7OIHK18F39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:02.8091367+03:00 0HL7OIHK18F39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:02.8096388+03:00 0HL7OIHK18F39 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163827920.10842340719183907\",
  \"Nonce\": \"N0.308931579582844451505416382792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.308931579582844451505416382792\",
    \"state\": \"15054163827920.10842340719183907\"
  }
}" (9a175e33)
2017-09-14T22:13:02.8131389+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:02.8251473+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:02.8281493+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:02.8301502+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:02.8326520+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:02.8351535+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:02.8366551+03:00 0HL7OIHK18F39 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:02.8556673+03:00 0HL7OIHK18F39 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163827920.10842340719183907\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:02.8561678+03:00 0HL7OIHK18F39 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:02.8566679+03:00 0HL7OIHK18F39 [INF] Request finished in 52.9664ms 302  (15c52c40)
2017-09-14T22:13:06.8075999+03:00 0HL7OIHK18F3A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63131736848305971505416386794&state=15054163867940.528546088725727   (e5be5b71)
2017-09-14T22:13:06.8106039+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:06.8111036+03:00 0HL7OIHK18F3A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:06.8116038+03:00 0HL7OIHK18F3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:06.8116038+03:00 0HL7OIHK18F3A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:06.8121043+03:00 0HL7OIHK18F3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:06.8126040+03:00 0HL7OIHK18F3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:06.8126040+03:00 0HL7OIHK18F3A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163867940.528546088725727\",
  \"Nonce\": \"N0.63131736848305971505416386794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63131736848305971505416386794\",
    \"state\": \"15054163867940.528546088725727\"
  }
}" (9a175e33)
2017-09-14T22:13:06.8156049+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:06.8231112+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:06.8251117+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:06.8276128+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:06.8296141+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:06.8316159+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:06.8336168+03:00 0HL7OIHK18F3A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:06.8511282+03:00 0HL7OIHK18F3A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163867940.528546088725727\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:06.8516287+03:00 0HL7OIHK18F3A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:06.8521292+03:00 0HL7OIHK18F3A [INF] Request finished in 45.0878ms 302  (15c52c40)
2017-09-14T22:13:09.8605261+03:00 0HL7OIHK18F3B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98576805921411581505416389832&state=15054163898320.16538909796896162   (e5be5b71)
2017-09-14T22:13:09.8635265+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:09.8640275+03:00 0HL7OIHK18F3B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:09.8645276+03:00 0HL7OIHK18F3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:09.8645276+03:00 0HL7OIHK18F3B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:09.8650273+03:00 0HL7OIHK18F3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:09.8655286+03:00 0HL7OIHK18F3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:09.8660284+03:00 0HL7OIHK18F3B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163898320.16538909796896162\",
  \"Nonce\": \"N0.98576805921411581505416389832\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98576805921411581505416389832\",
    \"state\": \"15054163898320.16538909796896162\"
  }
}" (9a175e33)
2017-09-14T22:13:09.8700314+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:09.8830397+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:09.8840411+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:09.8860416+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:09.8885431+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:09.8930483+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:09.8955477+03:00 0HL7OIHK18F3B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:09.9165613+03:00 0HL7OIHK18F3B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163898320.16538909796896162\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:09.9200642+03:00 0HL7OIHK18F3B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:09.9275689+03:00 0HL7OIHK18F3B [INF] Request finished in 62.3699ms 302  (15c52c40)
2017-09-14T22:13:13.8086993+03:00 0HL7OIHK18F3C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.43872931998648881505416393791&state=15054163937910.7894200494699346   (e5be5b71)
2017-09-14T22:13:13.8177037+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:13.8212054+03:00 0HL7OIHK18F3C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:13.8217055+03:00 0HL7OIHK18F3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:13.8222061+03:00 0HL7OIHK18F3C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:13.8237073+03:00 0HL7OIHK18F3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:13.8287114+03:00 0HL7OIHK18F3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:13.8292107+03:00 0HL7OIHK18F3C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163937910.7894200494699346\",
  \"Nonce\": \"N0.43872931998648881505416393791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.43872931998648881505416393791\",
    \"state\": \"15054163937910.7894200494699346\"
  }
}" (9a175e33)
2017-09-14T22:13:13.8357184+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:13.8457214+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:13.8467225+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:13.8487234+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:13.8512241+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:13.8532270+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:13.8547266+03:00 0HL7OIHK18F3C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:13.8677356+03:00 0HL7OIHK18F3C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163937910.7894200494699346\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:13.8682354+03:00 0HL7OIHK18F3C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:13.8687359+03:00 0HL7OIHK18F3C [INF] Request finished in 63.5268ms 302  (15c52c40)
2017-09-14T22:13:17.8084289+03:00 0HL7OIHK18F3D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72543238033238771505416397790&state=15054163977900.22176745068202397   (e5be5b71)
2017-09-14T22:13:17.8149330+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:17.8169343+03:00 0HL7OIHK18F3D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:17.8184351+03:00 0HL7OIHK18F3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:17.8189368+03:00 0HL7OIHK18F3D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:17.8209374+03:00 0HL7OIHK18F3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:17.8279420+03:00 0HL7OIHK18F3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:17.8284429+03:00 0HL7OIHK18F3D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054163977900.22176745068202397\",
  \"Nonce\": \"N0.72543238033238771505416397790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72543238033238771505416397790\",
    \"state\": \"15054163977900.22176745068202397\"
  }
}" (9a175e33)
2017-09-14T22:13:17.8324740+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:17.8399804+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:17.8414808+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:17.8429824+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:17.8459828+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:17.8479845+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:17.8494857+03:00 0HL7OIHK18F3D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:17.8604938+03:00 0HL7OIHK18F3D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054163977900.22176745068202397\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:17.8609947+03:00 0HL7OIHK18F3D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:17.8614936+03:00 0HL7OIHK18F3D [INF] Request finished in 55.411ms 302  (15c52c40)
2017-09-14T22:13:21.8020740+03:00 0HL7OIHK18F3E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74205085502000381505416401791&state=15054164017910.603163850045134   (e5be5b71)
2017-09-14T22:13:21.8050752+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:21.8055753+03:00 0HL7OIHK18F3E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:21.8060770+03:00 0HL7OIHK18F3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:21.8060770+03:00 0HL7OIHK18F3E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:21.8065764+03:00 0HL7OIHK18F3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:21.8075770+03:00 0HL7OIHK18F3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:21.8075770+03:00 0HL7OIHK18F3E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164017910.603163850045134\",
  \"Nonce\": \"N0.74205085502000381505416401791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74205085502000381505416401791\",
    \"state\": \"15054164017910.603163850045134\"
  }
}" (9a175e33)
2017-09-14T22:13:21.8120814+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:21.8210854+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:21.8225866+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:21.8245887+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:21.8265892+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:21.8310928+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:21.8335943+03:00 0HL7OIHK18F3E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:21.8476028+03:00 0HL7OIHK18F3E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164017910.603163850045134\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:21.8486038+03:00 0HL7OIHK18F3E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:21.8491044+03:00 0HL7OIHK18F3E [INF] Request finished in 47.7862ms 302  (15c52c40)
2017-09-14T22:13:25.8057873+03:00 0HL7OIHK18F3F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69853488341068881505416405795&state=15054164057950.344217805484357   (e5be5b71)
2017-09-14T22:13:25.8092930+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:25.8097896+03:00 0HL7OIHK18F3F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:25.8102905+03:00 0HL7OIHK18F3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:25.8107902+03:00 0HL7OIHK18F3F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:25.8107902+03:00 0HL7OIHK18F3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:25.8117905+03:00 0HL7OIHK18F3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:25.8117905+03:00 0HL7OIHK18F3F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164057950.344217805484357\",
  \"Nonce\": \"N0.69853488341068881505416405795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69853488341068881505416405795\",
    \"state\": \"15054164057950.344217805484357\"
  }
}" (9a175e33)
2017-09-14T22:13:25.8152930+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:25.8463132+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:25.8478147+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:25.8493151+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:25.8508163+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:25.8523171+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:25.8538183+03:00 0HL7OIHK18F3F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:25.8683281+03:00 0HL7OIHK18F3F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164057950.344217805484357\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:25.8688283+03:00 0HL7OIHK18F3F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:25.8698301+03:00 0HL7OIHK18F3F [INF] Request finished in 64.8354ms 302  (15c52c40)
2017-09-14T22:13:29.8063028+03:00 0HL7OIHK18F3G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49648203978238571505416409790&state=15054164097900.536157086075761   (e5be5b71)
2017-09-14T22:13:29.8093021+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:29.8103023+03:00 0HL7OIHK18F3G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:29.8113050+03:00 0HL7OIHK18F3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:29.8113050+03:00 0HL7OIHK18F3G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:29.8123040+03:00 0HL7OIHK18F3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:29.8128042+03:00 0HL7OIHK18F3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:29.8128042+03:00 0HL7OIHK18F3G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164097900.536157086075761\",
  \"Nonce\": \"N0.49648203978238571505416409790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49648203978238571505416409790\",
    \"state\": \"15054164097900.536157086075761\"
  }
}" (9a175e33)
2017-09-14T22:13:29.8158062+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:29.8358194+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:29.8378207+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:29.8458264+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:29.8528307+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:29.8558327+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:29.8583345+03:00 0HL7OIHK18F3G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:29.8843514+03:00 0HL7OIHK18F3G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164097900.536157086075761\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:29.8853520+03:00 0HL7OIHK18F3G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:29.8863531+03:00 0HL7OIHK18F3G [INF] Request finished in 81.0074ms 302  (15c52c40)
2017-09-14T22:13:33.8005649+03:00 0HL7OIHK18F3H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0290124425047950661505416413791&state=15054164137910.7920152901150617   (e5be5b71)
2017-09-14T22:13:33.8045684+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:33.8050685+03:00 0HL7OIHK18F3H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:33.8055674+03:00 0HL7OIHK18F3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:33.8055674+03:00 0HL7OIHK18F3H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:33.8060684+03:00 0HL7OIHK18F3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:33.8070686+03:00 0HL7OIHK18F3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:33.8070686+03:00 0HL7OIHK18F3H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164137910.7920152901150617\",
  \"Nonce\": \"N0.0290124425047950661505416413791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0290124425047950661505416413791\",
    \"state\": \"15054164137910.7920152901150617\"
  }
}" (9a175e33)
2017-09-14T22:13:33.8115730+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:33.8280845+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:33.8305852+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:33.8320856+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:33.8335856+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:33.8350868+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:33.8380892+03:00 0HL7OIHK18F3H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:33.8566016+03:00 0HL7OIHK18F3H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164137910.7920152901150617\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:33.8571026+03:00 0HL7OIHK18F3H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:33.8586034+03:00 0HL7OIHK18F3H [INF] Request finished in 57.9176ms 302  (15c52c40)
2017-09-14T22:13:37.8057107+03:00 0HL7OIHK18F3I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83361190043871371505416417791&state=15054164177910.07261693293852312   (e5be5b71)
2017-09-14T22:13:37.8122164+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:37.8147163+03:00 0HL7OIHK18F3I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:37.8162175+03:00 0HL7OIHK18F3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:37.8162175+03:00 0HL7OIHK18F3I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:37.8177195+03:00 0HL7OIHK18F3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:37.8192199+03:00 0HL7OIHK18F3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:38.0206562+03:00 0HL7OIHK18F3I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164177910.07261693293852312\",
  \"Nonce\": \"N0.83361190043871371505416417791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83361190043871371505416417791\",
    \"state\": \"15054164177910.07261693293852312\"
  }
}" (9a175e33)
2017-09-14T22:13:38.0261589+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:38.0396680+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:38.0416706+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:38.0441708+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:38.0466727+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:38.0486740+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:38.0511755+03:00 0HL7OIHK18F3I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:38.0701873+03:00 0HL7OIHK18F3I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164177910.07261693293852312\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:38.0711883+03:00 0HL7OIHK18F3I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:38.0716889+03:00 0HL7OIHK18F3I [INF] Request finished in 267.7876ms 302  (15c52c40)
2017-09-14T22:13:41.8084893+03:00 0HL7OIHK18F3J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.147145373291360351505416421792&state=15054164217920.8675169848173085   (e5be5b71)
2017-09-14T22:13:41.8141972+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:41.8163276+03:00 0HL7OIHK18F3J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:41.8168345+03:00 0HL7OIHK18F3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:41.8173350+03:00 0HL7OIHK18F3J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:41.8178347+03:00 0HL7OIHK18F3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:41.8193343+03:00 0HL7OIHK18F3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:41.8198349+03:00 0HL7OIHK18F3J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164217920.8675169848173085\",
  \"Nonce\": \"N0.147145373291360351505416421792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.147145373291360351505416421792\",
    \"state\": \"15054164217920.8675169848173085\"
  }
}" (9a175e33)
2017-09-14T22:13:41.8283431+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:41.8413829+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:41.8433838+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:41.8458857+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:41.8486086+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:41.8516141+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:41.8536150+03:00 0HL7OIHK18F3J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:41.8686246+03:00 0HL7OIHK18F3J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164217920.8675169848173085\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:41.8696237+03:00 0HL7OIHK18F3J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:41.8701246+03:00 0HL7OIHK18F3J [INF] Request finished in 63.62ms 302  (15c52c40)
2017-09-14T22:13:45.8092061+03:00 0HL7OIHK18F3K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.17613906274102331505416425791&state=15054164257910.39212215364304037   (e5be5b71)
2017-09-14T22:13:45.8142098+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:45.8152093+03:00 0HL7OIHK18F3K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:45.8162100+03:00 0HL7OIHK18F3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:45.8162100+03:00 0HL7OIHK18F3K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:45.8177120+03:00 0HL7OIHK18F3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:45.8197129+03:00 0HL7OIHK18F3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:45.8202134+03:00 0HL7OIHK18F3K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164257910.39212215364304037\",
  \"Nonce\": \"N0.17613906274102331505416425791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.17613906274102331505416425791\",
    \"state\": \"15054164257910.39212215364304037\"
  }
}" (9a175e33)
2017-09-14T22:13:45.8232154+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:45.8342235+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:45.8357231+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:45.8377244+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:45.8392256+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:45.8417275+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:45.8442289+03:00 0HL7OIHK18F3K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:45.8577365+03:00 0HL7OIHK18F3K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164257910.39212215364304037\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:45.8582378+03:00 0HL7OIHK18F3K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:45.8587380+03:00 0HL7OIHK18F3K [INF] Request finished in 50.5328ms 302  (15c52c40)
2017-09-14T22:13:49.8238099+03:00 0HL7OIHK18F3L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.321206938933104261505416429795&state=15054164297950.007298205796921753   (e5be5b71)
2017-09-14T22:13:49.8268119+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:49.8283131+03:00 0HL7OIHK18F3L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:49.8303144+03:00 0HL7OIHK18F3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:49.8303144+03:00 0HL7OIHK18F3L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:49.8328163+03:00 0HL7OIHK18F3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:49.8343170+03:00 0HL7OIHK18F3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:49.8343170+03:00 0HL7OIHK18F3L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164297950.007298205796921753\",
  \"Nonce\": \"N0.321206938933104261505416429795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.321206938933104261505416429795\",
    \"state\": \"15054164297950.007298205796921753\"
  }
}" (9a175e33)
2017-09-14T22:13:49.8408208+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:49.8648375+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:49.8683396+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:49.8798470+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:49.8828490+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:49.8928556+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:49.9128689+03:00 0HL7OIHK18F3L [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:49.9328825+03:00 0HL7OIHK18F3L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164297950.007298205796921753\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:49.9343829+03:00 0HL7OIHK18F3L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:49.9358841+03:00 0HL7OIHK18F3L [INF] Request finished in 112.1322ms 302  (15c52c40)
2017-09-14T22:13:53.7994569+03:00 0HL7OIHK18F3M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.036543327653852041505416433791&state=15054164337910.8626330107022417   (e5be5b71)
2017-09-14T22:13:53.8019599+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:53.8024601+03:00 0HL7OIHK18F3M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:53.8029602+03:00 0HL7OIHK18F3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:53.8029602+03:00 0HL7OIHK18F3M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:53.8034607+03:00 0HL7OIHK18F3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:53.8044614+03:00 0HL7OIHK18F3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:53.8044614+03:00 0HL7OIHK18F3M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164337910.8626330107022417\",
  \"Nonce\": \"N0.036543327653852041505416433791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.036543327653852041505416433791\",
    \"state\": \"15054164337910.8626330107022417\"
  }
}" (9a175e33)
2017-09-14T22:13:53.8064611+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:53.8154699+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:53.8174700+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:53.8189708+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:53.8204704+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:53.8219720+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:53.8234728+03:00 0HL7OIHK18F3M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:53.8394838+03:00 0HL7OIHK18F3M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164337910.8626330107022417\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:53.8399839+03:00 0HL7OIHK18F3M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:53.8409846+03:00 0HL7OIHK18F3M [INF] Request finished in 41.5833ms 302  (15c52c40)
2017-09-14T22:13:57.8028366+03:00 0HL7OIHK18F3N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.10639634899250351505416437790&state=15054164377900.2530093186149025   (e5be5b71)
2017-09-14T22:13:57.8053377+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:13:57.8058390+03:00 0HL7OIHK18F3N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:13:57.8063384+03:00 0HL7OIHK18F3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:57.8063384+03:00 0HL7OIHK18F3N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:13:57.8068389+03:00 0HL7OIHK18F3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:57.8073394+03:00 0HL7OIHK18F3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:57.8073394+03:00 0HL7OIHK18F3N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164377900.2530093186149025\",
  \"Nonce\": \"N0.10639634899250351505416437790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.10639634899250351505416437790\",
    \"state\": \"15054164377900.2530093186149025\"
  }
}" (9a175e33)
2017-09-14T22:13:57.8103414+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:13:57.8243503+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:57.8263516+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:13:57.8368584+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:13:57.8388601+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:13:57.8418621+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:13:57.8483666+03:00 0HL7OIHK18F3N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:13:57.8718820+03:00 0HL7OIHK18F3N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164377900.2530093186149025\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:13:57.8723825+03:00 0HL7OIHK18F3N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:13:57.8733828+03:00 0HL7OIHK18F3N [INF] Request finished in 70.91ms 302  (15c52c40)
2017-09-14T22:14:01.8257994+03:00 0HL7OIHK18F3O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93650564252711191505416441791&state=15054164417910.8299981180920373   (e5be5b71)
2017-09-14T22:14:01.8303029+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:01.8323039+03:00 0HL7OIHK18F3O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:01.8333045+03:00 0HL7OIHK18F3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:01.8338051+03:00 0HL7OIHK18F3O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:01.8348053+03:00 0HL7OIHK18F3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:01.8363065+03:00 0HL7OIHK18F3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:01.8363065+03:00 0HL7OIHK18F3O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164417910.8299981180920373\",
  \"Nonce\": \"N0.93650564252711191505416441791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93650564252711191505416441791\",
    \"state\": \"15054164417910.8299981180920373\"
  }
}" (9a175e33)
2017-09-14T22:14:01.8508183+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:01.8708296+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:01.8758333+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:01.8803357+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:01.8893417+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:01.8913426+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:01.8998488+03:00 0HL7OIHK18F3O [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:01.9178603+03:00 0HL7OIHK18F3O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164417910.8299981180920373\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:01.9188610+03:00 0HL7OIHK18F3O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:01.9198621+03:00 0HL7OIHK18F3O [INF] Request finished in 94.3615ms 302  (15c52c40)
2017-09-14T22:14:05.8236800+03:00 0HL7OIHK18F3P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.397857726692400161505416445791&state=15054164457910.09032887748431673   (e5be5b71)
2017-09-14T22:14:05.8346877+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:05.8356876+03:00 0HL7OIHK18F3P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:05.8361885+03:00 0HL7OIHK18F3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:05.8361885+03:00 0HL7OIHK18F3P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:05.8366890+03:00 0HL7OIHK18F3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:05.8371888+03:00 0HL7OIHK18F3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:05.8371888+03:00 0HL7OIHK18F3P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164457910.09032887748431673\",
  \"Nonce\": \"N0.397857726692400161505416445791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.397857726692400161505416445791\",
    \"state\": \"15054164457910.09032887748431673\"
  }
}" (9a175e33)
2017-09-14T22:14:05.8431927+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:05.8612055+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:05.8747138+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:05.8827191+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:05.8872219+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:05.8917255+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:05.9037334+03:00 0HL7OIHK18F3P [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:05.9242468+03:00 0HL7OIHK18F3P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164457910.09032887748431673\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:05.9247466+03:00 0HL7OIHK18F3P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:05.9252479+03:00 0HL7OIHK18F3P [INF] Request finished in 105.5124ms 302  (15c52c40)
2017-09-14T22:14:09.8180641+03:00 0HL7OIHK18F3Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.060761050345531811505416449790&state=15054164497900.6516228238516311   (e5be5b71)
2017-09-14T22:14:09.8205655+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:09.8215662+03:00 0HL7OIHK18F3Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:09.8220667+03:00 0HL7OIHK18F3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:09.8220667+03:00 0HL7OIHK18F3Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:09.8230674+03:00 0HL7OIHK18F3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:09.8240677+03:00 0HL7OIHK18F3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:09.8240677+03:00 0HL7OIHK18F3Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164497900.6516228238516311\",
  \"Nonce\": \"N0.060761050345531811505416449790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.060761050345531811505416449790\",
    \"state\": \"15054164497900.6516228238516311\"
  }
}" (9a175e33)
2017-09-14T22:14:09.8280707+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:09.8505854+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:09.8540883+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:09.8565894+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:09.8590912+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:09.8700981+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:09.8796054+03:00 0HL7OIHK18F3Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:09.8991182+03:00 0HL7OIHK18F3Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164497900.6516228238516311\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:09.8996179+03:00 0HL7OIHK18F3Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:09.9006189+03:00 0HL7OIHK18F3Q [INF] Request finished in 85.5201ms 302  (15c52c40)
2017-09-14T22:14:13.8020373+03:00 0HL7OIHK18F3R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.082216440011004811505416453791&state=15054164537910.6993019880590217   (e5be5b71)
2017-09-14T22:14:13.8050389+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:13.8055402+03:00 0HL7OIHK18F3R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:13.8055402+03:00 0HL7OIHK18F3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:13.8060411+03:00 0HL7OIHK18F3R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:13.8065405+03:00 0HL7OIHK18F3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:13.8070414+03:00 0HL7OIHK18F3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:13.8070414+03:00 0HL7OIHK18F3R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164537910.6993019880590217\",
  \"Nonce\": \"N0.082216440011004811505416453791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.082216440011004811505416453791\",
    \"state\": \"15054164537910.6993019880590217\"
  }
}" (9a175e33)
2017-09-14T22:14:13.8095421+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:13.8210499+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:13.8230516+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:13.8250529+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:13.8270546+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:13.8315574+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:13.8330578+03:00 0HL7OIHK18F3R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:13.8555725+03:00 0HL7OIHK18F3R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164537910.6993019880590217\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:13.8560723+03:00 0HL7OIHK18F3R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:13.8570733+03:00 0HL7OIHK18F3R [INF] Request finished in 55.2389ms 302  (15c52c40)
2017-09-14T22:14:17.7993002+03:00 0HL7OIHK18F3S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66435791082915261505416457790&state=15054164577900.3506138775023844   (e5be5b71)
2017-09-14T22:14:17.8018008+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:17.8023010+03:00 0HL7OIHK18F3S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:17.8023010+03:00 0HL7OIHK18F3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:17.8027999+03:00 0HL7OIHK18F3S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:17.8027999+03:00 0HL7OIHK18F3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:17.8033001+03:00 0HL7OIHK18F3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:17.8038006+03:00 0HL7OIHK18F3S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164577900.3506138775023844\",
  \"Nonce\": \"N0.66435791082915261505416457790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66435791082915261505416457790\",
    \"state\": \"15054164577900.3506138775023844\"
  }
}" (9a175e33)
2017-09-14T22:14:17.8058015+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:17.8158085+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:17.8178118+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:17.8198116+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:17.8218125+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:17.8238138+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:17.8258148+03:00 0HL7OIHK18F3S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:17.8433274+03:00 0HL7OIHK18F3S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164577900.3506138775023844\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:17.8438267+03:00 0HL7OIHK18F3S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:17.8443276+03:00 0HL7OIHK18F3S [INF] Request finished in 46.1425ms 302  (15c52c40)
2017-09-14T22:14:20.8646622+03:00 0HL7OIHK18F3T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50376159439174111505416460801&state=15054164608010.9379165428246643   (e5be5b71)
2017-09-14T22:14:20.8696659+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:20.8806740+03:00 0HL7OIHK18F3T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:20.8821736+03:00 0HL7OIHK18F3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:20.8821736+03:00 0HL7OIHK18F3T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:20.8826741+03:00 0HL7OIHK18F3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:20.8836744+03:00 0HL7OIHK18F3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:20.8836744+03:00 0HL7OIHK18F3T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164608010.9379165428246643\",
  \"Nonce\": \"N0.50376159439174111505416460801\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50376159439174111505416460801\",
    \"state\": \"15054164608010.9379165428246643\"
  }
}" (9a175e33)
2017-09-14T22:14:20.8896788+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:20.9051888+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:20.9071902+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:20.9086914+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:20.9116937+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:20.9216996+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:20.9242014+03:00 0HL7OIHK18F3T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:20.9612264+03:00 0HL7OIHK18F3T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164608010.9379165428246643\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:20.9632285+03:00 0HL7OIHK18F3T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:20.9657291+03:00 0HL7OIHK18F3T [INF] Request finished in 100.2699ms 302  (15c52c40)
2017-09-14T22:14:24.8164981+03:00 0HL7OIHK18F3U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69955345960222861505416464792&state=15054164647920.6196996723026873   (e5be5b71)
2017-09-14T22:14:24.8225021+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:24.8230027+03:00 0HL7OIHK18F3U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:24.8240025+03:00 0HL7OIHK18F3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:24.8245034+03:00 0HL7OIHK18F3U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:24.8255029+03:00 0HL7OIHK18F3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:24.8260038+03:00 0HL7OIHK18F3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:24.8265044+03:00 0HL7OIHK18F3U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164647920.6196996723026873\",
  \"Nonce\": \"N0.69955345960222861505416464792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69955345960222861505416464792\",
    \"state\": \"15054164647920.6196996723026873\"
  }
}" (9a175e33)
2017-09-14T22:14:24.8335090+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:24.8495196+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:24.8515206+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:24.8535223+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:24.8550227+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:24.8575249+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:24.8620277+03:00 0HL7OIHK18F3U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:24.8805406+03:00 0HL7OIHK18F3U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164647920.6196996723026873\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:24.8815432+03:00 0HL7OIHK18F3U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:24.8825415+03:00 0HL7OIHK18F3U [INF] Request finished in 68.2515ms 302  (15c52c40)
2017-09-14T22:14:28.8039301+03:00 0HL7OIHK18F3V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88659971244174221505416468792&state=15054164687920.44501724040963175   (e5be5b71)
2017-09-14T22:14:28.8059318+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:28.8064319+03:00 0HL7OIHK18F3V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:28.8069320+03:00 0HL7OIHK18F3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:28.8069320+03:00 0HL7OIHK18F3V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:28.8074322+03:00 0HL7OIHK18F3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:28.8079335+03:00 0HL7OIHK18F3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:28.8079335+03:00 0HL7OIHK18F3V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164687920.44501724040963175\",
  \"Nonce\": \"N0.88659971244174221505416468792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88659971244174221505416468792\",
    \"state\": \"15054164687920.44501724040963175\"
  }
}" (9a175e33)
2017-09-14T22:14:28.8104354+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:28.8209409+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:28.8229430+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:28.8254449+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:28.8274470+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:28.8294476+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:28.8334502+03:00 0HL7OIHK18F3V [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:28.8484605+03:00 0HL7OIHK18F3V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164687920.44501724040963175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:28.8494608+03:00 0HL7OIHK18F3V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:28.8509616+03:00 0HL7OIHK18F3V [INF] Request finished in 47.3954ms 302  (15c52c40)
2017-09-14T22:14:32.8246819+03:00 0HL7OIHK18F40 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39504066833535691505416472793&state=15054164727930.763337666237268   (e5be5b71)
2017-09-14T22:14:32.8276843+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:32.8281844+03:00 0HL7OIHK18F40 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:32.8286849+03:00 0HL7OIHK18F40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:32.8286849+03:00 0HL7OIHK18F40 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:32.8291850+03:00 0HL7OIHK18F40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:32.8296852+03:00 0HL7OIHK18F40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:32.8296852+03:00 0HL7OIHK18F40 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164727930.763337666237268\",
  \"Nonce\": \"N0.39504066833535691505416472793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39504066833535691505416472793\",
    \"state\": \"15054164727930.763337666237268\"
  }
}" (9a175e33)
2017-09-14T22:14:32.8376909+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:32.8486986+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:32.8501990+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:32.8537019+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:32.8562029+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:32.8582047+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:32.8597051+03:00 0HL7OIHK18F40 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:32.8732146+03:00 0HL7OIHK18F40 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164727930.763337666237268\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:32.8737151+03:00 0HL7OIHK18F40 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:32.8742153+03:00 0HL7OIHK18F40 [INF] Request finished in 49.8349ms 302  (15c52c40)
2017-09-14T22:14:36.8004327+03:00 0HL7OIHK18F41 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80758781168637551505416476792&state=15054164767920.008470884728128958   (e5be5b71)
2017-09-14T22:14:36.8034347+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:36.8039352+03:00 0HL7OIHK18F41 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:36.8044357+03:00 0HL7OIHK18F41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:36.8044357+03:00 0HL7OIHK18F41 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:36.8049355+03:00 0HL7OIHK18F41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:36.8054364+03:00 0HL7OIHK18F41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:36.8054364+03:00 0HL7OIHK18F41 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164767920.008470884728128958\",
  \"Nonce\": \"N0.80758781168637551505416476792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80758781168637551505416476792\",
    \"state\": \"15054164767920.008470884728128958\"
  }
}" (9a175e33)
2017-09-14T22:14:36.8079378+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:36.8179449+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:36.8194461+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:36.8209469+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:36.8229474+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:36.8249491+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:36.8274510+03:00 0HL7OIHK18F41 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:36.8439621+03:00 0HL7OIHK18F41 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164767920.008470884728128958\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:36.8444630+03:00 0HL7OIHK18F41 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:36.8459634+03:00 0HL7OIHK18F41 [INF] Request finished in 45.1241ms 302  (15c52c40)
2017-09-14T22:14:40.7998694+03:00 0HL7OIHK18F42 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91810896878880911505416480792&state=15054164807920.9914028701199613   (e5be5b71)
2017-09-14T22:14:40.8028706+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:40.8033707+03:00 0HL7OIHK18F42 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:40.8038712+03:00 0HL7OIHK18F42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:40.8043722+03:00 0HL7OIHK18F42 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:40.8048715+03:00 0HL7OIHK18F42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:40.8053724+03:00 0HL7OIHK18F42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:40.8053724+03:00 0HL7OIHK18F42 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164807920.9914028701199613\",
  \"Nonce\": \"N0.91810896878880911505416480792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91810896878880911505416480792\",
    \"state\": \"15054164807920.9914028701199613\"
  }
}" (9a175e33)
2017-09-14T22:14:40.8088746+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:40.8208825+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:40.8223833+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:40.8243882+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:40.8258854+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:40.8278871+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:40.8298889+03:00 0HL7OIHK18F42 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:40.8458987+03:00 0HL7OIHK18F42 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164807920.9914028701199613\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:40.8464008+03:00 0HL7OIHK18F42 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:40.8474018+03:00 0HL7OIHK18F42 [INF] Request finished in 47.9852ms 302  (15c52c40)
2017-09-14T22:14:44.8037011+03:00 0HL7OIHK18F43 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83529629928981031505416484793&state=15054164847930.06246938837666893   (e5be5b71)
2017-09-14T22:14:44.8067027+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:44.8067027+03:00 0HL7OIHK18F43 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:44.8077034+03:00 0HL7OIHK18F43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:44.8077034+03:00 0HL7OIHK18F43 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:44.8087036+03:00 0HL7OIHK18F43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:44.8097047+03:00 0HL7OIHK18F43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:44.8097047+03:00 0HL7OIHK18F43 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164847930.06246938837666893\",
  \"Nonce\": \"N0.83529629928981031505416484793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83529629928981031505416484793\",
    \"state\": \"15054164847930.06246938837666893\"
  }
}" (9a175e33)
2017-09-14T22:14:44.8167129+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:44.8292257+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:44.8322269+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:44.8352293+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:44.8372306+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:44.8392319+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:44.8502392+03:00 0HL7OIHK18F43 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:44.8712528+03:00 0HL7OIHK18F43 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164847930.06246938837666893\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:44.8722538+03:00 0HL7OIHK18F43 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:44.8752554+03:00 0HL7OIHK18F43 [INF] Request finished in 72.1381ms 302  (15c52c40)
2017-09-14T22:14:48.8036399+03:00 0HL7OIHK18F44 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.19666038962224741505416488792&state=15054164887920.9332910282638687   (e5be5b71)
2017-09-14T22:14:48.8061418+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:48.8066427+03:00 0HL7OIHK18F44 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:48.8071420+03:00 0HL7OIHK18F44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:48.8071420+03:00 0HL7OIHK18F44 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:48.8076426+03:00 0HL7OIHK18F44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:48.8081431+03:00 0HL7OIHK18F44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:48.8086440+03:00 0HL7OIHK18F44 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164887920.9332910282638687\",
  \"Nonce\": \"N0.19666038962224741505416488792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.19666038962224741505416488792\",
    \"state\": \"15054164887920.9332910282638687\"
  }
}" (9a175e33)
2017-09-14T22:14:48.8111447+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:48.8231527+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:48.8251544+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:48.8266548+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:48.8286569+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:48.8306578+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:48.8336594+03:00 0HL7OIHK18F44 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:48.8721847+03:00 0HL7OIHK18F44 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164887920.9332910282638687\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:48.8726853+03:00 0HL7OIHK18F44 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:48.8731854+03:00 0HL7OIHK18F44 [INF] Request finished in 69.8052ms 302  (15c52c40)
2017-09-14T22:14:52.7988056+03:00 0HL7OIHK18F45 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69144749034927581505416492791&state=15054164927910.018515975205730895   (e5be5b71)
2017-09-14T22:14:52.8023053+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:52.8028062+03:00 0HL7OIHK18F45 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:52.8033064+03:00 0HL7OIHK18F45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:52.8038081+03:00 0HL7OIHK18F45 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:52.8043082+03:00 0HL7OIHK18F45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:52.8048087+03:00 0HL7OIHK18F45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:52.8048087+03:00 0HL7OIHK18F45 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164927910.018515975205730895\",
  \"Nonce\": \"N0.69144749034927581505416492791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69144749034927581505416492791\",
    \"state\": \"15054164927910.018515975205730895\"
  }
}" (9a175e33)
2017-09-14T22:14:52.8078088+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:52.8173168+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:52.8193170+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:52.8213179+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:52.8233208+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:52.8258223+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:52.8358277+03:00 0HL7OIHK18F45 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:52.8578419+03:00 0HL7OIHK18F45 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164927910.018515975205730895\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:52.8583420+03:00 0HL7OIHK18F45 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:52.8593435+03:00 0HL7OIHK18F45 [INF] Request finished in 61.2267ms 302  (15c52c40)
2017-09-14T22:14:55.7983867+03:00 0HL7OIHK18F46 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.351317760996807671505416495792&state=15054164957920.6092320968086355   (e5be5b71)
2017-09-14T22:14:55.8028899+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:55.8033905+03:00 0HL7OIHK18F46 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:55.8038902+03:00 0HL7OIHK18F46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:55.8038902+03:00 0HL7OIHK18F46 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:55.8043919+03:00 0HL7OIHK18F46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:55.8048912+03:00 0HL7OIHK18F46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:55.8048912+03:00 0HL7OIHK18F46 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164957920.6092320968086355\",
  \"Nonce\": \"N0.351317760996807671505416495792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.351317760996807671505416495792\",
    \"state\": \"15054164957920.6092320968086355\"
  }
}" (9a175e33)
2017-09-14T22:14:55.8088939+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:55.8204017+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:55.8224026+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:55.8244040+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:55.8269058+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:55.8284066+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:55.8299078+03:00 0HL7OIHK18F46 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:55.8489216+03:00 0HL7OIHK18F46 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164957920.6092320968086355\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:55.8494209+03:00 0HL7OIHK18F46 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:55.8504216+03:00 0HL7OIHK18F46 [INF] Request finished in 51.7474ms 302  (15c52c40)
2017-09-14T22:14:59.7977792+03:00 0HL7OIHK18F47 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45663786645704741505416499791&state=15054164997910.1953418738880499   (e5be5b71)
2017-09-14T22:14:59.8002831+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:14:59.8007824+03:00 0HL7OIHK18F47 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:14:59.8012818+03:00 0HL7OIHK18F47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:59.8012818+03:00 0HL7OIHK18F47 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:14:59.8017823+03:00 0HL7OIHK18F47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:59.8022836+03:00 0HL7OIHK18F47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:59.8022836+03:00 0HL7OIHK18F47 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054164997910.1953418738880499\",
  \"Nonce\": \"N0.45663786645704741505416499791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45663786645704741505416499791\",
    \"state\": \"15054164997910.1953418738880499\"
  }
}" (9a175e33)
2017-09-14T22:14:59.8047851+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:14:59.8162949+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:59.8182934+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:14:59.8207949+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:14:59.8227966+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:14:59.8257978+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:14:59.8272990+03:00 0HL7OIHK18F47 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:14:59.8478128+03:00 0HL7OIHK18F47 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054164997910.1953418738880499\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:14:59.8488134+03:00 0HL7OIHK18F47 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:14:59.8493140+03:00 0HL7OIHK18F47 [INF] Request finished in 52.1418ms 302  (15c52c40)
2017-09-14T22:15:03.7985431+03:00 0HL7OIHK18F48 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62553863065598181505416503792&state=15054165037920.6754555414018204   (e5be5b71)
2017-09-14T22:15:03.8020452+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:03.8025485+03:00 0HL7OIHK18F48 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:03.8030458+03:00 0HL7OIHK18F48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:03.8035460+03:00 0HL7OIHK18F48 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:03.8040469+03:00 0HL7OIHK18F48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:03.8045478+03:00 0HL7OIHK18F48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:03.8045478+03:00 0HL7OIHK18F48 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165037920.6754555414018204\",
  \"Nonce\": \"N0.62553863065598181505416503792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62553863065598181505416503792\",
    \"state\": \"15054165037920.6754555414018204\"
  }
}" (9a175e33)
2017-09-14T22:15:03.8085513+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:03.8175549+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:03.8195570+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:03.8215575+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:03.8230587+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:03.8250616+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:03.8280628+03:00 0HL7OIHK18F48 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:03.8435733+03:00 0HL7OIHK18F48 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165037920.6754555414018204\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:03.8440742+03:00 0HL7OIHK18F48 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:03.8450737+03:00 0HL7OIHK18F48 [INF] Request finished in 47.0497ms 302  (15c52c40)
2017-09-14T22:15:07.8008929+03:00 0HL7OIHK18F49 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55647093364228421505416507792&state=15054165077920.5833874562067731   (e5be5b71)
2017-09-14T22:15:07.8033908+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:07.8038910+03:00 0HL7OIHK18F49 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:07.8043927+03:00 0HL7OIHK18F49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:07.8043927+03:00 0HL7OIHK18F49 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:07.8048920+03:00 0HL7OIHK18F49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:07.8053934+03:00 0HL7OIHK18F49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:07.8053934+03:00 0HL7OIHK18F49 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165077920.5833874562067731\",
  \"Nonce\": \"N0.55647093364228421505416507792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55647093364228421505416507792\",
    \"state\": \"15054165077920.5833874562067731\"
  }
}" (9a175e33)
2017-09-14T22:15:07.8108960+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:07.8249057+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:07.8279073+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:07.8314094+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:07.8349119+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:07.8369129+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:07.8404158+03:00 0HL7OIHK18F49 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:07.8574266+03:00 0HL7OIHK18F49 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165077920.5833874562067731\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:07.8579272+03:00 0HL7OIHK18F49 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:07.8589278+03:00 0HL7OIHK18F49 [INF] Request finished in 58.3443ms 302  (15c52c40)
2017-09-14T22:15:11.7984886+03:00 0HL7OIHK18F4A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.351149841541012361505416511791&state=15054165117910.4520925689299433   (e5be5b71)
2017-09-14T22:15:11.8009896+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:11.8014910+03:00 0HL7OIHK18F4A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:11.8019903+03:00 0HL7OIHK18F4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:11.8019903+03:00 0HL7OIHK18F4A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:11.8024916+03:00 0HL7OIHK18F4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:11.8029910+03:00 0HL7OIHK18F4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:11.8029910+03:00 0HL7OIHK18F4A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165117910.4520925689299433\",
  \"Nonce\": \"N0.351149841541012361505416511791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.351149841541012361505416511791\",
    \"state\": \"15054165117910.4520925689299433\"
  }
}" (9a175e33)
2017-09-14T22:15:11.8084948+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:11.8220032+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:11.8250056+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:11.8285081+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:11.8310099+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:11.8345124+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:11.8370135+03:00 0HL7OIHK18F4A [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:11.8530245+03:00 0HL7OIHK18F4A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165117910.4520925689299433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:11.8535250+03:00 0HL7OIHK18F4A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:11.8540244+03:00 0HL7OIHK18F4A [INF] Request finished in 56.3284ms 302  (15c52c40)
2017-09-14T22:15:15.7980461+03:00 0HL7OIHK18F4B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.052775632923353521505416515791&state=15054165157910.8963271158070127   (e5be5b71)
2017-09-14T22:15:15.8010477+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:15.8015478+03:00 0HL7OIHK18F4B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:15.8020487+03:00 0HL7OIHK18F4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:15.8020487+03:00 0HL7OIHK18F4B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:15.8030494+03:00 0HL7OIHK18F4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:15.8035495+03:00 0HL7OIHK18F4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:15.8035495+03:00 0HL7OIHK18F4B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165157910.8963271158070127\",
  \"Nonce\": \"N0.052775632923353521505416515791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.052775632923353521505416515791\",
    \"state\": \"15054165157910.8963271158070127\"
  }
}" (9a175e33)
2017-09-14T22:15:15.8070528+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:15.8185591+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:15.8200666+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:15.8220679+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:15.8250699+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:15.8270708+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:15.8285720+03:00 0HL7OIHK18F4B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:15.8470849+03:00 0HL7OIHK18F4B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165157910.8963271158070127\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:15.8480847+03:00 0HL7OIHK18F4B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:15.8490866+03:00 0HL7OIHK18F4B [INF] Request finished in 50.909ms 302  (15c52c40)
2017-09-14T22:15:19.7993692+03:00 0HL7OIHK18F4C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.606866706294711505416519791&state=15054165197910.5096246503802933   (e5be5b71)
2017-09-14T22:15:19.8018699+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:19.8023697+03:00 0HL7OIHK18F4C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:19.8028706+03:00 0HL7OIHK18F4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:19.8028706+03:00 0HL7OIHK18F4C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:19.8033711+03:00 0HL7OIHK18F4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:19.8038712+03:00 0HL7OIHK18F4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:19.8038712+03:00 0HL7OIHK18F4C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165197910.5096246503802933\",
  \"Nonce\": \"N0.606866706294711505416519791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.606866706294711505416519791\",
    \"state\": \"15054165197910.5096246503802933\"
  }
}" (9a175e33)
2017-09-14T22:15:19.8063719+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:19.8148781+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:19.8178805+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:19.8198818+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:19.8213819+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:19.8238845+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:19.8268857+03:00 0HL7OIHK18F4C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:19.8413959+03:00 0HL7OIHK18F4C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165197910.5096246503802933\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:19.8418960+03:00 0HL7OIHK18F4C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:19.8423970+03:00 0HL7OIHK18F4C [INF] Request finished in 44.0974ms 302  (15c52c40)
2017-09-14T22:15:23.8007986+03:00 0HL7OIHK18F4D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55942209487144321505416523792&state=15054165237920.020249847959360467   (e5be5b71)
2017-09-14T22:15:23.8042995+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:23.8048005+03:00 0HL7OIHK18F4D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:23.8053006+03:00 0HL7OIHK18F4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:23.8058007+03:00 0HL7OIHK18F4D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:23.8063013+03:00 0HL7OIHK18F4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:23.8068014+03:00 0HL7OIHK18F4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:23.8068014+03:00 0HL7OIHK18F4D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165237920.020249847959360467\",
  \"Nonce\": \"N0.55942209487144321505416523792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55942209487144321505416523792\",
    \"state\": \"15054165237920.020249847959360467\"
  }
}" (9a175e33)
2017-09-14T22:15:23.8108040+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:23.8223115+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:23.8238123+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:23.8258140+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:23.8278149+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:23.8298166+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:23.8323189+03:00 0HL7OIHK18F4D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:23.8543327+03:00 0HL7OIHK18F4D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165237920.020249847959360467\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:23.8548328+03:00 0HL7OIHK18F4D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:23.8558339+03:00 0HL7OIHK18F4D [INF] Request finished in 55.5322ms 302  (15c52c40)
2017-09-14T22:15:27.8016252+03:00 0HL7OIHK18F4E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95778626332817551505416527791&state=15054165277910.6828466962728086   (e5be5b71)
2017-09-14T22:15:27.8041274+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:27.8046268+03:00 0HL7OIHK18F4E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:27.8051273+03:00 0HL7OIHK18F4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:27.8051273+03:00 0HL7OIHK18F4E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:27.8056286+03:00 0HL7OIHK18F4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:27.8061276+03:00 0HL7OIHK18F4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:27.8061276+03:00 0HL7OIHK18F4E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165277910.6828466962728086\",
  \"Nonce\": \"N0.95778626332817551505416527791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95778626332817551505416527791\",
    \"state\": \"15054165277910.6828466962728086\"
  }
}" (9a175e33)
2017-09-14T22:15:27.8086298+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:27.8196371+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:27.8211391+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:27.8231392+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:27.8251406+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:27.8291444+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:27.8306448+03:00 0HL7OIHK18F4E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:27.8496570+03:00 0HL7OIHK18F4E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165277910.6828466962728086\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:27.8501579+03:00 0HL7OIHK18F4E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:27.8511582+03:00 0HL7OIHK18F4E [INF] Request finished in 50.1365ms 302  (15c52c40)
2017-09-14T22:15:31.7998864+03:00 0HL7OIHK18F4F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2018653780689511505416531791&state=15054165317910.2667737888579407   (e5be5b71)
2017-09-14T22:15:31.8038894+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:31.8043899+03:00 0HL7OIHK18F4F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:31.8048897+03:00 0HL7OIHK18F4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:31.8048897+03:00 0HL7OIHK18F4F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:31.8053906+03:00 0HL7OIHK18F4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:31.8063909+03:00 0HL7OIHK18F4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:31.8063909+03:00 0HL7OIHK18F4F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165317910.2667737888579407\",
  \"Nonce\": \"N0.2018653780689511505416531791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2018653780689511505416531791\",
    \"state\": \"15054165317910.2667737888579407\"
  }
}" (9a175e33)
2017-09-14T22:15:31.8093944+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:31.8183992+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:31.8199020+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:31.8214004+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:31.8229016+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:31.8254031+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:31.8294061+03:00 0HL7OIHK18F4F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:31.8499290+03:00 0HL7OIHK18F4F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165317910.2667737888579407\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:31.8504200+03:00 0HL7OIHK18F4F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:31.8514211+03:00 0HL7OIHK18F4F [INF] Request finished in 51.9657ms 302  (15c52c40)
2017-09-14T22:15:35.8029010+03:00 0HL7OIHK18F4G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32292166596073591505416535791&state=15054165357910.8376142876990114   (e5be5b71)
2017-09-14T22:15:35.8059014+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:35.8069020+03:00 0HL7OIHK18F4G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:35.8079031+03:00 0HL7OIHK18F4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:35.8079031+03:00 0HL7OIHK18F4G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:35.8084036+03:00 0HL7OIHK18F4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:35.8094039+03:00 0HL7OIHK18F4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:35.8094039+03:00 0HL7OIHK18F4G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165357910.8376142876990114\",
  \"Nonce\": \"N0.32292166596073591505416535791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32292166596073591505416535791\",
    \"state\": \"15054165357910.8376142876990114\"
  }
}" (9a175e33)
2017-09-14T22:15:35.8124059+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:35.8254141+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:35.8284161+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:35.8304178+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:35.8324191+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:35.8374221+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:35.8399239+03:00 0HL7OIHK18F4G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:35.8614392+03:00 0HL7OIHK18F4G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165357910.8376142876990114\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:35.8624390+03:00 0HL7OIHK18F4G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:35.8629400+03:00 0HL7OIHK18F4G [INF] Request finished in 61.2125ms 302  (15c52c40)
2017-09-14T22:15:39.7993890+03:00 0HL7OIHK18F4H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87922816099424871505416539791&state=15054165397910.458198227702064   (e5be5b71)
2017-09-14T22:15:39.8018908+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:39.8023906+03:00 0HL7OIHK18F4H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:39.8028915+03:00 0HL7OIHK18F4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:39.8028915+03:00 0HL7OIHK18F4H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:39.8033916+03:00 0HL7OIHK18F4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:39.8038922+03:00 0HL7OIHK18F4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:39.8038922+03:00 0HL7OIHK18F4H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165397910.458198227702064\",
  \"Nonce\": \"N0.87922816099424871505416539791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87922816099424871505416539791\",
    \"state\": \"15054165397910.458198227702064\"
  }
}" (9a175e33)
2017-09-14T22:15:39.8063936+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:39.8179022+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:39.8199008+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:39.8214036+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:39.8229024+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:39.8249041+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:39.8274071+03:00 0HL7OIHK18F4H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:39.8439167+03:00 0HL7OIHK18F4H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165397910.458198227702064\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:39.8444172+03:00 0HL7OIHK18F4H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:39.8454183+03:00 0HL7OIHK18F4H [INF] Request finished in 46.5258ms 302  (15c52c40)
2017-09-14T22:15:43.7996799+03:00 0HL7OIHK18F4I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54330515712526831505416543790&state=15054165437900.8595807838156615   (e5be5b71)
2017-09-14T22:15:43.8036830+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:43.8041831+03:00 0HL7OIHK18F4I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:43.8046836+03:00 0HL7OIHK18F4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:43.8046836+03:00 0HL7OIHK18F4I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:43.8051845+03:00 0HL7OIHK18F4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:43.8056839+03:00 0HL7OIHK18F4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:43.8061860+03:00 0HL7OIHK18F4I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165437900.8595807838156615\",
  \"Nonce\": \"N0.54330515712526831505416543790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54330515712526831505416543790\",
    \"state\": \"15054165437900.8595807838156615\"
  }
}" (9a175e33)
2017-09-14T22:15:43.8096861+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:43.8201933+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:43.8221942+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:43.8241963+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:43.8266978+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:43.8286983+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:43.8301995+03:00 0HL7OIHK18F4I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:43.8487116+03:00 0HL7OIHK18F4I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165437900.8595807838156615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:43.8492121+03:00 0HL7OIHK18F4I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:43.8497126+03:00 0HL7OIHK18F4I [INF] Request finished in 50.4306ms 302  (15c52c40)
2017-09-14T22:15:47.8004496+03:00 0HL7OIHK18F4J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72484694186272081505416547790&state=15054165477900.047744208339445704   (e5be5b71)
2017-09-14T22:15:47.8034516+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:47.8039526+03:00 0HL7OIHK18F4J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:47.8044527+03:00 0HL7OIHK18F4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:47.8044527+03:00 0HL7OIHK18F4J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:47.8049532+03:00 0HL7OIHK18F4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:47.8054534+03:00 0HL7OIHK18F4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:47.8054534+03:00 0HL7OIHK18F4J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165477900.047744208339445704\",
  \"Nonce\": \"N0.72484694186272081505416547790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72484694186272081505416547790\",
    \"state\": \"15054165477900.047744208339445704\"
  }
}" (9a175e33)
2017-09-14T22:15:47.8094560+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:47.8219637+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:47.8244656+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:47.8269674+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:47.8289687+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:47.8309701+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:47.8329714+03:00 0HL7OIHK18F4J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:47.8539853+03:00 0HL7OIHK18F4J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165477900.047744208339445704\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:47.8544858+03:00 0HL7OIHK18F4J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:47.8559866+03:00 0HL7OIHK18F4J [INF] Request finished in 55.4872ms 302  (15c52c40)
2017-09-14T22:15:51.8045206+03:00 0HL7OIHK18F4K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44865272965003581505416551790&state=15054165517900.9648814850708209   (e5be5b71)
2017-09-14T22:15:51.8070220+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:51.8075238+03:00 0HL7OIHK18F4K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:51.8080223+03:00 0HL7OIHK18F4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:51.8080223+03:00 0HL7OIHK18F4K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:51.8085240+03:00 0HL7OIHK18F4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:51.8090242+03:00 0HL7OIHK18F4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:51.8090242+03:00 0HL7OIHK18F4K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165517900.9648814850708209\",
  \"Nonce\": \"N0.44865272965003581505416551790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44865272965003581505416551790\",
    \"state\": \"15054165517900.9648814850708209\"
  }
}" (9a175e33)
2017-09-14T22:15:51.8115248+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:51.8235332+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:51.8255345+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:51.8275358+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:51.8290370+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:51.8310372+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:51.8330393+03:00 0HL7OIHK18F4K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:51.8495512+03:00 0HL7OIHK18F4K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165517900.9648814850708209\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:51.8500517+03:00 0HL7OIHK18F4K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:51.8510516+03:00 0HL7OIHK18F4K [INF] Request finished in 46.6912ms 302  (15c52c40)
2017-09-14T22:15:55.7996389+03:00 0HL7OIHK18F4L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94896359002464741505416555792&state=15054165557920.23493060589360537   (e5be5b71)
2017-09-14T22:15:55.8031410+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:55.8036447+03:00 0HL7OIHK18F4L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:55.8041420+03:00 0HL7OIHK18F4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:55.8041420+03:00 0HL7OIHK18F4L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:55.8046437+03:00 0HL7OIHK18F4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:55.8051439+03:00 0HL7OIHK18F4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:55.8051439+03:00 0HL7OIHK18F4L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165557920.23493060589360537\",
  \"Nonce\": \"N0.94896359002464741505416555792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94896359002464741505416555792\",
    \"state\": \"15054165557920.23493060589360537\"
  }
}" (9a175e33)
2017-09-14T22:15:55.8076457+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:55.8186518+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:55.8211533+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:55.8231546+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:55.8251556+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:55.8276586+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:55.8291610+03:00 0HL7OIHK18F4L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:55.8481716+03:00 0HL7OIHK18F4L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165557920.23493060589360537\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:55.8486709+03:00 0HL7OIHK18F4L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:55.8496720+03:00 0HL7OIHK18F4L [INF] Request finished in 49.8448ms 302  (15c52c40)
2017-09-14T22:15:59.7997170+03:00 0HL7OIHK18F4M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.194514642030627851505416559790&state=15054165597900.2684659130470979   (e5be5b71)
2017-09-14T22:15:59.8037205+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:15:59.8047203+03:00 0HL7OIHK18F4M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:15:59.8047203+03:00 0HL7OIHK18F4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:59.8052205+03:00 0HL7OIHK18F4M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:15:59.8052205+03:00 0HL7OIHK18F4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:59.8057206+03:00 0HL7OIHK18F4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:59.8062207+03:00 0HL7OIHK18F4M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165597900.2684659130470979\",
  \"Nonce\": \"N0.194514642030627851505416559790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.194514642030627851505416559790\",
    \"state\": \"15054165597900.2684659130470979\"
  }
}" (9a175e33)
2017-09-14T22:15:59.8142264+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:15:59.8282361+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:59.8302370+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:15:59.8322380+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:15:59.8342401+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:15:59.8392434+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:15:59.8417452+03:00 0HL7OIHK18F4M [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:15:59.8622582+03:00 0HL7OIHK18F4M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165597900.2684659130470979\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:15:59.8632589+03:00 0HL7OIHK18F4M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:15:59.8642596+03:00 0HL7OIHK18F4M [INF] Request finished in 64.6226ms 302  (15c52c40)
2017-09-14T22:16:03.8010571+03:00 0HL7OIHK18F4N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3346799884275421505416563791&state=15054165637910.6384938746442512   (e5be5b71)
2017-09-14T22:16:03.8050614+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:03.8055603+03:00 0HL7OIHK18F4N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:03.8055603+03:00 0HL7OIHK18F4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:03.8060601+03:00 0HL7OIHK18F4N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:03.8065606+03:00 0HL7OIHK18F4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:03.8070623+03:00 0HL7OIHK18F4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:03.8070623+03:00 0HL7OIHK18F4N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165637910.6384938746442512\",
  \"Nonce\": \"N0.3346799884275421505416563791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3346799884275421505416563791\",
    \"state\": \"15054165637910.6384938746442512\"
  }
}" (9a175e33)
2017-09-14T22:16:03.8105632+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:03.8205707+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:03.8225728+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:03.8255732+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:03.8285756+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:03.8325778+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:03.8345795+03:00 0HL7OIHK18F4N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:03.8510899+03:00 0HL7OIHK18F4N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165637910.6384938746442512\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:03.8520910+03:00 0HL7OIHK18F4N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:03.8525915+03:00 0HL7OIHK18F4N [INF] Request finished in 52.4911ms 302  (15c52c40)
2017-09-14T22:16:07.7999850+03:00 0HL7OIHK18F4O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26493750047198031505416567790&state=15054165677900.48162783621485006   (e5be5b71)
2017-09-14T22:16:07.8029878+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:07.8034876+03:00 0HL7OIHK18F4O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:07.8039877+03:00 0HL7OIHK18F4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:07.8039877+03:00 0HL7OIHK18F4O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:07.8044878+03:00 0HL7OIHK18F4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:07.8049884+03:00 0HL7OIHK18F4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:07.8054901+03:00 0HL7OIHK18F4O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165677900.48162783621485006\",
  \"Nonce\": \"N0.26493750047198031505416567790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26493750047198031505416567790\",
    \"state\": \"15054165677900.48162783621485006\"
  }
}" (9a175e33)
2017-09-14T22:16:07.8094923+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:07.8194997+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:07.8214991+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:07.8235004+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:07.8255025+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:07.8280036+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:07.8300049+03:00 0HL7OIHK18F4O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:07.8475167+03:00 0HL7OIHK18F4O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165677900.48162783621485006\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:07.8480172+03:00 0HL7OIHK18F4O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:07.8490175+03:00 0HL7OIHK18F4O [INF] Request finished in 49.308ms 302  (15c52c40)
2017-09-14T22:16:11.8040319+03:00 0HL7OIHK18F4P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.42884275772581341505416571791&state=15054165717910.04789052942011973   (e5be5b71)
2017-09-14T22:16:11.8070347+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:11.8075348+03:00 0HL7OIHK18F4P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:11.8080349+03:00 0HL7OIHK18F4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:11.8085355+03:00 0HL7OIHK18F4P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:11.8085355+03:00 0HL7OIHK18F4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:11.8095361+03:00 0HL7OIHK18F4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:11.8095361+03:00 0HL7OIHK18F4P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165717910.04789052942011973\",
  \"Nonce\": \"N0.42884275772581341505416571791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.42884275772581341505416571791\",
    \"state\": \"15054165717910.04789052942011973\"
  }
}" (9a175e33)
2017-09-14T22:16:11.8155393+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:11.8290485+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:11.8335516+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:11.8415566+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:11.8450591+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:11.8470604+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:11.8525646+03:00 0HL7OIHK18F4P [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:11.8725771+03:00 0HL7OIHK18F4P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165717910.04789052942011973\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:11.8730776+03:00 0HL7OIHK18F4P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:11.8745784+03:00 0HL7OIHK18F4P [INF] Request finished in 70.2192ms 302  (15c52c40)
2017-09-14T22:16:15.7988182+03:00 0HL7OIHK18F4Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.331681047887343541505416575791&state=15054165757910.6661936514032913   (e5be5b71)
2017-09-14T22:16:15.8008195+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:15.8013197+03:00 0HL7OIHK18F4Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:15.8018210+03:00 0HL7OIHK18F4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:15.8018210+03:00 0HL7OIHK18F4Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:15.8023199+03:00 0HL7OIHK18F4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:15.8033206+03:00 0HL7OIHK18F4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:15.8033206+03:00 0HL7OIHK18F4Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165757910.6661936514032913\",
  \"Nonce\": \"N0.331681047887343541505416575791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.331681047887343541505416575791\",
    \"state\": \"15054165757910.6661936514032913\"
  }
}" (9a175e33)
2017-09-14T22:16:15.8088252+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:15.8273369+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:15.8303397+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:15.8338414+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:15.8383442+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:15.8408448+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:15.8443481+03:00 0HL7OIHK18F4Q [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:15.8608581+03:00 0HL7OIHK18F4Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165757910.6661936514032913\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:15.8618592+03:00 0HL7OIHK18F4Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:15.8623601+03:00 0HL7OIHK18F4Q [INF] Request finished in 63.9903ms 302  (15c52c40)
2017-09-14T22:16:19.8032629+03:00 0HL7OIHK18F4R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.231932749888710041505416579794&state=15054165797940.3432926713362001   (e5be5b71)
2017-09-14T22:16:19.8067643+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:19.8072648+03:00 0HL7OIHK18F4R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:19.8077653+03:00 0HL7OIHK18F4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:19.8077653+03:00 0HL7OIHK18F4R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:19.8082655+03:00 0HL7OIHK18F4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:19.8087660+03:00 0HL7OIHK18F4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:19.8092661+03:00 0HL7OIHK18F4R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165797940.3432926713362001\",
  \"Nonce\": \"N0.231932749888710041505416579794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.231932749888710041505416579794\",
    \"state\": \"15054165797940.3432926713362001\"
  }
}" (9a175e33)
2017-09-14T22:16:19.8122681+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:19.8222748+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:19.8257773+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:19.8287793+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:19.8302812+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:19.8317809+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:19.8337834+03:00 0HL7OIHK18F4R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:19.8492923+03:00 0HL7OIHK18F4R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165797940.3432926713362001\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:19.8497932+03:00 0HL7OIHK18F4R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:19.8502941+03:00 0HL7OIHK18F4R [INF] Request finished in 47.8431ms 302  (15c52c40)
2017-09-14T22:16:23.7995717+03:00 0HL7OIHK18F4S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75078673452083321505416583791&state=15054165837910.9694387833535354   (e5be5b71)
2017-09-14T22:16:23.8020732+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:23.8025729+03:00 0HL7OIHK18F4S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:23.8030735+03:00 0HL7OIHK18F4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:23.8035768+03:00 0HL7OIHK18F4S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:23.8040749+03:00 0HL7OIHK18F4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:23.8050752+03:00 0HL7OIHK18F4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:23.8055753+03:00 0HL7OIHK18F4S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165837910.9694387833535354\",
  \"Nonce\": \"N0.75078673452083321505416583791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75078673452083321505416583791\",
    \"state\": \"15054165837910.9694387833535354\"
  }
}" (9a175e33)
2017-09-14T22:16:23.8085765+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:23.8165822+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:23.8190841+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:23.8210854+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:23.8230859+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:23.8245875+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:23.8270890+03:00 0HL7OIHK18F4S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:23.8415980+03:00 0HL7OIHK18F4S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165837910.9694387833535354\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:23.8420989+03:00 0HL7OIHK18F4S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:23.8425991+03:00 0HL7OIHK18F4S [INF] Request finished in 43.8586ms 302  (15c52c40)
2017-09-14T22:16:26.7983208+03:00 0HL7OIHK18F4T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.196834440643930631505416586791&state=15054165867910.8694162797261293   (e5be5b71)
2017-09-14T22:16:26.8008223+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:26.8013228+03:00 0HL7OIHK18F4T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:26.8023247+03:00 0HL7OIHK18F4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:26.8023247+03:00 0HL7OIHK18F4T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:26.8033245+03:00 0HL7OIHK18F4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:26.8048253+03:00 0HL7OIHK18F4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:26.8058268+03:00 0HL7OIHK18F4T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165867910.8694162797261293\",
  \"Nonce\": \"N0.196834440643930631505416586791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.196834440643930631505416586791\",
    \"state\": \"15054165867910.8694162797261293\"
  }
}" (9a175e33)
2017-09-14T22:16:26.8118304+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:26.8263394+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:26.8283435+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:26.8298419+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:26.8318440+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:26.8348448+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:26.8373471+03:00 0HL7OIHK18F4T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:26.8588615+03:00 0HL7OIHK18F4T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165867910.8694162797261293\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:26.8593616+03:00 0HL7OIHK18F4T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:26.8603623+03:00 0HL7OIHK18F4T [INF] Request finished in 62.1164ms 302  (15c52c40)
2017-09-14T22:16:30.7998003+03:00 0HL7OIHK18F4U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6395680244534311505416590791&state=15054165907910.27765218326590424   (e5be5b71)
2017-09-14T22:16:30.8023022+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:30.8028027+03:00 0HL7OIHK18F4U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:30.8038033+03:00 0HL7OIHK18F4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:30.8038033+03:00 0HL7OIHK18F4U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:30.8048048+03:00 0HL7OIHK18F4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:30.8053049+03:00 0HL7OIHK18F4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:30.8058078+03:00 0HL7OIHK18F4U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165907910.27765218326590424\",
  \"Nonce\": \"N0.6395680244534311505416590791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6395680244534311505416590791\",
    \"state\": \"15054165907910.27765218326590424\"
  }
}" (9a175e33)
2017-09-14T22:16:30.8093076+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:30.8163114+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:30.8178122+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:30.8263185+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:30.8278189+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:30.8298206+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:30.8318219+03:00 0HL7OIHK18F4U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:30.8473320+03:00 0HL7OIHK18F4U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165907910.27765218326590424\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:30.8478325+03:00 0HL7OIHK18F4U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:30.8483326+03:00 0HL7OIHK18F4U [INF] Request finished in 48.8769ms 302  (15c52c40)
2017-09-14T22:16:34.7992962+03:00 0HL7OIHK18F4V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.15415746046635361505416594790&state=15054165947900.10961563470331748   (e5be5b71)
2017-09-14T22:16:34.8017981+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:34.8022982+03:00 0HL7OIHK18F4V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:34.8027991+03:00 0HL7OIHK18F4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:34.8032997+03:00 0HL7OIHK18F4V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:34.8037998+03:00 0HL7OIHK18F4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:34.8048009+03:00 0HL7OIHK18F4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:34.8048009+03:00 0HL7OIHK18F4V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165947900.10961563470331748\",
  \"Nonce\": \"N0.15415746046635361505416594790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.15415746046635361505416594790\",
    \"state\": \"15054165947900.10961563470331748\"
  }
}" (9a175e33)
2017-09-14T22:16:34.8088031+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:34.8193099+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:34.8223123+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:34.8243132+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:34.8263149+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:34.8288160+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:34.8303176+03:00 0HL7OIHK18F4V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:34.8503308+03:00 0HL7OIHK18F4V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165947900.10961563470331748\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:34.8508305+03:00 0HL7OIHK18F4V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:34.8518312+03:00 0HL7OIHK18F4V [INF] Request finished in 52.5898ms 302  (15c52c40)
2017-09-14T22:16:38.7976206+03:00 0HL7OIHK18F50 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.13482244987528081505416598791&state=15054165987910.25924516186448665   (e5be5b71)
2017-09-14T22:16:38.8001232+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:38.8006225+03:00 0HL7OIHK18F50 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:38.8011223+03:00 0HL7OIHK18F50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:38.8011223+03:00 0HL7OIHK18F50 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:38.8016236+03:00 0HL7OIHK18F50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:38.8021229+03:00 0HL7OIHK18F50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:38.8021229+03:00 0HL7OIHK18F50 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054165987910.25924516186448665\",
  \"Nonce\": \"N0.13482244987528081505416598791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.13482244987528081505416598791\",
    \"state\": \"15054165987910.25924516186448665\"
  }
}" (9a175e33)
2017-09-14T22:16:38.8051269+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:38.8151323+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:38.8166324+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:38.8181335+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:38.8206358+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:38.8241375+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:38.8256403+03:00 0HL7OIHK18F50 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:38.8411488+03:00 0HL7OIHK18F50 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054165987910.25924516186448665\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:38.8421498+03:00 0HL7OIHK18F50 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:38.8426504+03:00 0HL7OIHK18F50 [INF] Request finished in 45.4758ms 302  (15c52c40)
2017-09-14T22:16:42.8013177+03:00 0HL7OIHK18F51 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32369927190766881505416602791&state=15054166027910.6634813414114129   (e5be5b71)
2017-09-14T22:16:42.8043189+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:42.8048194+03:00 0HL7OIHK18F51 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:42.8053187+03:00 0HL7OIHK18F51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:42.8053187+03:00 0HL7OIHK18F51 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:42.8058189+03:00 0HL7OIHK18F51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:42.8063182+03:00 0HL7OIHK18F51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:42.8063182+03:00 0HL7OIHK18F51 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166027910.6634813414114129\",
  \"Nonce\": \"N0.32369927190766881505416602791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32369927190766881505416602791\",
    \"state\": \"15054166027910.6634813414114129\"
  }
}" (9a175e33)
2017-09-14T22:16:42.8088197+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:42.8178257+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:42.8198270+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:42.8223288+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:42.8243306+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:42.8278343+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:42.8293354+03:00 0HL7OIHK18F51 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:42.8438429+03:00 0HL7OIHK18F51 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166027910.6634813414114129\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:42.8448439+03:00 0HL7OIHK18F51 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:42.8458462+03:00 0HL7OIHK18F51 [INF] Request finished in 44.9741ms 302  (15c52c40)
2017-09-14T22:16:46.8001271+03:00 0HL7OIHK18F52 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91629630953305831505416606791&state=15054166067910.5652575257040717   (e5be5b71)
2017-09-14T22:16:46.8026290+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:46.8036293+03:00 0HL7OIHK18F52 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:46.8036293+03:00 0HL7OIHK18F52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:46.8041302+03:00 0HL7OIHK18F52 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:46.8046303+03:00 0HL7OIHK18F52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:46.8056322+03:00 0HL7OIHK18F52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:46.8061311+03:00 0HL7OIHK18F52 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166067910.5652575257040717\",
  \"Nonce\": \"N0.91629630953305831505416606791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91629630953305831505416606791\",
    \"state\": \"15054166067910.5652575257040717\"
  }
}" (9a175e33)
2017-09-14T22:16:46.8106339+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:46.8231424+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:46.8251441+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:46.8276452+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:46.8296465+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:46.8316482+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:46.8336507+03:00 0HL7OIHK18F52 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:46.8531611+03:00 0HL7OIHK18F52 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166067910.5652575257040717\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:46.8541645+03:00 0HL7OIHK18F52 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:46.8546639+03:00 0HL7OIHK18F52 [INF] Request finished in 55.1497ms 302  (15c52c40)
2017-09-14T22:16:50.8004074+03:00 0HL7OIHK18F53 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79768001704127321505416610790&state=15054166107900.8586951378235843   (e5be5b71)
2017-09-14T22:16:50.8034094+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:50.8039099+03:00 0HL7OIHK18F53 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:50.8044105+03:00 0HL7OIHK18F53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:50.8044105+03:00 0HL7OIHK18F53 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:50.8049106+03:00 0HL7OIHK18F53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:50.8059124+03:00 0HL7OIHK18F53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:50.8059124+03:00 0HL7OIHK18F53 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166107900.8586951378235843\",
  \"Nonce\": \"N0.79768001704127321505416610790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79768001704127321505416610790\",
    \"state\": \"15054166107900.8586951378235843\"
  }
}" (9a175e33)
2017-09-14T22:16:50.8114147+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:50.8234227+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:50.8249234+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:50.8269260+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:50.8294274+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:50.8314280+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:50.8334297+03:00 0HL7OIHK18F53 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:50.8479383+03:00 0HL7OIHK18F53 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166107900.8586951378235843\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:50.8484392+03:00 0HL7OIHK18F53 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:50.8494399+03:00 0HL7OIHK18F53 [INF] Request finished in 49.593ms 302  (15c52c40)
2017-09-14T22:16:53.7986536+03:00 0HL7OIHK18F54 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.244212874543677571505416613791&state=15054166137910.5669200773953011   (e5be5b71)
2017-09-14T22:16:53.8006549+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:53.8011578+03:00 0HL7OIHK18F54 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:53.8016552+03:00 0HL7OIHK18F54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:53.8016552+03:00 0HL7OIHK18F54 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:53.8021569+03:00 0HL7OIHK18F54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:53.8026566+03:00 0HL7OIHK18F54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:53.8026566+03:00 0HL7OIHK18F54 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166137910.5669200773953011\",
  \"Nonce\": \"N0.244212874543677571505416613791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.244212874543677571505416613791\",
    \"state\": \"15054166137910.5669200773953011\"
  }
}" (9a175e33)
2017-09-14T22:16:53.8056594+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:53.8166671+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:53.8181683+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:53.8201680+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:53.8231732+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:53.8256715+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:53.8271723+03:00 0HL7OIHK18F54 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:53.8436838+03:00 0HL7OIHK18F54 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166137910.5669200773953011\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:53.8441843+03:00 0HL7OIHK18F54 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:53.8451850+03:00 0HL7OIHK18F54 [INF] Request finished in 46.9699ms 302  (15c52c40)
2017-09-14T22:16:57.8021289+03:00 0HL7OIHK18F55 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.431506618843537471505416617791&state=15054166177910.657599970105323   (e5be5b71)
2017-09-14T22:16:57.8046307+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:16:57.8056369+03:00 0HL7OIHK18F55 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:16:57.8061327+03:00 0HL7OIHK18F55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:57.8066328+03:00 0HL7OIHK18F55 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:16:57.8071322+03:00 0HL7OIHK18F55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:57.8076331+03:00 0HL7OIHK18F55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:57.8081332+03:00 0HL7OIHK18F55 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166177910.657599970105323\",
  \"Nonce\": \"N0.431506618843537471505416617791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.431506618843537471505416617791\",
    \"state\": \"15054166177910.657599970105323\"
  }
}" (9a175e33)
2017-09-14T22:16:57.8116350+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:16:57.8206413+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:57.8246440+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:16:57.8266449+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:16:57.8296469+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:16:57.8321484+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:16:57.8341497+03:00 0HL7OIHK18F55 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:16:57.8551640+03:00 0HL7OIHK18F55 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166177910.657599970105323\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:16:57.8566656+03:00 0HL7OIHK18F55 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:16:57.8581668+03:00 0HL7OIHK18F55 [INF] Request finished in 55.8488ms 302  (15c52c40)
2017-09-14T22:17:01.8000245+03:00 0HL7OIHK18F56 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39867188647838961505416621790&state=15054166217900.15994266372181265   (e5be5b71)
2017-09-14T22:17:01.8030261+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:01.8035266+03:00 0HL7OIHK18F56 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:01.8040268+03:00 0HL7OIHK18F56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:01.8040268+03:00 0HL7OIHK18F56 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:01.8045269+03:00 0HL7OIHK18F56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:01.8050278+03:00 0HL7OIHK18F56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:01.8055319+03:00 0HL7OIHK18F56 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166217900.15994266372181265\",
  \"Nonce\": \"N0.39867188647838961505416621790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39867188647838961505416621790\",
    \"state\": \"15054166217900.15994266372181265\"
  }
}" (9a175e33)
2017-09-14T22:17:01.8100304+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:01.8215409+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:01.8240396+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:01.8265419+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:01.8280423+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:01.8300436+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:01.8320449+03:00 0HL7OIHK18F56 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:01.8500569+03:00 0HL7OIHK18F56 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166217900.15994266372181265\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:01.8505574+03:00 0HL7OIHK18F56 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:01.8510575+03:00 0HL7OIHK18F56 [INF] Request finished in 51.2177ms 302  (15c52c40)
2017-09-14T22:17:04.8094319+03:00 0HL7OIHK18F57 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79217218224785961505416624792&state=15054166247920.7853496478114284   (e5be5b71)
2017-09-14T22:17:04.8134302+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:04.8144333+03:00 0HL7OIHK18F57 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:04.8149330+03:00 0HL7OIHK18F57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:04.8149330+03:00 0HL7OIHK18F57 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:04.8154312+03:00 0HL7OIHK18F57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:04.8169355+03:00 0HL7OIHK18F57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:04.8174329+03:00 0HL7OIHK18F57 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166247920.7853496478114284\",
  \"Nonce\": \"N0.79217218224785961505416624792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79217218224785961505416624792\",
    \"state\": \"15054166247920.7853496478114284\"
  }
}" (9a175e33)
2017-09-14T22:17:04.8209350+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:04.8354448+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:04.8379467+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:04.8414484+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:04.8444508+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:04.8459516+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:04.8474536+03:00 0HL7OIHK18F57 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:04.8604606+03:00 0HL7OIHK18F57 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166247920.7853496478114284\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:04.8609623+03:00 0HL7OIHK18F57 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:04.8619622+03:00 0HL7OIHK18F57 [INF] Request finished in 54.5177ms 302  (15c52c40)
2017-09-14T22:17:08.7992575+03:00 0HL7OIHK18F58 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63659880367367471505416628791&state=15054166287910.44131977223535834   (e5be5b71)
2017-09-14T22:17:08.8017582+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:08.8022587+03:00 0HL7OIHK18F58 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:08.8026172+03:00 0HL7OIHK18F58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:08.8026172+03:00 0HL7OIHK18F58 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:08.8031201+03:00 0HL7OIHK18F58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:08.8036214+03:00 0HL7OIHK18F58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:08.8041219+03:00 0HL7OIHK18F58 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166287910.44131977223535834\",
  \"Nonce\": \"N0.63659880367367471505416628791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63659880367367471505416628791\",
    \"state\": \"15054166287910.44131977223535834\"
  }
}" (9a175e33)
2017-09-14T22:17:08.8061228+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:08.8166288+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:08.8186301+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:08.8236370+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:08.8261361+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:08.8281382+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:08.8301379+03:00 0HL7OIHK18F58 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:08.8451475+03:00 0HL7OIHK18F58 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166287910.44131977223535834\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:08.8456480+03:00 0HL7OIHK18F58 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:08.8466487+03:00 0HL7OIHK18F58 [INF] Request finished in 47.7519ms 302  (15c52c40)
2017-09-14T22:17:12.7978834+03:00 0HL7OIHK18F59 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.061521616196847041505416632791&state=15054166327910.9324933672210045   (e5be5b71)
2017-09-14T22:17:12.8003837+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:12.8008843+03:00 0HL7OIHK18F59 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:12.8013840+03:00 0HL7OIHK18F59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:12.8013840+03:00 0HL7OIHK18F59 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:12.8018849+03:00 0HL7OIHK18F59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:12.8023854+03:00 0HL7OIHK18F59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:12.8023854+03:00 0HL7OIHK18F59 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166327910.9324933672210045\",
  \"Nonce\": \"N0.061521616196847041505416632791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.061521616196847041505416632791\",
    \"state\": \"15054166327910.9324933672210045\"
  }
}" (9a175e33)
2017-09-14T22:17:12.8048861+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:12.8158938+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:12.8168949+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:12.8188958+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:12.8213992+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:12.8269015+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:12.8289028+03:00 0HL7OIHK18F59 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:12.8429117+03:00 0HL7OIHK18F59 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166327910.9324933672210045\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:12.8434126+03:00 0HL7OIHK18F59 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:12.8439131+03:00 0HL7OIHK18F59 [INF] Request finished in 46.7398ms 302  (15c52c40)
2017-09-14T22:17:16.8069913+03:00 0HL7OIHK18F5A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51623694393009421505416636791&state=15054166367910.8369359652205886   (e5be5b71)
2017-09-14T22:17:16.8099917+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:16.8109927+03:00 0HL7OIHK18F5A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:16.8114929+03:00 0HL7OIHK18F5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:16.8114929+03:00 0HL7OIHK18F5A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:16.8119930+03:00 0HL7OIHK18F5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:16.8124939+03:00 0HL7OIHK18F5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:16.8124939+03:00 0HL7OIHK18F5A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166367910.8369359652205886\",
  \"Nonce\": \"N0.51623694393009421505416636791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51623694393009421505416636791\",
    \"state\": \"15054166367910.8369359652205886\"
  }
}" (9a175e33)
2017-09-14T22:17:16.8169967+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:16.8290054+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:16.8330065+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:16.8385108+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:16.8425126+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:16.8455150+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:16.8495173+03:00 0HL7OIHK18F5A [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:16.8650285+03:00 0HL7OIHK18F5A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166367910.8369359652205886\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:16.8655286+03:00 0HL7OIHK18F5A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:16.8660288+03:00 0HL7OIHK18F5A [INF] Request finished in 60.1984ms 302  (15c52c40)
2017-09-14T22:17:20.8048837+03:00 0HL7OIHK18F5B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98936721445950651505416640791&state=15054166407910.9205177134680724   (e5be5b71)
2017-09-14T22:17:20.8088864+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:20.8093869+03:00 0HL7OIHK18F5B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:20.8098875+03:00 0HL7OIHK18F5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:20.8098875+03:00 0HL7OIHK18F5B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:20.8103876+03:00 0HL7OIHK18F5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:20.8108881+03:00 0HL7OIHK18F5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:20.8108881+03:00 0HL7OIHK18F5B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166407910.9205177134680724\",
  \"Nonce\": \"N0.98936721445950651505416640791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98936721445950651505416640791\",
    \"state\": \"15054166407910.9205177134680724\"
  }
}" (9a175e33)
2017-09-14T22:17:20.8163916+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:20.8339038+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:20.8369050+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:20.8409080+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:20.8444105+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:20.8479126+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:20.8519153+03:00 0HL7OIHK18F5B [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:20.8674254+03:00 0HL7OIHK18F5B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166407910.9205177134680724\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:20.8679263+03:00 0HL7OIHK18F5B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:20.8689266+03:00 0HL7OIHK18F5B [INF] Request finished in 63.8497ms 302  (15c52c40)
2017-09-14T22:17:24.8004931+03:00 0HL7OIHK18F5C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61283152011968231505416644791&state=15054166447910.718490261814696   (e5be5b71)
2017-09-14T22:17:24.8034943+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:24.8039960+03:00 0HL7OIHK18F5C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:24.8044965+03:00 0HL7OIHK18F5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:24.8044965+03:00 0HL7OIHK18F5C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:24.8049982+03:00 0HL7OIHK18F5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:24.8049982+03:00 0HL7OIHK18F5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:24.8054956+03:00 0HL7OIHK18F5C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166447910.718490261814696\",
  \"Nonce\": \"N0.61283152011968231505416644791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61283152011968231505416644791\",
    \"state\": \"15054166447910.718490261814696\"
  }
}" (9a175e33)
2017-09-14T22:17:24.8084976+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:24.8180041+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:24.8195068+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:24.8220083+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:24.8235075+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:24.8260106+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:24.8290110+03:00 0HL7OIHK18F5C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:24.8425209+03:00 0HL7OIHK18F5C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166447910.718490261814696\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:24.8430210+03:00 0HL7OIHK18F5C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:24.8435208+03:00 0HL7OIHK18F5C [INF] Request finished in 43.45ms 302  (15c52c40)
2017-09-14T22:17:27.8053930+03:00 0HL7OIHK18F5D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.148058344069317281505416647793&state=15054166477930.813263966874568   (e5be5b71)
2017-09-14T22:17:27.8108964+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:27.8113985+03:00 0HL7OIHK18F5D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:27.8118971+03:00 0HL7OIHK18F5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:27.8118971+03:00 0HL7OIHK18F5D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:27.8128973+03:00 0HL7OIHK18F5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:27.8138984+03:00 0HL7OIHK18F5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:27.8138984+03:00 0HL7OIHK18F5D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166477930.813263966874568\",
  \"Nonce\": \"N0.148058344069317281505416647793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.148058344069317281505416647793\",
    \"state\": \"15054166477930.813263966874568\"
  }
}" (9a175e33)
2017-09-14T22:17:27.8169012+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:27.8299086+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:27.8314102+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:27.8334111+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:27.8349123+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:27.8369144+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:27.8384144+03:00 0HL7OIHK18F5D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:27.8624307+03:00 0HL7OIHK18F5D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166477930.813263966874568\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:27.8634314+03:00 0HL7OIHK18F5D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:27.8664346+03:00 0HL7OIHK18F5D [INF] Request finished in 59.6351ms 302  (15c52c40)
2017-09-14T22:17:31.7990732+03:00 0HL7OIHK18F5E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.28208477779271511505416651792&state=15054166517920.7286740832616476   (e5be5b71)
2017-09-14T22:17:31.8015747+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:31.8020752+03:00 0HL7OIHK18F5E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:31.8025765+03:00 0HL7OIHK18F5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:31.8025765+03:00 0HL7OIHK18F5E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:31.8035772+03:00 0HL7OIHK18F5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:31.8040769+03:00 0HL7OIHK18F5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:31.8040769+03:00 0HL7OIHK18F5E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166517920.7286740832616476\",
  \"Nonce\": \"N0.28208477779271511505416651792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.28208477779271511505416651792\",
    \"state\": \"15054166517920.7286740832616476\"
  }
}" (9a175e33)
2017-09-14T22:17:31.8110811+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:31.8220880+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:31.8265912+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:31.8285941+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:31.8305958+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:31.8320962+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:31.8381002+03:00 0HL7OIHK18F5E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:31.8546094+03:00 0HL7OIHK18F5E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166517920.7286740832616476\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:31.8551107+03:00 0HL7OIHK18F5E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:31.8571120+03:00 0HL7OIHK18F5E [INF] Request finished in 57.3452ms 302  (15c52c40)
2017-09-14T22:17:35.8002286+03:00 0HL7OIHK18F5F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.183030278345857061505416655791&state=15054166557910.43522219758795466   (e5be5b71)
2017-09-14T22:17:35.8027301+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:35.8032306+03:00 0HL7OIHK18F5F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:35.8037307+03:00 0HL7OIHK18F5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:35.8042312+03:00 0HL7OIHK18F5F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:35.8042312+03:00 0HL7OIHK18F5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:35.8047314+03:00 0HL7OIHK18F5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:35.8052323+03:00 0HL7OIHK18F5F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166557910.43522219758795466\",
  \"Nonce\": \"N0.183030278345857061505416655791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.183030278345857061505416655791\",
    \"state\": \"15054166557910.43522219758795466\"
  }
}" (9a175e33)
2017-09-14T22:17:35.8122358+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:35.8222432+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:35.8242449+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:35.8267460+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:35.8287477+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:35.8307490+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:35.8327503+03:00 0HL7OIHK18F5F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:35.8492611+03:00 0HL7OIHK18F5F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166557910.43522219758795466\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:35.8502617+03:00 0HL7OIHK18F5F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:35.8512624+03:00 0HL7OIHK18F5F [INF] Request finished in 51.4174ms 302  (15c52c40)
2017-09-14T22:17:39.8033364+03:00 0HL7OIHK18F5G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51667633511787161505416659793&state=15054166597930.7517999788600727   (e5be5b71)
2017-09-14T22:17:39.8068393+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:39.8083436+03:00 0HL7OIHK18F5G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:39.8088422+03:00 0HL7OIHK18F5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:39.8093411+03:00 0HL7OIHK18F5G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:39.8098409+03:00 0HL7OIHK18F5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:39.8113417+03:00 0HL7OIHK18F5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:39.8118426+03:00 0HL7OIHK18F5G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166597930.7517999788600727\",
  \"Nonce\": \"N0.51667633511787161505416659793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51667633511787161505416659793\",
    \"state\": \"15054166597930.7517999788600727\"
  }
}" (9a175e33)
2017-09-14T22:17:39.8158449+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:39.8253510+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:39.8273527+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:39.8293540+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:39.8308552+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:39.8393602+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:39.8413620+03:00 0HL7OIHK18F5G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:39.8583728+03:00 0HL7OIHK18F5G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166597930.7517999788600727\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:39.8593739+03:00 0HL7OIHK18F5G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:39.8598740+03:00 0HL7OIHK18F5G [INF] Request finished in 57.6101ms 302  (15c52c40)
2017-09-14T22:17:43.8007358+03:00 0HL7OIHK18F5H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74409252407515321505416663792&state=15054166637920.5846919900048517   (e5be5b71)
2017-09-14T22:17:43.8037370+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:43.8042376+03:00 0HL7OIHK18F5H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:43.8047393+03:00 0HL7OIHK18F5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:43.8047393+03:00 0HL7OIHK18F5H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:43.8052394+03:00 0HL7OIHK18F5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:43.8057403+03:00 0HL7OIHK18F5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:43.8057403+03:00 0HL7OIHK18F5H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166637920.5846919900048517\",
  \"Nonce\": \"N0.74409252407515321505416663792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74409252407515321505416663792\",
    \"state\": \"15054166637920.5846919900048517\"
  }
}" (9a175e33)
2017-09-14T22:17:43.8087411+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:43.8182468+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:43.8197476+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:43.8217494+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:43.8252531+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:43.8277533+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:43.8297543+03:00 0HL7OIHK18F5H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:43.8462650+03:00 0HL7OIHK18F5H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166637920.5846919900048517\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:43.8467659+03:00 0HL7OIHK18F5H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:43.8472665+03:00 0HL7OIHK18F5H [INF] Request finished in 47.2916ms 302  (15c52c40)
2017-09-14T22:17:46.8018932+03:00 0HL7OIHK18F5I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6381281237193351505416666793&state=15054166667930.27894320760357605   (e5be5b71)
2017-09-14T22:17:46.8043962+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:46.8053953+03:00 0HL7OIHK18F5I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:46.8058990+03:00 0HL7OIHK18F5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:46.8058990+03:00 0HL7OIHK18F5I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:46.8063960+03:00 0HL7OIHK18F5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:46.8068965+03:00 0HL7OIHK18F5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:46.8073974+03:00 0HL7OIHK18F5I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166667930.27894320760357605\",
  \"Nonce\": \"N0.6381281237193351505416666793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6381281237193351505416666793\",
    \"state\": \"15054166667930.27894320760357605\"
  }
}" (9a175e33)
2017-09-14T22:17:46.8113993+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:46.8184043+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:46.8204068+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:46.8224078+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:46.8249084+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:46.8269094+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:46.8289115+03:00 0HL7OIHK18F5I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:46.8429204+03:00 0HL7OIHK18F5I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166667930.27894320760357605\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:46.8434217+03:00 0HL7OIHK18F5I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:46.8439210+03:00 0HL7OIHK18F5I [INF] Request finished in 42.4581ms 302  (15c52c40)
2017-09-14T22:17:50.8009115+03:00 0HL7OIHK18F5J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.12285608099317781505416670791&state=15054166707910.9576133024660165   (e5be5b71)
2017-09-14T22:17:50.8034133+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:50.8039135+03:00 0HL7OIHK18F5J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:50.8044136+03:00 0HL7OIHK18F5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:50.8044136+03:00 0HL7OIHK18F5J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:50.8049145+03:00 0HL7OIHK18F5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:50.8054147+03:00 0HL7OIHK18F5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:50.8059156+03:00 0HL7OIHK18F5J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166707910.9576133024660165\",
  \"Nonce\": \"N0.12285608099317781505416670791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.12285608099317781505416670791\",
    \"state\": \"15054166707910.9576133024660165\"
  }
}" (9a175e33)
2017-09-14T22:17:50.8089168+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:50.8204238+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:50.8224255+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:50.8244288+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:50.8269287+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:50.8294306+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:50.8314311+03:00 0HL7OIHK18F5J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:50.8919722+03:00 0HL7OIHK18F5J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166707910.9576133024660165\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:50.8929729+03:00 0HL7OIHK18F5J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:50.8934722+03:00 0HL7OIHK18F5J [INF] Request finished in 93.0561ms 302  (15c52c40)
2017-09-14T22:17:53.8008949+03:00 0HL7OIHK18F5K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63582924348797551505416673794&state=15054166737940.47714971644986504   (e5be5b71)
2017-09-14T22:17:53.8043958+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:53.8048980+03:00 0HL7OIHK18F5K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:53.8053973+03:00 0HL7OIHK18F5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:53.8053973+03:00 0HL7OIHK18F5K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:53.8059720+03:00 0HL7OIHK18F5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:53.8064773+03:00 0HL7OIHK18F5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:53.8064773+03:00 0HL7OIHK18F5K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166737940.47714971644986504\",
  \"Nonce\": \"N0.63582924348797551505416673794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63582924348797551505416673794\",
    \"state\": \"15054166737940.47714971644986504\"
  }
}" (9a175e33)
2017-09-14T22:17:53.8114790+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:53.8199837+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:53.8228941+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:53.8248966+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:53.8294010+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:53.8319009+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:53.8339014+03:00 0HL7OIHK18F5K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:53.8509146+03:00 0HL7OIHK18F5K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166737940.47714971644986504\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:53.8514140+03:00 0HL7OIHK18F5K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:53.8519133+03:00 0HL7OIHK18F5K [INF] Request finished in 51.8122ms 302  (15c52c40)
2017-09-14T22:17:57.8001169+03:00 0HL7OIHK18F5L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.034609533232002891505416677792&state=15054166777920.7432334049864575   (e5be5b71)
2017-09-14T22:17:57.8030960+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:17:57.8035973+03:00 0HL7OIHK18F5L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:17:57.8040974+03:00 0HL7OIHK18F5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:57.8040974+03:00 0HL7OIHK18F5L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:17:57.8045968+03:00 0HL7OIHK18F5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:57.8055986+03:00 0HL7OIHK18F5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:57.8055986+03:00 0HL7OIHK18F5L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166777920.7432334049864575\",
  \"Nonce\": \"N0.034609533232002891505416677792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.034609533232002891505416677792\",
    \"state\": \"15054166777920.7432334049864575\"
  }
}" (9a175e33)
2017-09-14T22:17:57.8096017+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:17:57.8196063+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:57.8221867+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:17:57.8236903+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:17:57.8276933+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:17:57.8306949+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:17:57.8326959+03:00 0HL7OIHK18F5L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:17:57.8457053+03:00 0HL7OIHK18F5L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166777920.7432334049864575\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:17:57.8467063+03:00 0HL7OIHK18F5L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:17:57.8472049+03:00 0HL7OIHK18F5L [INF] Request finished in 48.4004ms 302  (15c52c40)
2017-09-14T22:18:00.8002456+03:00 0HL7OIHK18F5M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36512110653642041505416680793&state=15054166807930.2335147433820528   (e5be5b71)
2017-09-14T22:18:00.8027466+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:00.8032468+03:00 0HL7OIHK18F5M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:00.8032468+03:00 0HL7OIHK18F5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:00.8037473+03:00 0HL7OIHK18F5M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:00.8037473+03:00 0HL7OIHK18F5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:00.8042482+03:00 0HL7OIHK18F5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:00.8042482+03:00 0HL7OIHK18F5M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166807930.2335147433820528\",
  \"Nonce\": \"N0.36512110653642041505416680793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36512110653642041505416680793\",
    \"state\": \"15054166807930.2335147433820528\"
  }
}" (9a175e33)
2017-09-14T22:18:00.8062488+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:00.8142541+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:00.8152547+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:00.8167563+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:00.8192578+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:00.8232600+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:00.8252617+03:00 0HL7OIHK18F5M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:00.8432756+03:00 0HL7OIHK18F5M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166807930.2335147433820528\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:00.8437746+03:00 0HL7OIHK18F5M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:00.8442743+03:00 0HL7OIHK18F5M [INF] Request finished in 44.4791ms 302  (15c52c40)
2017-09-14T22:18:04.8003948+03:00 0HL7OIHK18F5N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69727166862152771505416684792&state=15054166847920.45729219761115525   (e5be5b71)
2017-09-14T22:18:04.8033964+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:04.8038969+03:00 0HL7OIHK18F5N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:04.8043970+03:00 0HL7OIHK18F5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:04.8043970+03:00 0HL7OIHK18F5N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:04.8048972+03:00 0HL7OIHK18F5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:04.8053977+03:00 0HL7OIHK18F5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:04.8053977+03:00 0HL7OIHK18F5N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166847920.45729219761115525\",
  \"Nonce\": \"N0.69727166862152771505416684792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69727166862152771505416684792\",
    \"state\": \"15054166847920.45729219761115525\"
  }
}" (9a175e33)
2017-09-14T22:18:04.8094027+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:04.8204088+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:04.8224094+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:04.8239113+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:04.8259127+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:04.8279128+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:04.8309152+03:00 0HL7OIHK18F5N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:04.8564307+03:00 0HL7OIHK18F5N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166847920.45729219761115525\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:04.8574349+03:00 0HL7OIHK18F5N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:04.8589341+03:00 0HL7OIHK18F5N [INF] Request finished in 58.8823ms 302  (15c52c40)
2017-09-14T22:18:08.7980319+03:00 0HL7OIHK18F5O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84031081727095791505416688791&state=15054166887910.15265914963116223   (e5be5b71)
2017-09-14T22:18:08.8010335+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:08.8015340+03:00 0HL7OIHK18F5O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:08.8025351+03:00 0HL7OIHK18F5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:08.8030352+03:00 0HL7OIHK18F5O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:08.8045360+03:00 0HL7OIHK18F5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:08.8055363+03:00 0HL7OIHK18F5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:08.8060368+03:00 0HL7OIHK18F5O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166887910.15265914963116223\",
  \"Nonce\": \"N0.84031081727095791505416688791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84031081727095791505416688791\",
    \"state\": \"15054166887910.15265914963116223\"
  }
}" (9a175e33)
2017-09-14T22:18:08.8110401+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:08.8210463+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:08.8225471+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:08.8240499+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:08.8265502+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:08.8285515+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:08.8300523+03:00 0HL7OIHK18F5O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:08.8440612+03:00 0HL7OIHK18F5O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166887910.15265914963116223\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:08.8450626+03:00 0HL7OIHK18F5O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:08.8455636+03:00 0HL7OIHK18F5O [INF] Request finished in 48.9302ms 302  (15c52c40)
2017-09-14T22:18:12.7986804+03:00 0HL7OIHK18F5P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6772653309405411505416692792&state=15054166927920.2905836986191388   (e5be5b71)
2017-09-14T22:18:12.8016820+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:12.8021829+03:00 0HL7OIHK18F5P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:12.8026839+03:00 0HL7OIHK18F5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:12.8026839+03:00 0HL7OIHK18F5P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:12.8031828+03:00 0HL7OIHK18F5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:12.8036833+03:00 0HL7OIHK18F5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:12.8036833+03:00 0HL7OIHK18F5P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166927920.2905836986191388\",
  \"Nonce\": \"N0.6772653309405411505416692792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6772653309405411505416692792\",
    \"state\": \"15054166927920.2905836986191388\"
  }
}" (9a175e33)
2017-09-14T22:18:12.8061852+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:12.8171925+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:12.8191942+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:12.8206954+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:12.8241979+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:12.8297006+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:12.8312018+03:00 0HL7OIHK18F5P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:12.8472136+03:00 0HL7OIHK18F5P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166927920.2905836986191388\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:12.8477125+03:00 0HL7OIHK18F5P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:12.8482130+03:00 0HL7OIHK18F5P [INF] Request finished in 50.4097ms 302  (15c52c40)
2017-09-14T22:18:16.8035795+03:00 0HL7OIHK18F5Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52041791529135331505416696792&state=15054166967920.1749620511261465   (e5be5b71)
2017-09-14T22:18:16.8055813+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:16.8060810+03:00 0HL7OIHK18F5Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:16.8065815+03:00 0HL7OIHK18F5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:16.8065815+03:00 0HL7OIHK18F5Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:16.8070817+03:00 0HL7OIHK18F5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:16.8075822+03:00 0HL7OIHK18F5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:16.8075822+03:00 0HL7OIHK18F5Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054166967920.1749620511261465\",
  \"Nonce\": \"N0.52041791529135331505416696792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52041791529135331505416696792\",
    \"state\": \"15054166967920.1749620511261465\"
  }
}" (9a175e33)
2017-09-14T22:18:16.8135854+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:16.8426062+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:16.8451064+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:16.8471078+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:16.8491095+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:16.8511108+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:16.8531121+03:00 0HL7OIHK18F5Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:16.8696229+03:00 0HL7OIHK18F5Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054166967920.1749620511261465\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:16.8706235+03:00 0HL7OIHK18F5Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:16.8711241+03:00 0HL7OIHK18F5Q [INF] Request finished in 67.7608ms 302  (15c52c40)
2017-09-14T22:18:20.7978712+03:00 0HL7OIHK18F5R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2309921597905441505416700792&state=15054167007920.8045354758905385   (e5be5b71)
2017-09-14T22:18:20.8003727+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:20.8008736+03:00 0HL7OIHK18F5R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:20.8013745+03:00 0HL7OIHK18F5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:20.8013745+03:00 0HL7OIHK18F5R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:20.8018739+03:00 0HL7OIHK18F5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:20.8023740+03:00 0HL7OIHK18F5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:20.8023740+03:00 0HL7OIHK18F5R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167007920.8045354758905385\",
  \"Nonce\": \"N0.2309921597905441505416700792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2309921597905441505416700792\",
    \"state\": \"15054167007920.8045354758905385\"
  }
}" (9a175e33)
2017-09-14T22:18:20.8048759+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:20.8153834+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:20.8168830+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:20.8188847+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:20.8198854+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:20.8218863+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:20.8243882+03:00 0HL7OIHK18F5R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:20.8393981+03:00 0HL7OIHK18F5R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167007920.8045354758905385\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:20.8398987+03:00 0HL7OIHK18F5R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:20.8403988+03:00 0HL7OIHK18F5R [INF] Request finished in 42.9803ms 302  (15c52c40)
2017-09-14T22:18:24.7998145+03:00 0HL7OIHK18F5S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.187523786052239181505416704792&state=15054167047920.5285972211258154   (e5be5b71)
2017-09-14T22:18:24.8023156+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:24.8028153+03:00 0HL7OIHK18F5S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:24.8028153+03:00 0HL7OIHK18F5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:24.8033158+03:00 0HL7OIHK18F5S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:24.8033158+03:00 0HL7OIHK18F5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:24.8038164+03:00 0HL7OIHK18F5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:24.8038164+03:00 0HL7OIHK18F5S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167047920.5285972211258154\",
  \"Nonce\": \"N0.187523786052239181505416704792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.187523786052239181505416704792\",
    \"state\": \"15054167047920.5285972211258154\"
  }
}" (9a175e33)
2017-09-14T22:18:24.8093226+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:24.8213278+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:24.8268316+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:24.8308343+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:24.8353374+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:24.8428422+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:24.8478455+03:00 0HL7OIHK18F5S [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:24.8653573+03:00 0HL7OIHK18F5S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167047920.5285972211258154\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:24.8663580+03:00 0HL7OIHK18F5S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:24.8683593+03:00 0HL7OIHK18F5S [INF] Request finished in 68.255ms 302  (15c52c40)
2017-09-14T22:18:28.7978984+03:00 0HL7OIHK18F5T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.261809392227426051505416708791&state=15054167087910.7419514460416952   (e5be5b71)
2017-09-14T22:18:28.8003999+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:28.8008996+03:00 0HL7OIHK18F5T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:28.8008996+03:00 0HL7OIHK18F5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:28.8013998+03:00 0HL7OIHK18F5T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:28.8013998+03:00 0HL7OIHK18F5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:28.8019007+03:00 0HL7OIHK18F5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:28.8019007+03:00 0HL7OIHK18F5T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167087910.7419514460416952\",
  \"Nonce\": \"N0.261809392227426051505416708791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.261809392227426051505416708791\",
    \"state\": \"15054167087910.7419514460416952\"
  }
}" (9a175e33)
2017-09-14T22:18:28.8069040+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:28.8214130+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:28.8254173+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:28.8289182+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:28.8324203+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:28.8349226+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:28.8439285+03:00 0HL7OIHK18F5T [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:28.8574373+03:00 0HL7OIHK18F5T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167087910.7419514460416952\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:28.8579390+03:00 0HL7OIHK18F5T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:28.8584387+03:00 0HL7OIHK18F5T [INF] Request finished in 61.1872ms 302  (15c52c40)
2017-09-14T22:18:32.8021522+03:00 0HL7OIHK18F5U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.361345754039390731505416712792&state=15054167127920.7609479887832618   (e5be5b71)
2017-09-14T22:18:32.8046524+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:32.8051541+03:00 0HL7OIHK18F5U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:32.8056543+03:00 0HL7OIHK18F5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:32.8056543+03:00 0HL7OIHK18F5U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:32.8061548+03:00 0HL7OIHK18F5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:32.8071539+03:00 0HL7OIHK18F5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:32.8071539+03:00 0HL7OIHK18F5U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167127920.7609479887832618\",
  \"Nonce\": \"N0.361345754039390731505416712792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.361345754039390731505416712792\",
    \"state\": \"15054167127920.7609479887832618\"
  }
}" (9a175e33)
2017-09-14T22:18:32.8101567+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:32.8226648+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:32.8241659+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:32.8281686+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:32.8321709+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:32.8376751+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:32.8401758+03:00 0HL7OIHK18F5U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:32.9202296+03:00 0HL7OIHK18F5U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167127920.7609479887832618\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:32.9207301+03:00 0HL7OIHK18F5U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:32.9212294+03:00 0HL7OIHK18F5U [INF] Request finished in 119.605ms 302  (15c52c40)
2017-09-14T22:18:36.8001185+03:00 0HL7OIHK18F5V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0965112226547241505416716793&state=15054167167930.7338881950610161   (e5be5b71)
2017-09-14T22:18:36.8031201+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:36.8036210+03:00 0HL7OIHK18F5V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:36.8041211+03:00 0HL7OIHK18F5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:36.8041211+03:00 0HL7OIHK18F5V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:36.8046220+03:00 0HL7OIHK18F5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:36.8051226+03:00 0HL7OIHK18F5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:36.8056223+03:00 0HL7OIHK18F5V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167167930.7338881950610161\",
  \"Nonce\": \"N0.0965112226547241505416716793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0965112226547241505416716793\",
    \"state\": \"15054167167930.7338881950610161\"
  }
}" (9a175e33)
2017-09-14T22:18:36.8126265+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:36.8241344+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:36.8256363+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:36.8281366+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:36.8306389+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:36.8336405+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:36.8351424+03:00 0HL7OIHK18F5V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:36.8536537+03:00 0HL7OIHK18F5V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167167930.7338881950610161\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:36.8546544+03:00 0HL7OIHK18F5V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:36.8551549+03:00 0HL7OIHK18F5V [INF] Request finished in 56.2427ms 302  (15c52c40)
2017-09-14T22:18:40.8023787+03:00 0HL7OIHK18F60 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.150909482828201821505416720791&state=15054167207910.7495823332484952   (e5be5b71)
2017-09-14T22:18:40.8053811+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:40.8058813+03:00 0HL7OIHK18F60 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:40.8063810+03:00 0HL7OIHK18F60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:40.8063810+03:00 0HL7OIHK18F60 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:40.8068819+03:00 0HL7OIHK18F60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:40.8073817+03:00 0HL7OIHK18F60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:40.8073817+03:00 0HL7OIHK18F60 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167207910.7495823332484952\",
  \"Nonce\": \"N0.150909482828201821505416720791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.150909482828201821505416720791\",
    \"state\": \"15054167207910.7495823332484952\"
  }
}" (9a175e33)
2017-09-14T22:18:40.8118864+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:40.8223920+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:40.8243925+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:40.8258941+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:40.8293962+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:40.8308970+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:40.8323990+03:00 0HL7OIHK18F60 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:40.8484088+03:00 0HL7OIHK18F60 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167207910.7495823332484952\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:40.8489105+03:00 0HL7OIHK18F60 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:40.8499100+03:00 0HL7OIHK18F60 [INF] Request finished in 48.7711ms 302  (15c52c40)
2017-09-14T22:18:44.8040919+03:00 0HL7OIHK18F61 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79495040010145111505416724792&state=15054167247920.9666209637456935   (e5be5b71)
2017-09-14T22:18:44.8070939+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:44.8075944+03:00 0HL7OIHK18F61 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:44.8080949+03:00 0HL7OIHK18F61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:44.8080949+03:00 0HL7OIHK18F61 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:44.8085947+03:00 0HL7OIHK18F61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:44.8090948+03:00 0HL7OIHK18F61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:44.8090948+03:00 0HL7OIHK18F61 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167247920.9666209637456935\",
  \"Nonce\": \"N0.79495040010145111505416724792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79495040010145111505416724792\",
    \"state\": \"15054167247920.9666209637456935\"
  }
}" (9a175e33)
2017-09-14T22:18:44.8140977+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:44.8241048+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:44.8261065+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:44.8306089+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:44.8326102+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:44.8351121+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:44.8371134+03:00 0HL7OIHK18F61 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:44.8556262+03:00 0HL7OIHK18F61 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167247920.9666209637456935\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:44.8566265+03:00 0HL7OIHK18F61 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:44.8581273+03:00 0HL7OIHK18F61 [INF] Request finished in 53.8099ms 302  (15c52c40)
2017-09-14T22:18:48.7989911+03:00 0HL7OIHK18F62 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.041117326519649831505416728792&state=15054167287920.34495017487413304   (e5be5b71)
2017-09-14T22:18:48.8019939+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:48.8019939+03:00 0HL7OIHK18F62 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:48.8029941+03:00 0HL7OIHK18F62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:48.8029941+03:00 0HL7OIHK18F62 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:48.8029941+03:00 0HL7OIHK18F62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:48.8039948+03:00 0HL7OIHK18F62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:48.8039948+03:00 0HL7OIHK18F62 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167287920.34495017487413304\",
  \"Nonce\": \"N0.041117326519649831505416728792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.041117326519649831505416728792\",
    \"state\": \"15054167287920.34495017487413304\"
  }
}" (9a175e33)
2017-09-14T22:18:48.8069972+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:48.8190051+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:48.8200062+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:48.8220075+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:48.8240081+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:48.8260098+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:48.8280107+03:00 0HL7OIHK18F62 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:48.8470233+03:00 0HL7OIHK18F62 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167287920.34495017487413304\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:48.8480240+03:00 0HL7OIHK18F62 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:48.8490246+03:00 0HL7OIHK18F62 [INF] Request finished in 50.3718ms 302  (15c52c40)
2017-09-14T22:18:52.7969562+03:00 0HL7OIHK18F63 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.15712494838615521505416732792&state=15054167327920.2783432396905847   (e5be5b71)
2017-09-14T22:18:52.7999594+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:52.7999594+03:00 0HL7OIHK18F63 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:52.8004599+03:00 0HL7OIHK18F63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:52.8004599+03:00 0HL7OIHK18F63 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:52.8009600+03:00 0HL7OIHK18F63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:52.8019607+03:00 0HL7OIHK18F63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:52.8019607+03:00 0HL7OIHK18F63 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167327920.2783432396905847\",
  \"Nonce\": \"N0.15712494838615521505416732792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.15712494838615521505416732792\",
    \"state\": \"15054167327920.2783432396905847\"
  }
}" (9a175e33)
2017-09-14T22:18:52.8044622+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:52.8164701+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:52.8184710+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:52.8214726+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:52.8269765+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:52.8304786+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:52.8359825+03:00 0HL7OIHK18F63 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:52.8564947+03:00 0HL7OIHK18F63 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167327920.2783432396905847\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:52.8574961+03:00 0HL7OIHK18F63 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:52.8584972+03:00 0HL7OIHK18F63 [INF] Request finished in 61.4702ms 302  (15c52c40)
2017-09-14T22:18:55.9190386+03:00 0HL7OIHK18F64 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79372421544447241505416735799&state=15054167357990.26188430281219266   (e5be5b71)
2017-09-14T22:18:55.9225400+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:55.9235410+03:00 0HL7OIHK18F64 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:55.9240412+03:00 0HL7OIHK18F64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:55.9245417+03:00 0HL7OIHK18F64 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:55.9250414+03:00 0HL7OIHK18F64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:55.9255424+03:00 0HL7OIHK18F64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:55.9260425+03:00 0HL7OIHK18F64 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167357990.26188430281219266\",
  \"Nonce\": \"N0.79372421544447241505416735799\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79372421544447241505416735799\",
    \"state\": \"15054167357990.26188430281219266\"
  }
}" (9a175e33)
2017-09-14T22:18:55.9300451+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:55.9425532+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:55.9525599+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:55.9585642+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:55.9620667+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:55.9685709+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:55.9730744+03:00 0HL7OIHK18F64 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:55.9950886+03:00 0HL7OIHK18F64 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167357990.26188430281219266\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:55.9955884+03:00 0HL7OIHK18F64 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:55.9970896+03:00 0HL7OIHK18F64 [INF] Request finished in 77.9403ms 302  (15c52c40)
2017-09-14T22:18:59.8023914+03:00 0HL7OIHK18F65 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74656299260649141505416739795&state=15054167397950.6501185688807103   (e5be5b71)
2017-09-14T22:18:59.8053937+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:18:59.8058939+03:00 0HL7OIHK18F65 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:18:59.8063940+03:00 0HL7OIHK18F65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:59.8063940+03:00 0HL7OIHK18F65 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:18:59.8068942+03:00 0HL7OIHK18F65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:59.8509249+03:00 0HL7OIHK18F65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:59.8514254+03:00 0HL7OIHK18F65 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167397950.6501185688807103\",
  \"Nonce\": \"N0.74656299260649141505416739795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74656299260649141505416739795\",
    \"state\": \"15054167397950.6501185688807103\"
  }
}" (9a175e33)
2017-09-14T22:18:59.8539273+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:18:59.8609303+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:59.8624331+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:18:59.8639339+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:18:59.8659348+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:18:59.8704364+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:18:59.8724389+03:00 0HL7OIHK18F65 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:18:59.8904501+03:00 0HL7OIHK18F65 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167397950.6501185688807103\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:18:59.8914507+03:00 0HL7OIHK18F65 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:18:59.8919509+03:00 0HL7OIHK18F65 [INF] Request finished in 90.5708ms 302  (15c52c40)
2017-09-14T22:19:03.8007958+03:00 0HL7OIHK18F66 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.132183285431839211505416743794&state=15054167437940.45242382193671893   (e5be5b71)
2017-09-14T22:19:03.8032965+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:03.8037970+03:00 0HL7OIHK18F66 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:03.8042976+03:00 0HL7OIHK18F66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:03.8047981+03:00 0HL7OIHK18F66 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:03.8047981+03:00 0HL7OIHK18F66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:03.8052978+03:00 0HL7OIHK18F66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:03.8057984+03:00 0HL7OIHK18F66 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167437940.45242382193671893\",
  \"Nonce\": \"N0.132183285431839211505416743794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.132183285431839211505416743794\",
    \"state\": \"15054167437940.45242382193671893\"
  }
}" (9a175e33)
2017-09-14T22:19:03.8083010+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:03.8453247+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:03.8468251+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:03.8488269+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:03.8503280+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:03.8533296+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:03.8548312+03:00 0HL7OIHK18F66 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:03.8718417+03:00 0HL7OIHK18F66 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167437940.45242382193671893\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:03.8723422+03:00 0HL7OIHK18F66 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:03.8728424+03:00 0HL7OIHK18F66 [INF] Request finished in 72.8754ms 302  (15c52c40)
2017-09-14T22:19:07.8021423+03:00 0HL7OIHK18F67 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84200209733903011505416747795&state=15054167477950.2461960784254298   (e5be5b71)
2017-09-14T22:19:07.8051423+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:07.8056428+03:00 0HL7OIHK18F67 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:07.8061426+03:00 0HL7OIHK18F67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:07.8061426+03:00 0HL7OIHK18F67 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:07.8066431+03:00 0HL7OIHK18F67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:07.8071440+03:00 0HL7OIHK18F67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:07.8071440+03:00 0HL7OIHK18F67 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167477950.2461960784254298\",
  \"Nonce\": \"N0.84200209733903011505416747795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84200209733903011505416747795\",
    \"state\": \"15054167477950.2461960784254298\"
  }
}" (9a175e33)
2017-09-14T22:19:07.8096447+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:07.8221544+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:07.8241549+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:07.8261562+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:07.8276570+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:07.8321602+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:07.8336614+03:00 0HL7OIHK18F67 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:07.8486717+03:00 0HL7OIHK18F67 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167477950.2461960784254298\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:07.8491715+03:00 0HL7OIHK18F67 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:07.8501725+03:00 0HL7OIHK18F67 [INF] Request finished in 48.1616ms 302  (15c52c40)
2017-09-14T22:19:11.7992879+03:00 0HL7OIHK18F68 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.326517831098545261505416751793&state=15054167517930.020640976956907142   (e5be5b71)
2017-09-14T22:19:11.8017910+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:11.8022895+03:00 0HL7OIHK18F68 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:11.8027897+03:00 0HL7OIHK18F68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:11.8032918+03:00 0HL7OIHK18F68 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:11.8032918+03:00 0HL7OIHK18F68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:11.8037915+03:00 0HL7OIHK18F68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:11.8042920+03:00 0HL7OIHK18F68 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167517930.020640976956907142\",
  \"Nonce\": \"N0.326517831098545261505416751793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.326517831098545261505416751793\",
    \"state\": \"15054167517930.020640976956907142\"
  }
}" (9a175e33)
2017-09-14T22:19:11.8067927+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:11.8147992+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:11.8172999+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:11.8193008+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:11.8208036+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:11.8228061+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:11.8243045+03:00 0HL7OIHK18F68 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:11.8378144+03:00 0HL7OIHK18F68 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167517930.020640976956907142\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:11.8383138+03:00 0HL7OIHK18F68 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:11.8393144+03:00 0HL7OIHK18F68 [INF] Request finished in 40.1934ms 302  (15c52c40)
2017-09-14T22:19:15.8046260+03:00 0HL7OIHK18F69 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.41575386773744371505416755796&state=15054167557960.4384637852000697   (e5be5b71)
2017-09-14T22:19:15.8071278+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:15.8076280+03:00 0HL7OIHK18F69 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:15.8081285+03:00 0HL7OIHK18F69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:15.8086290+03:00 0HL7OIHK18F69 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:15.8091300+03:00 0HL7OIHK18F69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:15.8096297+03:00 0HL7OIHK18F69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:15.8096297+03:00 0HL7OIHK18F69 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167557960.4384637852000697\",
  \"Nonce\": \"N0.41575386773744371505416755796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.41575386773744371505416755796\",
    \"state\": \"15054167557960.4384637852000697\"
  }
}" (9a175e33)
2017-09-14T22:19:15.8181355+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:15.8316439+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:15.8346459+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:15.8371473+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:15.8391490+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:15.8416505+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:15.8436518+03:00 0HL7OIHK18F69 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:15.8646661+03:00 0HL7OIHK18F69 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167557960.4384637852000697\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:15.8666671+03:00 0HL7OIHK18F69 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:15.8716704+03:00 0HL7OIHK18F69 [INF] Request finished in 64.5674ms 302  (15c52c40)
2017-09-14T22:19:19.7972767+03:00 0HL7OIHK18F6A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.13148580665321541505416759791&state=15054167597910.6995576628154403   (e5be5b71)
2017-09-14T22:19:19.8012794+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:19.8017787+03:00 0HL7OIHK18F6A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:19.8022777+03:00 0HL7OIHK18F6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:19.8022777+03:00 0HL7OIHK18F6A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:19.8032787+03:00 0HL7OIHK18F6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:19.8037789+03:00 0HL7OIHK18F6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:19.8037789+03:00 0HL7OIHK18F6A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167597910.6995576628154403\",
  \"Nonce\": \"N0.13148580665321541505416759791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.13148580665321541505416759791\",
    \"state\": \"15054167597910.6995576628154403\"
  }
}" (9a175e33)
2017-09-14T22:19:19.8067813+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:19.8162874+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:19.8182883+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:19.8202900+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:19.8222913+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:19.8257935+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:19.8272954+03:00 0HL7OIHK18F6A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:19.8453066+03:00 0HL7OIHK18F6A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167597910.6995576628154403\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:19.8463072+03:00 0HL7OIHK18F6A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:19.8473079+03:00 0HL7OIHK18F6A [INF] Request finished in 50.553ms 302  (15c52c40)
2017-09-14T22:19:23.7989252+03:00 0HL7OIHK18F6B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7777143308231361505416763792&state=15054167637920.6448189527472132   (e5be5b71)
2017-09-14T22:19:23.8014247+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:23.8019252+03:00 0HL7OIHK18F6B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:23.8024257+03:00 0HL7OIHK18F6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:23.8024257+03:00 0HL7OIHK18F6B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:23.8029258+03:00 0HL7OIHK18F6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:23.8034264+03:00 0HL7OIHK18F6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:23.8034264+03:00 0HL7OIHK18F6B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167637920.6448189527472132\",
  \"Nonce\": \"N0.7777143308231361505416763792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7777143308231361505416763792\",
    \"state\": \"15054167637920.6448189527472132\"
  }
}" (9a175e33)
2017-09-14T22:19:23.8059278+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:23.8154343+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:23.8179366+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:23.8204376+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:23.8219388+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:23.8239402+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:23.8254406+03:00 0HL7OIHK18F6B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:23.8404560+03:00 0HL7OIHK18F6B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167637920.6448189527472132\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:23.8409514+03:00 0HL7OIHK18F6B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:23.8419525+03:00 0HL7OIHK18F6B [INF] Request finished in 43.9533ms 302  (15c52c40)
2017-09-14T22:19:27.8092511+03:00 0HL7OIHK18F6C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0134129711340307271505416767791&state=15054167677910.17629864112616334   (e5be5b71)
2017-09-14T22:19:27.8137547+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:27.8142545+03:00 0HL7OIHK18F6C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:27.8147538+03:00 0HL7OIHK18F6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:27.8152547+03:00 0HL7OIHK18F6C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:27.8157549+03:00 0HL7OIHK18F6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:27.8162550+03:00 0HL7OIHK18F6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:27.8162550+03:00 0HL7OIHK18F6C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167677910.17629864112616334\",
  \"Nonce\": \"N0.0134129711340307271505416767791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0134129711340307271505416767791\",
    \"state\": \"15054167677910.17629864112616334\"
  }
}" (9a175e33)
2017-09-14T22:19:27.8272623+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:27.8447741+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:27.8492773+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:27.8532795+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:27.8567824+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:27.8677893+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:27.8797981+03:00 0HL7OIHK18F6C [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:27.9013121+03:00 0HL7OIHK18F6C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167677910.17629864112616334\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:27.9023124+03:00 0HL7OIHK18F6C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:27.9038136+03:00 0HL7OIHK18F6C [INF] Request finished in 94.2ms 302  (15c52c40)
2017-09-14T22:19:30.8076730+03:00 0HL7OIHK18F6D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33037155164614341505416770793&state=15054167707930.14811396622919326   (e5be5b71)
2017-09-14T22:19:30.8101752+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:30.8106757+03:00 0HL7OIHK18F6D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:30.8111759+03:00 0HL7OIHK18F6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:30.8111759+03:00 0HL7OIHK18F6D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:30.8116760+03:00 0HL7OIHK18F6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:30.8126767+03:00 0HL7OIHK18F6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:30.8126767+03:00 0HL7OIHK18F6D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167707930.14811396622919326\",
  \"Nonce\": \"N0.33037155164614341505416770793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.33037155164614341505416770793\",
    \"state\": \"15054167707930.14811396622919326\"
  }
}" (9a175e33)
2017-09-14T22:19:30.8201822+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:30.8386935+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:30.8421960+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:30.8487017+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:30.8592081+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:30.8722155+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:30.8767191+03:00 0HL7OIHK18F6D [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:30.9022366+03:00 0HL7OIHK18F6D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167707930.14811396622919326\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:30.9027359+03:00 0HL7OIHK18F6D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:30.9042367+03:00 0HL7OIHK18F6D [INF] Request finished in 96.4473ms 302  (15c52c40)
2017-09-14T22:19:34.7989946+03:00 0HL7OIHK18F6E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72576164176234741505416774791&state=15054167747910.40691949203075484   (e5be5b71)
2017-09-14T22:19:34.8014969+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:34.8019966+03:00 0HL7OIHK18F6E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:34.8024972+03:00 0HL7OIHK18F6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:34.8029977+03:00 0HL7OIHK18F6E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:34.8029977+03:00 0HL7OIHK18F6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:34.8034982+03:00 0HL7OIHK18F6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:34.8039983+03:00 0HL7OIHK18F6E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167747910.40691949203075484\",
  \"Nonce\": \"N0.72576164176234741505416774791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72576164176234741505416774791\",
    \"state\": \"15054167747910.40691949203075484\"
  }
}" (9a175e33)
2017-09-14T22:19:34.8090013+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:34.8230105+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:34.8265131+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:34.8305161+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:34.8345184+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:34.8365197+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:34.8410225+03:00 0HL7OIHK18F6E [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:34.8580337+03:00 0HL7OIHK18F6E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167747910.40691949203075484\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:34.8585343+03:00 0HL7OIHK18F6E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:34.8590348+03:00 0HL7OIHK18F6E [INF] Request finished in 60.7416ms 302  (15c52c40)
2017-09-14T22:19:38.7982269+03:00 0HL7OIHK18F6F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9758017995467621505416778792&state=15054167787920.23746207764076677   (e5be5b71)
2017-09-14T22:19:38.8007275+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:38.8012269+03:00 0HL7OIHK18F6F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:38.8017290+03:00 0HL7OIHK18F6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:38.8017290+03:00 0HL7OIHK18F6F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:38.8022283+03:00 0HL7OIHK18F6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:38.8027277+03:00 0HL7OIHK18F6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:38.8027277+03:00 0HL7OIHK18F6F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167787920.23746207764076677\",
  \"Nonce\": \"N0.9758017995467621505416778792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9758017995467621505416778792\",
    \"state\": \"15054167787920.23746207764076677\"
  }
}" (9a175e33)
2017-09-14T22:19:38.8052287+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:38.8157359+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:38.8192388+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:38.8217403+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:38.8237424+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:38.8262435+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:38.8282448+03:00 0HL7OIHK18F6F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:38.8437549+03:00 0HL7OIHK18F6F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167787920.23746207764076677\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:38.8442554+03:00 0HL7OIHK18F6F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:38.8452560+03:00 0HL7OIHK18F6F [INF] Request finished in 47.0741ms 302  (15c52c40)
2017-09-14T22:19:42.7962267+03:00 0HL7OIHK18F6G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99376365738137511505416782792&state=15054167827920.3474122798559154   (e5be5b71)
2017-09-14T22:19:42.7992275+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:42.7997277+03:00 0HL7OIHK18F6G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:42.8002286+03:00 0HL7OIHK18F6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:42.8007287+03:00 0HL7OIHK18F6G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:42.8012289+03:00 0HL7OIHK18F6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:42.8017298+03:00 0HL7OIHK18F6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:42.8022303+03:00 0HL7OIHK18F6G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167827920.3474122798559154\",
  \"Nonce\": \"N0.99376365738137511505416782792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99376365738137511505416782792\",
    \"state\": \"15054167827920.3474122798559154\"
  }
}" (9a175e33)
2017-09-14T22:19:42.8057328+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:42.8127375+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:42.8152381+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:42.8172403+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:42.8187399+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:42.8212433+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:42.8237440+03:00 0HL7OIHK18F6G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:42.8377529+03:00 0HL7OIHK18F6G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167827920.3474122798559154\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:42.8382534+03:00 0HL7OIHK18F6G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:42.8392544+03:00 0HL7OIHK18F6G [INF] Request finished in 42.9606ms 302  (15c52c40)
2017-09-14T22:19:46.8016599+03:00 0HL7OIHK18F6H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95644958713400771505416786793&state=15054167867930.4456655037465693   (e5be5b71)
2017-09-14T22:19:46.8041633+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:46.8046631+03:00 0HL7OIHK18F6H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:46.8051632+03:00 0HL7OIHK18F6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:46.8051632+03:00 0HL7OIHK18F6H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:46.8056638+03:00 0HL7OIHK18F6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:46.8061627+03:00 0HL7OIHK18F6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:46.8061627+03:00 0HL7OIHK18F6H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167867930.4456655037465693\",
  \"Nonce\": \"N0.95644958713400771505416786793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95644958713400771505416786793\",
    \"state\": \"15054167867930.4456655037465693\"
  }
}" (9a175e33)
2017-09-14T22:19:46.8086638+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:46.8171700+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:46.8191713+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:46.8216728+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:46.8231767+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:46.8251753+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:46.8266761+03:00 0HL7OIHK18F6H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:46.8441879+03:00 0HL7OIHK18F6H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167867930.4456655037465693\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:46.8451885+03:00 0HL7OIHK18F6H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:46.8456891+03:00 0HL7OIHK18F6H [INF] Request finished in 44.609ms 302  (15c52c40)
2017-09-14T22:19:50.8022698+03:00 0HL7OIHK18F6I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91933279588035991505416790792&state=15054167907920.10781099008415418   (e5be5b71)
2017-09-14T22:19:50.8052718+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:50.8057723+03:00 0HL7OIHK18F6I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:50.8062724+03:00 0HL7OIHK18F6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:50.8062724+03:00 0HL7OIHK18F6I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:50.8067730+03:00 0HL7OIHK18F6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:50.8072735+03:00 0HL7OIHK18F6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:50.8072735+03:00 0HL7OIHK18F6I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167907920.10781099008415418\",
  \"Nonce\": \"N0.91933279588035991505416790792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91933279588035991505416790792\",
    \"state\": \"15054167907920.10781099008415418\"
  }
}" (9a175e33)
2017-09-14T22:19:50.8132775+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:50.8252858+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:50.8267862+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:50.8327914+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:50.8352921+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:50.8382936+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:50.8427988+03:00 0HL7OIHK18F6I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:50.8638111+03:00 0HL7OIHK18F6I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167907920.10781099008415418\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:50.8678134+03:00 0HL7OIHK18F6I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:50.8713159+03:00 0HL7OIHK18F6I [INF] Request finished in 68.208ms 302  (15c52c40)
2017-09-14T22:19:53.8043891+03:00 0HL7OIHK18F6J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.115759598773671261505416793797&state=15054167937970.8334209696233592   (e5be5b71)
2017-09-14T22:19:53.8068906+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:53.8073955+03:00 0HL7OIHK18F6J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:53.8078909+03:00 0HL7OIHK18F6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:53.8078909+03:00 0HL7OIHK18F6J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:53.8083914+03:00 0HL7OIHK18F6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:53.8093917+03:00 0HL7OIHK18F6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:53.8093917+03:00 0HL7OIHK18F6J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167937970.8334209696233592\",
  \"Nonce\": \"N0.115759598773671261505416793797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.115759598773671261505416793797\",
    \"state\": \"15054167937970.8334209696233592\"
  }
}" (9a175e33)
2017-09-14T22:19:53.8123940+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:53.8244016+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:53.8264033+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:53.8284047+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:53.8299058+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:53.8339081+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:53.8359118+03:00 0HL7OIHK18F6J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:53.8544223+03:00 0HL7OIHK18F6J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167937970.8334209696233592\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:53.8549232+03:00 0HL7OIHK18F6J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:53.8554225+03:00 0HL7OIHK18F6J [INF] Request finished in 51.8434ms 302  (15c52c40)
2017-09-14T22:19:57.8017835+03:00 0HL7OIHK18F6K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.328211790376418341505416797793&state=15054167977930.7884908582551995   (e5be5b71)
2017-09-14T22:19:57.8047859+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:19:57.8052864+03:00 0HL7OIHK18F6K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:19:57.8052864+03:00 0HL7OIHK18F6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:57.8057857+03:00 0HL7OIHK18F6K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:19:57.8057857+03:00 0HL7OIHK18F6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:57.8062863+03:00 0HL7OIHK18F6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:57.8067868+03:00 0HL7OIHK18F6K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054167977930.7884908582551995\",
  \"Nonce\": \"N0.328211790376418341505416797793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.328211790376418341505416797793\",
    \"state\": \"15054167977930.7884908582551995\"
  }
}" (9a175e33)
2017-09-14T22:19:57.8087877+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:19:57.8182938+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:57.8212962+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:19:57.8237980+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:19:57.8252988+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:19:57.8288014+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:19:57.8303018+03:00 0HL7OIHK18F6K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:19:57.8453125+03:00 0HL7OIHK18F6K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054167977930.7884908582551995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:19:57.8458126+03:00 0HL7OIHK18F6K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:19:57.8463128+03:00 0HL7OIHK18F6K [INF] Request finished in 45.2706ms 302  (15c52c40)
2017-09-14T22:20:01.8037828+03:00 0HL7OIHK18F6L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79562791434956481505416801792&state=15054168017920.08057563881417873   (e5be5b71)
2017-09-14T22:20:01.8067852+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:01.8077851+03:00 0HL7OIHK18F6L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:01.8082856+03:00 0HL7OIHK18F6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:01.8082856+03:00 0HL7OIHK18F6L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:01.8087857+03:00 0HL7OIHK18F6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:01.8092863+03:00 0HL7OIHK18F6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:01.8097876+03:00 0HL7OIHK18F6L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168017920.08057563881417873\",
  \"Nonce\": \"N0.79562791434956481505416801792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79562791434956481505416801792\",
    \"state\": \"15054168017920.08057563881417873\"
  }
}" (9a175e33)
2017-09-14T22:20:01.8137891+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:01.8247963+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:01.8262975+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:01.8277987+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:01.8358048+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:01.8378050+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:01.8413075+03:00 0HL7OIHK18F6L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:01.8553172+03:00 0HL7OIHK18F6L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168017920.08057563881417873\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:01.8558173+03:00 0HL7OIHK18F6L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:01.8568176+03:00 0HL7OIHK18F6L [INF] Request finished in 53.2893ms 302  (15c52c40)
2017-09-14T22:20:05.8241995+03:00 0HL7OIHK18F6M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63455608892024531505416805792&state=15054168057920.009975262583821198   (e5be5b71)
2017-09-14T22:20:05.8292032+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:05.8302043+03:00 0HL7OIHK18F6M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:05.8312033+03:00 0HL7OIHK18F6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:05.8312033+03:00 0HL7OIHK18F6M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:05.8322036+03:00 0HL7OIHK18F6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:05.8327045+03:00 0HL7OIHK18F6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:05.8332051+03:00 0HL7OIHK18F6M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168057920.009975262583821198\",
  \"Nonce\": \"N0.63455608892024531505416805792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63455608892024531505416805792\",
    \"state\": \"15054168057920.009975262583821198\"
  }
}" (9a175e33)
2017-09-14T22:20:05.8362067+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:05.8527174+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:05.8547183+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:05.8602230+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:05.8647257+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:05.8677277+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:05.8712299+03:00 0HL7OIHK18F6M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:05.8947460+03:00 0HL7OIHK18F6M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168057920.009975262583821198\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:05.8957459+03:00 0HL7OIHK18F6M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:05.8972471+03:00 0HL7OIHK18F6M [INF] Request finished in 73.6772ms 302  (15c52c40)
2017-09-14T22:20:09.8204609+03:00 0HL7OIHK18F6N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.165079261689488281505416809791&state=15054168097910.29521517376616835   (e5be5b71)
2017-09-14T22:20:09.8229624+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:09.8234637+03:00 0HL7OIHK18F6N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:09.8239627+03:00 0HL7OIHK18F6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:09.8244636+03:00 0HL7OIHK18F6N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:09.8249637+03:00 0HL7OIHK18F6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:09.8274656+03:00 0HL7OIHK18F6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:09.8279657+03:00 0HL7OIHK18F6N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168097910.29521517376616835\",
  \"Nonce\": \"N0.165079261689488281505416809791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.165079261689488281505416809791\",
    \"state\": \"15054168097910.29521517376616835\"
  }
}" (9a175e33)
2017-09-14T22:20:09.8359710+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:09.8429752+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:09.8449766+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:09.8479790+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:09.8504804+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:09.8519808+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:09.8534840+03:00 0HL7OIHK18F6N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:09.8704933+03:00 0HL7OIHK18F6N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168097910.29521517376616835\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:09.8709938+03:00 0HL7OIHK18F6N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:09.8714943+03:00 0HL7OIHK18F6N [INF] Request finished in 52.0072ms 302  (15c52c40)
2017-09-14T22:20:13.8281643+03:00 0HL7OIHK18F6O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.084805362788442421505416813813&state=15054168138130.7122484410309147   (e5be5b71)
2017-09-14T22:20:13.8311658+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:13.8316664+03:00 0HL7OIHK18F6O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:13.8321665+03:00 0HL7OIHK18F6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:13.8326690+03:00 0HL7OIHK18F6O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:13.8331680+03:00 0HL7OIHK18F6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:13.8336673+03:00 0HL7OIHK18F6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:13.8341682+03:00 0HL7OIHK18F6O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168138130.7122484410309147\",
  \"Nonce\": \"N0.084805362788442421505416813813\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.084805362788442421505416813813\",
    \"state\": \"15054168138130.7122484410309147\"
  }
}" (9a175e33)
2017-09-14T22:20:13.8376700+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:13.8546812+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:13.8571878+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:13.8591844+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:13.8611861+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:13.8636872+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:13.8676902+03:00 0HL7OIHK18F6O [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:13.8962093+03:00 0HL7OIHK18F6O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168138130.7122484410309147\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:13.8967091+03:00 0HL7OIHK18F6O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:13.8977101+03:00 0HL7OIHK18F6O [INF] Request finished in 69.5411ms 302  (15c52c40)
2017-09-14T22:20:17.8003494+03:00 0HL7OIHK18F6P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7867963570892661505416817791&state=15054168177910.6134391459544393   (e5be5b71)
2017-09-14T22:20:17.8040607+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:17.8045648+03:00 0HL7OIHK18F6P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:17.8055635+03:00 0HL7OIHK18F6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:17.8055635+03:00 0HL7OIHK18F6P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:17.8060640+03:00 0HL7OIHK18F6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:17.8070667+03:00 0HL7OIHK18F6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:17.8075656+03:00 0HL7OIHK18F6P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168177910.6134391459544393\",
  \"Nonce\": \"N0.7867963570892661505416817791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7867963570892661505416817791\",
    \"state\": \"15054168177910.6134391459544393\"
  }
}" (9a175e33)
2017-09-14T22:20:17.8140701+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:17.8290923+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:17.8310877+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:17.8340897+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:17.8375922+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:17.8395923+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:17.8405934+03:00 0HL7OIHK18F6P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:17.8551032+03:00 0HL7OIHK18F6P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168177910.6134391459544393\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:17.8556029+03:00 0HL7OIHK18F6P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:17.8561035+03:00 0HL7OIHK18F6P [INF] Request finished in 57.2051ms 302  (15c52c40)
2017-09-14T22:20:21.8032803+03:00 0HL7OIHK18F6Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.141221873412449741505416821792&state=15054168217920.3264064109899083   (e5be5b71)
2017-09-14T22:20:21.8072822+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:21.8077827+03:00 0HL7OIHK18F6Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:21.8082828+03:00 0HL7OIHK18F6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:21.8082828+03:00 0HL7OIHK18F6Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:21.8087838+03:00 0HL7OIHK18F6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:21.8092839+03:00 0HL7OIHK18F6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:21.8092839+03:00 0HL7OIHK18F6Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168217920.3264064109899083\",
  \"Nonce\": \"N0.141221873412449741505416821792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.141221873412449741505416821792\",
    \"state\": \"15054168217920.3264064109899083\"
  }
}" (9a175e33)
2017-09-14T22:20:21.8132866+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:21.8267953+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:21.8282965+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:21.8317990+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:21.8383031+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:21.8418052+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:21.8433072+03:00 0HL7OIHK18F6Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:21.8753272+03:00 0HL7OIHK18F6Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168217920.3264064109899083\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:21.8773286+03:00 0HL7OIHK18F6Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:21.8793303+03:00 0HL7OIHK18F6Q [INF] Request finished in 76.4494ms 302  (15c52c40)
2017-09-14T22:20:24.8367893+03:00 0HL7OIHK18F6R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63426309223566621505416824821&state=15054168248210.7469871685470943   (e5be5b71)
2017-09-14T22:20:24.8392904+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:24.8397905+03:00 0HL7OIHK18F6R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:24.8402914+03:00 0HL7OIHK18F6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:24.8402914+03:00 0HL7OIHK18F6R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:24.8412917+03:00 0HL7OIHK18F6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:24.8422927+03:00 0HL7OIHK18F6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:24.8422927+03:00 0HL7OIHK18F6R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168248210.7469871685470943\",
  \"Nonce\": \"N0.63426309223566621505416824821\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63426309223566621505416824821\",
    \"state\": \"15054168248210.7469871685470943\"
  }
}" (9a175e33)
2017-09-14T22:20:24.8457945+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:24.8588035+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:24.8613049+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:24.8638076+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:24.8658081+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:24.8683096+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:24.8703109+03:00 0HL7OIHK18F6R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:24.8968283+03:00 0HL7OIHK18F6R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168248210.7469871685470943\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:24.8978293+03:00 0HL7OIHK18F6R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:24.8993309+03:00 0HL7OIHK18F6R [INF] Request finished in 62.4595ms 302  (15c52c40)
2017-09-14T22:20:28.8014760+03:00 0HL7OIHK18F6S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.200386311180461351505416828793&state=15054168287930.11457477673878746   (e5be5b71)
2017-09-14T22:20:28.8044772+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:28.8044772+03:00 0HL7OIHK18F6S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:28.8049769+03:00 0HL7OIHK18F6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:28.8054778+03:00 0HL7OIHK18F6S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:28.8054778+03:00 0HL7OIHK18F6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:28.8064785+03:00 0HL7OIHK18F6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:28.8064785+03:00 0HL7OIHK18F6S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168287930.11457477673878746\",
  \"Nonce\": \"N0.200386311180461351505416828793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.200386311180461351505416828793\",
    \"state\": \"15054168287930.11457477673878746\"
  }
}" (9a175e33)
2017-09-14T22:20:28.8089796+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:28.8214880+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:28.8234890+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:28.8254907+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:28.8269915+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:28.8299931+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:28.8324957+03:00 0HL7OIHK18F6S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:28.8505077+03:00 0HL7OIHK18F6S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168287930.11457477673878746\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:28.8510078+03:00 0HL7OIHK18F6S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:28.8515079+03:00 0HL7OIHK18F6S [INF] Request finished in 50.791ms 302  (15c52c40)
2017-09-14T22:20:33.2080790+03:00 0HL7OIHK18F6T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96207690651229851505416832915&state=15054168329150.59230944545636   (e5be5b71)
2017-09-14T22:20:33.2105812+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:33.2110810+03:00 0HL7OIHK18F6T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:33.2115811+03:00 0HL7OIHK18F6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:33.2120820+03:00 0HL7OIHK18F6T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:33.2120820+03:00 0HL7OIHK18F6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:33.2130819+03:00 0HL7OIHK18F6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:33.2130819+03:00 0HL7OIHK18F6T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168329150.59230944545636\",
  \"Nonce\": \"N0.96207690651229851505416832915\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96207690651229851505416832915\",
    \"state\": \"15054168329150.59230944545636\"
  }
}" (9a175e33)
2017-09-14T22:20:33.2290937+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:33.2451039+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:33.2491066+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:33.2541095+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:33.2586127+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:33.2606140+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:33.2646170+03:00 0HL7OIHK18F6T [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:33.2886325+03:00 0HL7OIHK18F6T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168329150.59230944545636\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:33.2931357+03:00 0HL7OIHK18F6T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:33.2961381+03:00 0HL7OIHK18F6T [INF] Request finished in 86.4864ms 302  (15c52c40)
2017-09-14T22:20:36.8019469+03:00 0HL7OIHK18F6U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0082847928880325221505416836793&state=15054168367930.2926446649281824   (e5be5b71)
2017-09-14T22:20:36.8049485+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:36.8059488+03:00 0HL7OIHK18F6U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:36.8064489+03:00 0HL7OIHK18F6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:36.8064489+03:00 0HL7OIHK18F6U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:36.8069494+03:00 0HL7OIHK18F6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:36.8079505+03:00 0HL7OIHK18F6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:36.8079505+03:00 0HL7OIHK18F6U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168367930.2926446649281824\",
  \"Nonce\": \"N0.0082847928880325221505416836793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0082847928880325221505416836793\",
    \"state\": \"15054168367930.2926446649281824\"
  }
}" (9a175e33)
2017-09-14T22:20:36.8139533+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:36.8314651+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:36.8394708+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:36.8534796+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:36.8649879+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:36.8819987+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:36.8940067+03:00 0HL7OIHK18F6U [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:36.9140195+03:00 0HL7OIHK18F6U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168367930.2926446649281824\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:36.9155207+03:00 0HL7OIHK18F6U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:36.9165242+03:00 0HL7OIHK18F6U [INF] Request finished in 115.1302ms 302  (15c52c40)
2017-09-14T22:20:40.8038120+03:00 0HL7OIHK18F6V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59073702506397631505416840793&state=15054168407930.38718653832286876   (e5be5b71)
2017-09-14T22:20:40.8083148+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:40.8103165+03:00 0HL7OIHK18F6V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:40.8118169+03:00 0HL7OIHK18F6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:40.8123179+03:00 0HL7OIHK18F6V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:40.8128176+03:00 0HL7OIHK18F6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:40.8133181+03:00 0HL7OIHK18F6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:40.8138187+03:00 0HL7OIHK18F6V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168407930.38718653832286876\",
  \"Nonce\": \"N0.59073702506397631505416840793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59073702506397631505416840793\",
    \"state\": \"15054168407930.38718653832286876\"
  }
}" (9a175e33)
2017-09-14T22:20:40.8238253+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:40.8463396+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:40.8628515+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:40.8953721+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:40.9103824+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:40.9258929+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:40.9429038+03:00 0HL7OIHK18F6V [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:40.9774264+03:00 0HL7OIHK18F6V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168407930.38718653832286876\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:40.9824301+03:00 0HL7OIHK18F6V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:40.9964394+03:00 0HL7OIHK18F6V [INF] Request finished in 184.6962ms 302  (15c52c40)
2017-09-14T22:20:44.7984846+03:00 0HL7OIHK18F70 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.71932268803971481505416844792&state=15054168447920.2815882044492326   (e5be5b71)
2017-09-14T22:20:44.8009853+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:44.8019856+03:00 0HL7OIHK18F70 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:44.8024857+03:00 0HL7OIHK18F70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:44.8024857+03:00 0HL7OIHK18F70 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:44.8029862+03:00 0HL7OIHK18F70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:44.8034864+03:00 0HL7OIHK18F70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:44.8034864+03:00 0HL7OIHK18F70 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168447920.2815882044492326\",
  \"Nonce\": \"N0.71932268803971481505416844792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.71932268803971481505416844792\",
    \"state\": \"15054168447920.2815882044492326\"
  }
}" (9a175e33)
2017-09-14T22:20:44.8059878+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:44.8154947+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:44.8174960+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:44.8209986+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:44.8235000+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:44.8265016+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:44.8280028+03:00 0HL7OIHK18F70 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:44.8450149+03:00 0HL7OIHK18F70 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168447920.2815882044492326\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:44.8455154+03:00 0HL7OIHK18F70 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:44.8460147+03:00 0HL7OIHK18F70 [INF] Request finished in 48.177ms 302  (15c52c40)
2017-09-14T22:20:48.7982774+03:00 0HL7OIHK18F71 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0075551202949981631505416848791&state=15054168487910.019556128638773318   (e5be5b71)
2017-09-14T22:20:48.8002764+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:48.8012782+03:00 0HL7OIHK18F71 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:48.8017772+03:00 0HL7OIHK18F71 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:48.8017772+03:00 0HL7OIHK18F71 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:48.8027778+03:00 0HL7OIHK18F71 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:48.8032779+03:00 0HL7OIHK18F71 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:48.8032779+03:00 0HL7OIHK18F71 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168487910.019556128638773318\",
  \"Nonce\": \"N0.0075551202949981631505416848791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0075551202949981631505416848791\",
    \"state\": \"15054168487910.019556128638773318\"
  }
}" (9a175e33)
2017-09-14T22:20:48.8072806+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:48.8157860+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:48.8192882+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:48.8212895+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:48.8227907+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:48.8257927+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:48.8272939+03:00 0HL7OIHK18F71 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:48.8418033+03:00 0HL7OIHK18F71 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168487910.019556128638773318\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:48.8423042+03:00 0HL7OIHK18F71 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:48.8433045+03:00 0HL7OIHK18F71 [INF] Request finished in 45.8982ms 302  (15c52c40)
2017-09-14T22:20:51.7993467+03:00 0HL7OIHK18F72 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.092118375546498041505416851794&state=15054168517940.1447565626222802   (e5be5b71)
2017-09-14T22:20:51.8023491+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:51.8033486+03:00 0HL7OIHK18F72 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:51.8038495+03:00 0HL7OIHK18F72 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:51.8038495+03:00 0HL7OIHK18F72 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:51.8043493+03:00 0HL7OIHK18F72 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:51.8053448+03:00 0HL7OIHK18F72 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:51.8053448+03:00 0HL7OIHK18F72 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168517940.1447565626222802\",
  \"Nonce\": \"N0.092118375546498041505416851794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.092118375546498041505416851794\",
    \"state\": \"15054168517940.1447565626222802\"
  }
}" (9a175e33)
2017-09-14T22:20:51.8088485+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:51.8178541+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:51.8208561+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:51.8228566+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:51.8250999+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:51.8266019+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:51.8281023+03:00 0HL7OIHK18F72 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:51.8436120+03:00 0HL7OIHK18F72 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168517940.1447565626222802\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:51.8446150+03:00 0HL7OIHK18F72 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:51.8451135+03:00 0HL7OIHK18F72 [INF] Request finished in 46.9328ms 302  (15c52c40)
2017-09-14T22:20:55.8027869+03:00 0HL7OIHK18F73 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.22758106043044381505416855795&state=15054168557950.5290308664488634   (e5be5b71)
2017-09-14T22:20:55.8062890+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:55.8067895+03:00 0HL7OIHK18F73 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:55.8077898+03:00 0HL7OIHK18F73 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:55.8077898+03:00 0HL7OIHK18F73 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:55.8082915+03:00 0HL7OIHK18F73 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:55.8092922+03:00 0HL7OIHK18F73 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:55.8092922+03:00 0HL7OIHK18F73 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168557950.5290308664488634\",
  \"Nonce\": \"N0.22758106043044381505416855795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.22758106043044381505416855795\",
    \"state\": \"15054168557950.5290308664488634\"
  }
}" (9a175e33)
2017-09-14T22:20:55.8117936+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:55.8217991+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:55.8238008+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:55.8263027+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:55.8303053+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:55.8323062+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:55.8348081+03:00 0HL7OIHK18F73 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:55.8558224+03:00 0HL7OIHK18F73 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168557950.5290308664488634\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:55.8563225+03:00 0HL7OIHK18F73 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:55.8568231+03:00 0HL7OIHK18F73 [INF] Request finished in 55.6936ms 302  (15c52c40)
2017-09-14T22:20:59.8021644+03:00 0HL7OIHK18F74 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.402864169642756841505416859793&state=15054168597930.39554539838613145   (e5be5b71)
2017-09-14T22:20:59.8051668+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:20:59.8061690+03:00 0HL7OIHK18F74 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:20:59.8068282+03:00 0HL7OIHK18F74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:59.8068282+03:00 0HL7OIHK18F74 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:20:59.8073303+03:00 0HL7OIHK18F74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:59.8078309+03:00 0HL7OIHK18F74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:59.8083326+03:00 0HL7OIHK18F74 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168597930.39554539838613145\",
  \"Nonce\": \"N0.402864169642756841505416859793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.402864169642756841505416859793\",
    \"state\": \"15054168597930.39554539838613145\"
  }
}" (9a175e33)
2017-09-14T22:20:59.8113346+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:20:59.8213396+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:59.8238423+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:20:59.8258432+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:20:59.8278449+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:20:59.8313470+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:20:59.8338449+03:00 0HL7OIHK18F74 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:20:59.8463562+03:00 0HL7OIHK18F74 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168597930.39554539838613145\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:20:59.8468567+03:00 0HL7OIHK18F74 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:20:59.8473553+03:00 0HL7OIHK18F74 [INF] Request finished in 46.27ms 302  (15c52c40)
2017-09-14T22:21:03.8073777+03:00 0HL7OIHK18F75 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59929685522364081505416863792&state=15054168637920.4590050906495664   (e5be5b71)
2017-09-14T22:21:03.8123846+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:03.8133848+03:00 0HL7OIHK18F75 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:03.8153842+03:00 0HL7OIHK18F75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:03.8153842+03:00 0HL7OIHK18F75 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:03.8163864+03:00 0HL7OIHK18F75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:03.8173863+03:00 0HL7OIHK18F75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:03.8178860+03:00 0HL7OIHK18F75 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168637920.4590050906495664\",
  \"Nonce\": \"N0.59929685522364081505416863792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59929685522364081505416863792\",
    \"state\": \"15054168637920.4590050906495664\"
  }
}" (9a175e33)
2017-09-14T22:21:03.8258898+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:03.8394005+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:03.8429030+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:03.8454029+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:03.8478949+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:03.8503967+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:03.8528986+03:00 0HL7OIHK18F75 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:03.8649069+03:00 0HL7OIHK18F75 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168637920.4590050906495664\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:03.8654067+03:00 0HL7OIHK18F75 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:03.8664081+03:00 0HL7OIHK18F75 [INF] Request finished in 60.5205ms 302  (15c52c40)
2017-09-14T22:21:07.8034240+03:00 0HL7OIHK18F76 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82278608915892161505416867792&state=15054168677920.32361705744006564   (e5be5b71)
2017-09-14T22:21:07.8109292+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:07.8134302+03:00 0HL7OIHK18F76 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:07.8144309+03:00 0HL7OIHK18F76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:07.8144309+03:00 0HL7OIHK18F76 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:07.8164322+03:00 0HL7OIHK18F76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:07.8194346+03:00 0HL7OIHK18F76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:07.8199375+03:00 0HL7OIHK18F76 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168677920.32361705744006564\",
  \"Nonce\": \"N0.82278608915892161505416867792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82278608915892161505416867792\",
    \"state\": \"15054168677920.32361705744006564\"
  }
}" (9a175e33)
2017-09-14T22:21:07.8284441+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:07.8454538+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:07.8470474+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:07.8485505+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:07.8495516+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:07.8520538+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:07.8545553+03:00 0HL7OIHK18F76 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:07.8660631+03:00 0HL7OIHK18F76 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168677920.32361705744006564\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:07.8660631+03:00 0HL7OIHK18F76 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:07.8670630+03:00 0HL7OIHK18F76 [INF] Request finished in 64.5899ms 302  (15c52c40)
2017-09-14T22:21:11.7971990+03:00 0HL7OIHK18F77 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67189381528011441505416871792&state=15054168717920.6412975363867168   (e5be5b71)
2017-09-14T22:21:11.7991999+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:11.7997000+03:00 0HL7OIHK18F77 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:11.8002010+03:00 0HL7OIHK18F77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:11.8002010+03:00 0HL7OIHK18F77 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:11.8007007+03:00 0HL7OIHK18F77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:11.8012008+03:00 0HL7OIHK18F77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:11.8017018+03:00 0HL7OIHK18F77 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168717920.6412975363867168\",
  \"Nonce\": \"N0.67189381528011441505416871792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67189381528011441505416871792\",
    \"state\": \"15054168717920.6412975363867168\"
  }
}" (9a175e33)
2017-09-14T22:21:11.8057040+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:11.8127098+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:11.8153416+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:11.8163426+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:11.8178430+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:11.8203476+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:11.8223458+03:00 0HL7OIHK18F77 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:11.8333535+03:00 0HL7OIHK18F77 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168717920.6412975363867168\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:11.8343542+03:00 0HL7OIHK18F77 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:11.8353552+03:00 0HL7OIHK18F77 [INF] Request finished in 38.2422ms 302  (15c52c40)
2017-09-14T22:21:15.8040272+03:00 0HL7OIHK18F78 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.246934377346612171505416875792&state=15054168757920.9021324173810161   (e5be5b71)
2017-09-14T22:21:15.8100300+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:15.8115304+03:00 0HL7OIHK18F78 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:15.8125342+03:00 0HL7OIHK18F78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:15.8130355+03:00 0HL7OIHK18F78 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:15.8135368+03:00 0HL7OIHK18F78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:15.8145355+03:00 0HL7OIHK18F78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:15.8150337+03:00 0HL7OIHK18F78 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168757920.9021324173810161\",
  \"Nonce\": \"N0.246934377346612171505416875792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.246934377346612171505416875792\",
    \"state\": \"15054168757920.9021324173810161\"
  }
}" (9a175e33)
2017-09-14T22:21:15.8225376+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:15.8370475+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:15.8410501+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:15.8435535+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:15.8525579+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:15.8550594+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:15.8565606+03:00 0HL7OIHK18F78 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:15.8745717+03:00 0HL7OIHK18F78 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168757920.9021324173810161\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:15.8755728+03:00 0HL7OIHK18F78 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:15.8765738+03:00 0HL7OIHK18F78 [INF] Request finished in 74.8831ms 302  (15c52c40)
2017-09-14T22:21:19.8246771+03:00 0HL7OIHK18F79 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97930904775458741505416879812&state=15054168798120.5100728797081551   (e5be5b71)
2017-09-14T22:21:19.8271798+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:19.8276819+03:00 0HL7OIHK18F79 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:19.8281796+03:00 0HL7OIHK18F79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:19.8281796+03:00 0HL7OIHK18F79 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:19.8286798+03:00 0HL7OIHK18F79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:19.8291803+03:00 0HL7OIHK18F79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:19.8296816+03:00 0HL7OIHK18F79 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168798120.5100728797081551\",
  \"Nonce\": \"N0.97930904775458741505416879812\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97930904775458741505416879812\",
    \"state\": \"15054168798120.5100728797081551\"
  }
}" (9a175e33)
2017-09-14T22:21:19.8326824+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:19.8456911+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:19.8476928+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:19.8501942+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:19.8531982+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:19.8561982+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:19.8581995+03:00 0HL7OIHK18F79 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:19.8797148+03:00 0HL7OIHK18F79 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168798120.5100728797081551\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:19.8807146+03:00 0HL7OIHK18F79 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:19.8837178+03:00 0HL7OIHK18F79 [INF] Request finished in 58.9404ms 302  (15c52c40)
2017-09-14T22:21:23.7985190+03:00 0HL7OIHK18F7A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98522681447979151505416883792&state=15054168837920.8237971894842506   (e5be5b71)
2017-09-14T22:21:23.8010220+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:23.8015218+03:00 0HL7OIHK18F7A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:23.8020211+03:00 0HL7OIHK18F7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:23.8020211+03:00 0HL7OIHK18F7A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:23.8025216+03:00 0HL7OIHK18F7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:23.8030214+03:00 0HL7OIHK18F7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:23.8035227+03:00 0HL7OIHK18F7A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168837920.8237971894842506\",
  \"Nonce\": \"N0.98522681447979151505416883792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98522681447979151505416883792\",
    \"state\": \"15054168837920.8237971894842506\"
  }
}" (9a175e33)
2017-09-14T22:21:23.8075257+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:23.8185314+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:23.8210345+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:23.8225353+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:23.8240353+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:23.8265379+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:23.8295387+03:00 0HL7OIHK18F7A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:23.8450496+03:00 0HL7OIHK18F7A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168837920.8237971894842506\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:23.8460499+03:00 0HL7OIHK18F7A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:23.8465504+03:00 0HL7OIHK18F7A [INF] Request finished in 48.9945ms 302  (15c52c40)
2017-09-14T22:21:27.7967644+03:00 0HL7OIHK18F7B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.287222196506173641505416887791&state=15054168877910.9528493233411304   (e5be5b71)
2017-09-14T22:21:27.7987653+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:27.7992646+03:00 0HL7OIHK18F7B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:27.7997648+03:00 0HL7OIHK18F7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:27.7997648+03:00 0HL7OIHK18F7B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:27.8002657+03:00 0HL7OIHK18F7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:27.8007658+03:00 0HL7OIHK18F7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:27.8007658+03:00 0HL7OIHK18F7B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168877910.9528493233411304\",
  \"Nonce\": \"N0.287222196506173641505416887791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.287222196506173641505416887791\",
    \"state\": \"15054168877910.9528493233411304\"
  }
}" (9a175e33)
2017-09-14T22:21:27.8037686+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:27.8122729+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:27.8137741+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:27.8157793+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:27.8177767+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:27.8207791+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:27.8227800+03:00 0HL7OIHK18F7B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:27.8412921+03:00 0HL7OIHK18F7B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168877910.9528493233411304\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:27.8422931+03:00 0HL7OIHK18F7B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:27.8427941+03:00 0HL7OIHK18F7B [INF] Request finished in 46.5389ms 302  (15c52c40)
2017-09-14T22:21:31.8007635+03:00 0HL7OIHK18F7C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74654078763283291505416891792&state=15054168917920.18256778857808098   (e5be5b71)
2017-09-14T22:21:31.8047665+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:31.8052659+03:00 0HL7OIHK18F7C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:31.8057664+03:00 0HL7OIHK18F7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:31.8057664+03:00 0HL7OIHK18F7C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:31.8062669+03:00 0HL7OIHK18F7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:31.8072680+03:00 0HL7OIHK18F7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:31.8072680+03:00 0HL7OIHK18F7C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168917920.18256778857808098\",
  \"Nonce\": \"N0.74654078763283291505416891792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74654078763283291505416891792\",
    \"state\": \"15054168917920.18256778857808098\"
  }
}" (9a175e33)
2017-09-14T22:21:31.8107701+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:31.8227776+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:31.8252791+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:31.8272804+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:31.8292822+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:31.8312835+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:31.8327843+03:00 0HL7OIHK18F7C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:31.8547993+03:00 0HL7OIHK18F7C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168917920.18256778857808098\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:31.8552990+03:00 0HL7OIHK18F7C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:31.8557999+03:00 0HL7OIHK18F7C [INF] Request finished in 55.4272ms 302  (15c52c40)
2017-09-14T22:21:35.7971583+03:00 0HL7OIHK18F7D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76029161363183981505416895792&state=15054168957920.671339264288036   (e5be5b71)
2017-09-14T22:21:35.7991596+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:35.7996594+03:00 0HL7OIHK18F7D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:35.8001603+03:00 0HL7OIHK18F7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:35.8001603+03:00 0HL7OIHK18F7D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:35.8006608+03:00 0HL7OIHK18F7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:35.8011610+03:00 0HL7OIHK18F7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:35.8011610+03:00 0HL7OIHK18F7D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168957920.671339264288036\",
  \"Nonce\": \"N0.76029161363183981505416895792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76029161363183981505416895792\",
    \"state\": \"15054168957920.671339264288036\"
  }
}" (9a175e33)
2017-09-14T22:21:35.8036620+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:35.8121675+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:35.8136687+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:35.8161701+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:35.8216744+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:35.8266773+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:35.8281785+03:00 0HL7OIHK18F7D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:35.8461900+03:00 0HL7OIHK18F7D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168957920.671339264288036\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:35.8466913+03:00 0HL7OIHK18F7D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:35.8471911+03:00 0HL7OIHK18F7D [INF] Request finished in 50.3757ms 302  (15c52c40)
2017-09-14T22:21:39.8006849+03:00 0HL7OIHK18F7E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87036726685276291505416899792&state=15054168997920.5043104967593548   (e5be5b71)
2017-09-14T22:21:39.8036869+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:39.8046876+03:00 0HL7OIHK18F7E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:39.8051885+03:00 0HL7OIHK18F7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:39.8051885+03:00 0HL7OIHK18F7E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:39.8056886+03:00 0HL7OIHK18F7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:39.8061888+03:00 0HL7OIHK18F7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:39.8066889+03:00 0HL7OIHK18F7E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054168997920.5043104967593548\",
  \"Nonce\": \"N0.87036726685276291505416899792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87036726685276291505416899792\",
    \"state\": \"15054168997920.5043104967593548\"
  }
}" (9a175e33)
2017-09-14T22:21:39.8121923+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:39.8292036+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:39.8382096+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:39.8422118+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:39.8457143+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:39.8512198+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:39.8547211+03:00 0HL7OIHK18F7E [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:39.8687296+03:00 0HL7OIHK18F7E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054168997920.5043104967593548\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:39.8692297+03:00 0HL7OIHK18F7E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:39.8702312+03:00 0HL7OIHK18F7E [INF] Request finished in 69.9417ms 302  (15c52c40)
2017-09-14T22:21:43.7985320+03:00 0HL7OIHK18F7F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.20927732516171061505416903791&state=15054169037910.32787035361117733   (e5be5b71)
2017-09-14T22:21:43.8015332+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:43.8020322+03:00 0HL7OIHK18F7F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:43.8025323+03:00 0HL7OIHK18F7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:43.8025323+03:00 0HL7OIHK18F7F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:43.8030328+03:00 0HL7OIHK18F7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:43.8035333+03:00 0HL7OIHK18F7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:43.8040343+03:00 0HL7OIHK18F7F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169037910.32787035361117733\",
  \"Nonce\": \"N0.20927732516171061505416903791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.20927732516171061505416903791\",
    \"state\": \"15054169037910.32787035361117733\"
  }
}" (9a175e33)
2017-09-14T22:21:43.8120388+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:43.8245477+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:43.8280490+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:43.8320516+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:43.8360547+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:43.8385565+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:43.8425596+03:00 0HL7OIHK18F7F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:43.9096036+03:00 0HL7OIHK18F7F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169037910.32787035361117733\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:43.9111056+03:00 0HL7OIHK18F7F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:43.9121051+03:00 0HL7OIHK18F7F [INF] Request finished in 114.1967ms 302  (15c52c40)
2017-09-14T22:21:46.7995382+03:00 0HL7OIHK18F7G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.437964422101556841505416906794&state=15054169067940.31907614825919506   (e5be5b71)
2017-09-14T22:21:46.8015387+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:46.8020412+03:00 0HL7OIHK18F7G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:46.8025394+03:00 0HL7OIHK18F7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:46.8025394+03:00 0HL7OIHK18F7G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:46.8030403+03:00 0HL7OIHK18F7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:46.8040418+03:00 0HL7OIHK18F7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:46.8045431+03:00 0HL7OIHK18F7G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169067940.31907614825919506\",
  \"Nonce\": \"N0.437964422101556841505416906794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.437964422101556841505416906794\",
    \"state\": \"15054169067940.31907614825919506\"
  }
}" (9a175e33)
2017-09-14T22:21:46.8095472+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:46.8160485+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:46.8185504+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:46.8215555+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:46.8235545+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:46.8255546+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:46.8280565+03:00 0HL7OIHK18F7G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:46.8410667+03:00 0HL7OIHK18F7G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169067940.31907614825919506\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:46.8415672+03:00 0HL7OIHK18F7G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:46.8420666+03:00 0HL7OIHK18F7G [INF] Request finished in 43.1615ms 302  (15c52c40)
2017-09-14T22:21:50.7995252+03:00 0HL7OIHK18F7H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.235162661517414051505416910795&state=15054169107950.480026892145917   (e5be5b71)
2017-09-14T22:21:50.8020286+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:50.8025283+03:00 0HL7OIHK18F7H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:50.8025283+03:00 0HL7OIHK18F7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:50.8030308+03:00 0HL7OIHK18F7H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:50.8030308+03:00 0HL7OIHK18F7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:50.8035310+03:00 0HL7OIHK18F7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:50.8040311+03:00 0HL7OIHK18F7H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169107950.480026892145917\",
  \"Nonce\": \"N0.235162661517414051505416910795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.235162661517414051505416910795\",
    \"state\": \"15054169107950.480026892145917\"
  }
}" (9a175e33)
2017-09-14T22:21:50.8075344+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:50.8179133+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:50.8194133+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:50.8229158+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:50.8249179+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:50.8280841+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:50.8300898+03:00 0HL7OIHK18F7H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:50.8420981+03:00 0HL7OIHK18F7H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169107950.480026892145917\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:50.8425967+03:00 0HL7OIHK18F7H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:50.8430980+03:00 0HL7OIHK18F7H [INF] Request finished in 44.305ms 302  (15c52c40)
2017-09-14T22:21:54.8106268+03:00 0HL7OIHK18F7I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56820579463131421505416914797&state=15054169147970.41377124064249937   (e5be5b71)
2017-09-14T22:21:54.8166347+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:54.8191330+03:00 0HL7OIHK18F7I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:54.8201400+03:00 0HL7OIHK18F7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:54.8201400+03:00 0HL7OIHK18F7I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:54.8211324+03:00 0HL7OIHK18F7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:54.8221370+03:00 0HL7OIHK18F7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:54.8226340+03:00 0HL7OIHK18F7I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169147970.41377124064249937\",
  \"Nonce\": \"N0.56820579463131421505416914797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56820579463131421505416914797\",
    \"state\": \"15054169147970.41377124064249937\"
  }
}" (9a175e33)
2017-09-14T22:21:54.8261436+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:54.8381519+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:54.8406522+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:54.8436542+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:54.8466562+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:54.8491588+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:54.8506584+03:00 0HL7OIHK18F7I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:54.8646685+03:00 0HL7OIHK18F7I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169147970.41377124064249937\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:54.8656704+03:00 0HL7OIHK18F7I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:54.8661701+03:00 0HL7OIHK18F7I [INF] Request finished in 57.6488ms 302  (15c52c40)
2017-09-14T22:21:58.8005385+03:00 0HL7OIHK18F7J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90032387844287221505416918794&state=15054169187940.7646588302865311   (e5be5b71)
2017-09-14T22:21:58.8030399+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:21:58.8035405+03:00 0HL7OIHK18F7J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:21:58.8050440+03:00 0HL7OIHK18F7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:58.8050440+03:00 0HL7OIHK18F7J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:21:58.8065424+03:00 0HL7OIHK18F7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:58.8075435+03:00 0HL7OIHK18F7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:58.8075435+03:00 0HL7OIHK18F7J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169187940.7646588302865311\",
  \"Nonce\": \"N0.90032387844287221505416918794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90032387844287221505416918794\",
    \"state\": \"15054169187940.7646588302865311\"
  }
}" (9a175e33)
2017-09-14T22:21:58.8110480+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:21:58.8175612+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:58.8190624+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:21:58.8200622+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:21:58.8225645+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:21:58.8245654+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:21:58.8270673+03:00 0HL7OIHK18F7J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:21:58.8380746+03:00 0HL7OIHK18F7J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169187940.7646588302865311\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:21:58.8391633+03:00 0HL7OIHK18F7J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:21:58.8396665+03:00 0HL7OIHK18F7J [INF] Request finished in 39.7229ms 302  (15c52c40)
2017-09-14T22:22:02.8073647+03:00 0HL7OIHK18F7K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.12741723272551031505416922799&state=15054169227990.47018112380106447   (e5be5b71)
2017-09-14T22:22:02.8103651+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:02.8108656+03:00 0HL7OIHK18F7K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:02.8113661+03:00 0HL7OIHK18F7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:02.8118663+03:00 0HL7OIHK18F7K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:02.8123664+03:00 0HL7OIHK18F7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:02.8128669+03:00 0HL7OIHK18F7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:02.8133671+03:00 0HL7OIHK18F7K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169227990.47018112380106447\",
  \"Nonce\": \"N0.12741723272551031505416922799\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.12741723272551031505416922799\",
    \"state\": \"15054169227990.47018112380106447\"
  }
}" (9a175e33)
2017-09-14T22:22:02.8188709+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:02.8338805+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:02.8358826+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:02.8378851+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:02.8398848+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:02.8418862+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:02.8443880+03:00 0HL7OIHK18F7K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:02.8563968+03:00 0HL7OIHK18F7K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169227990.47018112380106447\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:02.8573974+03:00 0HL7OIHK18F7K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:02.8588978+03:00 0HL7OIHK18F7K [INF] Request finished in 50.7981ms 302  (15c52c40)
2017-09-14T22:22:06.8091442+03:00 0HL7OIHK18F7L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.00375120508478343771505416926796&state=15054169267960.2879413651693501   (e5be5b71)
2017-09-14T22:22:06.8151477+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:06.8161484+03:00 0HL7OIHK18F7L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:06.8186499+03:00 0HL7OIHK18F7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:06.8191504+03:00 0HL7OIHK18F7L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:06.8201511+03:00 0HL7OIHK18F7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:06.8206500+03:00 0HL7OIHK18F7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:06.8211486+03:00 0HL7OIHK18F7L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169267960.2879413651693501\",
  \"Nonce\": \"N0.00375120508478343771505416926796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.00375120508478343771505416926796\",
    \"state\": \"15054169267960.2879413651693501\"
  }
}" (9a175e33)
2017-09-14T22:22:06.8246503+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:06.8351594+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:06.8376589+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:06.8401600+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:06.8421637+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:06.8471666+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:06.8494604+03:00 0HL7OIHK18F7L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:06.8609698+03:00 0HL7OIHK18F7L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169267960.2879413651693501\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:06.8619713+03:00 0HL7OIHK18F7L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:06.8624706+03:00 0HL7OIHK18F7L [INF] Request finished in 55.0392ms 302  (15c52c40)
2017-09-14T22:22:10.8102593+03:00 0HL7OIHK18F7M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69327773524225231505416930797&state=15054169307970.5564754857408263   (e5be5b71)
2017-09-14T22:22:10.8142616+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:10.8152622+03:00 0HL7OIHK18F7M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:10.8157620+03:00 0HL7OIHK18F7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:10.8162629+03:00 0HL7OIHK18F7M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:10.8167646+03:00 0HL7OIHK18F7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:10.8182642+03:00 0HL7OIHK18F7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:10.8187647+03:00 0HL7OIHK18F7M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169307970.5564754857408263\",
  \"Nonce\": \"N0.69327773524225231505416930797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69327773524225231505416930797\",
    \"state\": \"15054169307970.5564754857408263\"
  }
}" (9a175e33)
2017-09-14T22:22:10.8227690+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:10.8407785+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:10.8422797+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:10.8442810+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:10.8462824+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:10.8482841+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:10.8502862+03:00 0HL7OIHK18F7M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:10.8708008+03:00 0HL7OIHK18F7M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169307970.5564754857408263\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:10.8718038+03:00 0HL7OIHK18F7M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:10.8728005+03:00 0HL7OIHK18F7M [INF] Request finished in 64.297ms 302  (15c52c40)
2017-09-14T22:22:14.8078056+03:00 0HL7OIHK18F7N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93235326554920661505416934796&state=15054169347960.6170581287567922   (e5be5b71)
2017-09-14T22:22:14.8133087+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:14.8143089+03:00 0HL7OIHK18F7N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:14.8173109+03:00 0HL7OIHK18F7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:14.8178110+03:00 0HL7OIHK18F7N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:14.8188117+03:00 0HL7OIHK18F7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:14.8208134+03:00 0HL7OIHK18F7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:14.8208134+03:00 0HL7OIHK18F7N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169347960.6170581287567922\",
  \"Nonce\": \"N0.93235326554920661505416934796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93235326554920661505416934796\",
    \"state\": \"15054169347960.6170581287567922\"
  }
}" (9a175e33)
2017-09-14T22:22:14.8308848+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:14.8368904+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:14.8393942+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:14.8417235+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:14.8427254+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:14.8452284+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:14.8467296+03:00 0HL7OIHK18F7N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:14.8582378+03:00 0HL7OIHK18F7N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169347960.6170581287567922\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:14.8587395+03:00 0HL7OIHK18F7N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:14.8597370+03:00 0HL7OIHK18F7N [INF] Request finished in 53.7338ms 302  (15c52c40)
2017-09-14T22:22:18.8091797+03:00 0HL7OIHK18F7O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.07068006763025681505416938797&state=15054169387970.29177949217510113   (e5be5b71)
2017-09-14T22:22:18.8146851+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:18.8156830+03:00 0HL7OIHK18F7O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:18.8176847+03:00 0HL7OIHK18F7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:18.8176847+03:00 0HL7OIHK18F7O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:18.8186882+03:00 0HL7OIHK18F7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:18.8201862+03:00 0HL7OIHK18F7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:18.8201862+03:00 0HL7OIHK18F7O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169387970.29177949217510113\",
  \"Nonce\": \"N0.07068006763025681505416938797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.07068006763025681505416938797\",
    \"state\": \"15054169387970.29177949217510113\"
  }
}" (9a175e33)
2017-09-14T22:22:18.8236923+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:18.8331952+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:18.8356971+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:18.8381977+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:18.8412001+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:18.8437012+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:18.8457041+03:00 0HL7OIHK18F7O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:18.8587111+03:00 0HL7OIHK18F7O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169387970.29177949217510113\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:18.8597134+03:00 0HL7OIHK18F7O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:18.8602123+03:00 0HL7OIHK18F7O [INF] Request finished in 52.8914ms 302  (15c52c40)
2017-09-14T22:22:22.8082473+03:00 0HL7OIHK18F7P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.164699919388791031505416942794&state=15054169427940.6887533591789459   (e5be5b71)
2017-09-14T22:22:22.8132487+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:22.8137488+03:00 0HL7OIHK18F7P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:22.8147502+03:00 0HL7OIHK18F7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:22.8147502+03:00 0HL7OIHK18F7P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:22.8162495+03:00 0HL7OIHK18F7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:22.8167496+03:00 0HL7OIHK18F7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:22.8172501+03:00 0HL7OIHK18F7P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169427940.6887533591789459\",
  \"Nonce\": \"N0.164699919388791031505416942794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.164699919388791031505416942794\",
    \"state\": \"15054169427940.6887533591789459\"
  }
}" (9a175e33)
2017-09-14T22:22:22.8212544+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:22.8362631+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:22.8392659+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:22.8422663+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:22.8452691+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:22.8472696+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:22.8487708+03:00 0HL7OIHK18F7P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:22.8682835+03:00 0HL7OIHK18F7P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169427940.6887533591789459\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:22.8687841+03:00 0HL7OIHK18F7P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:22.8697847+03:00 0HL7OIHK18F7P [INF] Request finished in 63.4771ms 302  (15c52c40)
2017-09-14T22:22:26.8005021+03:00 0HL7OIHK18F7Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.039875682374119091505416946792&state=15054169467920.17374072292853104   (e5be5b71)
2017-09-14T22:22:26.8030024+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:26.8035030+03:00 0HL7OIHK18F7Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:26.8040031+03:00 0HL7OIHK18F7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:26.8040031+03:00 0HL7OIHK18F7Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:26.8045032+03:00 0HL7OIHK18F7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:26.8050061+03:00 0HL7OIHK18F7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:26.8055043+03:00 0HL7OIHK18F7Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169467920.17374072292853104\",
  \"Nonce\": \"N0.039875682374119091505416946792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.039875682374119091505416946792\",
    \"state\": \"15054169467920.17374072292853104\"
  }
}" (9a175e33)
2017-09-14T22:22:26.8090060+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:26.8165112+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:26.8185125+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:26.8205142+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:26.8225179+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:26.8250174+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:26.8280194+03:00 0HL7OIHK18F7Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:26.8440300+03:00 0HL7OIHK18F7Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169467920.17374072292853104\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:26.8445301+03:00 0HL7OIHK18F7Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:26.8455312+03:00 0HL7OIHK18F7Q [INF] Request finished in 45.582ms 302  (15c52c40)
2017-09-14T22:22:30.7995204+03:00 0HL7OIHK18F7R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.384079811032915551505416950792&state=15054169507920.8020978875996743   (e5be5b71)
2017-09-14T22:22:30.8025224+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:30.8030226+03:00 0HL7OIHK18F7R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:30.8035231+03:00 0HL7OIHK18F7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:30.8040232+03:00 0HL7OIHK18F7R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:30.8045237+03:00 0HL7OIHK18F7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:30.8050239+03:00 0HL7OIHK18F7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:30.8055240+03:00 0HL7OIHK18F7R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169507920.8020978875996743\",
  \"Nonce\": \"N0.384079811032915551505416950792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.384079811032915551505416950792\",
    \"state\": \"15054169507920.8020978875996743\"
  }
}" (9a175e33)
2017-09-14T22:22:30.8130292+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:30.8275390+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:30.8300416+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:30.8325423+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:30.8375456+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:30.8415479+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:30.8495532+03:00 0HL7OIHK18F7R [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:30.8690663+03:00 0HL7OIHK18F7R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169507920.8020978875996743\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:30.8700666+03:00 0HL7OIHK18F7R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:30.8710676+03:00 0HL7OIHK18F7R [INF] Request finished in 73.3246ms 302  (15c52c40)
2017-09-14T22:22:34.7972215+03:00 0HL7OIHK18F7S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97772041911124961505416954792&state=15054169547920.18324005628523543   (e5be5b71)
2017-09-14T22:22:34.7997229+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:34.8002235+03:00 0HL7OIHK18F7S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:34.8007248+03:00 0HL7OIHK18F7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:34.8007248+03:00 0HL7OIHK18F7S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:34.8012253+03:00 0HL7OIHK18F7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:34.8017243+03:00 0HL7OIHK18F7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:34.8017243+03:00 0HL7OIHK18F7S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169547920.18324005628523543\",
  \"Nonce\": \"N0.97772041911124961505416954792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97772041911124961505416954792\",
    \"state\": \"15054169547920.18324005628523543\"
  }
}" (9a175e33)
2017-09-14T22:22:34.8042273+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:34.8127315+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:34.8152334+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:34.8167342+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:34.8182358+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:34.8202379+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:34.8222392+03:00 0HL7OIHK18F7S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:34.8397510+03:00 0HL7OIHK18F7S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169547920.18324005628523543\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:34.8407525+03:00 0HL7OIHK18F7S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:34.8417512+03:00 0HL7OIHK18F7S [INF] Request finished in 45.0195ms 302  (15c52c40)
2017-09-14T22:22:38.8009885+03:00 0HL7OIHK18F7T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.225749970535630061505416958790&state=15054169587900.3491748668949457   (e5be5b71)
2017-09-14T22:22:38.8034895+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:38.8039901+03:00 0HL7OIHK18F7T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:38.8044906+03:00 0HL7OIHK18F7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:38.8044906+03:00 0HL7OIHK18F7T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:38.8049911+03:00 0HL7OIHK18F7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:38.8054909+03:00 0HL7OIHK18F7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:38.8054909+03:00 0HL7OIHK18F7T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169587900.3491748668949457\",
  \"Nonce\": \"N0.225749970535630061505416958790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.225749970535630061505416958790\",
    \"state\": \"15054169587900.3491748668949457\"
  }
}" (9a175e33)
2017-09-14T22:22:38.8099932+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:38.8195001+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:38.8215015+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:38.8235024+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:38.8255041+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:38.8285057+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:38.8320078+03:00 0HL7OIHK18F7T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:38.8515241+03:00 0HL7OIHK18F7T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169587900.3491748668949457\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:38.8520215+03:00 0HL7OIHK18F7T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:38.8530217+03:00 0HL7OIHK18F7T [INF] Request finished in 52.9131ms 302  (15c52c40)
2017-09-14T22:22:42.7984823+03:00 0HL7OIHK18F7U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.18752742577178361505416962790&state=15054169627900.2996392771666505   (e5be5b71)
2017-09-14T22:22:42.8009818+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:42.8014823+03:00 0HL7OIHK18F7U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:42.8019820+03:00 0HL7OIHK18F7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:42.8024829+03:00 0HL7OIHK18F7U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:42.8029827+03:00 0HL7OIHK18F7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:42.8034832+03:00 0HL7OIHK18F7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:42.8034832+03:00 0HL7OIHK18F7U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169627900.2996392771666505\",
  \"Nonce\": \"N0.18752742577178361505416962790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.18752742577178361505416962790\",
    \"state\": \"15054169627900.2996392771666505\"
  }
}" (9a175e33)
2017-09-14T22:22:42.8074886+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:42.8184943+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:42.8204945+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:42.8235008+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:42.8254978+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:42.8280000+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:42.8300010+03:00 0HL7OIHK18F7U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:42.8450105+03:00 0HL7OIHK18F7U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169627900.2996392771666505\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:42.8455110+03:00 0HL7OIHK18F7U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:42.8465121+03:00 0HL7OIHK18F7U [INF] Request finished in 48.8812ms 302  (15c52c40)
2017-09-14T22:22:46.8058185+03:00 0HL7OIHK18F7V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.83918324393143551505416966792&state=15054169667920.38672898572425174   (e5be5b71)
2017-09-14T22:22:46.8118225+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:46.8128235+03:00 0HL7OIHK18F7V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:46.8193280+03:00 0HL7OIHK18F7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:46.8198282+03:00 0HL7OIHK18F7V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:46.8203287+03:00 0HL7OIHK18F7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:46.8213290+03:00 0HL7OIHK18F7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:46.8213290+03:00 0HL7OIHK18F7V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169667920.38672898572425174\",
  \"Nonce\": \"N0.83918324393143551505416966792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.83918324393143551505416966792\",
    \"state\": \"15054169667920.38672898572425174\"
  }
}" (9a175e33)
2017-09-14T22:22:46.8338370+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:46.8488466+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:46.8533498+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:46.8623565+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:46.8683601+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:46.8753651+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:46.8878736+03:00 0HL7OIHK18F7V [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:46.9123893+03:00 0HL7OIHK18F7V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169667920.38672898572425174\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:46.9133899+03:00 0HL7OIHK18F7V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:46.9148907+03:00 0HL7OIHK18F7V [INF] Request finished in 109.1531ms 302  (15c52c40)
2017-09-14T22:22:50.7985644+03:00 0HL7OIHK18F80 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52926122855860941505416970792&state=15054169707920.907106909032104   (e5be5b71)
2017-09-14T22:22:50.8010686+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:50.8015668+03:00 0HL7OIHK18F80 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:50.8025670+03:00 0HL7OIHK18F80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:50.8025670+03:00 0HL7OIHK18F80 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:50.8030672+03:00 0HL7OIHK18F80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:50.8035673+03:00 0HL7OIHK18F80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:50.8035673+03:00 0HL7OIHK18F80 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169707920.907106909032104\",
  \"Nonce\": \"N0.52926122855860941505416970792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52926122855860941505416970792\",
    \"state\": \"15054169707920.907106909032104\"
  }
}" (9a175e33)
2017-09-14T22:22:50.8095713+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:50.8225815+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:50.8270835+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:50.8300851+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:50.8335884+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:50.8355885+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:50.8390906+03:00 0HL7OIHK18F80 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:50.8505984+03:00 0HL7OIHK18F80 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169707920.907106909032104\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:50.8516015+03:00 0HL7OIHK18F80 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:50.8520992+03:00 0HL7OIHK18F80 [INF] Request finished in 53.8778ms 302  (15c52c40)
2017-09-14T22:22:54.8065393+03:00 0HL7OIHK18F81 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54935469452624571505416974791&state=15054169747910.8320336265639039   (e5be5b71)
2017-09-14T22:22:54.8125460+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:54.8140437+03:00 0HL7OIHK18F81 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:54.8155480+03:00 0HL7OIHK18F81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:54.8155480+03:00 0HL7OIHK18F81 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:54.8165451+03:00 0HL7OIHK18F81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:54.8180459+03:00 0HL7OIHK18F81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:54.8185468+03:00 0HL7OIHK18F81 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169747910.8320336265639039\",
  \"Nonce\": \"N0.54935469452624571505416974791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54935469452624571505416974791\",
    \"state\": \"15054169747910.8320336265639039\"
  }
}" (9a175e33)
2017-09-14T22:22:54.8240495+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:54.8360586+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:54.8380611+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:54.8405602+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:54.8435626+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:54.8450642+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:54.8465638+03:00 0HL7OIHK18F81 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:54.8590723+03:00 0HL7OIHK18F81 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169747910.8320336265639039\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:54.8600745+03:00 0HL7OIHK18F81 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:54.8605739+03:00 0HL7OIHK18F81 [INF] Request finished in 55.9597ms 302  (15c52c40)
2017-09-14T22:22:58.8063956+03:00 0HL7OIHK18F82 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25641083221843931505416978792&state=15054169787920.8970378081738779   (e5be5b71)
2017-09-14T22:22:58.8123992+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:22:58.8139004+03:00 0HL7OIHK18F82 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:22:58.8144009+03:00 0HL7OIHK18F82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:58.8149014+03:00 0HL7OIHK18F82 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:22:58.8154024+03:00 0HL7OIHK18F82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:58.8169031+03:00 0HL7OIHK18F82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:58.8169031+03:00 0HL7OIHK18F82 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169787920.8970378081738779\",
  \"Nonce\": \"N0.25641083221843931505416978792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25641083221843931505416978792\",
    \"state\": \"15054169787920.8970378081738779\"
  }
}" (9a175e33)
2017-09-14T22:22:58.8207625+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:22:58.8337707+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:58.8367739+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:22:58.8397755+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:22:58.8447784+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:22:58.8467793+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:22:58.8487811+03:00 0HL7OIHK18F82 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:22:58.8622906+03:00 0HL7OIHK18F82 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169787920.8970378081738779\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:22:58.8627911+03:00 0HL7OIHK18F82 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:22:58.8632940+03:00 0HL7OIHK18F82 [INF] Request finished in 59.0939ms 302  (15c52c40)
2017-09-14T22:23:02.7983856+03:00 0HL7OIHK18F83 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0488545724316695741505416982790&state=15054169827900.49895365268046277   (e5be5b71)
2017-09-14T22:23:02.8008866+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:02.8018869+03:00 0HL7OIHK18F83 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:02.8023874+03:00 0HL7OIHK18F83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:02.8023874+03:00 0HL7OIHK18F83 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:02.8028864+03:00 0HL7OIHK18F83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:02.8038870+03:00 0HL7OIHK18F83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:02.8038870+03:00 0HL7OIHK18F83 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169827900.49895365268046277\",
  \"Nonce\": \"N0.0488545724316695741505416982790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0488545724316695741505416982790\",
    \"state\": \"15054169827900.49895365268046277\"
  }
}" (9a175e33)
2017-09-14T22:23:02.8128930+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:02.8264021+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:02.8284035+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:02.8309049+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:02.8324061+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:02.8359082+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:02.8379096+03:00 0HL7OIHK18F83 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:02.8524186+03:00 0HL7OIHK18F83 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169827900.49895365268046277\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:02.8529187+03:00 0HL7OIHK18F83 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:02.8534196+03:00 0HL7OIHK18F83 [INF] Request finished in 56.0659ms 302  (15c52c40)
2017-09-14T22:23:06.7980808+03:00 0HL7OIHK18F84 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.82396109689892551505416986791&state=15054169867910.43676457217130915   (e5be5b71)
2017-09-14T22:23:06.8000845+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:06.8005839+03:00 0HL7OIHK18F84 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:06.8010844+03:00 0HL7OIHK18F84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:06.8010844+03:00 0HL7OIHK18F84 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:06.8015841+03:00 0HL7OIHK18F84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:06.8020854+03:00 0HL7OIHK18F84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:06.8020854+03:00 0HL7OIHK18F84 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169867910.43676457217130915\",
  \"Nonce\": \"N0.82396109689892551505416986791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.82396109689892551505416986791\",
    \"state\": \"15054169867910.43676457217130915\"
  }
}" (9a175e33)
2017-09-14T22:23:06.8040872+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:06.8130939+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:06.8145943+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:06.8171976+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:06.8191026+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:06.8206082+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:06.8221078+03:00 0HL7OIHK18F84 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:06.8376171+03:00 0HL7OIHK18F84 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169867910.43676457217130915\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:06.8381184+03:00 0HL7OIHK18F84 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:06.8391194+03:00 0HL7OIHK18F84 [INF] Request finished in 41.3832ms 302  (15c52c40)
2017-09-14T22:23:10.8041969+03:00 0HL7OIHK18F85 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.302287287947730961505416990790&state=15054169907900.31344152245674795   (e5be5b71)
2017-09-14T22:23:10.8092006+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:10.8122038+03:00 0HL7OIHK18F85 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:10.8137038+03:00 0HL7OIHK18F85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:10.8142043+03:00 0HL7OIHK18F85 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:10.8157047+03:00 0HL7OIHK18F85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:10.8177088+03:00 0HL7OIHK18F85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:10.8177088+03:00 0HL7OIHK18F85 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169907900.31344152245674795\",
  \"Nonce\": \"N0.302287287947730961505416990790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.302287287947730961505416990790\",
    \"state\": \"15054169907900.31344152245674795\"
  }
}" (9a175e33)
2017-09-14T22:23:10.8242125+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:10.8442226+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:10.8463258+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:10.8473300+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:10.8488312+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:10.8498319+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:10.8508317+03:00 0HL7OIHK18F85 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:10.8658429+03:00 0HL7OIHK18F85 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169907900.31344152245674795\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:10.8663426+03:00 0HL7OIHK18F85 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:10.8673421+03:00 0HL7OIHK18F85 [INF] Request finished in 65.0813ms 302  (15c52c40)
2017-09-14T22:23:14.8048909+03:00 0HL7OIHK18F86 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.407307641125010941505416994791&state=15054169947910.6262815630486829   (e5be5b71)
2017-09-14T22:23:14.8093948+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:14.8113954+03:00 0HL7OIHK18F86 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:14.8138952+03:00 0HL7OIHK18F86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:14.8138952+03:00 0HL7OIHK18F86 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:14.8158966+03:00 0HL7OIHK18F86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:14.8183992+03:00 0HL7OIHK18F86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:14.8183992+03:00 0HL7OIHK18F86 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169947910.6262815630486829\",
  \"Nonce\": \"N0.407307641125010941505416994791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.407307641125010941505416994791\",
    \"state\": \"15054169947910.6262815630486829\"
  }
}" (9a175e33)
2017-09-14T22:23:14.8244044+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:14.8389106+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:14.8414129+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:14.8444141+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:14.8456650+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:14.8476695+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:14.8496700+03:00 0HL7OIHK18F86 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:14.8651801+03:00 0HL7OIHK18F86 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169947910.6262815630486829\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:14.8659104+03:00 0HL7OIHK18F86 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:14.8664129+03:00 0HL7OIHK18F86 [INF] Request finished in 63.9705ms 302  (15c52c40)
2017-09-14T22:23:18.7997940+03:00 0HL7OIHK18F87 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.348662510228984651505416998792&state=15054169987920.0400771280395551   (e5be5b71)
2017-09-14T22:23:18.8022943+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:18.8027960+03:00 0HL7OIHK18F87 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:18.8032961+03:00 0HL7OIHK18F87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:18.8032961+03:00 0HL7OIHK18F87 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:18.8037962+03:00 0HL7OIHK18F87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:18.8042956+03:00 0HL7OIHK18F87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:18.8047969+03:00 0HL7OIHK18F87 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054169987920.0400771280395551\",
  \"Nonce\": \"N0.348662510228984651505416998792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.348662510228984651505416998792\",
    \"state\": \"15054169987920.0400771280395551\"
  }
}" (9a175e33)
2017-09-14T22:23:18.8098010+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:18.8233090+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:18.8248094+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:18.8278110+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:18.8298131+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:18.8313139+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:18.8328151+03:00 0HL7OIHK18F87 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:18.8503257+03:00 0HL7OIHK18F87 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054169987920.0400771280395551\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:18.8508262+03:00 0HL7OIHK18F87 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:18.8513267+03:00 0HL7OIHK18F87 [INF] Request finished in 53.0832ms 302  (15c52c40)
2017-09-14T22:23:22.8000458+03:00 0HL7OIHK18F88 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.275814230776880051505417002791&state=15054170027910.4755608253108998   (e5be5b71)
2017-09-14T22:23:22.8025453+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:22.8030454+03:00 0HL7OIHK18F88 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:22.8035456+03:00 0HL7OIHK18F88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:22.8035456+03:00 0HL7OIHK18F88 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:22.8040461+03:00 0HL7OIHK18F88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:22.8045466+03:00 0HL7OIHK18F88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:22.8045466+03:00 0HL7OIHK18F88 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170027910.4755608253108998\",
  \"Nonce\": \"N0.275814230776880051505417002791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.275814230776880051505417002791\",
    \"state\": \"15054170027910.4755608253108998\"
  }
}" (9a175e33)
2017-09-14T22:23:22.8075482+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:22.8185555+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:22.8215579+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:22.8240598+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:22.8285625+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:22.8310644+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:22.8325652+03:00 0HL7OIHK18F88 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:22.8455734+03:00 0HL7OIHK18F88 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170027910.4755608253108998\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:22.8460739+03:00 0HL7OIHK18F88 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:22.8465749+03:00 0HL7OIHK18F88 [INF] Request finished in 47.5036ms 302  (15c52c40)
2017-09-14T22:23:26.7996325+03:00 0HL7OIHK18F89 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.064488070398700531505417006793&state=15054170067930.566873182807071   (e5be5b71)
2017-09-14T22:23:26.8021332+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:26.8026337+03:00 0HL7OIHK18F89 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:26.8026337+03:00 0HL7OIHK18F89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:26.8026337+03:00 0HL7OIHK18F89 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:26.8031343+03:00 0HL7OIHK18F89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:26.8036356+03:00 0HL7OIHK18F89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:26.8036356+03:00 0HL7OIHK18F89 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170067930.566873182807071\",
  \"Nonce\": \"N0.064488070398700531505417006793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.064488070398700531505417006793\",
    \"state\": \"15054170067930.566873182807071\"
  }
}" (9a175e33)
2017-09-14T22:23:26.8061363+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:26.8151438+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:26.8166446+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:26.8196651+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:26.8212153+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:26.8227184+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:26.8242196+03:00 0HL7OIHK18F89 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:26.8387294+03:00 0HL7OIHK18F89 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170067930.566873182807071\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:26.8397285+03:00 0HL7OIHK18F89 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:26.8402291+03:00 0HL7OIHK18F89 [INF] Request finished in 41.0283ms 302  (15c52c40)
2017-09-14T22:23:30.8054873+03:00 0HL7OIHK18F8A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53209364149706211505417010791&state=15054170107910.5509801311601086   (e5be5b71)
2017-09-14T22:23:30.8104882+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:30.8134898+03:00 0HL7OIHK18F8A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:30.8149938+03:00 0HL7OIHK18F8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:30.8154908+03:00 0HL7OIHK18F8A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:30.8175000+03:00 0HL7OIHK18F8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:30.8189961+03:00 0HL7OIHK18F8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:30.8194966+03:00 0HL7OIHK18F8A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170107910.5509801311601086\",
  \"Nonce\": \"N0.53209364149706211505417010791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53209364149706211505417010791\",
    \"state\": \"15054170107910.5509801311601086\"
  }
}" (9a175e33)
2017-09-14T22:23:30.8229944+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:30.8320027+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:30.8340036+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:30.8369496+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:30.8384508+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:30.8409514+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:30.8439558+03:00 0HL7OIHK18F8A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:30.8569624+03:00 0HL7OIHK18F8A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170107910.5509801311601086\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:30.8584632+03:00 0HL7OIHK18F8A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:30.8594662+03:00 0HL7OIHK18F8A [INF] Request finished in 56.5889ms 302  (15c52c40)
2017-09-14T22:23:34.8044223+03:00 0HL7OIHK18F8B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.149241074855729131505417014791&state=15054170147910.04369884584033712   (e5be5b71)
2017-09-14T22:23:34.8094217+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:34.8109248+03:00 0HL7OIHK18F8B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:34.8134271+03:00 0HL7OIHK18F8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:34.8134271+03:00 0HL7OIHK18F8B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:34.8149279+03:00 0HL7OIHK18F8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:34.8159289+03:00 0HL7OIHK18F8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:34.8159289+03:00 0HL7OIHK18F8B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170147910.04369884584033712\",
  \"Nonce\": \"N0.149241074855729131505417014791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.149241074855729131505417014791\",
    \"state\": \"15054170147910.04369884584033712\"
  }
}" (9a175e33)
2017-09-14T22:23:34.8249337+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:34.8439467+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:34.8459468+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:34.8479466+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:34.8499495+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:34.8529495+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:34.8549449+03:00 0HL7OIHK18F8B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:34.8709539+03:00 0HL7OIHK18F8B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170147910.04369884584033712\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:34.8714545+03:00 0HL7OIHK18F8B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:34.8724555+03:00 0HL7OIHK18F8B [INF] Request finished in 70.0483ms 302  (15c52c40)
2017-09-14T22:23:38.7972823+03:00 0HL7OIHK18F8C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0317665208302984061505417018791&state=15054170187910.146614170189173   (e5be5b71)
2017-09-14T22:23:38.7992848+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:38.8002846+03:00 0HL7OIHK18F8C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:38.8007856+03:00 0HL7OIHK18F8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:38.8007856+03:00 0HL7OIHK18F8C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:38.8012857+03:00 0HL7OIHK18F8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:38.8022864+03:00 0HL7OIHK18F8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:38.8022864+03:00 0HL7OIHK18F8C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170187910.146614170189173\",
  \"Nonce\": \"N0.0317665208302984061505417018791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0317665208302984061505417018791\",
    \"state\": \"15054170187910.146614170189173\"
  }
}" (9a175e33)
2017-09-14T22:23:38.8042877+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:38.8112931+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:38.8152942+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:38.8177960+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:38.8197978+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:38.8218007+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:38.8232995+03:00 0HL7OIHK18F8C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:38.8398110+03:00 0HL7OIHK18F8C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170187910.146614170189173\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:38.8403127+03:00 0HL7OIHK18F8C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:38.8408129+03:00 0HL7OIHK18F8C [INF] Request finished in 44.2162ms 302  (15c52c40)
2017-09-14T22:23:42.7999724+03:00 0HL7OIHK18F8D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.075274443550210621505417022791&state=15054170227910.3189775517431235   (e5be5b71)
2017-09-14T22:23:42.8031753+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:42.8036790+03:00 0HL7OIHK18F8D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:42.8046789+03:00 0HL7OIHK18F8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:42.8046789+03:00 0HL7OIHK18F8D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:42.8051794+03:00 0HL7OIHK18F8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:42.8056795+03:00 0HL7OIHK18F8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:42.8061789+03:00 0HL7OIHK18F8D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170227910.3189775517431235\",
  \"Nonce\": \"N0.075274443550210621505417022791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.075274443550210621505417022791\",
    \"state\": \"15054170227910.3189775517431235\"
  }
}" (9a175e33)
2017-09-14T22:23:42.8091821+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:42.8221895+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:42.8236903+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:42.8266935+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:42.8291941+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:42.8311974+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:42.8326978+03:00 0HL7OIHK18F8D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:42.8452043+03:00 0HL7OIHK18F8D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170227910.3189775517431235\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:42.8462058+03:00 0HL7OIHK18F8D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:42.8467055+03:00 0HL7OIHK18F8D [INF] Request finished in 47.8162ms 302  (15c52c40)
2017-09-14T22:23:46.8047709+03:00 0HL7OIHK18F8E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7515974651251341505417026793&state=15054170267930.10782841607358584   (e5be5b71)
2017-09-14T22:23:46.8091990+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:46.8101989+03:00 0HL7OIHK18F8E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:46.8112004+03:00 0HL7OIHK18F8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:46.8117017+03:00 0HL7OIHK18F8E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:46.8142035+03:00 0HL7OIHK18F8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:46.8157043+03:00 0HL7OIHK18F8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:46.8162045+03:00 0HL7OIHK18F8E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170267930.10782841607358584\",
  \"Nonce\": \"N0.7515974651251341505417026793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7515974651251341505417026793\",
    \"state\": \"15054170267930.10782841607358584\"
  }
}" (9a175e33)
2017-09-14T22:23:46.8242129+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:46.8417204+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:46.8437213+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:46.8462220+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:46.8477259+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:46.8492279+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:46.8517286+03:00 0HL7OIHK18F8E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:46.8707408+03:00 0HL7OIHK18F8E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170267930.10782841607358584\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:46.8712425+03:00 0HL7OIHK18F8E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:46.8722420+03:00 0HL7OIHK18F8E [INF] Request finished in 69.2841ms 302  (15c52c40)
2017-09-14T22:23:50.7964221+03:00 0HL7OIHK18F8F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75888756891820461505417030791&state=15054170307910.925558122124728   (e5be5b71)
2017-09-14T22:23:50.7989236+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:50.7994241+03:00 0HL7OIHK18F8F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:50.7994241+03:00 0HL7OIHK18F8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:50.7999235+03:00 0HL7OIHK18F8F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:50.7999235+03:00 0HL7OIHK18F8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:50.8005258+03:00 0HL7OIHK18F8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:50.8005258+03:00 0HL7OIHK18F8F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170307910.925558122124728\",
  \"Nonce\": \"N0.75888756891820461505417030791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75888756891820461505417030791\",
    \"state\": \"15054170307910.925558122124728\"
  }
}" (9a175e33)
2017-09-14T22:23:50.8060313+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:50.8155389+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:50.8185405+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:50.8225448+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:50.8255456+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:50.8285475+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:50.8317284+03:00 0HL7OIHK18F8F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:50.8427345+03:00 0HL7OIHK18F8F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170307910.925558122124728\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:50.8442376+03:00 0HL7OIHK18F8F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:50.8447370+03:00 0HL7OIHK18F8F [INF] Request finished in 48.7241ms 302  (15c52c40)
2017-09-14T22:23:54.7983994+03:00 0HL7OIHK18F8G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.295011307842565351505417034792&state=15054170347920.552524022385745   (e5be5b71)
2017-09-14T22:23:54.8009016+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:54.8014018+03:00 0HL7OIHK18F8G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:54.8019015+03:00 0HL7OIHK18F8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:54.8019015+03:00 0HL7OIHK18F8G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:54.8024020+03:00 0HL7OIHK18F8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:54.8029022+03:00 0HL7OIHK18F8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:54.8034027+03:00 0HL7OIHK18F8G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170347920.552524022385745\",
  \"Nonce\": \"N0.295011307842565351505417034792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.295011307842565351505417034792\",
    \"state\": \"15054170347920.552524022385745\"
  }
}" (9a175e33)
2017-09-14T22:23:54.8079055+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:54.8229150+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:54.8264187+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:54.8304206+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:54.8339231+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:54.8364246+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:54.8409285+03:00 0HL7OIHK18F8G [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:54.8574389+03:00 0HL7OIHK18F8G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170347920.552524022385745\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:54.8579390+03:00 0HL7OIHK18F8G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:54.8584383+03:00 0HL7OIHK18F8G [INF] Request finished in 60.5631ms 302  (15c52c40)
2017-09-14T22:23:58.7989875+03:00 0HL7OIHK18F8H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.632242993111051505417038792&state=15054170387920.3003490287410433   (e5be5b71)
2017-09-14T22:23:58.8009893+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:23:58.8014898+03:00 0HL7OIHK18F8H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:23:58.8019887+03:00 0HL7OIHK18F8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:58.8019887+03:00 0HL7OIHK18F8H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:23:58.8024901+03:00 0HL7OIHK18F8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:58.8024901+03:00 0HL7OIHK18F8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:58.8029906+03:00 0HL7OIHK18F8H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170387920.3003490287410433\",
  \"Nonce\": \"N0.632242993111051505417038792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.632242993111051505417038792\",
    \"state\": \"15054170387920.3003490287410433\"
  }
}" (9a175e33)
2017-09-14T22:23:58.8049919+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:23:58.8129968+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:58.8139975+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:23:58.8154987+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:23:58.8185011+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:23:58.8210025+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:23:58.8230030+03:00 0HL7OIHK18F8H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:23:58.8350114+03:00 0HL7OIHK18F8H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170387920.3003490287410433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:23:58.8360113+03:00 0HL7OIHK18F8H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:23:58.8365130+03:00 0HL7OIHK18F8H [INF] Request finished in 38.0603ms 302  (15c52c40)
2017-09-14T22:24:02.8234732+03:00 0HL7OIHK18F8I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66342580523577511505417042791&state=15054170427910.9990141262292367   (e5be5b71)
2017-09-14T22:24:02.8274758+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:02.8284765+03:00 0HL7OIHK18F8I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:02.8289790+03:00 0HL7OIHK18F8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:02.8294776+03:00 0HL7OIHK18F8I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:02.8299773+03:00 0HL7OIHK18F8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:02.8304774+03:00 0HL7OIHK18F8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:02.8304774+03:00 0HL7OIHK18F8I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170427910.9990141262292367\",
  \"Nonce\": \"N0.66342580523577511505417042791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66342580523577511505417042791\",
    \"state\": \"15054170427910.9990141262292367\"
  }
}" (9a175e33)
2017-09-14T22:24:02.8359817+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:02.8504903+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:02.8534927+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:02.8559949+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:02.8624994+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:02.8660011+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:02.8675019+03:00 0HL7OIHK18F8I [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:02.8940205+03:00 0HL7OIHK18F8I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170427910.9990141262292367\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:02.8945202+03:00 0HL7OIHK18F8I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:02.8965216+03:00 0HL7OIHK18F8I [INF] Request finished in 73.0614ms 302  (15c52c40)
2017-09-14T22:24:06.8228132+03:00 0HL7OIHK18F8J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25371659629021771505417046791&state=15054170467910.5620700361655566   (e5be5b71)
2017-09-14T22:24:06.8253150+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:06.8258156+03:00 0HL7OIHK18F8J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:06.8263161+03:00 0HL7OIHK18F8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:06.8263161+03:00 0HL7OIHK18F8J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:06.8268158+03:00 0HL7OIHK18F8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:06.8288183+03:00 0HL7OIHK18F8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:06.8293197+03:00 0HL7OIHK18F8J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170467910.5620700361655566\",
  \"Nonce\": \"N0.25371659629021771505417046791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25371659629021771505417046791\",
    \"state\": \"15054170467910.5620700361655566\"
  }
}" (9a175e33)
2017-09-14T22:24:06.8343210+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:06.8453283+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:06.8493309+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:06.8523337+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:06.8543346+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:06.8563360+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:06.8593376+03:00 0HL7OIHK18F8J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:06.8778512+03:00 0HL7OIHK18F8J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170467910.5620700361655566\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:06.8793524+03:00 0HL7OIHK18F8J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:06.8818527+03:00 0HL7OIHK18F8J [INF] Request finished in 58.6025ms 302  (15c52c40)
2017-09-14T22:24:10.8021750+03:00 0HL7OIHK18F8K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70269088683973521505417050792&state=15054170507920.38133159420251905   (e5be5b71)
2017-09-14T22:24:10.8046769+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:10.8051774+03:00 0HL7OIHK18F8K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:10.8056811+03:00 0HL7OIHK18F8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:10.8056811+03:00 0HL7OIHK18F8K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:10.8061781+03:00 0HL7OIHK18F8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:10.8071795+03:00 0HL7OIHK18F8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:10.8071795+03:00 0HL7OIHK18F8K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170507920.38133159420251905\",
  \"Nonce\": \"N0.70269088683973521505417050792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70269088683973521505417050792\",
    \"state\": \"15054170507920.38133159420251905\"
  }
}" (9a175e33)
2017-09-14T22:24:10.8106844+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:10.8226896+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:10.8246898+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:10.8291937+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:10.8311943+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:10.8341967+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:10.8386998+03:00 0HL7OIHK18F8K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:10.8697208+03:00 0HL7OIHK18F8K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170507920.38133159420251905\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:10.8827286+03:00 0HL7OIHK18F8K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:10.8862307+03:00 0HL7OIHK18F8K [INF] Request finished in 84.2767ms 302  (15c52c40)
2017-09-14T22:24:14.7986402+03:00 0HL7OIHK18F8L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87169108800876031505417054793&state=15054170547930.8140025687550743   (e5be5b71)
2017-09-14T22:24:14.8011424+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:14.8016422+03:00 0HL7OIHK18F8L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:14.8021423+03:00 0HL7OIHK18F8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:14.8021423+03:00 0HL7OIHK18F8L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:14.8026424+03:00 0HL7OIHK18F8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:14.8031426+03:00 0HL7OIHK18F8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:14.8031426+03:00 0HL7OIHK18F8L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170547930.8140025687550743\",
  \"Nonce\": \"N0.87169108800876031505417054793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87169108800876031505417054793\",
    \"state\": \"15054170547930.8140025687550743\"
  }
}" (9a175e33)
2017-09-14T22:24:14.8051443+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:14.8166525+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:14.8191539+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:14.8211553+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:14.8226561+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:14.8241569+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:14.8261586+03:00 0HL7OIHK18F8L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:14.8406684+03:00 0HL7OIHK18F8L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170547930.8140025687550743\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:14.8411689+03:00 0HL7OIHK18F8L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:14.8416687+03:00 0HL7OIHK18F8L [INF] Request finished in 43.6948ms 302  (15c52c40)
2017-09-14T22:24:18.7973683+03:00 0HL7OIHK18F8M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92009161895462891505417058791&state=15054170587910.6963034979600502   (e5be5b71)
2017-09-14T22:24:18.8008708+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:18.8013714+03:00 0HL7OIHK18F8M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:18.8018735+03:00 0HL7OIHK18F8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:18.8018735+03:00 0HL7OIHK18F8M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:18.8023724+03:00 0HL7OIHK18F8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:18.8028733+03:00 0HL7OIHK18F8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:18.8033719+03:00 0HL7OIHK18F8M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170587910.6963034979600502\",
  \"Nonce\": \"N0.92009161895462891505417058791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92009161895462891505417058791\",
    \"state\": \"15054170587910.6963034979600502\"
  }
}" (9a175e33)
2017-09-14T22:24:18.8063755+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:18.8163809+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:18.8193837+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:18.8218855+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:18.8233852+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:18.8258882+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:18.8278879+03:00 0HL7OIHK18F8M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:18.8443987+03:00 0HL7OIHK18F8M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170587910.6963034979600502\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:18.8448996+03:00 0HL7OIHK18F8M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:18.8459011+03:00 0HL7OIHK18F8M [INF] Request finished in 48.9843ms 302  (15c52c40)
2017-09-14T22:24:21.8050566+03:00 0HL7OIHK18F8N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37670737977275981505417061794&state=15054170617940.7330285277743172   (e5be5b71)
2017-09-14T22:24:21.8070584+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:21.8075581+03:00 0HL7OIHK18F8N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:21.8080586+03:00 0HL7OIHK18F8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:21.8080586+03:00 0HL7OIHK18F8N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:21.8085588+03:00 0HL7OIHK18F8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:21.8090593+03:00 0HL7OIHK18F8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:21.8090593+03:00 0HL7OIHK18F8N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170617940.7330285277743172\",
  \"Nonce\": \"N0.37670737977275981505417061794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37670737977275981505417061794\",
    \"state\": \"15054170617940.7330285277743172\"
  }
}" (9a175e33)
2017-09-14T22:24:21.8115604+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:21.8220679+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:21.8235691+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:21.8255696+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:21.8270708+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:21.8305749+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:21.8330756+03:00 0HL7OIHK18F8N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:21.8480847+03:00 0HL7OIHK18F8N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170617940.7330285277743172\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:21.8485857+03:00 0HL7OIHK18F8N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:21.8490854+03:00 0HL7OIHK18F8N [INF] Request finished in 45.5603ms 302  (15c52c40)
2017-09-14T22:24:25.7996791+03:00 0HL7OIHK18F8O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69869155839750971505417065792&state=15054170657920.7395604521389147   (e5be5b71)
2017-09-14T22:24:25.8021794+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:25.8026795+03:00 0HL7OIHK18F8O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:25.8031797+03:00 0HL7OIHK18F8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:25.8031797+03:00 0HL7OIHK18F8O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:25.8036818+03:00 0HL7OIHK18F8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:25.8041807+03:00 0HL7OIHK18F8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:25.8041807+03:00 0HL7OIHK18F8O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170657920.7395604521389147\",
  \"Nonce\": \"N0.69869155839750971505417065792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69869155839750971505417065792\",
    \"state\": \"15054170657920.7395604521389147\"
  }
}" (9a175e33)
2017-09-14T22:24:25.8066822+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:25.8156881+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:25.8181904+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:25.8201933+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:25.8221954+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:25.8241952+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:25.8256952+03:00 0HL7OIHK18F8O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:25.8422059+03:00 0HL7OIHK18F8O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170657920.7395604521389147\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:25.8432066+03:00 0HL7OIHK18F8O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:25.8437071+03:00 0HL7OIHK18F8O [INF] Request finished in 44.7065ms 302  (15c52c40)
2017-09-14T22:24:29.7977729+03:00 0HL7OIHK18F8P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61309748093962861505417069792&state=15054170697920.9773926314843433   (e5be5b71)
2017-09-14T22:24:29.8002744+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:29.8007745+03:00 0HL7OIHK18F8P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:29.8012747+03:00 0HL7OIHK18F8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:29.8012747+03:00 0HL7OIHK18F8P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:29.8017764+03:00 0HL7OIHK18F8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:29.8022749+03:00 0HL7OIHK18F8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:29.8022749+03:00 0HL7OIHK18F8P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170697920.9773926314843433\",
  \"Nonce\": \"N0.61309748093962861505417069792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61309748093962861505417069792\",
    \"state\": \"15054170697920.9773926314843433\"
  }
}" (9a175e33)
2017-09-14T22:24:29.8057774+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:29.8157845+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:29.8192874+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:29.8207874+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:29.8227887+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:29.8252906+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:29.8272919+03:00 0HL7OIHK18F8P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:29.8418021+03:00 0HL7OIHK18F8P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170697920.9773926314843433\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:29.8423022+03:00 0HL7OIHK18F8P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:29.8433029+03:00 0HL7OIHK18F8P [INF] Request finished in 46.33ms 302  (15c52c40)
2017-09-14T22:24:33.7984235+03:00 0HL7OIHK18F8Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65827489629003931505417073791&state=15054170737910.4640090873097109   (e5be5b71)
2017-09-14T22:24:33.8009249+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:33.8014254+03:00 0HL7OIHK18F8Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:33.8019248+03:00 0HL7OIHK18F8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:33.8024253+03:00 0HL7OIHK18F8Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:33.8029266+03:00 0HL7OIHK18F8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:33.8034256+03:00 0HL7OIHK18F8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:33.8034256+03:00 0HL7OIHK18F8Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170737910.4640090873097109\",
  \"Nonce\": \"N0.65827489629003931505417073791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65827489629003931505417073791\",
    \"state\": \"15054170737910.4640090873097109\"
  }
}" (9a175e33)
2017-09-14T22:24:33.8074282+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:33.8159341+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:33.8179354+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:33.8194382+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:33.8209374+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:33.8234388+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:33.8259407+03:00 0HL7OIHK18F8Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:33.8419509+03:00 0HL7OIHK18F8Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170737910.4640090873097109\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:33.8424514+03:00 0HL7OIHK18F8Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:33.8429520+03:00 0HL7OIHK18F8Q [INF] Request finished in 44.9867ms 302  (15c52c40)
2017-09-14T22:24:36.8091860+03:00 0HL7OIHK18F8R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.010597088088510011505417076797&state=15054170767970.4268604663968545   (e5be5b71)
2017-09-14T22:24:36.8121880+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:36.8201965+03:00 0HL7OIHK18F8R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:36.8211940+03:00 0HL7OIHK18F8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:36.8211940+03:00 0HL7OIHK18F8R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:36.8216941+03:00 0HL7OIHK18F8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:36.8221946+03:00 0HL7OIHK18F8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:36.8226951+03:00 0HL7OIHK18F8R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170767970.4268604663968545\",
  \"Nonce\": \"N0.010597088088510011505417076797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.010597088088510011505417076797\",
    \"state\": \"15054170767970.4268604663968545\"
  }
}" (9a175e33)
2017-09-14T22:24:36.8256967+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:36.8392055+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:36.8487124+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:36.8512138+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:36.8597205+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:36.8627213+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:36.8657236+03:00 0HL7OIHK18F8R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:36.8842353+03:00 0HL7OIHK18F8R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170767970.4268604663968545\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:36.8847358+03:00 0HL7OIHK18F8R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:36.8857365+03:00 0HL7OIHK18F8R [INF] Request finished in 76.7182ms 302  (15c52c40)
2017-09-14T22:24:40.8001410+03:00 0HL7OIHK18F8S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85534567287700261505417080793&state=15054170807930.2802237680417623   (e5be5b71)
2017-09-14T22:24:40.8036415+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:40.8041420+03:00 0HL7OIHK18F8S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:40.8046422+03:00 0HL7OIHK18F8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:40.8046422+03:00 0HL7OIHK18F8S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:40.8051439+03:00 0HL7OIHK18F8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:40.8056444+03:00 0HL7OIHK18F8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:40.8056444+03:00 0HL7OIHK18F8S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170807930.2802237680417623\",
  \"Nonce\": \"N0.85534567287700261505417080793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85534567287700261505417080793\",
    \"state\": \"15054170807930.2802237680417623\"
  }
}" (9a175e33)
2017-09-14T22:24:40.8091450+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:40.8176508+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:40.8201534+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:40.8216546+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:40.8231574+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:40.8251563+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:40.8311627+03:00 0HL7OIHK18F8S [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:40.8471729+03:00 0HL7OIHK18F8S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170807930.2802237680417623\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:40.8491723+03:00 0HL7OIHK18F8S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:40.8516737+03:00 0HL7OIHK18F8S [INF] Request finished in 50.4941ms 302  (15c52c40)
2017-09-14T22:24:44.8006257+03:00 0HL7OIHK18F8T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77991375153598911505417084794&state=15054170847940.18219015726085108   (e5be5b71)
2017-09-14T22:24:44.8036281+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:44.8041282+03:00 0HL7OIHK18F8T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:44.8046284+03:00 0HL7OIHK18F8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:44.8046284+03:00 0HL7OIHK18F8T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:44.8051289+03:00 0HL7OIHK18F8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:44.8056294+03:00 0HL7OIHK18F8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:44.8061291+03:00 0HL7OIHK18F8T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170847940.18219015726085108\",
  \"Nonce\": \"N0.77991375153598911505417084794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77991375153598911505417084794\",
    \"state\": \"15054170847940.18219015726085108\"
  }
}" (9a175e33)
2017-09-14T22:24:44.8096309+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:44.8186368+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:44.8206382+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:44.8221398+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:44.8241415+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:44.8276432+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:44.8296465+03:00 0HL7OIHK18F8T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:44.8456547+03:00 0HL7OIHK18F8T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170847940.18219015726085108\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:44.8466578+03:00 0HL7OIHK18F8T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:44.8471563+03:00 0HL7OIHK18F8T [INF] Request finished in 47.0378ms 302  (15c52c40)
2017-09-14T22:24:48.8008657+03:00 0HL7OIHK18F8U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.450556643814100651505417088793&state=15054170887930.03934303565607555   (e5be5b71)
2017-09-14T22:24:48.8028670+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:48.8038669+03:00 0HL7OIHK18F8U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:48.8043674+03:00 0HL7OIHK18F8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:48.8043674+03:00 0HL7OIHK18F8U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:48.8048680+03:00 0HL7OIHK18F8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:48.8053689+03:00 0HL7OIHK18F8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:48.8053689+03:00 0HL7OIHK18F8U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170887930.03934303565607555\",
  \"Nonce\": \"N0.450556643814100651505417088793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.450556643814100651505417088793\",
    \"state\": \"15054170887930.03934303565607555\"
  }
}" (9a175e33)
2017-09-14T22:24:48.8093723+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:48.8188780+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:48.8208786+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:48.8223801+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:48.8238805+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:48.8268825+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:48.8288839+03:00 0HL7OIHK18F8U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:48.8438934+03:00 0HL7OIHK18F8U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170887930.03934303565607555\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:48.8448945+03:00 0HL7OIHK18F8U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:48.8458955+03:00 0HL7OIHK18F8U [INF] Request finished in 45.5343ms 302  (15c52c40)
2017-09-14T22:24:52.8089006+03:00 0HL7OIHK18F8V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47236503877567281505417092795&state=15054170927950.2855391350599583   (e5be5b71)
2017-09-14T22:24:52.8119014+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:52.8124019+03:00 0HL7OIHK18F8V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:52.8129021+03:00 0HL7OIHK18F8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:52.8134022+03:00 0HL7OIHK18F8V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:52.8139027+03:00 0HL7OIHK18F8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:52.8149054+03:00 0HL7OIHK18F8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:52.8154047+03:00 0HL7OIHK18F8V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170927950.2855391350599583\",
  \"Nonce\": \"N0.47236503877567281505417092795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47236503877567281505417092795\",
    \"state\": \"15054170927950.2855391350599583\"
  }
}" (9a175e33)
2017-09-14T22:24:52.8229087+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:52.8354172+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:52.8379194+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:52.8409206+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:52.8429216+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:52.8454242+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:52.8559302+03:00 0HL7OIHK18F8V [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:52.8764444+03:00 0HL7OIHK18F8V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170927950.2855391350599583\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:52.8809475+03:00 0HL7OIHK18F8V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:52.8834494+03:00 0HL7OIHK18F8V [INF] Request finished in 73.2398ms 302  (15c52c40)
2017-09-14T22:24:56.7995240+03:00 0HL7OIHK18F90 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.217019217400871161505417096794&state=15054170967940.9424947496076868   (e5be5b71)
2017-09-14T22:24:56.8020254+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:24:56.8025256+03:00 0HL7OIHK18F90 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:24:56.8030261+03:00 0HL7OIHK18F90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:56.8030261+03:00 0HL7OIHK18F90 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:24:56.8035270+03:00 0HL7OIHK18F90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:56.8040280+03:00 0HL7OIHK18F90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:56.8040280+03:00 0HL7OIHK18F90 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054170967940.9424947496076868\",
  \"Nonce\": \"N0.217019217400871161505417096794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.217019217400871161505417096794\",
    \"state\": \"15054170967940.9424947496076868\"
  }
}" (9a175e33)
2017-09-14T22:24:56.8090305+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:24:56.8240400+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:56.8285436+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:24:56.8330464+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:24:56.8380501+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:24:56.8395517+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:24:56.8430526+03:00 0HL7OIHK18F90 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:24:56.8590648+03:00 0HL7OIHK18F90 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054170967940.9424947496076868\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:24:56.8595645+03:00 0HL7OIHK18F90 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:24:56.8600643+03:00 0HL7OIHK18F90 [INF] Request finished in 61.3499ms 302  (15c52c40)
2017-09-14T22:25:00.8089081+03:00 0HL7OIHK18F91 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.056475343061050731505417100795&state=15054171007950.7723233201535995   (e5be5b71)
2017-09-14T22:25:00.8119105+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:00.8124094+03:00 0HL7OIHK18F91 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:00.8129115+03:00 0HL7OIHK18F91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:00.8129115+03:00 0HL7OIHK18F91 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:00.8159131+03:00 0HL7OIHK18F91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:00.8204151+03:00 0HL7OIHK18F91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:00.8209157+03:00 0HL7OIHK18F91 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171007950.7723233201535995\",
  \"Nonce\": \"N0.056475343061050731505417100795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.056475343061050731505417100795\",
    \"state\": \"15054171007950.7723233201535995\"
  }
}" (9a175e33)
2017-09-14T22:25:00.8354251+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:00.8554387+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:00.8589412+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:00.8664452+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:00.8839574+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:00.8874591+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:00.8909617+03:00 0HL7OIHK18F91 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:00.9129762+03:00 0HL7OIHK18F91 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171007950.7723233201535995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:00.9204806+03:00 0HL7OIHK18F91 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:00.9229825+03:00 0HL7OIHK18F91 [INF] Request finished in 113.8639ms 302  (15c52c40)
2017-09-14T22:25:04.8059626+03:00 0HL7OIHK18F92 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25245558122852141505417104795&state=15054171047950.30533315436963226   (e5be5b71)
2017-09-14T22:25:04.8112450+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:04.8122460+03:00 0HL7OIHK18F92 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:04.8127454+03:00 0HL7OIHK18F92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:04.8132463+03:00 0HL7OIHK18F92 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:04.8152492+03:00 0HL7OIHK18F92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:04.8167531+03:00 0HL7OIHK18F92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:04.8172485+03:00 0HL7OIHK18F92 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171047950.30533315436963226\",
  \"Nonce\": \"N0.25245558122852141505417104795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25245558122852141505417104795\",
    \"state\": \"15054171047950.30533315436963226\"
  }
}" (9a175e33)
2017-09-14T22:25:04.8262577+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:04.8427645+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:04.8447689+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:04.8467703+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:04.8492733+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:04.8517590+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:04.8532602+03:00 0HL7OIHK18F92 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:04.8707716+03:00 0HL7OIHK18F92 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171047950.30533315436963226\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:04.8721184+03:00 0HL7OIHK18F92 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:04.8726201+03:00 0HL7OIHK18F92 [INF] Request finished in 67.9349ms 302  (15c52c40)
2017-09-14T22:25:08.8092511+03:00 0HL7OIHK18F93 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.19011653938853691505417108794&state=15054171087940.4277610615894898   (e5be5b71)
2017-09-14T22:25:08.8142525+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:08.8157549+03:00 0HL7OIHK18F93 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:08.8182563+03:00 0HL7OIHK18F93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:08.8182563+03:00 0HL7OIHK18F93 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:08.8197583+03:00 0HL7OIHK18F93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:08.8214533+03:00 0HL7OIHK18F93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:08.8214533+03:00 0HL7OIHK18F93 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171087940.4277610615894898\",
  \"Nonce\": \"N0.19011653938853691505417108794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.19011653938853691505417108794\",
    \"state\": \"15054171087940.4277610615894898\"
  }
}" (9a175e33)
2017-09-14T22:25:08.8269998+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:08.8505144+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:08.8557336+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:08.8595152+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:08.8620163+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:08.8645165+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:08.8677968+03:00 0HL7OIHK18F93 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:08.8848116+03:00 0HL7OIHK18F93 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171087940.4277610615894898\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:08.8858131+03:00 0HL7OIHK18F93 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:08.8868122+03:00 0HL7OIHK18F93 [INF] Request finished in 79.6136ms 302  (15c52c40)
2017-09-14T22:25:12.8058765+03:00 0HL7OIHK18F94 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.469589920434202671505417112794&state=15054171127940.4541199835303913   (e5be5b71)
2017-09-14T22:25:12.8108822+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:12.8118813+03:00 0HL7OIHK18F94 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:12.8143839+03:00 0HL7OIHK18F94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:12.8148805+03:00 0HL7OIHK18F94 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:12.8158816+03:00 0HL7OIHK18F94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:12.8193837+03:00 0HL7OIHK18F94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:12.8198862+03:00 0HL7OIHK18F94 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171127940.4541199835303913\",
  \"Nonce\": \"N0.469589920434202671505417112794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.469589920434202671505417112794\",
    \"state\": \"15054171127940.4541199835303913\"
  }
}" (9a175e33)
2017-09-14T22:25:12.8240613+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:12.8335678+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:12.8355692+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:12.8375780+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:12.8390812+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:12.8420855+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:12.8440853+03:00 0HL7OIHK18F94 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:12.8585951+03:00 0HL7OIHK18F94 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171127940.4541199835303913\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:12.8595957+03:00 0HL7OIHK18F94 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:12.8605960+03:00 0HL7OIHK18F94 [INF] Request finished in 56.0856ms 302  (15c52c40)
2017-09-14T22:25:16.7998556+03:00 0HL7OIHK18F95 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.08738181938009461505417116793&state=15054171167930.04018238560386833   (e5be5b71)
2017-09-14T22:25:16.8023562+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:16.8028564+03:00 0HL7OIHK18F95 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:16.8033581+03:00 0HL7OIHK18F95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:16.8033581+03:00 0HL7OIHK18F95 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:16.8038574+03:00 0HL7OIHK18F95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:16.8043576+03:00 0HL7OIHK18F95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:16.8048581+03:00 0HL7OIHK18F95 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171167930.04018238560386833\",
  \"Nonce\": \"N0.08738181938009461505417116793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.08738181938009461505417116793\",
    \"state\": \"15054171167930.04018238560386833\"
  }
}" (9a175e33)
2017-09-14T22:25:16.8453847+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:16.8528895+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:16.8558923+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:16.8588939+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:16.8603978+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:16.8633967+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:16.8653988+03:00 0HL7OIHK18F95 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:16.8794120+03:00 0HL7OIHK18F95 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171167930.04018238560386833\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:16.8799090+03:00 0HL7OIHK18F95 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:16.8809085+03:00 0HL7OIHK18F95 [INF] Request finished in 81.581ms 302  (15c52c40)
2017-09-14T22:25:20.8058461+03:00 0HL7OIHK18F96 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.240191763598541505417120792&state=15054171207920.5894484097271242   (e5be5b71)
2017-09-14T22:25:20.8108593+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:20.8118604+03:00 0HL7OIHK18F96 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:20.8138593+03:00 0HL7OIHK18F96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:20.8138593+03:00 0HL7OIHK18F96 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:20.8148604+03:00 0HL7OIHK18F96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:20.8163651+03:00 0HL7OIHK18F96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:20.8163651+03:00 0HL7OIHK18F96 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171207920.5894484097271242\",
  \"Nonce\": \"N0.240191763598541505417120792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.240191763598541505417120792\",
    \"state\": \"15054171207920.5894484097271242\"
  }
}" (9a175e33)
2017-09-14T22:25:20.8235529+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:20.8390626+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:20.8420208+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:20.8440209+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:20.8465224+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:20.8509296+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:20.8529250+03:00 0HL7OIHK18F96 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:20.8669323+03:00 0HL7OIHK18F96 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171207920.5894484097271242\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:20.8679377+03:00 0HL7OIHK18F96 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:20.8684371+03:00 0HL7OIHK18F96 [INF] Request finished in 64.4809ms 302  (15c52c40)
2017-09-14T22:25:24.8024577+03:00 0HL7OIHK18F97 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.473254337984506671505417124791&state=15054171247910.11544105079811451   (e5be5b71)
2017-09-14T22:25:24.8069731+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:24.8084490+03:00 0HL7OIHK18F97 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:24.8104500+03:00 0HL7OIHK18F97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:24.8104500+03:00 0HL7OIHK18F97 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:24.8114522+03:00 0HL7OIHK18F97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:24.8126029+03:00 0HL7OIHK18F97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:24.8126029+03:00 0HL7OIHK18F97 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171247910.11544105079811451\",
  \"Nonce\": \"N0.473254337984506671505417124791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.473254337984506671505417124791\",
    \"state\": \"15054171247910.11544105079811451\"
  }
}" (9a175e33)
2017-09-14T22:25:24.8211083+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:24.8326157+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:24.8356197+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:24.8396219+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:24.8424724+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:24.8449770+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:24.8494790+03:00 0HL7OIHK18F97 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:24.8609864+03:00 0HL7OIHK18F97 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171247910.11544105079811451\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:24.8614877+03:00 0HL7OIHK18F97 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:24.8619878+03:00 0HL7OIHK18F97 [INF] Request finished in 61.7947ms 302  (15c52c40)
2017-09-14T22:25:28.8577586+03:00 0HL7OIHK18F98 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.177403506492946451505417128795&state=15054171287950.8925183148611147   (e5be5b71)
2017-09-14T22:25:28.8647640+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:28.8697662+03:00 0HL7OIHK18F98 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:28.8707672+03:00 0HL7OIHK18F98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:28.8707672+03:00 0HL7OIHK18F98 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:28.8717679+03:00 0HL7OIHK18F98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:28.8727686+03:00 0HL7OIHK18F98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:28.8727686+03:00 0HL7OIHK18F98 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171287950.8925183148611147\",
  \"Nonce\": \"N0.177403506492946451505417128795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.177403506492946451505417128795\",
    \"state\": \"15054171287950.8925183148611147\"
  }
}" (9a175e33)
2017-09-14T22:25:28.8762707+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:28.8952841+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:28.8972850+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:28.9027888+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:28.9042896+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:28.9062913+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:28.9082919+03:00 0HL7OIHK18F98 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:28.9288061+03:00 0HL7OIHK18F98 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171287950.8925183148611147\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:28.9298059+03:00 0HL7OIHK18F98 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:28.9313071+03:00 0HL7OIHK18F98 [INF] Request finished in 90.868ms 302  (15c52c40)
2017-09-14T22:25:32.8039131+03:00 0HL7OIHK18F99 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44954440108187631505417132792&state=15054171327920.4294253731222022   (e5be5b71)
2017-09-14T22:25:32.8089192+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:32.8099194+03:00 0HL7OIHK18F99 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:32.8114218+03:00 0HL7OIHK18F99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:32.8114218+03:00 0HL7OIHK18F99 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:32.8124229+03:00 0HL7OIHK18F99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:32.8134219+03:00 0HL7OIHK18F99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:32.8134219+03:00 0HL7OIHK18F99 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171327920.4294253731222022\",
  \"Nonce\": \"N0.44954440108187631505417132792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44954440108187631505417132792\",
    \"state\": \"15054171327920.4294253731222022\"
  }
}" (9a175e33)
2017-09-14T22:25:32.8229288+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:32.8369377+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:32.8399389+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:32.8419426+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:32.8444421+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:32.8469451+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:32.8504480+03:00 0HL7OIHK18F99 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:32.8634551+03:00 0HL7OIHK18F99 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171327920.4294253731222022\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:32.8644557+03:00 0HL7OIHK18F99 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:32.8654568+03:00 0HL7OIHK18F99 [INF] Request finished in 63.3682ms 302  (15c52c40)
2017-09-14T22:25:36.7986153+03:00 0HL7OIHK18F9A [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8589927077037051505417136792&state=15054171367920.8779931771845619   (e5be5b71)
2017-09-14T22:25:36.8011168+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:36.8016212+03:00 0HL7OIHK18F9A [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:36.8021186+03:00 0HL7OIHK18F9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:36.8026179+03:00 0HL7OIHK18F9A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:36.8031177+03:00 0HL7OIHK18F9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:36.8036198+03:00 0HL7OIHK18F9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:36.8036198+03:00 0HL7OIHK18F9A [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171367920.8779931771845619\",
  \"Nonce\": \"N0.8589927077037051505417136792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8589927077037051505417136792\",
    \"state\": \"15054171367920.8779931771845619\"
  }
}" (9a175e33)
2017-09-14T22:25:36.8061197+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:36.8176299+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:36.8196284+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:36.8216313+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:36.8231309+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:36.8261333+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:36.8276357+03:00 0HL7OIHK18F9A [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:36.8451455+03:00 0HL7OIHK18F9A [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171367920.8779931771845619\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:36.8456476+03:00 0HL7OIHK18F9A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:36.8466471+03:00 0HL7OIHK18F9A [INF] Request finished in 48.464ms 302  (15c52c40)
2017-09-14T22:25:40.8048802+03:00 0HL7OIHK18F9B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99872410603116871505417140792&state=15054171407920.4337399822116801   (e5be5b71)
2017-09-14T22:25:40.8103836+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:40.8128835+03:00 0HL7OIHK18F9B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:40.8138866+03:00 0HL7OIHK18F9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:40.8143855+03:00 0HL7OIHK18F9B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:40.8153877+03:00 0HL7OIHK18F9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:40.8168889+03:00 0HL7OIHK18F9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:40.8173875+03:00 0HL7OIHK18F9B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171407920.4337399822116801\",
  \"Nonce\": \"N0.99872410603116871505417140792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99872410603116871505417140792\",
    \"state\": \"15054171407920.4337399822116801\"
  }
}" (9a175e33)
2017-09-14T22:25:40.8243929+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:40.8428943+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:40.8448001+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:40.8463033+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:40.8478041+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:40.8498062+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:40.8523065+03:00 0HL7OIHK18F9B [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:40.8668163+03:00 0HL7OIHK18F9B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171407920.4337399822116801\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:40.8668163+03:00 0HL7OIHK18F9B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:40.8678166+03:00 0HL7OIHK18F9B [INF] Request finished in 65.0643ms 302  (15c52c40)
2017-09-14T22:25:44.7972775+03:00 0HL7OIHK18F9C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.379669065657725961505417144790&state=15054171447900.434483952455782   (e5be5b71)
2017-09-14T22:25:44.7997802+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:44.8002795+03:00 0HL7OIHK18F9C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:44.8007816+03:00 0HL7OIHK18F9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:44.8007816+03:00 0HL7OIHK18F9C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:44.8017815+03:00 0HL7OIHK18F9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:44.8027822+03:00 0HL7OIHK18F9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:44.8032827+03:00 0HL7OIHK18F9C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171447900.434483952455782\",
  \"Nonce\": \"N0.379669065657725961505417144790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.379669065657725961505417144790\",
    \"state\": \"15054171447900.434483952455782\"
  }
}" (9a175e33)
2017-09-14T22:25:44.8072853+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:44.8167918+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:44.8192937+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:44.8212950+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:44.8232952+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:44.8257966+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:44.8272986+03:00 0HL7OIHK18F9C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:44.8508167+03:00 0HL7OIHK18F9C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171447900.434483952455782\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:44.8518138+03:00 0HL7OIHK18F9C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:44.8543161+03:00 0HL7OIHK18F9C [INF] Request finished in 55.7856ms 302  (15c52c40)
2017-09-14T22:25:47.8097734+03:00 0HL7OIHK18F9D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48739858852692541505417147801&state=15054171478010.7032849049240724   (e5be5b71)
2017-09-14T22:25:47.8122744+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:47.8127750+03:00 0HL7OIHK18F9D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:47.8132759+03:00 0HL7OIHK18F9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:47.8132759+03:00 0HL7OIHK18F9D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:47.8137760+03:00 0HL7OIHK18F9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:47.8142766+03:00 0HL7OIHK18F9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:47.8142766+03:00 0HL7OIHK18F9D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171478010.7032849049240724\",
  \"Nonce\": \"N0.48739858852692541505417147801\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48739858852692541505417147801\",
    \"state\": \"15054171478010.7032849049240724\"
  }
}" (9a175e33)
2017-09-14T22:25:47.8177803+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:47.8262841+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:47.8287856+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:47.8307881+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:47.8322893+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:47.8342902+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:47.8362907+03:00 0HL7OIHK18F9D [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:47.8618074+03:00 0HL7OIHK18F9D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171478010.7032849049240724\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:47.8628085+03:00 0HL7OIHK18F9D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:47.8633094+03:00 0HL7OIHK18F9D [INF] Request finished in 54.0026ms 302  (15c52c40)
2017-09-14T22:25:51.8197172+03:00 0HL7OIHK18F9E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2305123807079531505417151796&state=15054171517960.6716025025318741   (e5be5b71)
2017-09-14T22:25:51.8227188+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:51.8232190+03:00 0HL7OIHK18F9E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:51.8232190+03:00 0HL7OIHK18F9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:51.8237191+03:00 0HL7OIHK18F9E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:51.8237191+03:00 0HL7OIHK18F9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:51.8242196+03:00 0HL7OIHK18F9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:51.8247202+03:00 0HL7OIHK18F9E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171517960.6716025025318741\",
  \"Nonce\": \"N0.2305123807079531505417151796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2305123807079531505417151796\",
    \"state\": \"15054171517960.6716025025318741\"
  }
}" (9a175e33)
2017-09-14T22:25:51.8292229+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:51.8417318+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:51.8432322+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:51.8452335+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:51.8472357+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:51.8537398+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:51.8557411+03:00 0HL7OIHK18F9E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:51.8767570+03:00 0HL7OIHK18F9E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171517960.6716025025318741\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:51.8777569+03:00 0HL7OIHK18F9E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:51.8792565+03:00 0HL7OIHK18F9E [INF] Request finished in 59.3576ms 302  (15c52c40)
2017-09-14T22:25:55.7995279+03:00 0HL7OIHK18F9F [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94398492681898641505417155793&state=15054171557930.5815977825213121   (e5be5b71)
2017-09-14T22:25:55.8045312+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:55.8050330+03:00 0HL7OIHK18F9F [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:55.8055319+03:00 0HL7OIHK18F9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:55.8055319+03:00 0HL7OIHK18F9F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:55.8060320+03:00 0HL7OIHK18F9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:55.8065334+03:00 0HL7OIHK18F9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:55.8065334+03:00 0HL7OIHK18F9F [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171557930.5815977825213121\",
  \"Nonce\": \"N0.94398492681898641505417155793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94398492681898641505417155793\",
    \"state\": \"15054171557930.5815977825213121\"
  }
}" (9a175e33)
2017-09-14T22:25:55.8090336+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:55.8160391+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:55.8190422+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:55.8215437+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:55.8230433+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:55.8295494+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:55.8310482+03:00 0HL7OIHK18F9F [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:55.8480622+03:00 0HL7OIHK18F9F [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171557930.5815977825213121\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:55.8485600+03:00 0HL7OIHK18F9F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:55.8490605+03:00 0HL7OIHK18F9F [INF] Request finished in 49.8637ms 302  (15c52c40)
2017-09-14T22:25:59.8031398+03:00 0HL7OIHK18F9G [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87188778261924551505417159794&state=15054171597940.48576358222125826   (e5be5b71)
2017-09-14T22:25:59.8056393+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:25:59.8056393+03:00 0HL7OIHK18F9G [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:25:59.8061394+03:00 0HL7OIHK18F9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:59.8061394+03:00 0HL7OIHK18F9G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:25:59.8066392+03:00 0HL7OIHK18F9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:59.8071401+03:00 0HL7OIHK18F9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:59.8071401+03:00 0HL7OIHK18F9G [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171597940.48576358222125826\",
  \"Nonce\": \"N0.87188778261924551505417159794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87188778261924551505417159794\",
    \"state\": \"15054171597940.48576358222125826\"
  }
}" (9a175e33)
2017-09-14T22:25:59.8096403+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:25:59.8176464+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:59.8206480+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:25:59.8221500+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:25:59.8236516+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:25:59.8256513+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:25:59.8271525+03:00 0HL7OIHK18F9G [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:25:59.8456650+03:00 0HL7OIHK18F9G [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171597940.48576358222125826\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:25:59.8461651+03:00 0HL7OIHK18F9G [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:25:59.8466657+03:00 0HL7OIHK18F9G [INF] Request finished in 45.3175ms 302  (15c52c40)
2017-09-14T22:26:03.8069755+03:00 0HL7OIHK18F9H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.359382899318485551505417163793&state=15054171637930.6438668062151469   (e5be5b71)
2017-09-14T22:26:03.8094777+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:03.8099782+03:00 0HL7OIHK18F9H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:03.8104807+03:00 0HL7OIHK18F9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:03.8109789+03:00 0HL7OIHK18F9H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:03.8114790+03:00 0HL7OIHK18F9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:03.8119792+03:00 0HL7OIHK18F9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:03.8119792+03:00 0HL7OIHK18F9H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171637930.6438668062151469\",
  \"Nonce\": \"N0.359382899318485551505417163793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.359382899318485551505417163793\",
    \"state\": \"15054171637930.6438668062151469\"
  }
}" (9a175e33)
2017-09-14T22:26:03.8184853+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:03.8334936+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:03.8374959+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:03.8409992+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:03.8460025+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:03.8540074+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:03.8635131+03:00 0HL7OIHK18F9H [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:03.8980370+03:00 0HL7OIHK18F9H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171637930.6438668062151469\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:03.9105447+03:00 0HL7OIHK18F9H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:03.9130469+03:00 0HL7OIHK18F9H [INF] Request finished in 104.8232ms 302  (15c52c40)
2017-09-14T22:26:07.8008977+03:00 0HL7OIHK18F9I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75916630324710571505417167793&state=15054171677930.9606017154392619   (e5be5b71)
2017-09-14T22:26:07.8033980+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:07.8038981+03:00 0HL7OIHK18F9I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:07.8043978+03:00 0HL7OIHK18F9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:07.8043978+03:00 0HL7OIHK18F9I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:07.8048984+03:00 0HL7OIHK18F9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:07.8054001+03:00 0HL7OIHK18F9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:07.8054001+03:00 0HL7OIHK18F9I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171677930.9606017154392619\",
  \"Nonce\": \"N0.75916630324710571505417167793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75916630324710571505417167793\",
    \"state\": \"15054171677930.9606017154392619\"
  }
}" (9a175e33)
2017-09-14T22:26:07.8124031+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:07.8244134+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:07.8274166+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:07.8304155+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:07.8344209+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:07.8359193+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:07.8394218+03:00 0HL7OIHK18F9I [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:07.8564335+03:00 0HL7OIHK18F9I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171677930.9606017154392619\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:07.8574333+03:00 0HL7OIHK18F9I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:07.8579335+03:00 0HL7OIHK18F9I [INF] Request finished in 58.5614ms 302  (15c52c40)
2017-09-14T22:26:11.7990298+03:00 0HL7OIHK18F9J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0506757650305478261505417171791&state=15054171717910.013290399384178198   (e5be5b71)
2017-09-14T22:26:11.8020341+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:11.8025331+03:00 0HL7OIHK18F9J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:11.8025331+03:00 0HL7OIHK18F9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:11.8030328+03:00 0HL7OIHK18F9J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:11.8030328+03:00 0HL7OIHK18F9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:11.8035330+03:00 0HL7OIHK18F9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:11.8040331+03:00 0HL7OIHK18F9J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171717910.013290399384178198\",
  \"Nonce\": \"N0.0506757650305478261505417171791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0506757650305478261505417171791\",
    \"state\": \"15054171717910.013290399384178198\"
  }
}" (9a175e33)
2017-09-14T22:26:11.8060340+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:11.8145410+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:11.8185433+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:11.8260481+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:11.8280490+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:11.8300507+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:11.8315511+03:00 0HL7OIHK18F9J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:11.8530656+03:00 0HL7OIHK18F9J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171717910.013290399384178198\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:11.8540662+03:00 0HL7OIHK18F9J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:11.8550677+03:00 0HL7OIHK18F9J [INF] Request finished in 56.7709ms 302  (15c52c40)
2017-09-14T22:26:15.8006289+03:00 0HL7OIHK18F9K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58935327970378531505417175791&state=15054171757910.8813299479801708   (e5be5b71)
2017-09-14T22:26:15.8041282+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:15.8046287+03:00 0HL7OIHK18F9K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:15.8051305+03:00 0HL7OIHK18F9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:15.8051305+03:00 0HL7OIHK18F9K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:15.8056290+03:00 0HL7OIHK18F9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:15.8061295+03:00 0HL7OIHK18F9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:15.8061295+03:00 0HL7OIHK18F9K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171757910.8813299479801708\",
  \"Nonce\": \"N0.58935327970378531505417175791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58935327970378531505417175791\",
    \"state\": \"15054171757910.8813299479801708\"
  }
}" (9a175e33)
2017-09-14T22:26:15.8101326+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:15.8186380+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:15.8206390+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:15.8226407+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:15.8241411+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:15.8261440+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:15.8291444+03:00 0HL7OIHK18F9K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:15.8486571+03:00 0HL7OIHK18F9K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171757910.8813299479801708\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:15.8491580+03:00 0HL7OIHK18F9K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:15.8496582+03:00 0HL7OIHK18F9K [INF] Request finished in 50.2984ms 302  (15c52c40)
2017-09-14T22:26:19.7966977+03:00 0HL7OIHK18F9L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.2749056837056051505417179791&state=15054171797910.9097046147645949   (e5be5b71)
2017-09-14T22:26:19.7996996+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:19.8001998+03:00 0HL7OIHK18F9L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:19.8001998+03:00 0HL7OIHK18F9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:19.8007003+03:00 0HL7OIHK18F9L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:19.8007003+03:00 0HL7OIHK18F9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:19.8012008+03:00 0HL7OIHK18F9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:19.8017014+03:00 0HL7OIHK18F9L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171797910.9097046147645949\",
  \"Nonce\": \"N0.2749056837056051505417179791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.2749056837056051505417179791\",
    \"state\": \"15054171797910.9097046147645949\"
  }
}" (9a175e33)
2017-09-14T22:26:19.8057048+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:19.8132092+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:19.8152113+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:19.8172126+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:19.8192139+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:19.8207147+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:19.8222148+03:00 0HL7OIHK18F9L [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:19.8387263+03:00 0HL7OIHK18F9L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171797910.9097046147645949\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:19.8392264+03:00 0HL7OIHK18F9L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:19.8402267+03:00 0HL7OIHK18F9L [INF] Request finished in 43.4757ms 302  (15c52c40)
2017-09-14T22:26:23.7981499+03:00 0HL7OIHK18F9M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.13154417152664921505417183791&state=15054171837910.010255134494840501   (e5be5b71)
2017-09-14T22:26:23.8006529+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:23.8011519+03:00 0HL7OIHK18F9M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:23.8016532+03:00 0HL7OIHK18F9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:23.8016532+03:00 0HL7OIHK18F9M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:23.8021529+03:00 0HL7OIHK18F9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:23.8026566+03:00 0HL7OIHK18F9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:23.8031552+03:00 0HL7OIHK18F9M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171837910.010255134494840501\",
  \"Nonce\": \"N0.13154417152664921505417183791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.13154417152664921505417183791\",
    \"state\": \"15054171837910.010255134494840501\"
  }
}" (9a175e33)
2017-09-14T22:26:23.8056563+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:23.8121588+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:23.8136619+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:23.8171621+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:23.8191638+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:23.8206650+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:23.8221658+03:00 0HL7OIHK18F9M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:23.8361755+03:00 0HL7OIHK18F9M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171837910.010255134494840501\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:23.8366764+03:00 0HL7OIHK18F9M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:23.8376763+03:00 0HL7OIHK18F9M [INF] Request finished in 39.9519ms 302  (15c52c40)
2017-09-14T22:26:27.8002795+03:00 0HL7OIHK18F9N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53897660207570361505417187791&state=15054171877910.7310523723253093   (e5be5b71)
2017-09-14T22:26:27.8037808+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:27.8042814+03:00 0HL7OIHK18F9N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:27.8047811+03:00 0HL7OIHK18F9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:27.8047811+03:00 0HL7OIHK18F9N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:27.8052820+03:00 0HL7OIHK18F9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:27.8057826+03:00 0HL7OIHK18F9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:27.8062823+03:00 0HL7OIHK18F9N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171877910.7310523723253093\",
  \"Nonce\": \"N0.53897660207570361505417187791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53897660207570361505417187791\",
    \"state\": \"15054171877910.7310523723253093\"
  }
}" (9a175e33)
2017-09-14T22:26:27.8092843+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:27.8197915+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:27.8217924+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:27.8237945+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:27.8252949+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:27.8277971+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:27.8292975+03:00 0HL7OIHK18F9N [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:27.8478096+03:00 0HL7OIHK18F9N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171877910.7310523723253093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:27.8483097+03:00 0HL7OIHK18F9N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:27.8493108+03:00 0HL7OIHK18F9N [INF] Request finished in 49.6581ms 302  (15c52c40)
2017-09-14T22:26:31.8047870+03:00 0HL7OIHK18F9O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93509957294453221505417191791&state=15054171917910.3429221948583312   (e5be5b71)
2017-09-14T22:26:31.8102936+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:31.8127967+03:00 0HL7OIHK18F9O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:31.8137930+03:00 0HL7OIHK18F9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:31.8142935+03:00 0HL7OIHK18F9O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:31.8150948+03:00 0HL7OIHK18F9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:31.8161014+03:00 0HL7OIHK18F9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:31.8166012+03:00 0HL7OIHK18F9O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171917910.3429221948583312\",
  \"Nonce\": \"N0.93509957294453221505417191791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93509957294453221505417191791\",
    \"state\": \"15054171917910.3429221948583312\"
  }
}" (9a175e33)
2017-09-14T22:26:31.8246061+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:31.8426164+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:31.8446178+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:31.8471224+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:31.8491225+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:31.8526238+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:31.8551253+03:00 0HL7OIHK18F9O [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:31.8681355+03:00 0HL7OIHK18F9O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171917910.3429221948583312\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:31.8686372+03:00 0HL7OIHK18F9O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:31.8696351+03:00 0HL7OIHK18F9O [INF] Request finished in 67.4703ms 302  (15c52c40)
2017-09-14T22:26:35.7990041+03:00 0HL7OIHK18F9P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70659123316070941505417195791&state=15054171957910.21136139206653892   (e5be5b71)
2017-09-14T22:26:35.8015060+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:35.8020065+03:00 0HL7OIHK18F9P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:35.8025070+03:00 0HL7OIHK18F9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:35.8030079+03:00 0HL7OIHK18F9P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:35.8035105+03:00 0HL7OIHK18F9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:35.8040086+03:00 0HL7OIHK18F9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:35.8040086+03:00 0HL7OIHK18F9P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171957910.21136139206653892\",
  \"Nonce\": \"N0.70659123316070941505417195791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70659123316070941505417195791\",
    \"state\": \"15054171957910.21136139206653892\"
  }
}" (9a175e33)
2017-09-14T22:26:35.8065093+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:35.8135139+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:35.8150151+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:35.8175166+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:35.8190182+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:35.8210191+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:35.8225195+03:00 0HL7OIHK18F9P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:35.8375310+03:00 0HL7OIHK18F9P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171957910.21136139206653892\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:35.8385309+03:00 0HL7OIHK18F9P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:35.8405354+03:00 0HL7OIHK18F9P [INF] Request finished in 40.9332ms 302  (15c52c40)
2017-09-14T22:26:39.7986753+03:00 0HL7OIHK18F9Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65365776839131161505417199791&state=15054171997910.18516006837839116   (e5be5b71)
2017-09-14T22:26:39.8016749+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:39.8021754+03:00 0HL7OIHK18F9Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:39.8026756+03:00 0HL7OIHK18F9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:39.8026756+03:00 0HL7OIHK18F9Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:39.8031757+03:00 0HL7OIHK18F9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:39.8041760+03:00 0HL7OIHK18F9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:39.8046769+03:00 0HL7OIHK18F9Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054171997910.18516006837839116\",
  \"Nonce\": \"N0.65365776839131161505417199791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65365776839131161505417199791\",
    \"state\": \"15054171997910.18516006837839116\"
  }
}" (9a175e33)
2017-09-14T22:26:39.8081790+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:39.8171881+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:39.8191863+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:39.8211888+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:39.8226888+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:39.8261917+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:39.8276921+03:00 0HL7OIHK18F9Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:39.8422016+03:00 0HL7OIHK18F9Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054171997910.18516006837839116\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:39.8432026+03:00 0HL7OIHK18F9Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:39.8437031+03:00 0HL7OIHK18F9Q [INF] Request finished in 45.5785ms 302  (15c52c40)
2017-09-14T22:26:43.7976127+03:00 0HL7OIHK18F9R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96281289146149331505417203791&state=15054172037910.835364108613962   (e5be5b71)
2017-09-14T22:26:43.8001137+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:43.8006139+03:00 0HL7OIHK18F9R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:43.8011144+03:00 0HL7OIHK18F9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:43.8011144+03:00 0HL7OIHK18F9R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:43.8016145+03:00 0HL7OIHK18F9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:43.8021150+03:00 0HL7OIHK18F9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:43.8021150+03:00 0HL7OIHK18F9R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172037910.835364108613962\",
  \"Nonce\": \"N0.96281289146149331505417203791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96281289146149331505417203791\",
    \"state\": \"15054172037910.835364108613962\"
  }
}" (9a175e33)
2017-09-14T22:26:43.8051174+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:43.8126234+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:43.8146239+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:43.8166253+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:43.8186266+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:43.8206275+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:43.8221283+03:00 0HL7OIHK18F9R [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:43.8361384+03:00 0HL7OIHK18F9R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172037910.835364108613962\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:43.8371394+03:00 0HL7OIHK18F9R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:43.8376392+03:00 0HL7OIHK18F9R [INF] Request finished in 40.7974ms 302  (15c52c40)
2017-09-14T22:26:47.7980954+03:00 0HL7OIHK18F9S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6342149655057691505417207791&state=15054172077910.7788897759338518   (e5be5b71)
2017-09-14T22:26:47.8005965+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:47.8010970+03:00 0HL7OIHK18F9S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:47.8015972+03:00 0HL7OIHK18F9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:47.8015972+03:00 0HL7OIHK18F9S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:47.8020977+03:00 0HL7OIHK18F9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:47.8025978+03:00 0HL7OIHK18F9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:47.8025978+03:00 0HL7OIHK18F9S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172077910.7788897759338518\",
  \"Nonce\": \"N0.6342149655057691505417207791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6342149655057691505417207791\",
    \"state\": \"15054172077910.7788897759338518\"
  }
}" (9a175e33)
2017-09-14T22:26:47.8066009+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:47.8151063+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:47.8166075+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:47.8186092+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:47.8206101+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:47.8226115+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:47.8246140+03:00 0HL7OIHK18F9S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:47.8386233+03:00 0HL7OIHK18F9S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172077910.7788897759338518\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:47.8401237+03:00 0HL7OIHK18F9S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:47.8416241+03:00 0HL7OIHK18F9S [INF] Request finished in 43.3608ms 302  (15c52c40)
2017-09-14T22:26:51.8011791+03:00 0HL7OIHK18F9T [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.401081771342153951505417211791&state=15054172117910.7354752842438974   (e5be5b71)
2017-09-14T22:26:51.8046844+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:51.8051834+03:00 0HL7OIHK18F9T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:51.8056823+03:00 0HL7OIHK18F9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:51.8061828+03:00 0HL7OIHK18F9T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:51.8066830+03:00 0HL7OIHK18F9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:51.8071831+03:00 0HL7OIHK18F9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:51.8071831+03:00 0HL7OIHK18F9T [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172117910.7354752842438974\",
  \"Nonce\": \"N0.401081771342153951505417211791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.401081771342153951505417211791\",
    \"state\": \"15054172117910.7354752842438974\"
  }
}" (9a175e33)
2017-09-14T22:26:51.8111858+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:51.8231941+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:51.8251950+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:51.8276965+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:51.8296986+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:51.8316991+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:51.8332007+03:00 0HL7OIHK18F9T [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:51.8507117+03:00 0HL7OIHK18F9T [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172117910.7354752842438974\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:51.8512123+03:00 0HL7OIHK18F9T [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:51.8522129+03:00 0HL7OIHK18F9T [INF] Request finished in 51.3555ms 302  (15c52c40)
2017-09-14T22:26:55.7980524+03:00 0HL7OIHK18F9U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.120060463746990421505417215790&state=15054172157900.6004004744782245   (e5be5b71)
2017-09-14T22:26:55.8005543+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:55.8015920+03:00 0HL7OIHK18F9U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:55.8015920+03:00 0HL7OIHK18F9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:55.8015920+03:00 0HL7OIHK18F9U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:55.8015920+03:00 0HL7OIHK18F9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:55.8025927+03:00 0HL7OIHK18F9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:55.8025927+03:00 0HL7OIHK18F9U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172157900.6004004744782245\",
  \"Nonce\": \"N0.120060463746990421505417215790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.120060463746990421505417215790\",
    \"state\": \"15054172157900.6004004744782245\"
  }
}" (9a175e33)
2017-09-14T22:26:55.8055959+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:55.8166028+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:55.8186041+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:55.8216065+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:55.8236078+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:55.8266102+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:55.8286111+03:00 0HL7OIHK18F9U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:55.8476225+03:00 0HL7OIHK18F9U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172157900.6004004744782245\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:55.8486236+03:00 0HL7OIHK18F9U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:55.8496246+03:00 0HL7OIHK18F9U [INF] Request finished in 51.7984ms 302  (15c52c40)
2017-09-14T22:26:59.8024960+03:00 0HL7OIHK18F9V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.075369550465221421505417219791&state=15054172197910.5558299078264659   (e5be5b71)
2017-09-14T22:26:59.8059981+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:26:59.8064990+03:00 0HL7OIHK18F9V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:26:59.8069988+03:00 0HL7OIHK18F9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:59.8069988+03:00 0HL7OIHK18F9V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:26:59.8079998+03:00 0HL7OIHK18F9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:59.8085007+03:00 0HL7OIHK18F9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:59.8090009+03:00 0HL7OIHK18F9V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172197910.5558299078264659\",
  \"Nonce\": \"N0.075369550465221421505417219791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.075369550465221421505417219791\",
    \"state\": \"15054172197910.5558299078264659\"
  }
}" (9a175e33)
2017-09-14T22:26:59.8155050+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:26:59.8280135+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:59.8305145+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:26:59.8330164+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:26:59.8355178+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:26:59.8400206+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:26:59.8415218+03:00 0HL7OIHK18F9V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:26:59.8610342+03:00 0HL7OIHK18F9V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172197910.5558299078264659\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:26:59.8615347+03:00 0HL7OIHK18F9V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:26:59.8630359+03:00 0HL7OIHK18F9V [INF] Request finished in 60.3658ms 302  (15c52c40)
2017-09-14T22:27:03.8003454+03:00 0HL7OIHK18FA0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.81357257375114991505417223791&state=15054172237910.571625744606959   (e5be5b71)
2017-09-14T22:27:03.8028469+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:03.8038472+03:00 0HL7OIHK18FA0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:03.8043505+03:00 0HL7OIHK18FA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:03.8043505+03:00 0HL7OIHK18FA0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:03.8053495+03:00 0HL7OIHK18FA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:03.8063482+03:00 0HL7OIHK18FA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:03.8063482+03:00 0HL7OIHK18FA0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172237910.571625744606959\",
  \"Nonce\": \"N0.81357257375114991505417223791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.81357257375114991505417223791\",
    \"state\": \"15054172237910.571625744606959\"
  }
}" (9a175e33)
2017-09-14T22:27:03.8103517+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:03.8238600+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:03.8258613+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:03.8273625+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:03.8298644+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:03.8323655+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:03.8338667+03:00 0HL7OIHK18FA0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:03.8518786+03:00 0HL7OIHK18FA0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172237910.571625744606959\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:03.8523795+03:00 0HL7OIHK18FA0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:03.8528788+03:00 0HL7OIHK18FA0 [INF] Request finished in 53.6611ms 302  (15c52c40)
2017-09-14T22:27:06.8200579+03:00 0HL7OIHK18FA1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85435939127521411505417226801&state=15054172268010.49706372057339565   (e5be5b71)
2017-09-14T22:27:06.8235600+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:06.8250612+03:00 0HL7OIHK18FA1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:06.8255617+03:00 0HL7OIHK18FA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:06.8255617+03:00 0HL7OIHK18FA1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:06.8265620+03:00 0HL7OIHK18FA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:06.8310652+03:00 0HL7OIHK18FA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:06.8315657+03:00 0HL7OIHK18FA1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172268010.49706372057339565\",
  \"Nonce\": \"N0.85435939127521411505417226801\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85435939127521411505417226801\",
    \"state\": \"15054172268010.49706372057339565\"
  }
}" (9a175e33)
2017-09-14T22:27:06.8520791+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (15ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:06.8725925+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:06.8830993+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:06.8926058+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:06.8996104+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:06.9051146+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:06.9091165+03:00 0HL7OIHK18FA1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:06.9271284+03:00 0HL7OIHK18FA1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172268010.49706372057339565\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:06.9281291+03:00 0HL7OIHK18FA1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:06.9286296+03:00 0HL7OIHK18FA1 [INF] Request finished in 109.3923ms 302  (15c52c40)
2017-09-14T22:27:10.7975965+03:00 0HL7OIHK18FA2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.073142477864057031505417230791&state=15054172307910.7054393146459532   (e5be5b71)
2017-09-14T22:27:10.8000971+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:10.8005973+03:00 0HL7OIHK18FA2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:10.8010970+03:00 0HL7OIHK18FA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:10.8010970+03:00 0HL7OIHK18FA2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:10.8015991+03:00 0HL7OIHK18FA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:10.8020977+03:00 0HL7OIHK18FA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:10.8020977+03:00 0HL7OIHK18FA2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172307910.7054393146459532\",
  \"Nonce\": \"N0.073142477864057031505417230791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.073142477864057031505417230791\",
    \"state\": \"15054172307910.7054393146459532\"
  }
}" (9a175e33)
2017-09-14T22:27:10.8111036+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:10.8251133+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:10.8286154+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:10.8321191+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:10.8356205+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:10.8381223+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:10.8411251+03:00 0HL7OIHK18FA2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:10.8551352+03:00 0HL7OIHK18FA2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172307910.7054393146459532\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:10.8556345+03:00 0HL7OIHK18FA2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:10.8566348+03:00 0HL7OIHK18FA2 [INF] Request finished in 59.4464ms 302  (15c52c40)
2017-09-14T22:27:14.7989528+03:00 0HL7OIHK18FA3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.115778390748363161505417234791&state=15054172347910.6339805245818542   (e5be5b71)
2017-09-14T22:27:14.8019548+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:14.8024549+03:00 0HL7OIHK18FA3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:14.8029554+03:00 0HL7OIHK18FA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:14.8029554+03:00 0HL7OIHK18FA3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:14.8034556+03:00 0HL7OIHK18FA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:14.8039561+03:00 0HL7OIHK18FA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:14.8039561+03:00 0HL7OIHK18FA3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172347910.6339805245818542\",
  \"Nonce\": \"N0.115778390748363161505417234791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.115778390748363161505417234791\",
    \"state\": \"15054172347910.6339805245818542\"
  }
}" (9a175e33)
2017-09-14T22:27:14.8104606+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:14.8259711+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:14.8294728+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:14.8334759+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:14.8374785+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:14.8394794+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:14.8429824+03:00 0HL7OIHK18FA3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:14.8619938+03:00 0HL7OIHK18FA3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172347910.6339805245818542\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:14.8624951+03:00 0HL7OIHK18FA3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:14.8634957+03:00 0HL7OIHK18FA3 [INF] Request finished in 64.7178ms 302  (15c52c40)
2017-09-14T22:27:18.8000289+03:00 0HL7OIHK18FA4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.65750326483083851505417238791&state=15054172387910.5987311257132446   (e5be5b71)
2017-09-14T22:27:18.8025307+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:18.8025307+03:00 0HL7OIHK18FA4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:18.8030304+03:00 0HL7OIHK18FA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:18.8030304+03:00 0HL7OIHK18FA4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:18.8035310+03:00 0HL7OIHK18FA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:18.8040311+03:00 0HL7OIHK18FA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:18.8045316+03:00 0HL7OIHK18FA4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172387910.5987311257132446\",
  \"Nonce\": \"N0.65750326483083851505417238791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.65750326483083851505417238791\",
    \"state\": \"15054172387910.5987311257132446\"
  }
}" (9a175e33)
2017-09-14T22:27:18.8125365+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:18.8205426+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:18.8255456+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:18.8280470+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:18.8295478+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:18.8310490+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:18.8325506+03:00 0HL7OIHK18FA4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:18.8580677+03:00 0HL7OIHK18FA4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172387910.5987311257132446\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:18.8585674+03:00 0HL7OIHK18FA4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:18.8595689+03:00 0HL7OIHK18FA4 [INF] Request finished in 59.583ms 302  (15c52c40)
2017-09-14T22:27:22.8027778+03:00 0HL7OIHK18FA5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72152814822836261505417242791&state=15054172427910.8583539377677962   (e5be5b71)
2017-09-14T22:27:22.8077902+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:22.8092851+03:00 0HL7OIHK18FA5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:22.8122867+03:00 0HL7OIHK18FA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:22.8122867+03:00 0HL7OIHK18FA5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:22.8137887+03:00 0HL7OIHK18FA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:22.8147905+03:00 0HL7OIHK18FA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:22.8152891+03:00 0HL7OIHK18FA5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172427910.8583539377677962\",
  \"Nonce\": \"N0.72152814822836261505417242791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72152814822836261505417242791\",
    \"state\": \"15054172427910.8583539377677962\"
  }
}" (9a175e33)
2017-09-14T22:27:22.8227938+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:22.8438081+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:22.8458099+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:22.8478096+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:22.8498109+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:22.8535483+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:22.8555512+03:00 0HL7OIHK18FA5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:22.8745618+03:00 0HL7OIHK18FA5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172427910.8583539377677962\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:22.8755633+03:00 0HL7OIHK18FA5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:22.8765628+03:00 0HL7OIHK18FA5 [INF] Request finished in 75.0556ms 302  (15c52c40)
2017-09-14T22:27:26.7974840+03:00 0HL7OIHK18FA6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.78995235456803291505417246791&state=15054172467910.7322745075612209   (e5be5b71)
2017-09-14T22:27:26.7994853+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:26.8004852+03:00 0HL7OIHK18FA6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:26.8004852+03:00 0HL7OIHK18FA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:26.8009849+03:00 0HL7OIHK18FA6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:26.8009849+03:00 0HL7OIHK18FA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:26.8019879+03:00 0HL7OIHK18FA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:26.8019879+03:00 0HL7OIHK18FA6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172467910.7322745075612209\",
  \"Nonce\": \"N0.78995235456803291505417246791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.78995235456803291505417246791\",
    \"state\": \"15054172467910.7322745075612209\"
  }
}" (9a175e33)
2017-09-14T22:27:26.8044874+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:26.8149950+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:26.8169967+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:26.8189980+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:26.8204976+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:26.8224994+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:26.8250008+03:00 0HL7OIHK18FA6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:26.8425126+03:00 0HL7OIHK18FA6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172467910.7322745075612209\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:26.8430139+03:00 0HL7OIHK18FA6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:26.8435129+03:00 0HL7OIHK18FA6 [INF] Request finished in 46.6932ms 302  (15c52c40)
2017-09-14T22:27:30.8060620+03:00 0HL7OIHK18FA7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64086517063748191505417250797&state=15054172507970.3567678091402253   (e5be5b71)
2017-09-14T22:27:30.8125662+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:30.8155681+03:00 0HL7OIHK18FA7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:30.8160683+03:00 0HL7OIHK18FA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:30.8160683+03:00 0HL7OIHK18FA7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:30.8165684+03:00 0HL7OIHK18FA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:30.8175699+03:00 0HL7OIHK18FA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:30.8180696+03:00 0HL7OIHK18FA7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172507970.3567678091402253\",
  \"Nonce\": \"N0.64086517063748191505417250797\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64086517063748191505417250797\",
    \"state\": \"15054172507970.3567678091402253\"
  }
}" (9a175e33)
2017-09-14T22:27:30.8285768+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:30.8480891+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:30.8520921+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:30.8545940+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:30.8706046+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:30.8761084+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:30.8786099+03:00 0HL7OIHK18FA7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:30.8991241+03:00 0HL7OIHK18FA7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172507970.3567678091402253\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:30.9001239+03:00 0HL7OIHK18FA7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:30.9006245+03:00 0HL7OIHK18FA7 [INF] Request finished in 95.7683ms 302  (15c52c40)
2017-09-14T22:27:34.7974457+03:00 0HL7OIHK18FA8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69125793523809411505417254791&state=15054172547910.15717528029139238   (e5be5b71)
2017-09-14T22:27:34.7994474+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:34.7999475+03:00 0HL7OIHK18FA8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:34.8004477+03:00 0HL7OIHK18FA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:34.8009498+03:00 0HL7OIHK18FA8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:34.8009498+03:00 0HL7OIHK18FA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:34.8014495+03:00 0HL7OIHK18FA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:34.8014495+03:00 0HL7OIHK18FA8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172547910.15717528029139238\",
  \"Nonce\": \"N0.69125793523809411505417254791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69125793523809411505417254791\",
    \"state\": \"15054172547910.15717528029139238\"
  }
}" (9a175e33)
2017-09-14T22:27:34.8039498+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:34.8124560+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:34.8154584+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:34.8169592+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:34.8179607+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:34.8199620+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:34.8239666+03:00 0HL7OIHK18FA8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:34.8364715+03:00 0HL7OIHK18FA8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172547910.15717528029139238\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:34.8374686+03:00 0HL7OIHK18FA8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:34.8379711+03:00 0HL7OIHK18FA8 [INF] Request finished in 41.29ms 302  (15c52c40)
2017-09-14T22:27:37.7992532+03:00 0HL7OIHK18FA9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.424713947215383361505417257792&state=15054172577920.34660839885903827   (e5be5b71)
2017-09-14T22:27:37.8017547+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:37.8022552+03:00 0HL7OIHK18FA9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:37.8022552+03:00 0HL7OIHK18FA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:37.8027549+03:00 0HL7OIHK18FA9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:37.8027549+03:00 0HL7OIHK18FA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:37.8032554+03:00 0HL7OIHK18FA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:37.8037556+03:00 0HL7OIHK18FA9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172577920.34660839885903827\",
  \"Nonce\": \"N0.424713947215383361505417257792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.424713947215383361505417257792\",
    \"state\": \"15054172577920.34660839885903827\"
  }
}" (9a175e33)
2017-09-14T22:27:37.8067607+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:37.8182658+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:37.8197662+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:37.8222684+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:37.8287725+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:37.8307739+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:37.8327748+03:00 0HL7OIHK18FA9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:37.8512869+03:00 0HL7OIHK18FA9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172577920.34660839885903827\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:37.8517874+03:00 0HL7OIHK18FA9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:37.8527885+03:00 0HL7OIHK18FA9 [INF] Request finished in 54.0669ms 302  (15c52c40)
2017-09-14T22:27:40.8160987+03:00 0HL7OIHK18FAA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30393166873648661505417260799&state=15054172607990.9738893505848853   (e5be5b71)
2017-09-14T22:27:40.8191014+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:40.8196012+03:00 0HL7OIHK18FAA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:40.8201017+03:00 0HL7OIHK18FAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:40.8201017+03:00 0HL7OIHK18FAA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:40.8206015+03:00 0HL7OIHK18FAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:40.8211028+03:00 0HL7OIHK18FAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:40.8216029+03:00 0HL7OIHK18FAA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172607990.9738893505848853\",
  \"Nonce\": \"N0.30393166873648661505417260799\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30393166873648661505417260799\",
    \"state\": \"15054172607990.9738893505848853\"
  }
}" (9a175e33)
2017-09-14T22:27:40.8281066+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:40.8386138+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:40.8546248+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:40.8631298+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:40.8661318+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:40.8681331+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:40.8711351+03:00 0HL7OIHK18FAA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:40.8926500+03:00 0HL7OIHK18FAA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172607990.9738893505848853\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:40.8931497+03:00 0HL7OIHK18FAA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:40.8936506+03:00 0HL7OIHK18FAA [INF] Request finished in 78.8743ms 302  (15c52c40)
2017-09-14T22:27:44.8222755+03:00 0HL7OIHK18FAB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.71817135070135011505417264814&state=15054172648140.6997331351782474   (e5be5b71)
2017-09-14T22:27:44.8267783+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:44.8277794+03:00 0HL7OIHK18FAB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:44.8282795+03:00 0HL7OIHK18FAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:44.8282795+03:00 0HL7OIHK18FAB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:44.8292802+03:00 0HL7OIHK18FAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:44.8297811+03:00 0HL7OIHK18FAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:44.8302812+03:00 0HL7OIHK18FAB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172648140.6997331351782474\",
  \"Nonce\": \"N0.71817135070135011505417264814\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.71817135070135011505417264814\",
    \"state\": \"15054172648140.6997331351782474\"
  }
}" (9a175e33)
2017-09-14T22:27:44.8337834+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:44.8452912+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:44.8472929+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:44.8507950+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:44.8547993+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:44.8603015+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:44.8638032+03:00 0HL7OIHK18FAB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:44.8883197+03:00 0HL7OIHK18FAB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172648140.6997331351782474\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:44.8893199+03:00 0HL7OIHK18FAB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:44.8943237+03:00 0HL7OIHK18FAB [INF] Request finished in 68.7524ms 302  (15c52c40)
2017-09-14T22:27:48.8122997+03:00 0HL7OIHK18FAC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.86595709728097781505417268796&state=15054172687960.8460775099162698   (e5be5b71)
2017-09-14T22:27:48.8183045+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:48.8208040+03:00 0HL7OIHK18FAC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:48.8213041+03:00 0HL7OIHK18FAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:48.8218066+03:00 0HL7OIHK18FAC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:48.8223067+03:00 0HL7OIHK18FAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:48.8233074+03:00 0HL7OIHK18FAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:48.8238063+03:00 0HL7OIHK18FAC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172687960.8460775099162698\",
  \"Nonce\": \"N0.86595709728097781505417268796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.86595709728097781505417268796\",
    \"state\": \"15054172687960.8460775099162698\"
  }
}" (9a175e33)
2017-09-14T22:27:48.8298095+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:48.8408192+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:48.8433191+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:48.8473225+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:48.8498232+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:48.8518249+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:48.8528248+03:00 0HL7OIHK18FAC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:48.8678347+03:00 0HL7OIHK18FAC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172687960.8460775099162698\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:48.8688358+03:00 0HL7OIHK18FAC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:48.8693363+03:00 0HL7OIHK18FAC [INF] Request finished in 59.6722ms 302  (15c52c40)
2017-09-14T22:27:52.8235628+03:00 0HL7OIHK18FAD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63474615370502271505417272818&state=15054172728180.5381256065091107   (e5be5b71)
2017-09-14T22:27:52.8270657+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:52.8280656+03:00 0HL7OIHK18FAD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:52.8285661+03:00 0HL7OIHK18FAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:52.8285661+03:00 0HL7OIHK18FAD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:52.8295672+03:00 0HL7OIHK18FAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:52.8300677+03:00 0HL7OIHK18FAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:52.8300677+03:00 0HL7OIHK18FAD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172728180.5381256065091107\",
  \"Nonce\": \"N0.63474615370502271505417272818\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63474615370502271505417272818\",
    \"state\": \"15054172728180.5381256065091107\"
  }
}" (9a175e33)
2017-09-14T22:27:52.8330693+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:52.8460775+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:52.8475795+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:52.8500802+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:52.8515817+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:52.8535823+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:52.8575873+03:00 0HL7OIHK18FAD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:52.8785996+03:00 0HL7OIHK18FAD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172728180.5381256065091107\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:52.8801004+03:00 0HL7OIHK18FAD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:52.8806010+03:00 0HL7OIHK18FAD [INF] Request finished in 57.3776ms 302  (15c52c40)
2017-09-14T22:27:56.8113547+03:00 0HL7OIHK18FAE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.486632538924085531505417276796&state=15054172767960.20197662615799938   (e5be5b71)
2017-09-14T22:27:56.8163580+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:27:56.8173591+03:00 0HL7OIHK18FAE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:27:56.8198672+03:00 0HL7OIHK18FAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:56.8198672+03:00 0HL7OIHK18FAE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:27:56.8209184+03:00 0HL7OIHK18FAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:56.8219148+03:00 0HL7OIHK18FAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:56.8229186+03:00 0HL7OIHK18FAE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172767960.20197662615799938\",
  \"Nonce\": \"N0.486632538924085531505417276796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.486632538924085531505417276796\",
    \"state\": \"15054172767960.20197662615799938\"
  }
}" (9a175e33)
2017-09-14T22:27:56.8309207+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:27:56.8399259+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:56.8419268+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:27:56.8429287+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:27:56.8449300+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:27:56.8479320+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:27:56.8489319+03:00 0HL7OIHK18FAE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:27:56.8609398+03:00 0HL7OIHK18FAE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172767960.20197662615799938\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:27:56.8609398+03:00 0HL7OIHK18FAE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:27:56.8619413+03:00 0HL7OIHK18FAE [INF] Request finished in 53.0884ms 302  (15c52c40)
2017-09-14T22:28:00.8023854+03:00 0HL7OIHK18FAF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67159831049026961505417280792&state=15054172807920.7198637437533286   (e5be5b71)
2017-09-14T22:28:00.8053886+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:00.8063889+03:00 0HL7OIHK18FAF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:00.8073880+03:00 0HL7OIHK18FAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:00.8073880+03:00 0HL7OIHK18FAF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:00.8093913+03:00 0HL7OIHK18FAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:00.8113898+03:00 0HL7OIHK18FAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:00.8113898+03:00 0HL7OIHK18FAF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172807920.7198637437533286\",
  \"Nonce\": \"N0.67159831049026961505417280792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67159831049026961505417280792\",
    \"state\": \"15054172807920.7198637437533286\"
  }
}" (9a175e33)
2017-09-14T22:28:00.8163924+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:00.8284015+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:00.8304016+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:00.8324034+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:00.8344078+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:00.8364064+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:00.8374067+03:00 0HL7OIHK18FAF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:00.8514175+03:00 0HL7OIHK18FAF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172807920.7198637437533286\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:00.8524158+03:00 0HL7OIHK18FAF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:00.8534165+03:00 0HL7OIHK18FAF [INF] Request finished in 51.6645ms 302  (15c52c40)
2017-09-14T22:28:04.8109157+03:00 0HL7OIHK18FAG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.428858057058424841505417284795&state=15054172847950.337204382427307   (e5be5b71)
2017-09-14T22:28:04.8129179+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:04.8139169+03:00 0HL7OIHK18FAG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:04.8139169+03:00 0HL7OIHK18FAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:04.8139169+03:00 0HL7OIHK18FAG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:04.8149176+03:00 0HL7OIHK18FAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:04.8149176+03:00 0HL7OIHK18FAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:04.8149176+03:00 0HL7OIHK18FAG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172847950.337204382427307\",
  \"Nonce\": \"N0.428858057058424841505417284795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.428858057058424841505417284795\",
    \"state\": \"15054172847950.337204382427307\"
  }
}" (9a175e33)
2017-09-14T22:28:04.8189199+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:04.8279274+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:04.8299279+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:04.8319293+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:04.8339306+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:04.8369326+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:04.8389343+03:00 0HL7OIHK18FAG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:04.8559448+03:00 0HL7OIHK18FAG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172847950.337204382427307\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:04.8569458+03:00 0HL7OIHK18FAG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:04.8579469+03:00 0HL7OIHK18FAG [INF] Request finished in 49.0269ms 302  (15c52c40)
2017-09-14T22:28:08.7999708+03:00 0HL7OIHK18FAH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.482903907262813851505417288793&state=15054172887930.6358188946802288   (e5be5b71)
2017-09-14T22:28:08.8033162+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:08.8033162+03:00 0HL7OIHK18FAH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:08.8033162+03:00 0HL7OIHK18FAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:08.8033162+03:00 0HL7OIHK18FAH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:08.8043185+03:00 0HL7OIHK18FAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:08.8043185+03:00 0HL7OIHK18FAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:08.8043185+03:00 0HL7OIHK18FAH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172887930.6358188946802288\",
  \"Nonce\": \"N0.482903907262813851505417288793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.482903907262813851505417288793\",
    \"state\": \"15054172887930.6358188946802288\"
  }
}" (9a175e33)
2017-09-14T22:28:08.8073217+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:08.8173267+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:08.8183293+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:08.8203295+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:08.8213309+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:08.8233338+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:08.8253340+03:00 0HL7OIHK18FAH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:08.8363428+03:00 0HL7OIHK18FAH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172887930.6358188946802288\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:08.8373400+03:00 0HL7OIHK18FAH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:08.8383418+03:00 0HL7OIHK18FAH [INF] Request finished in 38.9208ms 302  (15c52c40)
2017-09-14T22:28:12.7985517+03:00 0HL7OIHK18FAI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77156134223524871505417292791&state=15054172927910.6356127856256781   (e5be5b71)
2017-09-14T22:28:12.8005535+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:12.8015522+03:00 0HL7OIHK18FAI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:12.8015522+03:00 0HL7OIHK18FAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:12.8015522+03:00 0HL7OIHK18FAI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:12.8015522+03:00 0HL7OIHK18FAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:12.8025528+03:00 0HL7OIHK18FAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:12.8025528+03:00 0HL7OIHK18FAI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172927910.6356127856256781\",
  \"Nonce\": \"N0.77156134223524871505417292791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77156134223524871505417292791\",
    \"state\": \"15054172927910.6356127856256781\"
  }
}" (9a175e33)
2017-09-14T22:28:12.8075561+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:12.8195657+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:12.8235671+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:12.8265691+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:12.8295715+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:12.8315732+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:12.8345740+03:00 0HL7OIHK18FAI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:12.8505842+03:00 0HL7OIHK18FAI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172927910.6356127856256781\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:12.8515849+03:00 0HL7OIHK18FAI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:12.8525863+03:00 0HL7OIHK18FAI [INF] Request finished in 54.4707ms 302  (15c52c40)
2017-09-14T22:28:16.8172706+03:00 0HL7OIHK18FAJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.247077391193793131505417296792&state=15054172967920.7434806694877323   (e5be5b71)
2017-09-14T22:28:16.8192724+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:16.8202730+03:00 0HL7OIHK18FAJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:16.8202730+03:00 0HL7OIHK18FAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:16.8202730+03:00 0HL7OIHK18FAJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:16.8212733+03:00 0HL7OIHK18FAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:16.8212733+03:00 0HL7OIHK18FAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:16.8212733+03:00 0HL7OIHK18FAJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054172967920.7434806694877323\",
  \"Nonce\": \"N0.247077391193793131505417296792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.247077391193793131505417296792\",
    \"state\": \"15054172967920.7434806694877323\"
  }
}" (9a175e33)
2017-09-14T22:28:16.8292778+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:16.8432871+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:16.8482912+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:16.8532941+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:16.8562961+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:16.8623001+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:16.8673030+03:00 0HL7OIHK18FAJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:16.8843143+03:00 0HL7OIHK18FAJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054172967920.7434806694877323\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:16.8843143+03:00 0HL7OIHK18FAJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:16.8853149+03:00 0HL7OIHK18FAJ [INF] Request finished in 69.3536ms 302  (15c52c40)
2017-09-14T22:28:20.8067142+03:00 0HL7OIHK18FAK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.46991980525966251505417300792&state=15054173007920.5429578040226997   (e5be5b71)
2017-09-14T22:28:20.8137208+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:20.8157193+03:00 0HL7OIHK18FAK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:20.8167216+03:00 0HL7OIHK18FAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:20.8167216+03:00 0HL7OIHK18FAK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:20.8177222+03:00 0HL7OIHK18FAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:20.8187229+03:00 0HL7OIHK18FAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:20.8187229+03:00 0HL7OIHK18FAK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173007920.5429578040226997\",
  \"Nonce\": \"N0.46991980525966251505417300792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.46991980525966251505417300792\",
    \"state\": \"15054173007920.5429578040226997\"
  }
}" (9a175e33)
2017-09-14T22:28:20.8307273+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:20.8437379+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:20.8477390+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:20.8527431+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:20.8567453+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:20.8587482+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:20.8627485+03:00 0HL7OIHK18FAK [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:20.8757599+03:00 0HL7OIHK18FAK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173007920.5429578040226997\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:20.8777592+03:00 0HL7OIHK18FAK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:20.8777592+03:00 0HL7OIHK18FAK [INF] Request finished in 74.1544ms 302  (15c52c40)
2017-09-14T22:28:24.8098875+03:00 0HL7OIHK18FAL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80990788269752971505417304793&state=15054173047930.06956038841802759   (e5be5b71)
2017-09-14T22:28:24.8158859+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:24.8178904+03:00 0HL7OIHK18FAL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:24.8188907+03:00 0HL7OIHK18FAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:24.8188907+03:00 0HL7OIHK18FAL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:24.8208975+03:00 0HL7OIHK18FAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:24.8208975+03:00 0HL7OIHK18FAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:24.8218895+03:00 0HL7OIHK18FAL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173047930.06956038841802759\",
  \"Nonce\": \"N0.80990788269752971505417304793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80990788269752971505417304793\",
    \"state\": \"15054173047930.06956038841802759\"
  }
}" (9a175e33)
2017-09-14T22:28:24.8248907+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:24.8368986+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:24.8388996+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:24.8409013+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:24.8439033+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:24.8469049+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:24.8489066+03:00 0HL7OIHK18FAL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:24.8629143+03:00 0HL7OIHK18FAL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173047930.06956038841802759\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:24.8629143+03:00 0HL7OIHK18FAL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:24.8639157+03:00 0HL7OIHK18FAL [INF] Request finished in 56.1267ms 302  (15c52c40)
2017-09-14T22:28:28.8038610+03:00 0HL7OIHK18FAM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.11190830333331171505417308793&state=15054173087930.33010450407187397   (e5be5b71)
2017-09-14T22:28:28.8088560+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:28.8118615+03:00 0HL7OIHK18FAM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:28.8128598+03:00 0HL7OIHK18FAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:28.8128598+03:00 0HL7OIHK18FAM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:28.8148612+03:00 0HL7OIHK18FAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:28.8158614+03:00 0HL7OIHK18FAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:28.8158614+03:00 0HL7OIHK18FAM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173087930.33010450407187397\",
  \"Nonce\": \"N0.11190830333331171505417308793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.11190830333331171505417308793\",
    \"state\": \"15054173087930.33010450407187397\"
  }
}" (9a175e33)
2017-09-14T22:28:28.8228677+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:28.8408780+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:28.8438784+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:28.8462409+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:28.8472443+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:28.8502471+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:28.8522481+03:00 0HL7OIHK18FAM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:28.8732632+03:00 0HL7OIHK18FAM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173087930.33010450407187397\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:28.8742642+03:00 0HL7OIHK18FAM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:28.8752629+03:00 0HL7OIHK18FAM [INF] Request finished in 73.2895ms 302  (15c52c40)
2017-09-14T22:28:31.8030707+03:00 0HL7OIHK18FAN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94429538024060871505417311796&state=15054173117960.5350484812114351   (e5be5b71)
2017-09-14T22:28:31.8060707+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:31.8060707+03:00 0HL7OIHK18FAN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:31.8070706+03:00 0HL7OIHK18FAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:31.8070706+03:00 0HL7OIHK18FAN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:31.8070706+03:00 0HL7OIHK18FAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:31.8080721+03:00 0HL7OIHK18FAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:31.8080721+03:00 0HL7OIHK18FAN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173117960.5350484812114351\",
  \"Nonce\": \"N0.94429538024060871505417311796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94429538024060871505417311796\",
    \"state\": \"15054173117960.5350484812114351\"
  }
}" (9a175e33)
2017-09-14T22:28:31.8120731+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:31.8230808+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:31.8260824+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:31.8280849+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:31.8300854+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:31.8320872+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:31.8350888+03:00 0HL7OIHK18FAN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:31.8520988+03:00 0HL7OIHK18FAN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173117960.5350484812114351\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:31.8531007+03:00 0HL7OIHK18FAN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:31.8561023+03:00 0HL7OIHK18FAN [INF] Request finished in 52.7576ms 302  (15c52c40)
2017-09-14T22:28:35.8018632+03:00 0HL7OIHK18FAO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96859577589526241505417315795&state=15054173157950.6977477033447832   (e5be5b71)
2017-09-14T22:28:35.8048660+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:35.8058651+03:00 0HL7OIHK18FAO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:35.8058651+03:00 0HL7OIHK18FAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:35.8058651+03:00 0HL7OIHK18FAO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:35.8068661+03:00 0HL7OIHK18FAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:35.8068661+03:00 0HL7OIHK18FAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:35.8068661+03:00 0HL7OIHK18FAO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173157950.6977477033447832\",
  \"Nonce\": \"N0.96859577589526241505417315795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96859577589526241505417315795\",
    \"state\": \"15054173157950.6977477033447832\"
  }
}" (9a175e33)
2017-09-14T22:28:35.8108704+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:35.8208754+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:35.8228767+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:35.8248777+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:35.8268794+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:35.8288807+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:35.8308820+03:00 0HL7OIHK18FAO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:35.8488936+03:00 0HL7OIHK18FAO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173157950.6977477033447832\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:35.8498950+03:00 0HL7OIHK18FAO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:35.8498950+03:00 0HL7OIHK18FAO [INF] Request finished in 48.6258ms 302  (15c52c40)
2017-09-14T22:28:39.7998528+03:00 0HL7OIHK18FAP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.100773440967626861505417319794&state=15054173197940.2809515453735698   (e5be5b71)
2017-09-14T22:28:39.8028548+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:39.8028548+03:00 0HL7OIHK18FAP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:39.8028548+03:00 0HL7OIHK18FAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:39.8038547+03:00 0HL7OIHK18FAP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:39.8038547+03:00 0HL7OIHK18FAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:39.8038547+03:00 0HL7OIHK18FAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:39.8038547+03:00 0HL7OIHK18FAP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173197940.2809515453735698\",
  \"Nonce\": \"N0.100773440967626861505417319794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.100773440967626861505417319794\",
    \"state\": \"15054173197940.2809515453735698\"
  }
}" (9a175e33)
2017-09-14T22:28:39.8058568+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:39.8148631+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:39.8158638+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:39.8188646+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:39.8208679+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:39.8228680+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:39.8248706+03:00 0HL7OIHK18FAP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:39.8368777+03:00 0HL7OIHK18FAP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173197940.2809515453735698\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:39.8368777+03:00 0HL7OIHK18FAP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:39.8378784+03:00 0HL7OIHK18FAP [INF] Request finished in 38.2118ms 302  (15c52c40)
2017-09-14T22:28:43.7992875+03:00 0HL7OIHK18FAQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.057962759446520631505417323793&state=15054173237930.1424527060002092   (e5be5b71)
2017-09-14T22:28:43.8022903+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:43.8022903+03:00 0HL7OIHK18FAQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:43.8032926+03:00 0HL7OIHK18FAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:43.8032926+03:00 0HL7OIHK18FAQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:43.8032926+03:00 0HL7OIHK18FAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:43.8042901+03:00 0HL7OIHK18FAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:43.8042901+03:00 0HL7OIHK18FAQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173237930.1424527060002092\",
  \"Nonce\": \"N0.057962759446520631505417323793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.057962759446520631505417323793\",
    \"state\": \"15054173237930.1424527060002092\"
  }
}" (9a175e33)
2017-09-14T22:28:43.8062918+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:43.8152977+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:43.8172995+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:43.8193004+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:43.8213029+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:43.8233034+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:43.8243041+03:00 0HL7OIHK18FAQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:43.8403155+03:00 0HL7OIHK18FAQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173237930.1424527060002092\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:43.8413158+03:00 0HL7OIHK18FAQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:43.8413158+03:00 0HL7OIHK18FAQ [INF] Request finished in 42.8271ms 302  (15c52c40)
2017-09-14T22:28:47.8014128+03:00 0HL7OIHK18FAR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.361937160276459841505417327790&state=15054173277900.45930638892434583   (e5be5b71)
2017-09-14T22:28:47.8044144+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:47.8044144+03:00 0HL7OIHK18FAR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:47.8054147+03:00 0HL7OIHK18FAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:47.8054147+03:00 0HL7OIHK18FAR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:47.8054147+03:00 0HL7OIHK18FAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:47.8064157+03:00 0HL7OIHK18FAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:47.8064157+03:00 0HL7OIHK18FAR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173277900.45930638892434583\",
  \"Nonce\": \"N0.361937160276459841505417327790\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.361937160276459841505417327790\",
    \"state\": \"15054173277900.45930638892434583\"
  }
}" (9a175e33)
2017-09-14T22:28:47.8104211+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:47.8204258+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:47.8224271+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:47.8244273+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:47.8264286+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:47.8294310+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:47.8304316+03:00 0HL7OIHK18FAR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:47.8484463+03:00 0HL7OIHK18FAR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173277900.45930638892434583\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:47.8494438+03:00 0HL7OIHK18FAR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:47.8494438+03:00 0HL7OIHK18FAR [INF] Request finished in 49.4205ms 302  (15c52c40)
2017-09-14T22:28:51.7998189+03:00 0HL7OIHK18FAS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.56764191275803651505417331791&state=15054173317910.93082331834235   (e5be5b71)
2017-09-14T22:28:51.8018186+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:51.8028189+03:00 0HL7OIHK18FAS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:51.8028189+03:00 0HL7OIHK18FAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:51.8028189+03:00 0HL7OIHK18FAS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:51.8038195+03:00 0HL7OIHK18FAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:51.8038195+03:00 0HL7OIHK18FAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:51.8038195+03:00 0HL7OIHK18FAS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173317910.93082331834235\",
  \"Nonce\": \"N0.56764191275803651505417331791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.56764191275803651505417331791\",
    \"state\": \"15054173317910.93082331834235\"
  }
}" (9a175e33)
2017-09-14T22:28:51.8068235+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:51.8158279+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:51.8178292+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:51.8188291+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:51.8208308+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:51.8228321+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:51.8238328+03:00 0HL7OIHK18FAS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:51.8378417+03:00 0HL7OIHK18FAS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173317910.93082331834235\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:51.8388427+03:00 0HL7OIHK18FAS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:51.8398438+03:00 0HL7OIHK18FAS [INF] Request finished in 40.6087ms 302  (15c52c40)
2017-09-14T22:28:55.7967280+03:00 0HL7OIHK18FAT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.06203308813931031505417335791&state=15054173357910.09604990856884132   (e5be5b71)
2017-09-14T22:28:55.7997296+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:55.7997296+03:00 0HL7OIHK18FAT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:55.8007319+03:00 0HL7OIHK18FAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:55.8007319+03:00 0HL7OIHK18FAT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:55.8017302+03:00 0HL7OIHK18FAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:55.8017302+03:00 0HL7OIHK18FAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:55.8017302+03:00 0HL7OIHK18FAT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173357910.09604990856884132\",
  \"Nonce\": \"N0.06203308813931031505417335791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.06203308813931031505417335791\",
    \"state\": \"15054173357910.09604990856884132\"
  }
}" (9a175e33)
2017-09-14T22:28:55.8047337+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:55.8137389+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:55.8157418+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:55.8167413+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:55.8187430+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:55.8197425+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:55.8217438+03:00 0HL7OIHK18FAT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:55.8367538+03:00 0HL7OIHK18FAT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173357910.09604990856884132\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:55.8377548+03:00 0HL7OIHK18FAT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:55.8387579+03:00 0HL7OIHK18FAT [INF] Request finished in 41.6228ms 302  (15c52c40)
2017-09-14T22:28:58.8028587+03:00 0HL7OIHK18FAU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25256083829503931505417338795&state=15054173387950.13845122062612725   (e5be5b71)
2017-09-14T22:28:58.8058607+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:28:58.8068610+03:00 0HL7OIHK18FAU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:28:58.8068610+03:00 0HL7OIHK18FAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:58.8078617+03:00 0HL7OIHK18FAU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:28:58.8078617+03:00 0HL7OIHK18FAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:58.8088623+03:00 0HL7OIHK18FAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:58.8088623+03:00 0HL7OIHK18FAU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173387950.13845122062612725\",
  \"Nonce\": \"N0.25256083829503931505417338795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25256083829503931505417338795\",
    \"state\": \"15054173387950.13845122062612725\"
  }
}" (9a175e33)
2017-09-14T22:28:58.8128646+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:28:58.8248725+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:58.8268746+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:28:58.8288760+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:28:58.8318776+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:28:58.8338789+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:28:58.8358802+03:00 0HL7OIHK18FAU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:28:58.8548920+03:00 0HL7OIHK18FAU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173387950.13845122062612725\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:28:58.8558923+03:00 0HL7OIHK18FAU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:28:58.8568945+03:00 0HL7OIHK18FAU [INF] Request finished in 53.8778ms 302  (15c52c40)
2017-09-14T22:29:02.8768403+03:00 0HL7OIHK18FAV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6388754545317391505417342793&state=15054173427930.5589272007519344   (e5be5b71)
2017-09-14T22:29:02.8788416+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:02.8798419+03:00 0HL7OIHK18FAV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:02.8798419+03:00 0HL7OIHK18FAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:02.8798419+03:00 0HL7OIHK18FAV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:02.8798419+03:00 0HL7OIHK18FAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:02.8808425+03:00 0HL7OIHK18FAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:02.8808425+03:00 0HL7OIHK18FAV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173427930.5589272007519344\",
  \"Nonce\": \"N0.6388754545317391505417342793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6388754545317391505417342793\",
    \"state\": \"15054173427930.5589272007519344\"
  }
}" (9a175e33)
2017-09-14T22:29:02.8848464+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:02.8918502+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:02.8958529+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:02.8968543+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:02.8988549+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:02.9008558+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:02.9018569+03:00 0HL7OIHK18FAV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:02.9158657+03:00 0HL7OIHK18FAV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173427930.5589272007519344\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:02.9168668+03:00 0HL7OIHK18FAV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:02.9178675+03:00 0HL7OIHK18FAV [INF] Request finished in 40.9762ms 302  (15c52c40)
2017-09-14T22:29:06.8008341+03:00 0HL7OIHK18FB0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.157780438194240921505417346793&state=15054173467930.2496778849615784   (e5be5b71)
2017-09-14T22:29:06.8038365+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:06.8038365+03:00 0HL7OIHK18FB0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:06.8048372+03:00 0HL7OIHK18FB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:06.8048372+03:00 0HL7OIHK18FB0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:06.8048372+03:00 0HL7OIHK18FB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:06.8058378+03:00 0HL7OIHK18FB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:06.8058378+03:00 0HL7OIHK18FB0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173467930.2496778849615784\",
  \"Nonce\": \"N0.157780438194240921505417346793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.157780438194240921505417346793\",
    \"state\": \"15054173467930.2496778849615784\"
  }
}" (9a175e33)
2017-09-14T22:29:06.8088394+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:06.8198463+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:06.8208482+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:06.8228491+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:06.8248504+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:06.8278516+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:06.8298549+03:00 0HL7OIHK18FB0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:06.8488659+03:00 0HL7OIHK18FB0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173467930.2496778849615784\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:06.8488659+03:00 0HL7OIHK18FB0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:06.8498666+03:00 0HL7OIHK18FB0 [INF] Request finished in 49.2033ms 302  (15c52c40)
2017-09-14T22:29:10.8037039+03:00 0HL7OIHK18FB1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62245606944793951505417350794&state=15054173507940.9079783800175647   (e5be5b71)
2017-09-14T22:29:10.8067059+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:10.8067059+03:00 0HL7OIHK18FB1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:10.8077065+03:00 0HL7OIHK18FB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:10.8077065+03:00 0HL7OIHK18FB1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:10.8077065+03:00 0HL7OIHK18FB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:10.8087072+03:00 0HL7OIHK18FB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:10.8087072+03:00 0HL7OIHK18FB1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173507940.9079783800175647\",
  \"Nonce\": \"N0.62245606944793951505417350794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62245606944793951505417350794\",
    \"state\": \"15054173507940.9079783800175647\"
  }
}" (9a175e33)
2017-09-14T22:29:10.8127094+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:10.8227169+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:10.8257181+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:10.8277210+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:10.8297211+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:10.8317228+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:10.8337242+03:00 0HL7OIHK18FB1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:10.8517361+03:00 0HL7OIHK18FB1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173507940.9079783800175647\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:10.8517361+03:00 0HL7OIHK18FB1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:10.8527363+03:00 0HL7OIHK18FB1 [INF] Request finished in 49.5874ms 302  (15c52c40)
2017-09-14T22:29:14.7996882+03:00 0HL7OIHK18FB2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61499570009325951505417354793&state=15054173547930.0856322516446375   (e5be5b71)
2017-09-14T22:29:14.8016903+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:14.8026902+03:00 0HL7OIHK18FB2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:14.8026902+03:00 0HL7OIHK18FB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:14.8026902+03:00 0HL7OIHK18FB2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:14.8036905+03:00 0HL7OIHK18FB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:14.8036905+03:00 0HL7OIHK18FB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:14.8036905+03:00 0HL7OIHK18FB2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173547930.0856322516446375\",
  \"Nonce\": \"N0.61499570009325951505417354793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61499570009325951505417354793\",
    \"state\": \"15054173547930.0856322516446375\"
  }
}" (9a175e33)
2017-09-14T22:29:14.8066928+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:14.8156988+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:14.8177005+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:14.8197018+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:14.8217040+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:14.8237045+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:14.8247056+03:00 0HL7OIHK18FB2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:14.8397143+03:00 0HL7OIHK18FB2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173547930.0856322516446375\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:14.8397143+03:00 0HL7OIHK18FB2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:14.8407158+03:00 0HL7OIHK18FB2 [INF] Request finished in 42.1403ms 302  (15c52c40)
2017-09-14T22:29:18.8059105+03:00 0HL7OIHK18FB3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99543634349276511505417358794&state=15054173587940.21315725728022628   (e5be5b71)
2017-09-14T22:29:18.8079110+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:18.8089117+03:00 0HL7OIHK18FB3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:18.8089117+03:00 0HL7OIHK18FB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:18.8089117+03:00 0HL7OIHK18FB3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:18.8099119+03:00 0HL7OIHK18FB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:18.8099119+03:00 0HL7OIHK18FB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:18.8099119+03:00 0HL7OIHK18FB3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173587940.21315725728022628\",
  \"Nonce\": \"N0.99543634349276511505417358794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99543634349276511505417358794\",
    \"state\": \"15054173587940.21315725728022628\"
  }
}" (9a175e33)
2017-09-14T22:29:18.8149160+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:18.8249231+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:18.8279250+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:18.8319273+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:18.8349293+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:18.8359296+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:18.8389319+03:00 0HL7OIHK18FB3 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:18.8539427+03:00 0HL7OIHK18FB3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173587940.21315725728022628\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:18.8539427+03:00 0HL7OIHK18FB3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:18.8549437+03:00 0HL7OIHK18FB3 [INF] Request finished in 49.5831ms 302  (15c52c40)
2017-09-14T22:29:22.8058840+03:00 0HL7OIHK18FB4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.19092775383537641505417362795&state=15054173627950.9147062204599432   (e5be5b71)
2017-09-14T22:29:22.8088860+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:22.8098859+03:00 0HL7OIHK18FB4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:22.8098859+03:00 0HL7OIHK18FB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:22.8098859+03:00 0HL7OIHK18FB4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:22.8098859+03:00 0HL7OIHK18FB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:22.8108865+03:00 0HL7OIHK18FB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:22.8108865+03:00 0HL7OIHK18FB4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173627950.9147062204599432\",
  \"Nonce\": \"N0.19092775383537641505417362795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.19092775383537641505417362795\",
    \"state\": \"15054173627950.9147062204599432\"
  }
}" (9a175e33)
2017-09-14T22:29:22.8178920+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:22.8319009+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:22.8349028+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:22.8389055+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:22.8429077+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:22.8459109+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:22.8499136+03:00 0HL7OIHK18FB4 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:22.8669240+03:00 0HL7OIHK18FB4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173627950.9147062204599432\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:22.8679247+03:00 0HL7OIHK18FB4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:22.8689262+03:00 0HL7OIHK18FB4 [INF] Request finished in 63.2932ms 302  (15c52c40)
2017-09-14T22:29:26.8015964+03:00 0HL7OIHK18FB5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.093083425013757991505417366793&state=15054173667930.623461775245552   (e5be5b71)
2017-09-14T22:29:26.8035977+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:26.8035977+03:00 0HL7OIHK18FB5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:26.8045980+03:00 0HL7OIHK18FB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:26.8045980+03:00 0HL7OIHK18FB5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:26.8045980+03:00 0HL7OIHK18FB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:26.8056018+03:00 0HL7OIHK18FB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:26.8056018+03:00 0HL7OIHK18FB5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173667930.623461775245552\",
  \"Nonce\": \"N0.093083425013757991505417366793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.093083425013757991505417366793\",
    \"state\": \"15054173667930.623461775245552\"
  }
}" (9a175e33)
2017-09-14T22:29:26.8076011+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:26.8176085+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:26.8196083+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:26.8206090+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:26.8226103+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:26.8246116+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:26.8266129+03:00 0HL7OIHK18FB5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:26.8436242+03:00 0HL7OIHK18FB5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173667930.623461775245552\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:26.8446249+03:00 0HL7OIHK18FB5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:26.8456271+03:00 0HL7OIHK18FB5 [INF] Request finished in 45.0823ms 302  (15c52c40)
2017-09-14T22:29:30.8036005+03:00 0HL7OIHK18FB6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89288799856242961505417370794&state=15054173707940.3787475382899961   (e5be5b71)
2017-09-14T22:29:30.8066020+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:30.8066020+03:00 0HL7OIHK18FB6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:30.8066020+03:00 0HL7OIHK18FB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:30.8076027+03:00 0HL7OIHK18FB6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:30.8076027+03:00 0HL7OIHK18FB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:30.8086034+03:00 0HL7OIHK18FB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:30.8086034+03:00 0HL7OIHK18FB6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173707940.3787475382899961\",
  \"Nonce\": \"N0.89288799856242961505417370794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89288799856242961505417370794\",
    \"state\": \"15054173707940.3787475382899961\"
  }
}" (9a175e33)
2017-09-14T22:29:30.8116050+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:30.8216124+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:30.8236133+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:30.8256146+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:30.8276160+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:30.8296173+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:30.8336199+03:00 0HL7OIHK18FB6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:30.8506300+03:00 0HL7OIHK18FB6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173707940.3787475382899961\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:30.8506300+03:00 0HL7OIHK18FB6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:30.8516323+03:00 0HL7OIHK18FB6 [INF] Request finished in 48.3689ms 302  (15c52c40)
2017-09-14T22:29:34.7985896+03:00 0HL7OIHK18FB7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50389587845180531505417374791&state=15054173747910.5289283486824763   (e5be5b71)
2017-09-14T22:29:34.8005898+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:34.8015924+03:00 0HL7OIHK18FB7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:34.8015924+03:00 0HL7OIHK18FB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:34.8015924+03:00 0HL7OIHK18FB7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:34.8025911+03:00 0HL7OIHK18FB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:34.8025911+03:00 0HL7OIHK18FB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:34.8035918+03:00 0HL7OIHK18FB7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173747910.5289283486824763\",
  \"Nonce\": \"N0.50389587845180531505417374791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50389587845180531505417374791\",
    \"state\": \"15054173747910.5289283486824763\"
  }
}" (9a175e33)
2017-09-14T22:29:34.8055951+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:34.8156005+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:34.8176014+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:34.8196028+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:34.8206038+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:34.8226051+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:34.8256063+03:00 0HL7OIHK18FB7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:34.8446193+03:00 0HL7OIHK18FB7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173747910.5289283486824763\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:34.8456212+03:00 0HL7OIHK18FB7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:34.8466215+03:00 0HL7OIHK18FB7 [INF] Request finished in 48.2189ms 302  (15c52c40)
2017-09-14T22:29:38.7988210+03:00 0HL7OIHK18FB8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.110030631579818961505417378791&state=15054173787910.24835641490879867   (e5be5b71)
2017-09-14T22:29:38.8008223+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:38.8018237+03:00 0HL7OIHK18FB8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:38.8028236+03:00 0HL7OIHK18FB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:38.8028236+03:00 0HL7OIHK18FB8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:38.8028236+03:00 0HL7OIHK18FB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:38.8038243+03:00 0HL7OIHK18FB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:38.8038243+03:00 0HL7OIHK18FB8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173787910.24835641490879867\",
  \"Nonce\": \"N0.110030631579818961505417378791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.110030631579818961505417378791\",
    \"state\": \"15054173787910.24835641490879867\"
  }
}" (9a175e33)
2017-09-14T22:29:38.8068259+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:38.8188334+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:38.8198349+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:38.8288408+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:38.8308426+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:38.8328435+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:38.8358455+03:00 0HL7OIHK18FB8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:38.8528563+03:00 0HL7OIHK18FB8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173787910.24835641490879867\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:38.8538570+03:00 0HL7OIHK18FB8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:38.8548581+03:00 0HL7OIHK18FB8 [INF] Request finished in 56.221ms 302  (15c52c40)
2017-09-14T22:29:42.8036802+03:00 0HL7OIHK18FB9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93783387048421221505417382792&state=15054173827920.033527305095733206   (e5be5b71)
2017-09-14T22:29:42.8066830+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:42.8066830+03:00 0HL7OIHK18FB9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:42.8076828+03:00 0HL7OIHK18FB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:42.8076828+03:00 0HL7OIHK18FB9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:42.8086851+03:00 0HL7OIHK18FB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:42.8086851+03:00 0HL7OIHK18FB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:42.8086851+03:00 0HL7OIHK18FB9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173827920.033527305095733206\",
  \"Nonce\": \"N0.93783387048421221505417382792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93783387048421221505417382792\",
    \"state\": \"15054173827920.033527305095733206\"
  }
}" (9a175e33)
2017-09-14T22:29:42.8116855+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:42.8236934+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:42.8256952+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:42.8276977+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:42.8306981+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:42.8347007+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:42.8367021+03:00 0HL7OIHK18FB9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:42.8637203+03:00 0HL7OIHK18FB9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173827920.033527305095733206\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:42.8637203+03:00 0HL7OIHK18FB9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:42.8647210+03:00 0HL7OIHK18FB9 [INF] Request finished in 61.2575ms 302  (15c52c40)
2017-09-14T22:29:46.7996803+03:00 0HL7OIHK18FBA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98230899703662521505417386791&state=15054173867910.914173239902859   (e5be5b71)
2017-09-14T22:29:46.8016797+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:46.8026819+03:00 0HL7OIHK18FBA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:46.8026819+03:00 0HL7OIHK18FBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:46.8026819+03:00 0HL7OIHK18FBA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:46.8036810+03:00 0HL7OIHK18FBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:46.8036810+03:00 0HL7OIHK18FBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:46.8036810+03:00 0HL7OIHK18FBA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173867910.914173239902859\",
  \"Nonce\": \"N0.98230899703662521505417386791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98230899703662521505417386791\",
    \"state\": \"15054173867910.914173239902859\"
  }
}" (9a175e33)
2017-09-14T22:29:46.8066830+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:46.8186921+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:46.8206938+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:46.8216929+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:46.8246949+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:46.8276985+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:46.8297014+03:00 0HL7OIHK18FBA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:46.8477105+03:00 0HL7OIHK18FBA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173867910.914173239902859\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:46.8487116+03:00 0HL7OIHK18FBA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:46.8487116+03:00 0HL7OIHK18FBA [INF] Request finished in 50.4314ms 302  (15c52c40)
2017-09-14T22:29:50.8001733+03:00 0HL7OIHK18FBB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.050383911708667741505417390792&state=15054173907920.6286867317676059   (e5be5b71)
2017-09-14T22:29:50.8021735+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:50.8031733+03:00 0HL7OIHK18FBB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:50.8031733+03:00 0HL7OIHK18FBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:50.8031733+03:00 0HL7OIHK18FBB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:50.8031733+03:00 0HL7OIHK18FBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:50.8041748+03:00 0HL7OIHK18FBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:50.8041748+03:00 0HL7OIHK18FBB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173907920.6286867317676059\",
  \"Nonce\": \"N0.050383911708667741505417390792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.050383911708667741505417390792\",
    \"state\": \"15054173907920.6286867317676059\"
  }
}" (9a175e33)
2017-09-14T22:29:50.8071764+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:50.8171830+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:50.8181849+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:50.8201870+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:50.8221863+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:50.8241881+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:50.8271893+03:00 0HL7OIHK18FBB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:50.8391988+03:00 0HL7OIHK18FBB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173907920.6286867317676059\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:50.8401994+03:00 0HL7OIHK18FBB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:50.8412001+03:00 0HL7OIHK18FBB [INF] Request finished in 41.6753ms 302  (15c52c40)
2017-09-14T22:29:54.7971816+03:00 0HL7OIHK18FBC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.20440621674920691505417394791&state=15054173947910.6504372371283267   (e5be5b71)
2017-09-14T22:29:54.7991817+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:54.8001824+03:00 0HL7OIHK18FBC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:54.8001824+03:00 0HL7OIHK18FBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:54.8001824+03:00 0HL7OIHK18FBC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:54.8011831+03:00 0HL7OIHK18FBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:54.8011831+03:00 0HL7OIHK18FBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:54.8011831+03:00 0HL7OIHK18FBC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173947910.6504372371283267\",
  \"Nonce\": \"N0.20440621674920691505417394791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.20440621674920691505417394791\",
    \"state\": \"15054173947910.6504372371283267\"
  }
}" (9a175e33)
2017-09-14T22:29:54.8041870+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:54.8111905+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:54.8131922+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:54.8161938+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:54.8181947+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:54.8191954+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:54.8211963+03:00 0HL7OIHK18FBC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:54.8362067+03:00 0HL7OIHK18FBC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173947910.6504372371283267\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:54.8372081+03:00 0HL7OIHK18FBC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:54.8382080+03:00 0HL7OIHK18FBC [INF] Request finished in 41.1992ms 302  (15c52c40)
2017-09-14T22:29:57.8021502+03:00 0HL7OIHK18FBD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5031987317742331505417397794&state=15054173977940.0018670387784200937   (e5be5b71)
2017-09-14T22:29:57.8051502+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:29:57.8051502+03:00 0HL7OIHK18FBD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:29:57.8061513+03:00 0HL7OIHK18FBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:57.8061513+03:00 0HL7OIHK18FBD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:29:57.8061513+03:00 0HL7OIHK18FBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:57.8071511+03:00 0HL7OIHK18FBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:57.8071511+03:00 0HL7OIHK18FBD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054173977940.0018670387784200937\",
  \"Nonce\": \"N0.5031987317742331505417397794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5031987317742331505417397794\",
    \"state\": \"15054173977940.0018670387784200937\"
  }
}" (9a175e33)
2017-09-14T22:29:57.8101531+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:29:57.8221615+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:57.8231617+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:29:57.8251635+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:29:57.8271648+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:29:57.8291657+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:29:57.8321677+03:00 0HL7OIHK18FBD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:29:57.8511799+03:00 0HL7OIHK18FBD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054173977940.0018670387784200937\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:29:57.8521817+03:00 0HL7OIHK18FBD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:29:57.8531812+03:00 0HL7OIHK18FBD [INF] Request finished in 51.3563ms 302  (15c52c40)
2017-09-14T22:30:01.7993692+03:00 0HL7OIHK18FBE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.072859930625071681505417401793&state=15054174017930.8514216853698577   (e5be5b71)
2017-09-14T22:30:01.8023728+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:01.8033751+03:00 0HL7OIHK18FBE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:01.8033751+03:00 0HL7OIHK18FBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:01.8033751+03:00 0HL7OIHK18FBE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:01.8043722+03:00 0HL7OIHK18FBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:01.8053732+03:00 0HL7OIHK18FBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:01.8053732+03:00 0HL7OIHK18FBE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174017930.8514216853698577\",
  \"Nonce\": \"N0.072859930625071681505417401793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.072859930625071681505417401793\",
    \"state\": \"15054174017930.8514216853698577\"
  }
}" (9a175e33)
2017-09-14T22:30:01.8083748+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:01.8173808+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:01.8193821+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:01.8213834+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:01.8223841+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:01.8253857+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:01.8283885+03:00 0HL7OIHK18FBE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:01.8433972+03:00 0HL7OIHK18FBE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174017930.8514216853698577\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:01.8443979+03:00 0HL7OIHK18FBE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:01.8443979+03:00 0HL7OIHK18FBE [INF] Request finished in 45.6531ms 302  (15c52c40)
2017-09-14T22:30:05.7985324+03:00 0HL7OIHK18FBF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.096100614571164921505417405791&state=15054174057910.6551083719572535   (e5be5b71)
2017-09-14T22:30:05.8015344+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:05.8025347+03:00 0HL7OIHK18FBF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:05.8025347+03:00 0HL7OIHK18FBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:05.8025347+03:00 0HL7OIHK18FBF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:05.8035353+03:00 0HL7OIHK18FBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:05.8035353+03:00 0HL7OIHK18FBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:05.8045364+03:00 0HL7OIHK18FBF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174057910.6551083719572535\",
  \"Nonce\": \"N0.096100614571164921505417405791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.096100614571164921505417405791\",
    \"state\": \"15054174057910.6551083719572535\"
  }
}" (9a175e33)
2017-09-14T22:30:05.8075380+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:05.8175446+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:05.8195463+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:05.8215480+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:05.8235490+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:05.8255499+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:05.8275524+03:00 0HL7OIHK18FBF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:05.8415609+03:00 0HL7OIHK18FBF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174057910.6551083719572535\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:05.8415609+03:00 0HL7OIHK18FBF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:05.8425612+03:00 0HL7OIHK18FBF [INF] Request finished in 44.8695ms 302  (15c52c40)
2017-09-14T22:30:09.8001157+03:00 0HL7OIHK18FBG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.285368056380030931505417409792&state=15054174097920.3460163914207577   (e5be5b71)
2017-09-14T22:30:09.8021166+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:09.8031165+03:00 0HL7OIHK18FBG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:09.8031165+03:00 0HL7OIHK18FBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:09.8041164+03:00 0HL7OIHK18FBG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:09.8041164+03:00 0HL7OIHK18FBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:09.8051170+03:00 0HL7OIHK18FBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:09.8051170+03:00 0HL7OIHK18FBG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174097920.3460163914207577\",
  \"Nonce\": \"N0.285368056380030931505417409792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.285368056380030931505417409792\",
    \"state\": \"15054174097920.3460163914207577\"
  }
}" (9a175e33)
2017-09-14T22:30:09.8071184+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:09.8181253+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:09.8201270+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:09.8231294+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:09.8241296+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:09.8261314+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:09.8291333+03:00 0HL7OIHK18FBG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:09.8461450+03:00 0HL7OIHK18FBG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174097920.3460163914207577\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:09.8471445+03:00 0HL7OIHK18FBG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:09.8471445+03:00 0HL7OIHK18FBG [INF] Request finished in 48.5418ms 302  (15c52c40)
2017-09-14T22:30:13.7987140+03:00 0HL7OIHK18FBH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70876284233381041505417413792&state=15054174137920.22948666163806175   (e5be5b71)
2017-09-14T22:30:13.8017156+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:13.8017156+03:00 0HL7OIHK18FBH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:13.8027158+03:00 0HL7OIHK18FBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:13.8027158+03:00 0HL7OIHK18FBH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:13.8027158+03:00 0HL7OIHK18FBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:13.8027158+03:00 0HL7OIHK18FBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:13.8037165+03:00 0HL7OIHK18FBH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174137920.22948666163806175\",
  \"Nonce\": \"N0.70876284233381041505417413792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70876284233381041505417413792\",
    \"state\": \"15054174137920.22948666163806175\"
  }
}" (9a175e33)
2017-09-14T22:30:13.8057182+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:13.8127229+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:13.8137243+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:13.8177262+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:13.8197303+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:13.8217304+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:13.8237317+03:00 0HL7OIHK18FBH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:13.8407418+03:00 0HL7OIHK18FBH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174137920.22948666163806175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:13.8407418+03:00 0HL7OIHK18FBH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:13.8417421+03:00 0HL7OIHK18FBH [INF] Request finished in 43.3711ms 302  (15c52c40)
2017-09-14T22:30:17.7986366+03:00 0HL7OIHK18FBI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44968601063251071505417417792&state=15054174177920.06756459735323195   (e5be5b71)
2017-09-14T22:30:17.8006379+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:17.8016382+03:00 0HL7OIHK18FBI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:17.8016382+03:00 0HL7OIHK18FBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:17.8016382+03:00 0HL7OIHK18FBI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:17.8026385+03:00 0HL7OIHK18FBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:17.8026385+03:00 0HL7OIHK18FBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:17.8026385+03:00 0HL7OIHK18FBI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174177920.06756459735323195\",
  \"Nonce\": \"N0.44968601063251071505417417792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44968601063251071505417417792\",
    \"state\": \"15054174177920.06756459735323195\"
  }
}" (9a175e33)
2017-09-14T22:30:17.8056409+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:17.8126459+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:17.8136462+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:17.8166485+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:17.8186499+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:17.8206516+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:17.8216515+03:00 0HL7OIHK18FBI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:17.8396638+03:00 0HL7OIHK18FBI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174177920.06756459735323195\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:17.8406644+03:00 0HL7OIHK18FBI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:17.8416651+03:00 0HL7OIHK18FBI [INF] Request finished in 43.8949ms 302  (15c52c40)
2017-09-14T22:30:21.7999242+03:00 0HL7OIHK18FBJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.179114409754453921505417421792&state=15054174217920.11520528765661009   (e5be5b71)
2017-09-14T22:30:21.8029266+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:21.8039269+03:00 0HL7OIHK18FBJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:21.8039269+03:00 0HL7OIHK18FBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:21.8039269+03:00 0HL7OIHK18FBJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:21.8049276+03:00 0HL7OIHK18FBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:21.8059282+03:00 0HL7OIHK18FBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:21.8059282+03:00 0HL7OIHK18FBJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174217920.11520528765661009\",
  \"Nonce\": \"N0.179114409754453921505417421792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.179114409754453921505417421792\",
    \"state\": \"15054174217920.11520528765661009\"
  }
}" (9a175e33)
2017-09-14T22:30:21.8089310+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:21.8199379+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:21.8219392+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:21.8239406+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:21.8269421+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:21.8299441+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:21.8319455+03:00 0HL7OIHK18FBJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:21.8529598+03:00 0HL7OIHK18FBJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174217920.11520528765661009\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:21.8539604+03:00 0HL7OIHK18FBJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:21.8539604+03:00 0HL7OIHK18FBJ [INF] Request finished in 55.0838ms 302  (15c52c40)
2017-09-14T22:30:24.8139505+03:00 0HL7OIHK18FBK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95229792376390511505417424799&state=15054174247990.568356318136847   (e5be5b71)
2017-09-14T22:30:24.8179528+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:24.8179528+03:00 0HL7OIHK18FBK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:24.8189534+03:00 0HL7OIHK18FBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:24.8189534+03:00 0HL7OIHK18FBK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:24.8189534+03:00 0HL7OIHK18FBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:24.8199541+03:00 0HL7OIHK18FBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:24.8209547+03:00 0HL7OIHK18FBK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174247990.568356318136847\",
  \"Nonce\": \"N0.95229792376390511505417424799\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95229792376390511505417424799\",
    \"state\": \"15054174247990.568356318136847\"
  }
}" (9a175e33)
2017-09-14T22:30:24.8329627+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:24.8509750+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:24.8549773+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:24.8599806+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:24.8649871+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:24.8709899+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:24.8759916+03:00 0HL7OIHK18FBK [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:24.8960041+03:00 0HL7OIHK18FBK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174247990.568356318136847\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:24.8970047+03:00 0HL7OIHK18FBK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:24.8980062+03:00 0HL7OIHK18FBK [INF] Request finished in 83.7386ms 302  (15c52c40)
2017-09-14T22:30:28.7996787+03:00 0HL7OIHK18FBL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85132476780129761505417428793&state=15054174287930.5756003056726093   (e5be5b71)
2017-09-14T22:30:28.8016797+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:28.8026807+03:00 0HL7OIHK18FBL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:28.8036810+03:00 0HL7OIHK18FBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:28.8036810+03:00 0HL7OIHK18FBL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:28.8036810+03:00 0HL7OIHK18FBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:28.8046820+03:00 0HL7OIHK18FBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:28.8046820+03:00 0HL7OIHK18FBL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174287930.5756003056726093\",
  \"Nonce\": \"N0.85132476780129761505417428793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85132476780129761505417428793\",
    \"state\": \"15054174287930.5756003056726093\"
  }
}" (9a175e33)
2017-09-14T22:30:28.8096865+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:28.8206946+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:28.8246957+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:28.8276969+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:28.8316991+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:28.8337013+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:28.8377039+03:00 0HL7OIHK18FBL [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:28.8537149+03:00 0HL7OIHK18FBL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174287930.5756003056726093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:28.8537149+03:00 0HL7OIHK18FBL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:28.8547160+03:00 0HL7OIHK18FBL [INF] Request finished in 55.9439ms 302  (15c52c40)
2017-09-14T22:30:32.8006383+03:00 0HL7OIHK18FBM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75117695376411351505417432794&state=15054174327940.6052151970448689   (e5be5b71)
2017-09-14T22:30:32.8036391+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:32.8046402+03:00 0HL7OIHK18FBM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:32.8046402+03:00 0HL7OIHK18FBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:32.8056401+03:00 0HL7OIHK18FBM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:32.8056401+03:00 0HL7OIHK18FBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:32.8066407+03:00 0HL7OIHK18FBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:32.8066407+03:00 0HL7OIHK18FBM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174327940.6052151970448689\",
  \"Nonce\": \"N0.75117695376411351505417432794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75117695376411351505417432794\",
    \"state\": \"15054174327940.6052151970448689\"
  }
}" (9a175e33)
2017-09-14T22:30:32.8106430+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:32.8236516+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:32.8246527+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:32.8266536+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:32.8296564+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:32.8316569+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:32.8336582+03:00 0HL7OIHK18FBM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:32.8566735+03:00 0HL7OIHK18FBM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174327940.6052151970448689\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:32.8566735+03:00 0HL7OIHK18FBM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:32.8576733+03:00 0HL7OIHK18FBM [INF] Request finished in 57.4609ms 302  (15c52c40)
2017-09-14T22:30:36.7965737+03:00 0HL7OIHK18FBN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.085954226309903351505417436792&state=15054174367920.6813388136108591   (e5be5b71)
2017-09-14T22:30:36.7995781+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:36.8005799+03:00 0HL7OIHK18FBN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:36.8005799+03:00 0HL7OIHK18FBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:36.8005799+03:00 0HL7OIHK18FBN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:36.8015762+03:00 0HL7OIHK18FBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:36.8025781+03:00 0HL7OIHK18FBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:36.8025781+03:00 0HL7OIHK18FBN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174367920.6813388136108591\",
  \"Nonce\": \"N0.085954226309903351505417436792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.085954226309903351505417436792\",
    \"state\": \"15054174367920.6813388136108591\"
  }
}" (9a175e33)
2017-09-14T22:30:36.8055797+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:36.8145856+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:36.8165870+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:36.8185883+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:36.8205892+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:36.8225905+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:36.8235924+03:00 0HL7OIHK18FBN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:36.8416031+03:00 0HL7OIHK18FBN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174367920.6813388136108591\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:36.8416031+03:00 0HL7OIHK18FBN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:36.8426046+03:00 0HL7OIHK18FBN [INF] Request finished in 46.126ms 302  (15c52c40)
2017-09-14T22:30:40.7988071+03:00 0HL7OIHK18FBO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36868212663397171505417440792&state=15054174407920.6547799126253329   (e5be5b71)
2017-09-14T22:30:40.8018095+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:40.8018095+03:00 0HL7OIHK18FBO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:40.8028122+03:00 0HL7OIHK18FBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:40.8028122+03:00 0HL7OIHK18FBO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:40.8038097+03:00 0HL7OIHK18FBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:40.8038097+03:00 0HL7OIHK18FBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:40.8038097+03:00 0HL7OIHK18FBO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174407920.6547799126253329\",
  \"Nonce\": \"N0.36868212663397171505417440792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36868212663397171505417440792\",
    \"state\": \"15054174407920.6547799126253329\"
  }
}" (9a175e33)
2017-09-14T22:30:40.8068113+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:40.8138167+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:40.8158180+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:40.8188196+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:40.8208209+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:40.8228223+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:40.8248236+03:00 0HL7OIHK18FBO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:40.8388329+03:00 0HL7OIHK18FBO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174407920.6547799126253329\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:40.8398335+03:00 0HL7OIHK18FBO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:40.8408342+03:00 0HL7OIHK18FBO [INF] Request finished in 41.5758ms 302  (15c52c40)
2017-09-14T22:30:44.7976888+03:00 0HL7OIHK18FBP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94373141577009821505417444792&state=15054174447920.976644300245396   (e5be5b71)
2017-09-14T22:30:44.8006940+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:44.8016923+03:00 0HL7OIHK18FBP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:44.8016923+03:00 0HL7OIHK18FBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:44.8016923+03:00 0HL7OIHK18FBP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:44.8026922+03:00 0HL7OIHK18FBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:44.8026922+03:00 0HL7OIHK18FBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:44.8026922+03:00 0HL7OIHK18FBP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174447920.976644300245396\",
  \"Nonce\": \"N0.94373141577009821505417444792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94373141577009821505417444792\",
    \"state\": \"15054174447920.976644300245396\"
  }
}" (9a175e33)
2017-09-14T22:30:44.8066940+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:44.8227046+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:44.8237069+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:44.8257070+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:44.8267089+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:44.8287082+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:44.8297093+03:00 0HL7OIHK18FBP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:44.8457199+03:00 0HL7OIHK18FBP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174447920.976644300245396\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:44.8467209+03:00 0HL7OIHK18FBP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:44.8477212+03:00 0HL7OIHK18FBP [INF] Request finished in 50.4709ms 302  (15c52c40)
2017-09-14T22:30:48.7981085+03:00 0HL7OIHK18FBQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75017395087647551505417448792&state=15054174487920.545865143965867   (e5be5b71)
2017-09-14T22:30:48.8011093+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:48.8011093+03:00 0HL7OIHK18FBQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:48.8021095+03:00 0HL7OIHK18FBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:48.8021095+03:00 0HL7OIHK18FBQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:48.8021095+03:00 0HL7OIHK18FBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:48.8031102+03:00 0HL7OIHK18FBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:48.8031102+03:00 0HL7OIHK18FBQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174487920.545865143965867\",
  \"Nonce\": \"N0.75017395087647551505417448792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75017395087647551505417448792\",
    \"state\": \"15054174487920.545865143965867\"
  }
}" (9a175e33)
2017-09-14T22:30:48.8051103+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:48.8121165+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:48.8141171+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:48.8161180+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:48.8191200+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:48.8211221+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:48.8231230+03:00 0HL7OIHK18FBQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:48.8351310+03:00 0HL7OIHK18FBQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174487920.545865143965867\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:48.8361321+03:00 0HL7OIHK18FBQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:48.8371327+03:00 0HL7OIHK18FBQ [INF] Request finished in 38.8422ms 302  (15c52c40)
2017-09-14T22:30:52.8062136+03:00 0HL7OIHK18FBR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.497790240920431561505417452793&state=15054174527930.9112316408861603   (e5be5b71)
2017-09-14T22:30:52.8082146+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:52.8092160+03:00 0HL7OIHK18FBR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:52.8092160+03:00 0HL7OIHK18FBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:52.8092160+03:00 0HL7OIHK18FBR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:52.8102163+03:00 0HL7OIHK18FBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:52.8102163+03:00 0HL7OIHK18FBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:52.8102163+03:00 0HL7OIHK18FBR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174527930.9112316408861603\",
  \"Nonce\": \"N0.497790240920431561505417452793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.497790240920431561505417452793\",
    \"state\": \"15054174527930.9112316408861603\"
  }
}" (9a175e33)
2017-09-14T22:30:52.8132191+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:52.8262261+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:52.8282274+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:52.8302287+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:52.8992760+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:52.9022769+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:52.9032779+03:00 0HL7OIHK18FBR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:52.9222897+03:00 0HL7OIHK18FBR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174527930.9112316408861603\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:52.9232912+03:00 0HL7OIHK18FBR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:52.9252921+03:00 0HL7OIHK18FBR [INF] Request finished in 117.8453ms 302  (15c52c40)
2017-09-14T22:30:56.8041582+03:00 0HL7OIHK18FBS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.45791161291262771505417456792&state=15054174567920.35351539218311023   (e5be5b71)
2017-09-14T22:30:56.8091619+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:30:56.8101630+03:00 0HL7OIHK18FBS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:30:56.8101630+03:00 0HL7OIHK18FBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:56.8111613+03:00 0HL7OIHK18FBS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:30:56.8121635+03:00 0HL7OIHK18FBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:56.8131626+03:00 0HL7OIHK18FBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:56.8131626+03:00 0HL7OIHK18FBS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174567920.35351539218311023\",
  \"Nonce\": \"N0.45791161291262771505417456792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.45791161291262771505417456792\",
    \"state\": \"15054174567920.35351539218311023\"
  }
}" (9a175e33)
2017-09-14T22:30:56.8191768+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:30:56.8351788+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:56.8381784+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:30:56.8401805+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:30:56.8421818+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:30:56.8451834+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:30:56.8461864+03:00 0HL7OIHK18FBS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:30:56.8671984+03:00 0HL7OIHK18FBS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174567920.35351539218311023\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:30:56.8682006+03:00 0HL7OIHK18FBS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:30:56.8692009+03:00 0HL7OIHK18FBS [INF] Request finished in 67.383ms 302  (15c52c40)
2017-09-14T22:31:00.8050373+03:00 0HL7OIHK18FBT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.448683803075145661505417460792&state=15054174607920.02538897445566901   (e5be5b71)
2017-09-14T22:31:00.8109450+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:00.8119444+03:00 0HL7OIHK18FBT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:00.8129435+03:00 0HL7OIHK18FBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:00.8139442+03:00 0HL7OIHK18FBT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:00.8149480+03:00 0HL7OIHK18FBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:00.8159495+03:00 0HL7OIHK18FBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:00.8159495+03:00 0HL7OIHK18FBT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174607920.02538897445566901\",
  \"Nonce\": \"N0.448683803075145661505417460792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.448683803075145661505417460792\",
    \"state\": \"15054174607920.02538897445566901\"
  }
}" (9a175e33)
2017-09-14T22:31:00.8209551+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:00.8309566+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:00.8339582+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:00.8349601+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:00.8369590+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:00.8399626+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:00.8419620+03:00 0HL7OIHK18FBT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:00.8559720+03:00 0HL7OIHK18FBT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174607920.02538897445566901\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:00.8569731+03:00 0HL7OIHK18FBT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:00.8569731+03:00 0HL7OIHK18FBT [INF] Request finished in 53.9501ms 302  (15c52c40)
2017-09-14T22:31:04.8056578+03:00 0HL7OIHK18FBU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.468927881751161071505417464793&state=15054174647930.21909335940406716   (e5be5b71)
2017-09-14T22:31:04.8106560+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:04.8116594+03:00 0HL7OIHK18FBU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:04.8136608+03:00 0HL7OIHK18FBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:04.8136608+03:00 0HL7OIHK18FBU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:04.8146587+03:00 0HL7OIHK18FBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:04.8156605+03:00 0HL7OIHK18FBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:04.8156605+03:00 0HL7OIHK18FBU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174647930.21909335940406716\",
  \"Nonce\": \"N0.468927881751161071505417464793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.468927881751161071505417464793\",
    \"state\": \"15054174647930.21909335940406716\"
  }
}" (9a175e33)
2017-09-14T22:31:04.8246692+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:04.8406787+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:04.8436783+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:04.8466846+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:04.8496838+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:04.8536869+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:04.8556866+03:00 0HL7OIHK18FBU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:04.8716988+03:00 0HL7OIHK18FBU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174647930.21909335940406716\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:04.8726979+03:00 0HL7OIHK18FBU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:04.8736978+03:00 0HL7OIHK18FBU [INF] Request finished in 69.6157ms 302  (15c52c40)
2017-09-14T22:31:08.8041780+03:00 0HL7OIHK18FBV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29597229330013921505417468792&state=15054174687920.1735043474662028   (e5be5b71)
2017-09-14T22:31:08.8091769+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:08.8101768+03:00 0HL7OIHK18FBV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:08.8121769+03:00 0HL7OIHK18FBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:08.8121769+03:00 0HL7OIHK18FBV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:08.8131800+03:00 0HL7OIHK18FBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:08.8141806+03:00 0HL7OIHK18FBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:08.8141806+03:00 0HL7OIHK18FBV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174687920.1735043474662028\",
  \"Nonce\": \"N0.29597229330013921505417468792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29597229330013921505417468792\",
    \"state\": \"15054174687920.1735043474662028\"
  }
}" (9a175e33)
2017-09-14T22:31:08.8211900+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:08.8361925+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:08.8391948+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:08.8411966+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:08.8441985+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:08.8462003+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:08.8482020+03:00 0HL7OIHK18FBV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:08.8672169+03:00 0HL7OIHK18FBV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174687920.1735043474662028\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:08.8682137+03:00 0HL7OIHK18FBV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:08.8682137+03:00 0HL7OIHK18FBV [INF] Request finished in 66.7187ms 302  (15c52c40)
2017-09-14T22:31:12.7978112+03:00 0HL7OIHK18FC0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0189874917402437231505417472792&state=15054174727920.3539966962875747   (e5be5b71)
2017-09-14T22:31:12.8008128+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:12.8018186+03:00 0HL7OIHK18FC0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:12.8018186+03:00 0HL7OIHK18FC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:12.8028157+03:00 0HL7OIHK18FC0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:12.8028157+03:00 0HL7OIHK18FC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:12.8038160+03:00 0HL7OIHK18FC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:12.8038160+03:00 0HL7OIHK18FC0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174727920.3539966962875747\",
  \"Nonce\": \"N0.0189874917402437231505417472792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0189874917402437231505417472792\",
    \"state\": \"15054174727920.3539966962875747\"
  }
}" (9a175e33)
2017-09-14T22:31:12.8058157+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:12.8158224+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:12.8188259+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:12.8208253+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:12.8218267+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:12.8238280+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:12.8258286+03:00 0HL7OIHK18FC0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:12.8428399+03:00 0HL7OIHK18FC0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174727920.3539966962875747\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:12.8438413+03:00 0HL7OIHK18FC0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:12.8448416+03:00 0HL7OIHK18FC0 [INF] Request finished in 46.8475ms 302  (15c52c40)
2017-09-14T22:31:16.8029495+03:00 0HL7OIHK18FC1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6980796708335691505417476792&state=15054174767920.1771914728569539   (e5be5b71)
2017-09-14T22:31:16.8079457+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:16.8089484+03:00 0HL7OIHK18FC1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:16.8089484+03:00 0HL7OIHK18FC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:16.8099471+03:00 0HL7OIHK18FC1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:16.8109477+03:00 0HL7OIHK18FC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:16.8119504+03:00 0HL7OIHK18FC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:16.8119504+03:00 0HL7OIHK18FC1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174767920.1771914728569539\",
  \"Nonce\": \"N0.6980796708335691505417476792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6980796708335691505417476792\",
    \"state\": \"15054174767920.1771914728569539\"
  }
}" (9a175e33)
2017-09-14T22:31:16.8179528+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:16.8389675+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:16.8419679+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:16.8439692+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:16.8449707+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:16.8469724+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:16.8489737+03:00 0HL7OIHK18FC1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:16.8659838+03:00 0HL7OIHK18FC1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174767920.1771914728569539\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:16.8659838+03:00 0HL7OIHK18FC1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:16.8669856+03:00 0HL7OIHK18FC1 [INF] Request finished in 66.2182ms 302  (15c52c40)
2017-09-14T22:31:20.7990507+03:00 0HL7OIHK18FC2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.471863866138493741505417480792&state=15054174807920.11433211735458837   (e5be5b71)
2017-09-14T22:31:20.8020558+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:20.8030545+03:00 0HL7OIHK18FC2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:20.8040544+03:00 0HL7OIHK18FC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:20.8040544+03:00 0HL7OIHK18FC2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:20.8040544+03:00 0HL7OIHK18FC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:20.8050551+03:00 0HL7OIHK18FC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:20.8050551+03:00 0HL7OIHK18FC2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174807920.11433211735458837\",
  \"Nonce\": \"N0.471863866138493741505417480792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.471863866138493741505417480792\",
    \"state\": \"15054174807920.11433211735458837\"
  }
}" (9a175e33)
2017-09-14T22:31:20.8080567+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:20.8190651+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:20.8200654+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:20.8220659+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:20.8260682+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:20.8280703+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:20.8300728+03:00 0HL7OIHK18FC2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:20.8480824+03:00 0HL7OIHK18FC2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174807920.11433211735458837\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:20.8490830+03:00 0HL7OIHK18FC2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:20.8490830+03:00 0HL7OIHK18FC2 [INF] Request finished in 51.0602ms 302  (15c52c40)
2017-09-14T22:31:24.7974520+03:00 0HL7OIHK18FC3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.431777503144091505417484791&state=15054174847910.6730851357515995   (e5be5b71)
2017-09-14T22:31:24.8004532+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:24.8004532+03:00 0HL7OIHK18FC3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:24.8014547+03:00 0HL7OIHK18FC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:24.8014547+03:00 0HL7OIHK18FC3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:24.8014547+03:00 0HL7OIHK18FC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:24.8024569+03:00 0HL7OIHK18FC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:24.8024569+03:00 0HL7OIHK18FC3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174847910.6730851357515995\",
  \"Nonce\": \"N0.431777503144091505417484791\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.431777503144091505417484791\",
    \"state\": \"15054174847910.6730851357515995\"
  }
}" (9a175e33)
2017-09-14T22:31:24.8074574+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:24.8144625+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:24.8164634+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:24.8184671+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:24.8194674+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:24.8204676+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:24.8214667+03:00 0HL7OIHK18FC3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:24.8324736+03:00 0HL7OIHK18FC3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174847910.6730851357515995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:24.8334743+03:00 0HL7OIHK18FC3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:24.8334743+03:00 0HL7OIHK18FC3 [INF] Request finished in 36.9428ms 302  (15c52c40)
2017-09-14T22:31:27.8268541+03:00 0HL7OIHK18FC4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98041537101925311505417487799&state=15054174877990.8130944347465947   (e5be5b71)
2017-09-14T22:31:27.8298569+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:27.8308572+03:00 0HL7OIHK18FC4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:27.8313573+03:00 0HL7OIHK18FC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:27.8313573+03:00 0HL7OIHK18FC4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:27.8318602+03:00 0HL7OIHK18FC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:27.8323584+03:00 0HL7OIHK18FC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:27.8328585+03:00 0HL7OIHK18FC4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174877990.8130944347465947\",
  \"Nonce\": \"N0.98041537101925311505417487799\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98041537101925311505417487799\",
    \"state\": \"15054174877990.8130944347465947\"
  }
}" (9a175e33)
2017-09-14T22:31:27.8488695+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:27.8628784+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:27.8768877+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:27.8818906+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:27.8948996+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:27.8984021+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:27.9029057+03:00 0HL7OIHK18FC4 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:27.9374299+03:00 0HL7OIHK18FC4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174877990.8130944347465947\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:27.9409301+03:00 0HL7OIHK18FC4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:27.9499360+03:00 0HL7OIHK18FC4 [INF] Request finished in 126.5086ms 302  (15c52c40)
2017-09-14T22:31:31.8059318+03:00 0HL7OIHK18FC5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90247608868188261505417491795&state=15054174917950.8456868262513704   (e5be5b71)
2017-09-14T22:31:31.8089342+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:31.8099348+03:00 0HL7OIHK18FC5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:31.8099348+03:00 0HL7OIHK18FC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:31.8104354+03:00 0HL7OIHK18FC5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:31.8109363+03:00 0HL7OIHK18FC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:31.8114352+03:00 0HL7OIHK18FC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:31.8114352+03:00 0HL7OIHK18FC5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174917950.8456868262513704\",
  \"Nonce\": \"N0.90247608868188261505417491795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90247608868188261505417491795\",
    \"state\": \"15054174917950.8456868262513704\"
  }
}" (9a175e33)
2017-09-14T22:31:31.8234436+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:31.8424558+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:31.8464588+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:31.8519650+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:31.8574661+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:31.8604681+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:31.8644711+03:00 0HL7OIHK18FC5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:31.8854886+03:00 0HL7OIHK18FC5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174917950.8456868262513704\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:31.8874860+03:00 0HL7OIHK18FC5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:31.8909885+03:00 0HL7OIHK18FC5 [INF] Request finished in 83.5042ms 302  (15c52c40)
2017-09-14T22:31:35.8165976+03:00 0HL7OIHK18FC6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87226988130665941505417495796&state=15054174957960.9201392037826854   (e5be5b71)
2017-09-14T22:31:35.8231029+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:35.8251038+03:00 0HL7OIHK18FC6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:35.8256044+03:00 0HL7OIHK18FC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:35.8256044+03:00 0HL7OIHK18FC6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:35.8261045+03:00 0HL7OIHK18FC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:35.8276049+03:00 0HL7OIHK18FC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:35.8281058+03:00 0HL7OIHK18FC6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174957960.9201392037826854\",
  \"Nonce\": \"N0.87226988130665941505417495796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87226988130665941505417495796\",
    \"state\": \"15054174957960.9201392037826854\"
  }
}" (9a175e33)
2017-09-14T22:31:35.8411141+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:35.8781386+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:35.9046563+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:35.9136619+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:35.9236689+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:35.9331750+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:35.9411803+03:00 0HL7OIHK18FC6 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:35.9727018+03:00 0HL7OIHK18FC6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174957960.9201392037826854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:35.9742022+03:00 0HL7OIHK18FC6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:35.9792059+03:00 0HL7OIHK18FC6 [INF] Request finished in 159.3907ms 302  (15c52c40)
2017-09-14T22:31:39.7982869+03:00 0HL7OIHK18FC7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0479166508179413861505417499793&state=15054174997930.284675142788539   (e5be5b71)
2017-09-14T22:31:39.8006399+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:39.8011428+03:00 0HL7OIHK18FC7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:39.8016429+03:00 0HL7OIHK18FC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:39.8016429+03:00 0HL7OIHK18FC7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:39.8021431+03:00 0HL7OIHK18FC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:39.8026428+03:00 0HL7OIHK18FC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:39.8031445+03:00 0HL7OIHK18FC7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054174997930.284675142788539\",
  \"Nonce\": \"N0.0479166508179413861505417499793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0479166508179413861505417499793\",
    \"state\": \"15054174997930.284675142788539\"
  }
}" (9a175e33)
2017-09-14T22:31:39.8076473+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:39.8151509+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:39.8166541+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:39.8186534+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:39.8226565+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:39.8256581+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:39.8276606+03:00 0HL7OIHK18FC7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:39.8431706+03:00 0HL7OIHK18FC7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054174997930.284675142788539\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:39.8443130+03:00 0HL7OIHK18FC7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:39.8448147+03:00 0HL7OIHK18FC7 [INF] Request finished in 47.0343ms 302  (15c52c40)
2017-09-14T22:31:43.7993977+03:00 0HL7OIHK18FC8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51982072536034311505417503792&state=15054175037920.4123706990847118   (e5be5b71)
2017-09-14T22:31:43.8023997+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:43.8029006+03:00 0HL7OIHK18FC8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:43.8034047+03:00 0HL7OIHK18FC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:43.8039016+03:00 0HL7OIHK18FC8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:43.8044022+03:00 0HL7OIHK18FC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:43.8049011+03:00 0HL7OIHK18FC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:43.8049011+03:00 0HL7OIHK18FC8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175037920.4123706990847118\",
  \"Nonce\": \"N0.51982072536034311505417503792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51982072536034311505417503792\",
    \"state\": \"15054175037920.4123706990847118\"
  }
}" (9a175e33)
2017-09-14T22:31:43.8089050+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:43.8234136+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:43.8274162+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:43.8319190+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:43.8339203+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:43.8449276+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:43.8484297+03:00 0HL7OIHK18FC8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:43.8739476+03:00 0HL7OIHK18FC8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175037920.4123706990847118\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:43.8749471+03:00 0HL7OIHK18FC8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:43.8779499+03:00 0HL7OIHK18FC8 [INF] Request finished in 76.8382ms 302  (15c52c40)
2017-09-14T22:31:46.8006000+03:00 0HL7OIHK18FC9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99228259761331651505417506794&state=15054175067940.6125322674943992   (e5be5b71)
2017-09-14T22:31:46.8041041+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:46.8046047+03:00 0HL7OIHK18FC9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:46.8051028+03:00 0HL7OIHK18FC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:46.8051028+03:00 0HL7OIHK18FC9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:46.8056034+03:00 0HL7OIHK18FC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:46.8061035+03:00 0HL7OIHK18FC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:46.8061035+03:00 0HL7OIHK18FC9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175067940.6125322674943992\",
  \"Nonce\": \"N0.99228259761331651505417506794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99228259761331651505417506794\",
    \"state\": \"15054175067940.6125322674943992\"
  }
}" (9a175e33)
2017-09-14T22:31:46.8101065+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:46.8221145+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:46.8241174+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:46.8256162+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:46.8276179+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:46.8291191+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:46.8316214+03:00 0HL7OIHK18FC9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:46.8451372+03:00 0HL7OIHK18FC9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175067940.6125322674943992\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:46.8451372+03:00 0HL7OIHK18FC9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:46.8461375+03:00 0HL7OIHK18FC9 [INF] Request finished in 45.7087ms 302  (15c52c40)
2017-09-14T22:31:49.7997821+03:00 0HL7OIHK18FCA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50137613758978291505417509794&state=15054175097940.3603299283517709   (e5be5b71)
2017-09-14T22:31:49.8027837+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:49.8032847+03:00 0HL7OIHK18FCA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:49.8037864+03:00 0HL7OIHK18FCA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:49.8042853+03:00 0HL7OIHK18FCA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:49.8052852+03:00 0HL7OIHK18FCA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:49.8062859+03:00 0HL7OIHK18FCA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:49.8062859+03:00 0HL7OIHK18FCA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175097940.3603299283517709\",
  \"Nonce\": \"N0.50137613758978291505417509794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50137613758978291505417509794\",
    \"state\": \"15054175097940.3603299283517709\"
  }
}" (9a175e33)
2017-09-14T22:31:49.8102921+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:49.8212962+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:49.8232983+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:49.8252988+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:49.8283016+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:49.8308019+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:49.8328044+03:00 0HL7OIHK18FCA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:49.8478124+03:00 0HL7OIHK18FCA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175097940.3603299283517709\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:49.8486322+03:00 0HL7OIHK18FCA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:49.8491379+03:00 0HL7OIHK18FCA [INF] Request finished in 49.6751ms 302  (15c52c40)
2017-09-14T22:31:53.7975306+03:00 0HL7OIHK18FCB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26698087172171481505417513792&state=15054175137920.02606360736626301   (e5be5b71)
2017-09-14T22:31:53.7994731+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:53.7999760+03:00 0HL7OIHK18FCB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:53.7999760+03:00 0HL7OIHK18FCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:53.8004761+03:00 0HL7OIHK18FCB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:53.8004761+03:00 0HL7OIHK18FCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:53.8009762+03:00 0HL7OIHK18FCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:53.8009762+03:00 0HL7OIHK18FCB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175137920.02606360736626301\",
  \"Nonce\": \"N0.26698087172171481505417513792\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26698087172171481505417513792\",
    \"state\": \"15054175137920.02606360736626301\"
  }
}" (9a175e33)
2017-09-14T22:31:53.8079813+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:53.8168124+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:53.8178134+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:53.8193142+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:53.8228179+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:53.8253190+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:53.8278208+03:00 0HL7OIHK18FCB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:53.8453322+03:00 0HL7OIHK18FCB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175137920.02606360736626301\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:53.8473328+03:00 0HL7OIHK18FCB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:53.8498350+03:00 0HL7OIHK18FCB [INF] Request finished in 52.0798ms 302  (15c52c40)
2017-09-14T22:31:56.8009411+03:00 0HL7OIHK18FCC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.415939609140525861505417516793&state=15054175167930.902337131777718   (e5be5b71)
2017-09-14T22:31:56.8034430+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:56.8039458+03:00 0HL7OIHK18FCC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:56.8049449+03:00 0HL7OIHK18FCC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:56.8054447+03:00 0HL7OIHK18FCC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:56.8059444+03:00 0HL7OIHK18FCC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:56.8064449+03:00 0HL7OIHK18FCC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:56.8064449+03:00 0HL7OIHK18FCC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175167930.902337131777718\",
  \"Nonce\": \"N0.415939609140525861505417516793\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.415939609140525861505417516793\",
    \"state\": \"15054175167930.902337131777718\"
  }
}" (9a175e33)
2017-09-14T22:31:56.8099467+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:56.8304605+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:56.8349636+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:56.8404675+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:56.8419679+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:56.8439692+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:56.8454708+03:00 0HL7OIHK18FCC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:56.8644826+03:00 0HL7OIHK18FCC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175167930.902337131777718\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:56.8649835+03:00 0HL7OIHK18FCC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:56.8654836+03:00 0HL7OIHK18FCC [INF] Request finished in 65.4393ms 302  (15c52c40)
2017-09-14T22:31:59.8036289+03:00 0HL7OIHK18FCD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.240375664506703451505417519795&state=15054175197950.6273515475190885   (e5be5b71)
2017-09-14T22:31:59.8071314+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:31:59.8076311+03:00 0HL7OIHK18FCD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:31:59.8081336+03:00 0HL7OIHK18FCD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:59.8086322+03:00 0HL7OIHK18FCD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:31:59.8086322+03:00 0HL7OIHK18FCD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:59.8091323+03:00 0HL7OIHK18FCD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:59.8096328+03:00 0HL7OIHK18FCD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175197950.6273515475190885\",
  \"Nonce\": \"N0.240375664506703451505417519795\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.240375664506703451505417519795\",
    \"state\": \"15054175197950.6273515475190885\"
  }
}" (9a175e33)
2017-09-14T22:31:59.8126348+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:31:59.8291460+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:59.8326481+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:31:59.8391522+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:31:59.8421546+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:31:59.8446564+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:31:59.8471579+03:00 0HL7OIHK18FCD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:31:59.8616677+03:00 0HL7OIHK18FCD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175197950.6273515475190885\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:31:59.8636686+03:00 0HL7OIHK18FCD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:31:59.8656700+03:00 0HL7OIHK18FCD [INF] Request finished in 62.1946ms 302  (15c52c40)
2017-09-14T22:32:02.8008219+03:00 0HL7OIHK18FCE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.103889479682832241505417522796&state=15054175227960.8097721485503175   (e5be5b71)
2017-09-14T22:32:02.8038251+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:32:02.8063261+03:00 0HL7OIHK18FCE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:32:02.8073288+03:00 0HL7OIHK18FCE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:02.8078273+03:00 0HL7OIHK18FCE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:32:02.8083278+03:00 0HL7OIHK18FCE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:02.8088276+03:00 0HL7OIHK18FCE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:02.8093285+03:00 0HL7OIHK18FCE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175227960.8097721485503175\",
  \"Nonce\": \"N0.103889479682832241505417522796\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.103889479682832241505417522796\",
    \"state\": \"15054175227960.8097721485503175\"
  }
}" (9a175e33)
2017-09-14T22:32:02.8123301+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:32:02.8258412+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:32:02.8318424+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:32:02.8588607+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:32:02.8608620+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:32:02.8628638+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:32:02.8643646+03:00 0HL7OIHK18FCE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:32:02.8823761+03:00 0HL7OIHK18FCE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175227960.8097721485503175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:32:02.8828766+03:00 0HL7OIHK18FCE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:02.8838793+03:00 0HL7OIHK18FCE [INF] Request finished in 83.7533ms 302  (15c52c40)
2017-09-14T22:32:05.1523794+03:00 0HL7OIHK18FCF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDU0MTU3NDAsImV4cCI6MTUwNTQxNjA0MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjkyMTE0NDM4NTY5MTg0MjkxNTA1NDE1NzQwMzk2IiwiaWF0IjoxNTA1NDE1NzQwLCJhdF9oYXNoIjoiTWZWcWJwS25VWi1aNHV5R1RsMjRnQSIsInNpZCI6ImJkMjZmMDkzNTIwM2Y1NDdjOTlhMTZhNTE5NWY2MzI5Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MzI1NzMzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.IOe3r-GY1-PLiiad3wVrhbzcWfLBxTQJ7vLBOnHDx7gdk520GKIYFzm5uK5k4giLd3UyWAKTCWPdBm48t-ef1nBI8IeeOdMwZ7b9KGU9ufu_AZs8_-28d3OzfekAwONJBzhZI4u9Fyk3imX8fVAKrvtAlDxqBVKGX03po3FfbF5yZpDA8Q5u-V6LTKLNT81iiKoVRkQNBkSKhLrWcWbYChEIzqHwqHbOJ7x6oKBz1yaxKkRqGhc7Bgyek4Hl6VhY8P3gWzpV5D43fvJP0K6yM1R9eDLIy73zhYgxpaA0NpFspel9G8bxC0Jet24rXlwGpNwvKQLZ1w6dRQcO_EdR8Q&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-14T22:32:05.1588847+03:00 0HL7OIHK18FCF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:32:05.1603855+03:00 0HL7OIHK18FCF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:32:05.1608872+03:00 0HL7OIHK18FCF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.1613857+03:00 0HL7OIHK18FCF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-14T22:32:05.1618859+03:00 0HL7OIHK18FCF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.1648879+03:00 0HL7OIHK18FCF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:32:05.1653884+03:00 0HL7OIHK18FCF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.1658885+03:00 0HL7OIHK18FCF [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJiYmViMTBmOGZkNjA1YmJlMzgwNTBhOTNhZGNhNmMyIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDU0MTU3NDAsImV4cCI6MTUwNTQxNjA0MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjkyMTE0NDM4NTY5MTg0MjkxNTA1NDE1NzQwMzk2IiwiaWF0IjoxNTA1NDE1NzQwLCJhdF9oYXNoIjoiTWZWcWJwS25VWi1aNHV5R1RsMjRnQSIsInNpZCI6ImJkMjZmMDkzNTIwM2Y1NDdjOTlhMTZhNTE5NWY2MzI5Iiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MzI1NzMzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.IOe3r-GY1-PLiiad3wVrhbzcWfLBxTQJ7vLBOnHDx7gdk520GKIYFzm5uK5k4giLd3UyWAKTCWPdBm48t-ef1nBI8IeeOdMwZ7b9KGU9ufu_AZs8_-28d3OzfekAwONJBzhZI4u9Fyk3imX8fVAKrvtAlDxqBVKGX03po3FfbF5yZpDA8Q5u-V6LTKLNT81iiKoVRkQNBkSKhLrWcWbYChEIzqHwqHbOJ7x6oKBz1yaxKkRqGhc7Bgyek4Hl6VhY8P3gWzpV5D43fvJP0K6yM1R9eDLIy73zhYgxpaA0NpFspel9G8bxC0Jet24rXlwGpNwvKQLZ1w6dRQcO_EdR8Q\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-14T22:32:05.1668896+03:00 0HL7OIHK18FCF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.1673897+03:00 0HL7OIHK18FCF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.1683908+03:00 0HL7OIHK18FCF [INF] Request finished in 16.3125ms 302  (15c52c40)
2017-09-14T22:32:05.1738942+03:00 0HL7OIHK18FCG [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=4c66ff95130fea6f24ff9ba3b5897b24   (e5be5b71)
2017-09-14T22:32:05.1773963+03:00 0HL7OIHK18FCG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:32:05.1778969+03:00 0HL7OIHK18FCG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:32:05.1783970+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.7182627+03:00 0HL7OIHK18FCH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40104961669050291505417525709&state=15054175257090.9211566144446248   (e5be5b71)
2017-09-14T22:32:05.7227655+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:32:05.7232664+03:00 0HL7OIHK18FCH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:32:05.7237665+03:00 0HL7OIHK18FCH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.7242670+03:00 0HL7OIHK18FCH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:32:05.7247672+03:00 0HL7OIHK18FCH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.7252673+03:00 0HL7OIHK18FCH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.7252673+03:00 0HL7OIHK18FCH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054175257090.9211566144446248\",
  \"Nonce\": \"N0.40104961669050291505417525709\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40104961669050291505417525709\",
    \"state\": \"15054175257090.9211566144446248\"
  }
}" (9a175e33)
2017-09-14T22:32:05.7277688+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:32:05.7422786+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:32:05.7437798+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:32:05.7452810+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:32:05.7467821+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:32:05.7492832+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:32:05.7507844+03:00 0HL7OIHK18FCH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:32:05.7717979+03:00 0HL7OIHK18FCH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054175257090.9211566144446248\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:32:05.7727986+03:00 0HL7OIHK18FCH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:05.7742998+03:00 0HL7OIHK18FCH [INF] Request finished in 56.8092ms 302  (15c52c40)
2017-09-14T22:32:06.0149594+03:00 0HL7OIHK18FCG [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["4c66ff95130fea6f24ff9ba3b5897b24"]) - ModelState is Valid (ba7f4ac2)
2017-09-14T22:32:06.0159600+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:06.0159600+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:06.2646245+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-14T22:32:06.2686272+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-14T22:32:06.2721293+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-14T22:32:06.2731300+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:06.2741310+03:00 0HL7OIHK18FCG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:32:07.3199906+03:00 0HL7OIHK18FCG [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-14T22:32:07.5473179+03:00 0HL7OIHK18FCG [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 1955.4588ms (afa2e885)
2017-09-14T22:32:07.5488187+03:00  [INF] Connection id ""0HL7OIHK0487S"" communication error. (7fa6c29c)
Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled
2017-09-14T22:32:07.5493188+03:00 0HL7OIHK18FCG [INF] Request finished in 2375.1012ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-14T22:35:16.1334572+03:00 0HL7OIHK18FCI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T22:35:16.1394612+03:00 0HL7OIHK18FCI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:35:16.1404622+03:00 0HL7OIHK18FCI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:35:16.1409620+03:00 0HL7OIHK18FCI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:16.1409620+03:00 0HL7OIHK18FCI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T22:35:16.1449646+03:00 0HL7OIHK18FCI [INF] Request finished in 36.1809ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T22:35:17.4768475+03:00 0HL7OIHK18FCJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26543494969666371505417717470&state=15054177174700.5086266810752167   (e5be5b71)
2017-09-14T22:35:17.4823510+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:35:17.4853530+03:00 0HL7OIHK18FCJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:35:17.4863532+03:00 0HL7OIHK18FCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:17.4863532+03:00 0HL7OIHK18FCJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:35:17.4868534+03:00 0HL7OIHK18FCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:17.4873539+03:00 0HL7OIHK18FCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:17.4873539+03:00 0HL7OIHK18FCJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054177174700.5086266810752167\",
  \"Nonce\": \"N0.26543494969666371505417717470\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26543494969666371505417717470\",
    \"state\": \"15054177174700.5086266810752167\"
  }
}" (9a175e33)
2017-09-14T22:35:17.4958593+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:35:17.5318832+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:35:17.5358855+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:35:17.5398885+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:35:17.5463930+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:35:17.5488949+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:35:17.5543983+03:00 0HL7OIHK18FCJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:35:17.5774136+03:00 0HL7OIHK18FCJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054177174700.5086266810752167\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:35:17.5779137+03:00 0HL7OIHK18FCJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:17.5814162+03:00 0HL7OIHK18FCJ [INF] Request finished in 103.0426ms 302  (15c52c40)
2017-09-14T22:35:31.0515244+03:00 0HL7OIHK18FCK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T22:35:31.0580281+03:00 0HL7OIHK18FCK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:35:31.0590292+03:00 0HL7OIHK18FCK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:35:31.0595293+03:00 0HL7OIHK18FCK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:35:31.0595293+03:00 0HL7OIHK18FCK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T22:35:31.0600299+03:00 0HL7OIHK18FCK [INF] Request finished in 13.1408ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T22:35:31.0935515+03:00 0HL7OIHK18FCL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T22:35:31.0965539+03:00 0HL7OIHK18FCL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:35:31.0970544+03:00 0HL7OIHK18FCL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T22:35:31.1030584+03:00 0HL7OIHK18FCL [INF] Request finished in 4.5963ms 200 application/json (15c52c40)
2017-09-14T22:36:33.8222187+03:00 0HL7OIHK18FCM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7574893173899891505417793794&state=15054177937940.2918752222039831   (e5be5b71)
2017-09-14T22:36:33.8262221+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:33.8267219+03:00 0HL7OIHK18FCM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:36:33.8267219+03:00 0HL7OIHK18FCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:36:33.8272228+03:00 0HL7OIHK18FCM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-14T22:36:33.8272228+03:00 0HL7OIHK18FCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:36:33.8277225+03:00 0HL7OIHK18FCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:36:33.8282235+03:00 0HL7OIHK18FCM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15054177937940.2918752222039831\",
  \"Nonce\": \"N0.7574893173899891505417793794\",
  \"SessionId\": \"bd26f0935203f547c99a16a5195f6329\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7574893173899891505417793794\",
    \"state\": \"15054177937940.2918752222039831\"
  }
}" (9a175e33)
2017-09-14T22:36:33.8332260+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:36:33.8452347+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:36:33.8492374+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:36:33.8537394+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:36:33.8562412+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:36:33.8577424+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:36:33.8612442+03:00 0HL7OIHK18FCM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:36:33.8747529+03:00 0HL7OIHK18FCM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15054177937940.2918752222039831\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-14T22:36:33.8752538+03:00 0HL7OIHK18FCM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:36:33.8757540+03:00 0HL7OIHK18FCM [INF] Request finished in 54.0381ms 302  (15c52c40)
2017-09-14T22:36:38.6000368+03:00 0HL7OIHK18FCN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T22:36:38.6050397+03:00 0HL7OIHK18FCN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:38.6060400+03:00 0HL7OIHK18FCN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:36:38.6065409+03:00 0HL7OIHK18FCN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:36:38.6065409+03:00 0HL7OIHK18FCN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T22:36:38.6070415+03:00 0HL7OIHK18FCN [INF] Request finished in 7.4392ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T22:36:38.6480686+03:00 0HL7OIHK18FCO [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-14T22:36:38.6505697+03:00 0HL7OIHK18FCO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:38.6505697+03:00 0HL7OIHK18FCO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-14T22:36:38.6530731+03:00 0HL7OIHK18FCO [INF] Request finished in 4.1364ms 200 application/json (15c52c40)
2017-09-14T22:36:38.9667791+03:00 0HL7OIHK18FCP [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-14T22:36:38.9672797+03:00 0HL7OIHK18FCP [INF] Request finished in 0.8889ms 204  (15c52c40)
2017-09-14T22:36:39.1128759+03:00 0HL7OIHK18FCQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-14T22:36:39.1168782+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:39.1173791+03:00 0HL7OIHK18FCQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-14T22:36:39.1173791+03:00 0HL7OIHK18FCQ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-14T22:36:39.1549041+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:36:39.1579057+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:36:39.1599071+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:36:39.1624089+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:36:39.1729157+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:36:39.1804216+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:36:39.1824218+03:00 0HL7OIHK18FCQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-14T22:36:39.1824218+03:00 0HL7OIHK18FCQ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-14T22:36:39.1834232+03:00 0HL7OIHK18FCQ [INF] Request finished in 70.4967ms 200 application/json (15c52c40)
2017-09-14T22:36:39.9994647+03:00 0HL7OIHK18FCR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-14T22:36:40.0024663+03:00 0HL7OIHK18FCR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:40.0024663+03:00 0HL7OIHK18FCR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-14T22:36:40.0039667+03:00 0HL7OIHK18FCR [INF] Request finished in 3.8723ms 200 application/json (15c52c40)
2017-09-14T22:36:40.0765145+03:00 0HL7OIHK18FCS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:36:40.0785163+03:00 0HL7OIHK18FCS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:36:40.0790164+03:00 0HL7OIHK18FCS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:36:40.0915241+03:00 0HL7OIHK18FCS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:36:40.0920254+03:00 0HL7OIHK18FCS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:36:40.0925244+03:00 0HL7OIHK18FCS [INF] Request finished in 16.0844ms 200 application/json (15c52c40)
2017-09-14T22:38:22.9655195+03:00 0HL7OIHK18FCT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:38:22.9685215+03:00 0HL7OIHK18FCT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:38:22.9685215+03:00 0HL7OIHK18FCT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:38:22.9890349+03:00 0HL7OIHK18FCT [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:38:22.9895354+03:00 0HL7OIHK18FCT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:38:22.9900360+03:00 0HL7OIHK18FCT [INF] Request finished in 24.829ms 200 application/json (15c52c40)
2017-09-14T22:38:25.4030511+03:00 0HL7OIHK18FCU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:38:25.4050525+03:00 0HL7OIHK18FCU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:38:25.4055526+03:00 0HL7OIHK18FCU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:38:25.4235653+03:00 0HL7OIHK18FCU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:38:25.4240654+03:00 0HL7OIHK18FCU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:38:25.4250677+03:00 0HL7OIHK18FCU [INF] Request finished in 21.617ms 200 application/json (15c52c40)
2017-09-14T22:38:27.6665503+03:00 0HL7OIHK18FCV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:38:27.6685516+03:00 0HL7OIHK18FCV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:38:27.6690518+03:00 0HL7OIHK18FCV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:38:27.6840621+03:00 0HL7OIHK18FCV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:38:27.6845618+03:00 0HL7OIHK18FCV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:38:27.6850620+03:00 0HL7OIHK18FCV [INF] Request finished in 18.7177ms 200 application/json (15c52c40)
2017-09-14T22:38:28.9350532+03:00 0HL7OIHK18FD0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:38:28.9375547+03:00 0HL7OIHK18FD0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:38:28.9375547+03:00 0HL7OIHK18FD0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:38:28.9670740+03:00 0HL7OIHK18FD0 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:38:28.9675745+03:00 0HL7OIHK18FD0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:38:28.9710771+03:00 0HL7OIHK18FD0 [INF] Request finished in 33.415ms 200 application/json (15c52c40)
2017-09-14T22:39:11.0282589+03:00 0HL7OIHK18FD1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T22:39:11.0312601+03:00 0HL7OIHK18FD1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:11.0317606+03:00 0HL7OIHK18FD1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:39:11.0322604+03:00 0HL7OIHK18FD1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:39:11.0322604+03:00 0HL7OIHK18FD1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T22:39:11.0332618+03:00 0HL7OIHK18FD1 [INF] Request finished in 5.2385ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T22:39:11.2729204+03:00 0HL7OIHK18FD2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:11.2754218+03:00 0HL7OIHK18FD2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:11.2759220+03:00 0HL7OIHK18FD2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:11.4215190+03:00 0HL7OIHK18FD2 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:11.4220183+03:00 0HL7OIHK18FD2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:11.4690499+03:00 0HL7OIHK18FD2 [INF] Request finished in 151.4103ms 200 application/json (15c52c40)
2017-09-14T22:39:15.8741774+03:00 0HL7OIHK18FD3 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:15.8766792+03:00 0HL7OIHK18FD3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:15.8771805+03:00 0HL7OIHK18FD3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:15.9006943+03:00 0HL7OIHK18FD3 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:15.9011949+03:00 0HL7OIHK18FD3 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:15.9021951+03:00 0HL7OIHK18FD3 [INF] Request finished in 27.7418ms 200 application/json (15c52c40)
2017-09-14T22:39:16.8394889+03:00 0HL7OIHK18FD4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:16.8419904+03:00 0HL7OIHK18FD4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:16.8419904+03:00 0HL7OIHK18FD4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:16.8685077+03:00 0HL7OIHK18FD4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:16.8690083+03:00 0HL7OIHK18FD4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:16.8695088+03:00 0HL7OIHK18FD4 [INF] Request finished in 30.4288ms 200 application/json (15c52c40)
2017-09-14T22:39:18.6867171+03:00 0HL7OIHK18FD5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:18.6892190+03:00 0HL7OIHK18FD5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:18.6892190+03:00 0HL7OIHK18FD5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:18.7102329+03:00 0HL7OIHK18FD5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:18.7112347+03:00 0HL7OIHK18FD5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:18.7122338+03:00 0HL7OIHK18FD5 [INF] Request finished in 25.577ms 200 application/json (15c52c40)
2017-09-14T22:39:19.3046266+03:00 0HL7OIHK18FD6 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:19.3071288+03:00 0HL7OIHK18FD6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:19.3071288+03:00 0HL7OIHK18FD6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:19.3221384+03:00 0HL7OIHK18FD6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:19.3226393+03:00 0HL7OIHK18FD6 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:19.3236396+03:00 0HL7OIHK18FD6 [INF] Request finished in 19.0398ms 200 application/json (15c52c40)
2017-09-14T22:39:20.1011541+03:00 0HL7OIHK18FD7 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:20.1041561+03:00 0HL7OIHK18FD7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:20.1041561+03:00 0HL7OIHK18FD7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:20.1216667+03:00 0HL7OIHK18FD7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:20.1216667+03:00 0HL7OIHK18FD7 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:20.1226690+03:00 0HL7OIHK18FD7 [INF] Request finished in 21.6091ms 200 application/json (15c52c40)
2017-09-14T22:39:20.6822787+03:00 0HL7OIHK18FD8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:20.6847837+03:00 0HL7OIHK18FD8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:20.6847837+03:00 0HL7OIHK18FD8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:20.7087960+03:00 0HL7OIHK18FD8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:20.7092970+03:00 0HL7OIHK18FD8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:20.7112983+03:00 0HL7OIHK18FD8 [INF] Request finished in 28.3067ms 200 application/json (15c52c40)
2017-09-14T22:39:21.4054772+03:00 0HL7OIHK18FD9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:21.4079779+03:00 0HL7OIHK18FD9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:21.4079779+03:00 0HL7OIHK18FD9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:21.4264899+03:00 0HL7OIHK18FD9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:21.4269901+03:00 0HL7OIHK18FD9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:21.4279919+03:00 0HL7OIHK18FD9 [INF] Request finished in 22.3505ms 200 application/json (15c52c40)
2017-09-14T22:39:24.7882463+03:00 0HL7OIHK18FDA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:24.7902472+03:00 0HL7OIHK18FDA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:24.7902472+03:00 0HL7OIHK18FDA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:24.8072585+03:00 0HL7OIHK18FDA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:24.8077590+03:00 0HL7OIHK18FDA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:24.8087597+03:00 0HL7OIHK18FDA [INF] Request finished in 20.7344ms 200 application/json (15c52c40)
2017-09-14T22:39:25.6079711+03:00 0HL7OIHK18FDB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:39:25.6099744+03:00 0HL7OIHK18FDB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:39:25.6099744+03:00 0HL7OIHK18FDB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:39:25.6224829+03:00 0HL7OIHK18FDB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:39:25.6229826+03:00 0HL7OIHK18FDB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:39:25.6244838+03:00 0HL7OIHK18FDB [INF] Request finished in 16.1957ms 200 application/json (15c52c40)
2017-09-14T22:49:45.2880993+03:00 0HL7OIHK18FDC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-14T22:49:45.4792262+03:00 0HL7OIHK18FDD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T22:50:03.1307422+03:00 0HL7OIHK18FDD [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:50:03.1307422+03:00 0HL7OIHK18FDD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T22:50:03.1307422+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T22:50:03.2869790+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (153ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:50:03.2879797+03:00 0HL7OIHK18FDD [INF] Executed DbCommand (140ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-14T22:50:03.2879797+03:00 0HL7OIHK18FDD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-14T22:50:03.2889795+03:00 0HL7OIHK18FDD [INF] Request finished in 17809.9924ms 200 application/json (15c52c40)
2017-09-14T22:50:03.2939836+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-14T22:50:03.2974861+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-14T22:50:03.3014888+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-14T22:50:03.3054907+03:00 0HL7OIHK18FDC [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-14T22:50:03.3069918+03:00 0HL7OIHK18FDC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-14T22:50:03.3074916+03:00 0HL7OIHK18FDC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-14T22:50:03.3074916+03:00 0HL7OIHK18FDC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-14T22:50:03.3084926+03:00 0HL7OIHK18FDC [INF] Request finished in 18020.2098ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-14T23:55:54.3594979+03:00 0HL7OIHK18FDE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-14T23:56:00.7958449+03:00 0HL7OIHK18FDE [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-14T23:56:00.7958449+03:00 0HL7OIHK18FDE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-14T23:56:00.7968451+03:00 0HL7OIHK18FDE [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"35b47ded244eb09787b8442466c75d77bdf13e416f1d6b1d7aa39623e34517bd\"
}" (c9724191)
2017-09-14T23:56:00.7968451+03:00 0HL7OIHK18FDE [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-14T23:56:00.7978458+03:00 0HL7OIHK18FDE [INF] Request finished in 6438.7091ms 200 application/json (15c52c40)
