2017-09-10T15:19:51.8289063+03:00 0HL7MQJOHD5M3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:20:06.6058962+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:20:07.1900085+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (558ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:20:07.2005165+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:20:07.2060195+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:20:07.2135239+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:20:07.2200292+03:00 0HL7MQJOHD5M3 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:20:07.2210303+03:00 0HL7MQJOHD5M3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:20:07.2220309+03:00 0HL7MQJOHD5M3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:07.2220309+03:00 0HL7MQJOHD5M3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:20:07.2255327+03:00 0HL7MQJOHD5M3 [INF] Request finished in 15497.0822ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:20:21.2868743+03:00 0HL7MQJOHD5M4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:20:21.2958806+03:00 0HL7MQJOHD5M4 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:20:21.2983821+03:00 0HL7MQJOHD5M4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:20:21.2993824+03:00 0HL7MQJOHD5M4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:21.2993824+03:00 0HL7MQJOHD5M4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:20:21.3088889+03:00 0HL7MQJOHD5M4 [INF] Request finished in 16.4262ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:20:24.2373057+03:00 0HL7MQJOHD5M5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDQ5ODE2NjUsImV4cCI6MTUwNDk4MTk2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjE5MTA1MTkzMTYwNTIwNTk1MTUwNDk4MTY2NDg3OCIsImlhdCI6MTUwNDk4MTY2NSwiYXRfaGFzaCI6IlhtOXgzeWZyMlhFTzhxY1FTNEZuRFEiLCJzaWQiOiJhZjI0OTdmYTAyZTNmZmIxNzg1OTQzZTI4YWNiNGFkNyIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNDgxNzYxMSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.K2lf9h4lg5_Sm5a2DgUas8hmaZm7r3dtPmD_rQNIshMf2S5ivkyc-mtHNbtSEpAv-qGLsy4Re8DB1iIxgGmHi_SFmutU-501iCjv_U_OgZgD5O94L8NmnFGI7BKnhxpF31q2Pd_OWhY2EMwiUk2nrXktbG1tFea5MfLNzA0dT20NosclhgfLbFUHs7x8QoRMacfxp9nhTJG1myasSwK6-05VrnMWDE37Q28GQrjcgVD72XbJVdVUkMMJV9FV_A6u121pzD0jY9gIJpRv8DsJKON3F2iyinefEUptiagYpFvogeELiBrerSs7tPCVGLOT6wpCYsXvxTEexO9vIKXi7A&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-10T15:20:24.2478157+03:00 0HL7MQJOHD5M5 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:20:24.2483134+03:00 0HL7MQJOHD5M5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:20:24.2488140+03:00 0HL7MQJOHD5M5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.2503144+03:00 0HL7MQJOHD5M5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-10T15:20:24.2523184+03:00 0HL7MQJOHD5M5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.2989197+03:00 0HL7MQJOHD5M5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:20:24.2994203+03:00 0HL7MQJOHD5M5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.2999204+03:00 0HL7MQJOHD5M5 [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDQ5ODE2NjUsImV4cCI6MTUwNDk4MTk2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjE5MTA1MTkzMTYwNTIwNTk1MTUwNDk4MTY2NDg3OCIsImlhdCI6MTUwNDk4MTY2NSwiYXRfaGFzaCI6IlhtOXgzeWZyMlhFTzhxY1FTNEZuRFEiLCJzaWQiOiJhZjI0OTdmYTAyZTNmZmIxNzg1OTQzZTI4YWNiNGFkNyIsInN1YiI6IjNjN2NjYTY0LTAwY2QtNDljYy05NDA3LTMxMjhlYWU4MzA5OCIsImF1dGhfdGltZSI6MTUwNDgxNzYxMSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.K2lf9h4lg5_Sm5a2DgUas8hmaZm7r3dtPmD_rQNIshMf2S5ivkyc-mtHNbtSEpAv-qGLsy4Re8DB1iIxgGmHi_SFmutU-501iCjv_U_OgZgD5O94L8NmnFGI7BKnhxpF31q2Pd_OWhY2EMwiUk2nrXktbG1tFea5MfLNzA0dT20NosclhgfLbFUHs7x8QoRMacfxp9nhTJG1myasSwK6-05VrnMWDE37Q28GQrjcgVD72XbJVdVUkMMJV9FV_A6u121pzD0jY9gIJpRv8DsJKON3F2iyinefEUptiagYpFvogeELiBrerSs7tPCVGLOT6wpCYsXvxTEexO9vIKXi7A\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-10T15:20:24.3159306+03:00 0HL7MQJOHD5M5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3164315+03:00 0HL7MQJOHD5M5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3169317+03:00 0HL7MQJOHD5M5 [INF] Request finished in 82.8604ms 302  (15c52c40)
2017-09-10T15:20:24.3214348+03:00 0HL7MQJOHD5M6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=03a9c9782cedf303e75446c9b7a8fec9   (e5be5b71)
2017-09-10T15:20:24.3239367+03:00 0HL7MQJOHD5M6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:20:24.3249381+03:00 0HL7MQJOHD5M6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:20:24.3254371+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3294397+03:00 0HL7MQJOHD5M6 [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["03a9c9782cedf303e75446c9b7a8fec9"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T15:20:24.3299407+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3304408+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3314415+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-10T15:20:24.3319432+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-10T15:20:24.3324417+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-10T15:20:24.3339433+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3339433+03:00 0HL7MQJOHD5M6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:20:24.3614613+03:00 0HL7MQJOHD5M6 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-10T15:20:24.3739698+03:00 0HL7MQJOHD5M6 [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 38.382ms (afa2e885)
2017-09-10T15:20:24.3759712+03:00 0HL7MQJOHD5M6 [INF] Request finished in 54.2477ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T15:20:24.4064916+03:00 0HL7MQJOHD5M7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.min.css?v=G7OG5flN0NdPJ13sNYOv3Hwkc-gAxRfBTYgtu6Sl0yk   (e5be5b71)
2017-09-10T15:20:24.4149978+03:00 0HL7MQJOHD5M8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.min.js?v=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU   (e5be5b71)
2017-09-10T15:20:24.4480197+03:00 0HL7MQJOHD5M7 [INF] Sending file. Request path: '"/css/site.min.css"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\css\site.min.css"' (27b0a520)
2017-09-10T15:20:24.4485194+03:00 0HL7MQJOHD5M8 [INF] Sending file. Request path: '"/js/site.min.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.min.js"' (27b0a520)
2017-09-10T15:20:24.4795399+03:00 0HL7MQJOHD5M8 [INF] Request finished in 73.0025ms 200 application/javascript (15c52c40)
2017-09-10T15:20:24.4800409+03:00 0HL7MQJOHD5M7 [INF] Request finished in 82.3547ms 200 text/css (15c52c40)
2017-09-10T15:20:24.8217907+03:00 0HL7MQJOHD5M9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=af2497fa02e3ffb1785943e28acb4ad7&logoutId=03a9c9782cedf303e75446c9b7a8fec9   (e5be5b71)
2017-09-10T15:20:24.8247947+03:00 0HL7MQJOHD5M9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:20:24.8252932+03:00 0HL7MQJOHD5M9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-10T15:20:24.8668217+03:00 0HL7MQJOHD5M9 [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-10T15:20:24.8788289+03:00 0HL7MQJOHD5M9 [INF] Request finished in 58.9688ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:20:25.1465064+03:00 0HL7MQJOHD5MA [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   (e5be5b71)
2017-09-10T15:20:25.1480068+03:00 0HL7MQJOHD5MA [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\favicon.ico"' (27b0a520)
2017-09-10T15:20:25.1675199+03:00 0HL7MQJOHD5MA [INF] Request finished in 20.3728ms 200 image/x-icon (15c52c40)
2017-09-10T15:21:04.0951532+03:00 0HL7MQJOHD5MB [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-10T15:21:04.1616963+03:00 0HL7MQJOHD5MB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:04.1641970+03:00 0HL7MQJOHD5MB [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-10T15:21:05.2795381+03:00 0HL7MQJOHD5MB [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-10T15:21:05.9131550+03:00 0HL7MQJOHD5MB [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 1753.1785ms (afa2e885)
2017-09-10T15:21:05.9141552+03:00 0HL7MQJOHD5MB [INF] Request finished in 1824.7754ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T15:21:11.9331635+03:00 0HL7MQJOHD5MC [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-10T15:21:11.9386681+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:11.9556786+03:00 0HL7MQJOHD5MC [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T15:21:12.3779579+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-10T15:21:12.6141143+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:21:12.6166157+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:21:12.6196177+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:21:12.6236208+03:00 0HL7MQJOHD5MC [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:21:12.6736539+03:00 0HL7MQJOHD5MC [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T15:21:12.6746550+03:00 0HL7MQJOHD5MC [INF] User logged in. (fdce0db4)
2017-09-10T15:21:12.6796575+03:00 0HL7MQJOHD5MC [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-10T15:21:12.6806597+03:00 0HL7MQJOHD5MC [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 744.9482ms (afa2e885)
2017-09-10T15:21:12.6816588+03:00 0HL7MQJOHD5MC [INF] Request finished in 748.4211ms 302  (15c52c40)
2017-09-10T15:21:12.6846612+03:00 0HL7MQJOHD5MD [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-10T15:21:12.6906652+03:00 0HL7MQJOHD5MD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:12.6916658+03:00 0HL7MQJOHD5MD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:12.6926673+03:00 0HL7MQJOHD5MD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:12.6956681+03:00 0HL7MQJOHD5MD [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-10T15:21:12.8417649+03:00 0HL7MQJOHD5MD [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-10T15:21:12.8617789+03:00 0HL7MQJOHD5MD [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 166.6942ms (afa2e885)
2017-09-10T15:21:12.8632801+03:00 0HL7MQJOHD5MD [INF] Request finished in 177.9746ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T15:21:12.9558420+03:00 0HL7MQJOHD5ME [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-10T15:21:12.9588428+03:00 0HL7MQJOHD5ME [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:12.9593433+03:00 0HL7MQJOHD5ME [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:12.9598435+03:00 0HL7MQJOHD5ME [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:12.9603440+03:00 0HL7MQJOHD5ME [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-10T15:21:13.0103767+03:00 0HL7MQJOHD5MF [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-10T15:21:13.0218861+03:00 0HL7MQJOHD5MG [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-10T15:21:13.0228848+03:00 0HL7MQJOHD5MH [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-10T15:21:13.0253863+03:00 0HL7MQJOHD5MF [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:13.1029382+03:00 0HL7MQJOHD5MF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:13.1034384+03:00 0HL7MQJOHD5MH [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:13.1309568+03:00 0HL7MQJOHD5MF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:13.1314569+03:00 0HL7MQJOHD5MG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:13.1314569+03:00 0HL7MQJOHD5MH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:13.1319571+03:00 0HL7MQJOHD5MG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:13.1324576+03:00 0HL7MQJOHD5MH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:13.1329585+03:00 0HL7MQJOHD5MG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:13.1329585+03:00 0HL7MQJOHD5MH [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-10T15:21:13.1684815+03:00 0HL7MQJOHD5MF [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-10T15:21:13.1699823+03:00 0HL7MQJOHD5MG [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-10T15:21:13.2080078+03:00 0HL7MQJOHD5ME [INF] Request finished in 257.4277ms 200 image/svg+xml (15c52c40)
2017-09-10T15:21:13.2245190+03:00 0HL7MQJOHD5MH [INF] Request finished in 216.8817ms 200 image/svg+xml (15c52c40)
2017-09-10T15:21:13.2460330+03:00 0HL7MQJOHD5MF [INF] Request finished in 237.3402ms 200 image/svg+xml (15c52c40)
2017-09-10T15:21:13.2465335+03:00 0HL7MQJOHD5MG [INF] Request finished in 237.8198ms 200 image/svg+xml (15c52c40)
2017-09-10T15:21:21.1838885+03:00 0HL7MQJOHD5MI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:21:21.1878912+03:00 0HL7MQJOHD5MI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:21.1888918+03:00 0HL7MQJOHD5MI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:21.1893927+03:00 0HL7MQJOHD5MI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:21.1893927+03:00 0HL7MQJOHD5MI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:21:21.1933946+03:00 0HL7MQJOHD5MI [INF] Request finished in 8.1004ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:21:24.1366955+03:00 0HL7MQJOHD5MJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6256003801465281505046084123&state=15050460841230.6037823306188232   (e5be5b71)
2017-09-10T15:21:24.1406954+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:24.1411955+03:00 0HL7MQJOHD5MJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:24.1416957+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:24.1421966+03:00 0HL7MQJOHD5MJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:21:24.1456999+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:24.1461992+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:24.1466998+03:00 0HL7MQJOHD5MJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050460841230.6037823306188232\",
  \"Nonce\": \"N0.6256003801465281505046084123\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6256003801465281505046084123\",
    \"state\": \"15050460841230.6037823306188232\"
  }
}" (9a175e33)
2017-09-10T15:21:24.1522024+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:21:24.1672124+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:21:24.1697146+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:21:24.1717156+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:21:24.1752189+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:21:24.1777195+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:21:24.1817222+03:00 0HL7MQJOHD5MJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:21:24.2047402+03:00 0HL7MQJOHD5MJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050460841230.6037823306188232\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:21:24.2057393+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:24.2932967+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:24.3223155+03:00 0HL7MQJOHD5MJ [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T15:21:24.3228164+03:00 0HL7MQJOHD5MJ [INF] Request finished in 191.4415ms 302  (15c52c40)
2017-09-10T15:21:26.3881836+03:00 0HL7MQJOHD5MK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:21:26.3901849+03:00 0HL7MQJOHD5MK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:26.3906854+03:00 0HL7MQJOHD5MK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:21:26.3911860+03:00 0HL7MQJOHD5MK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:21:26.3911860+03:00 0HL7MQJOHD5MK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:21:26.3921870+03:00 0HL7MQJOHD5MK [INF] Request finished in 4.4234ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:21:26.5427866+03:00 0HL7MQJOHD5ML [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:21:26.5477903+03:00 0HL7MQJOHD5ML [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:26.5477903+03:00 0HL7MQJOHD5ML [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:21:26.5572964+03:00 0HL7MQJOHD5ML [INF] Request finished in 12.8747ms 200 application/json (15c52c40)
2017-09-10T15:21:26.7189028+03:00 0HL7MQJOHD5MM [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:21:26.7289094+03:00 0HL7MQJOHD5MM [INF] Request finished in 39.0167ms 204  (15c52c40)
2017-09-10T15:21:26.7804438+03:00 0HL7MQJOHD5MN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:21:26.7859472+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:21:26.7859472+03:00 0HL7MQJOHD5MN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:21:26.7859472+03:00 0HL7MQJOHD5MN [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:21:26.8304769+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:21:26.8474886+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:21:26.8509907+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:21:26.8634984+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:21:26.8665020+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:21:26.8955196+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:21:26.9120307+03:00 0HL7MQJOHD5MN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:21:26.9125313+03:00 0HL7MQJOHD5MN [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:21:26.9160330+03:00 0HL7MQJOHD5MN [INF] Request finished in 135.9946ms 200 application/json (15c52c40)
2017-09-10T15:22:45.0256713+03:00 0HL7MQJOHD5MO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:22:45.0316749+03:00 0HL7MQJOHD5MO [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:22:45.0321754+03:00 0HL7MQJOHD5MO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:22:45.0326763+03:00 0HL7MQJOHD5MO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:45.0331765+03:00 0HL7MQJOHD5MO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:22:45.0366786+03:00 0HL7MQJOHD5MO [INF] Request finished in 10.6113ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:22:52.4234906+03:00 0HL7MQJOHD5MP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.108233779742138881505046172411&state=15050461724110.8289114340780281   (e5be5b71)
2017-09-10T15:22:52.4269927+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:22:52.4274932+03:00 0HL7MQJOHD5MP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:22:52.4279942+03:00 0HL7MQJOHD5MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:52.4284943+03:00 0HL7MQJOHD5MP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:22:52.4289944+03:00 0HL7MQJOHD5MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:52.4299947+03:00 0HL7MQJOHD5MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:52.4299947+03:00 0HL7MQJOHD5MP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050461724110.8289114340780281\",
  \"Nonce\": \"N0.108233779742138881505046172411\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.108233779742138881505046172411\",
    \"state\": \"15050461724110.8289114340780281\"
  }
}" (9a175e33)
2017-09-10T15:22:52.4364992+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:22:52.4475061+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:22:52.4495078+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:22:52.4515088+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:22:52.4555118+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:22:52.4580133+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:22:52.4620159+03:00 0HL7MQJOHD5MP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:22:52.4870321+03:00 0HL7MQJOHD5MP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050461724110.8289114340780281\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:22:52.4880331+03:00 0HL7MQJOHD5MP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:52.4885337+03:00 0HL7MQJOHD5MP [INF] Request finished in 67.7928ms 302  (15c52c40)
2017-09-10T15:22:54.2146773+03:00 0HL7MQJOHD5MQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:22:54.2176789+03:00 0HL7MQJOHD5MQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:22:54.2181791+03:00 0HL7MQJOHD5MQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:22:54.2186800+03:00 0HL7MQJOHD5MQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:22:54.2186800+03:00 0HL7MQJOHD5MQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:22:54.2196799+03:00 0HL7MQJOHD5MQ [INF] Request finished in 5.0419ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:22:54.2902272+03:00 0HL7MQJOHD5MR [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:22:54.2992335+03:00 0HL7MQJOHD5MR [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:22:54.2997337+03:00 0HL7MQJOHD5MR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:22:54.4303200+03:00 0HL7MQJOHD5MR [INF] Request finished in 10.4743ms 200 application/json (15c52c40)
2017-09-10T15:22:54.7150091+03:00 0HL7MQJOHD5MS [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:22:54.7455280+03:00 0HL7MQJOHD5MS [INF] Request finished in 119.5359ms 204  (15c52c40)
2017-09-10T15:22:54.7660425+03:00 0HL7MQJOHD5MT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:22:54.7695446+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:22:54.7700448+03:00 0HL7MQJOHD5MT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:22:54.7700448+03:00 0HL7MQJOHD5MT [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:22:54.8265820+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:22:54.8320855+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:22:54.8340872+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:22:54.8415924+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:22:54.8520995+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:22:54.8701111+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:22:54.8736136+03:00 0HL7MQJOHD5MT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:22:54.8741137+03:00 0HL7MQJOHD5MT [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:22:54.8756145+03:00 0HL7MQJOHD5MT [INF] Request finished in 128.5533ms 200 application/json (15c52c40)
2017-09-10T15:23:52.7944041+03:00 0HL7MQJOHD5MU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.104119714279000461505046232788&state=15050462327880.3624079907448998   (e5be5b71)
2017-09-10T15:23:52.7979062+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:23:52.7989065+03:00 0HL7MQJOHD5MU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:23:52.7994070+03:00 0HL7MQJOHD5MU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:23:52.7994070+03:00 0HL7MQJOHD5MU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:23:52.7999080+03:00 0HL7MQJOHD5MU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:23:52.8009090+03:00 0HL7MQJOHD5MU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:23:52.8014095+03:00 0HL7MQJOHD5MU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050462327880.3624079907448998\",
  \"Nonce\": \"N0.104119714279000461505046232788\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.104119714279000461505046232788\",
    \"state\": \"15050462327880.3624079907448998\"
  }
}" (9a175e33)
2017-09-10T15:23:52.8049125+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:23:52.8179195+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:23:52.8209227+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:23:52.8234241+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:23:52.8254258+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:23:52.8274268+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:23:52.8329318+03:00 0HL7MQJOHD5MU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:23:52.8484399+03:00 0HL7MQJOHD5MU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050462327880.3624079907448998\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:23:52.8494406+03:00 0HL7MQJOHD5MU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:23:52.8504424+03:00 0HL7MQJOHD5MU [INF] Request finished in 56.2858ms 302  (15c52c40)
2017-09-10T15:23:58.5374233+03:00 0HL7MQJOHD5MV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:23:58.5404256+03:00 0HL7MQJOHD5MV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:23:58.5409270+03:00 0HL7MQJOHD5MV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:23:58.5409270+03:00 0HL7MQJOHD5MV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:23:58.5414259+03:00 0HL7MQJOHD5MV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:23:58.5419268+03:00 0HL7MQJOHD5MV [INF] Request finished in 5.0171ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:23:58.6049686+03:00 0HL7MQJOHD5N0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:23:58.6094714+03:00 0HL7MQJOHD5N0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:23:58.6094714+03:00 0HL7MQJOHD5N0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:23:58.6294846+03:00 0HL7MQJOHD5N0 [INF] Request finished in 6.0312ms 200 application/json (15c52c40)
2017-09-10T15:23:58.8596375+03:00 0HL7MQJOHD5N1 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:23:58.8826527+03:00 0HL7MQJOHD5N1 [INF] Request finished in 38.5225ms 204  (15c52c40)
2017-09-10T15:23:58.9612045+03:00 0HL7MQJOHD5N2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:23:58.9737134+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:23:58.9742131+03:00 0HL7MQJOHD5N2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:23:58.9742131+03:00 0HL7MQJOHD5N2 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:23:59.0067349+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:23:59.0192426+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:23:59.0222450+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:23:59.0282493+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:23:59.0677753+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:23:59.0997969+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:23:59.1218103+03:00 0HL7MQJOHD5N2 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:23:59.1218103+03:00 0HL7MQJOHD5N2 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:23:59.1303173+03:00 0HL7MQJOHD5N2 [INF] Request finished in 188.2457ms 200 application/json (15c52c40)
2017-09-10T15:24:37.1622205+03:00 0HL7MQJOHD5N3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-10T15:24:37.1662232+03:00 0HL7MQJOHD5N3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:24:37.1662232+03:00 0HL7MQJOHD5N3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-10T15:24:37.1682249+03:00 0HL7MQJOHD5N3 [INF] Request finished in 5.715ms 200 application/json (15c52c40)
2017-09-10T15:24:37.3800121+03:00 0HL7MQJOHD5N4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T15:24:37.3830153+03:00 0HL7MQJOHD5N4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:24:37.3835142+03:00 0HL7MQJOHD5N4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T15:24:37.3995248+03:00 0HL7MQJOHD5N4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:24:37.4000253+03:00 0HL7MQJOHD5N4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T15:24:37.4005259+03:00 0HL7MQJOHD5N4 [INF] Request finished in 20.5153ms 200 application/json (15c52c40)
2017-09-10T15:26:50.3844415+03:00 0HL7MQJOHD5N5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59930731405427571505046410369&state=15050464103690.4303499663070889   (e5be5b71)
2017-09-10T15:26:50.4014543+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:26:50.4049556+03:00 0HL7MQJOHD5N5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:26:50.4064592+03:00 0HL7MQJOHD5N5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:26:50.4069585+03:00 0HL7MQJOHD5N5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:26:50.4079576+03:00 0HL7MQJOHD5N5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:26:50.4104587+03:00 0HL7MQJOHD5N5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:26:50.4104587+03:00 0HL7MQJOHD5N5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050464103690.4303499663070889\",
  \"Nonce\": \"N0.59930731405427571505046410369\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59930731405427571505046410369\",
    \"state\": \"15050464103690.4303499663070889\"
  }
}" (9a175e33)
2017-09-10T15:26:50.4164631+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:26:50.4419798+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:26:50.4439811+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:26:50.4459828+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:26:50.4489840+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:26:50.4514859+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:26:50.4529871+03:00 0HL7MQJOHD5N5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:26:50.4755018+03:00 0HL7MQJOHD5N5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050464103690.4303499663070889\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:26:50.4765032+03:00 0HL7MQJOHD5N5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:26:50.4770034+03:00 0HL7MQJOHD5N5 [INF] Request finished in 94.5217ms 302  (15c52c40)
2017-09-10T15:26:55.9648890+03:00 0HL7MQJOHD5N6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:26:55.9673909+03:00 0HL7MQJOHD5N6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:26:55.9678906+03:00 0HL7MQJOHD5N6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:26:55.9678906+03:00 0HL7MQJOHD5N6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:26:55.9683911+03:00 0HL7MQJOHD5N6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:26:55.9688917+03:00 0HL7MQJOHD5N6 [INF] Request finished in 3.9592ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:26:56.0464432+03:00 0HL7MQJOHD5N7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:26:56.0559497+03:00 0HL7MQJOHD5N7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:26:56.0559497+03:00 0HL7MQJOHD5N7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:26:56.0574509+03:00 0HL7MQJOHD5N7 [INF] Request finished in 11.6432ms 200 application/json (15c52c40)
2017-09-10T15:26:56.2450746+03:00 0HL7MQJOHD5N8 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:26:56.3166222+03:00 0HL7MQJOHD5N8 [INF] Request finished in 52.0518ms 204  (15c52c40)
2017-09-10T15:26:56.3551475+03:00 0HL7MQJOHD5N9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:26:56.3636529+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:26:56.3636529+03:00 0HL7MQJOHD5N9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:26:56.3636529+03:00 0HL7MQJOHD5N9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:26:56.3891700+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:26:56.4066814+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:26:56.4116847+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:26:56.4417046+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:26:56.4862343+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:26:56.5212575+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:26:56.5317639+03:00 0HL7MQJOHD5N9 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:26:56.5322644+03:00 0HL7MQJOHD5N9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:26:56.5662873+03:00 0HL7MQJOHD5N9 [INF] Request finished in 216.0673ms 200 application/json (15c52c40)
2017-09-10T15:27:53.4700323+03:00 0HL7MQJOHD5NA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94198295003345891505046473442&state=15050464734420.9313477719156964   (e5be5b71)
2017-09-10T15:27:53.4780380+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:27:53.4785385+03:00 0HL7MQJOHD5NA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:27:53.4790382+03:00 0HL7MQJOHD5NA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:27:53.4795388+03:00 0HL7MQJOHD5NA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:27:53.4800393+03:00 0HL7MQJOHD5NA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:27:53.4805394+03:00 0HL7MQJOHD5NA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:27:53.4805394+03:00 0HL7MQJOHD5NA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050464734420.9313477719156964\",
  \"Nonce\": \"N0.94198295003345891505046473442\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94198295003345891505046473442\",
    \"state\": \"15050464734420.9313477719156964\"
  }
}" (9a175e33)
2017-09-10T15:27:53.4850418+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:27:53.5020535+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:27:53.5045553+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:27:53.5065563+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:27:53.5085576+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:27:53.5125602+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:27:53.5150621+03:00 0HL7MQJOHD5NA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:27:53.5400787+03:00 0HL7MQJOHD5NA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050464734420.9313477719156964\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:27:53.5405792+03:00 0HL7MQJOHD5NA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:27:53.5415795+03:00 0HL7MQJOHD5NA [INF] Request finished in 85.2833ms 302  (15c52c40)
2017-09-10T15:28:02.2296399+03:00 0HL7MQJOHD5NB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:28:02.2336422+03:00 0HL7MQJOHD5NB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:02.2341427+03:00 0HL7MQJOHD5NB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:28:02.2346432+03:00 0HL7MQJOHD5NB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:02.2351438+03:00 0HL7MQJOHD5NB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:28:02.2356435+03:00 0HL7MQJOHD5NB [INF] Request finished in 7.3926ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:28:02.5323402+03:00 0HL7MQJOHD5NC [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:28:02.5523535+03:00 0HL7MQJOHD5NC [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:02.5523535+03:00 0HL7MQJOHD5NC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:28:02.5548549+03:00 0HL7MQJOHD5NC [INF] Request finished in 22.2782ms 200 application/json (15c52c40)
2017-09-10T15:28:03.0336959+03:00 0HL7MQJOHD5ND [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:28:03.0692189+03:00 0HL7MQJOHD5ND [INF] Request finished in 173.0953ms 204  (15c52c40)
2017-09-10T15:28:03.1332613+03:00 0HL7MQJOHD5NE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:28:03.1372631+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:03.1372631+03:00 0HL7MQJOHD5NE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:28:03.1377641+03:00 0HL7MQJOHD5NE [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:28:03.1682837+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:28:03.1722867+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:03.2018065+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:28:03.2168164+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:28:03.2193179+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:28:03.2218193+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:03.2253219+03:00 0HL7MQJOHD5NE [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:28:03.2258224+03:00 0HL7MQJOHD5NE [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:28:03.2308261+03:00 0HL7MQJOHD5NE [INF] Request finished in 156.7191ms 200 application/json (15c52c40)
2017-09-10T15:28:45.6939155+03:00 0HL7MQJOHD5NF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55429295984444481505046525686&state=15050465256860.47186475743565315   (e5be5b71)
2017-09-10T15:28:45.7074238+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:45.7084249+03:00 0HL7MQJOHD5NF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:28:45.7089258+03:00 0HL7MQJOHD5NF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:45.7094259+03:00 0HL7MQJOHD5NF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T15:28:45.7104270+03:00 0HL7MQJOHD5NF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:45.7129300+03:00 0HL7MQJOHD5NF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:45.7129300+03:00 0HL7MQJOHD5NF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050465256860.47186475743565315\",
  \"Nonce\": \"N0.55429295984444481505046525686\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55429295984444481505046525686\",
    \"state\": \"15050465256860.47186475743565315\"
  }
}" (9a175e33)
2017-09-10T15:28:45.7199323+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:28:45.7349426+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:45.7429479+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:28:45.7504527+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:28:45.7544554+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:28:45.7574574+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:45.7589585+03:00 0HL7MQJOHD5NF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:28:45.7809723+03:00 0HL7MQJOHD5NF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050465256860.47186475743565315\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T15:28:45.7819738+03:00 0HL7MQJOHD5NF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:45.7834746+03:00 0HL7MQJOHD5NF [INF] Request finished in 89.655ms 302  (15c52c40)
2017-09-10T15:28:50.0107742+03:00 0HL7MQJOHD5NG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T15:28:50.0142768+03:00 0HL7MQJOHD5NG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:50.0147773+03:00 0HL7MQJOHD5NG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T15:28:50.0232827+03:00 0HL7MQJOHD5NG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T15:28:50.0232827+03:00 0HL7MQJOHD5NG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T15:28:50.0518014+03:00 0HL7MQJOHD5NG [INF] Request finished in 13.8801ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T15:28:50.1698800+03:00 0HL7MQJOHD5NH [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T15:28:50.2099065+03:00 0HL7MQJOHD5NH [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:50.2099065+03:00 0HL7MQJOHD5NH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T15:28:50.2894590+03:00 0HL7MQJOHD5NH [INF] Request finished in 124.3577ms 200 application/json (15c52c40)
2017-09-10T15:28:50.3520006+03:00 0HL7MQJOHD5NI [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T15:28:50.3565038+03:00 0HL7MQJOHD5NI [INF] Request finished in 10.8193ms 204  (15c52c40)
2017-09-10T15:28:50.4435615+03:00 0HL7MQJOHD5NJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T15:28:50.4505657+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:50.4505657+03:00 0HL7MQJOHD5NJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T15:28:50.4505657+03:00 0HL7MQJOHD5NJ [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T15:28:50.4805860+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:28:50.4880912+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:50.5251157+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T15:28:50.5291195+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T15:28:50.5341213+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T15:28:50.5591386+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T15:28:50.5956618+03:00 0HL7MQJOHD5NJ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T15:28:50.5956618+03:00 0HL7MQJOHD5NJ [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T15:28:50.6757148+03:00 0HL7MQJOHD5NJ [INF] Request finished in 198.9953ms 200 application/json (15c52c40)
2017-09-10T15:28:51.7304146+03:00 0HL7MQJOHD5NK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T15:28:51.7334150+03:00 0HL7MQJOHD5NK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T15:28:51.7334150+03:00 0HL7MQJOHD5NK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T15:28:51.7564298+03:00 0HL7MQJOHD5NK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T15:28:51.7569304+03:00 0HL7MQJOHD5NK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T15:28:51.7574313+03:00 0HL7MQJOHD5NK [INF] Request finished in 29.5592ms 200 application/json (15c52c40)
2017-09-10T16:01:58.0257968+03:00 0HL7MQJOHD5NL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.490488531517495161505048518004&state=15050485180040.275816532623806   (e5be5b71)
2017-09-10T16:02:04.6534243+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:04.7594938+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (96ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:04.7700010+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:02:04.7740040+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:02:04.7805077+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:02:04.7870126+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:02:04.7880129+03:00 0HL7MQJOHD5NL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:02:04.7895141+03:00 0HL7MQJOHD5NL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:02:04.7910149+03:00 0HL7MQJOHD5NL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:02:04.7920152+03:00 0HL7MQJOHD5NL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:02:04.7930162+03:00 0HL7MQJOHD5NL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:02:04.7940173+03:00 0HL7MQJOHD5NL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050485180040.275816532623806\",
  \"Nonce\": \"N0.490488531517495161505048518004\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.490488531517495161505048518004\",
    \"state\": \"15050485180040.275816532623806\"
  }
}" (9a175e33)
2017-09-10T16:02:04.8085267+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:02:04.8110285+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:02:04.8125289+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:02:04.8145303+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:02:04.8175322+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:02:04.8225360+03:00 0HL7MQJOHD5NL [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:02:04.8455504+03:00 0HL7MQJOHD5NL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050485180040.275816532623806\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:02:04.8465511+03:00 0HL7MQJOHD5NL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:02:04.8475521+03:00 0HL7MQJOHD5NL [INF] Request finished in 6827.2465ms 302  (15c52c40)
2017-09-10T16:02:12.2742000+03:00 0HL7MQJOHD5NM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:02:12.2792033+03:00 0HL7MQJOHD5NM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:12.2797038+03:00 0HL7MQJOHD5NM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:02:12.2802040+03:00 0HL7MQJOHD5NM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:02:12.2807045+03:00 0HL7MQJOHD5NM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:02:12.2827054+03:00 0HL7MQJOHD5NM [INF] Request finished in 7.526ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:02:12.3452467+03:00 0HL7MQJOHD5NN [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:02:12.3482494+03:00 0HL7MQJOHD5NN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:12.3482494+03:00 0HL7MQJOHD5NN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:02:12.3522521+03:00 0HL7MQJOHD5NN [INF] Request finished in 6.285ms 200 application/json (15c52c40)
2017-09-10T16:02:12.5003494+03:00 0HL7MQJOHD5NO [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:02:12.5013501+03:00 0HL7MQJOHD5NO [INF] Request finished in 1.2434ms 204  (15c52c40)
2017-09-10T16:02:12.5248654+03:00 0HL7MQJOHD5NP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:02:12.5293690+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:12.5298695+03:00 0HL7MQJOHD5NP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:02:12.5298695+03:00 0HL7MQJOHD5NP [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:02:12.5538854+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:12.5573876+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:02:12.5588891+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:02:12.5608893+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:02:12.5638913+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:02:12.5658926+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:02:12.5673934+03:00 0HL7MQJOHD5NP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:02:12.5678939+03:00 0HL7MQJOHD5NP [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:02:12.5683945+03:00 0HL7MQJOHD5NP [INF] Request finished in 44.1408ms 200 application/json (15c52c40)
2017-09-10T16:02:19.9300675+03:00 0HL7MQJOHD5NQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:19.9320689+03:00 0HL7MQJOHD5NQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:19.9320689+03:00 0HL7MQJOHD5NQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:19.9575856+03:00 0HL7MQJOHD5NQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:19.9580861+03:00 0HL7MQJOHD5NQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:19.9595873+03:00 0HL7MQJOHD5NQ [INF] Request finished in 29.0819ms 200 application/json (15c52c40)
2017-09-10T16:02:22.6753860+03:00 0HL7MQJOHD5NR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:22.6783880+03:00 0HL7MQJOHD5NR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:22.6783880+03:00 0HL7MQJOHD5NR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:22.7034046+03:00 0HL7MQJOHD5NR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:22.7039047+03:00 0HL7MQJOHD5NR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:22.7054059+03:00 0HL7MQJOHD5NR [INF] Request finished in 29.9251ms 200 application/json (15c52c40)
2017-09-10T16:02:24.5575557+03:00 0HL7MQJOHD5NS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:24.5595567+03:00 0HL7MQJOHD5NS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:24.5595567+03:00 0HL7MQJOHD5NS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:24.5745670+03:00 0HL7MQJOHD5NS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:24.5750671+03:00 0HL7MQJOHD5NS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:24.5755680+03:00 0HL7MQJOHD5NS [INF] Request finished in 18.6794ms 200 application/json (15c52c40)
2017-09-10T16:02:25.5169430+03:00 0HL7MQJOHD5NT [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:25.5199438+03:00 0HL7MQJOHD5NT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:25.5199438+03:00 0HL7MQJOHD5NT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:25.5489630+03:00 0HL7MQJOHD5NT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:25.5494636+03:00 0HL7MQJOHD5NT [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:25.5504642+03:00 0HL7MQJOHD5NT [INF] Request finished in 33.6534ms 200 application/json (15c52c40)
2017-09-10T16:02:27.4942511+03:00 0HL7MQJOHD5NU [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:27.4967565+03:00 0HL7MQJOHD5NU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:27.4967565+03:00 0HL7MQJOHD5NU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:27.5247723+03:00 0HL7MQJOHD5NU [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:27.5257729+03:00 0HL7MQJOHD5NU [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:27.5272733+03:00 0HL7MQJOHD5NU [INF] Request finished in 32.6804ms 200 application/json (15c52c40)
2017-09-10T16:02:28.0876445+03:00 0HL7MQJOHD5NV [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:28.0906465+03:00 0HL7MQJOHD5NV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:28.0906465+03:00 0HL7MQJOHD5NV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:28.1121605+03:00 0HL7MQJOHD5NV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:28.1131616+03:00 0HL7MQJOHD5NV [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:28.1151625+03:00 0HL7MQJOHD5NV [INF] Request finished in 26.2919ms 200 application/json (15c52c40)
2017-09-10T16:02:30.6406569+03:00 0HL7MQJOHD5O0 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:30.6436589+03:00 0HL7MQJOHD5O0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:30.6441594+03:00 0HL7MQJOHD5O0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:30.6671743+03:00 0HL7MQJOHD5O0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:30.6676744+03:00 0HL7MQJOHD5O0 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:30.6681749+03:00 0HL7MQJOHD5O0 [INF] Request finished in 28.2025ms 200 application/json (15c52c40)
2017-09-10T16:02:32.3148143+03:00 0HL7MQJOHD5O1 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:32.3173149+03:00 0HL7MQJOHD5O1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:32.3173149+03:00 0HL7MQJOHD5O1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:32.3403302+03:00 0HL7MQJOHD5O1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:32.3408315+03:00 0HL7MQJOHD5O1 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:32.3418310+03:00 0HL7MQJOHD5O1 [INF] Request finished in 26.6432ms 200 application/json (15c52c40)
2017-09-10T16:02:34.3947394+03:00 0HL7MQJOHD5O2 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:02:34.3967395+03:00 0HL7MQJOHD5O2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:02:34.3972397+03:00 0HL7MQJOHD5O2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:02:34.4122492+03:00 0HL7MQJOHD5O2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:02:34.4127494+03:00 0HL7MQJOHD5O2 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:02:34.4132495+03:00 0HL7MQJOHD5O2 [INF] Request finished in 19.0619ms 200 application/json (15c52c40)
2017-09-10T16:05:53.8410685+03:00 0HL7MQJOHD5O3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69200097245992081505048753831&state=15050487538310.9845058660446371   (e5be5b71)
2017-09-10T16:05:53.8470721+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:05:53.8475727+03:00 0HL7MQJOHD5O3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:05:53.8485800+03:00 0HL7MQJOHD5O3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:05:53.8495783+03:00 0HL7MQJOHD5O3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:05:53.8495783+03:00 0HL7MQJOHD5O3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:05:53.8505802+03:00 0HL7MQJOHD5O3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:05:53.8515800+03:00 0HL7MQJOHD5O3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050487538310.9845058660446371\",
  \"Nonce\": \"N0.69200097245992081505048753831\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69200097245992081505048753831\",
    \"state\": \"15050487538310.9845058660446371\"
  }
}" (9a175e33)
2017-09-10T16:05:53.8555823+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:05:53.8856022+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:05:53.8876039+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:05:53.8896052+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:05:53.8916066+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:05:53.8946089+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:05:53.9016136+03:00 0HL7MQJOHD5O3 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:05:53.9246272+03:00 0HL7MQJOHD5O3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050487538310.9845058660446371\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:05:53.9246272+03:00 0HL7MQJOHD5O3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:05:53.9256283+03:00 0HL7MQJOHD5O3 [INF] Request finished in 87.2791ms 302  (15c52c40)
2017-09-10T16:05:58.9265911+03:00 0HL7MQJOHD5O4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:05:58.9295931+03:00 0HL7MQJOHD5O4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:05:58.9305937+03:00 0HL7MQJOHD5O4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:05:58.9305937+03:00 0HL7MQJOHD5O4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:05:58.9305937+03:00 0HL7MQJOHD5O4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:05:58.9345968+03:00 0HL7MQJOHD5O4 [INF] Request finished in 5.5137ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:05:59.0767035+03:00 0HL7MQJOHD5O5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:05:59.0812063+03:00 0HL7MQJOHD5O5 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:05:59.0812063+03:00 0HL7MQJOHD5O5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:05:59.1237343+03:00 0HL7MQJOHD5O5 [INF] Request finished in 79.076ms 200 application/json (15c52c40)
2017-09-10T16:05:59.1927800+03:00 0HL7MQJOHD5O6 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:05:59.1952822+03:00 0HL7MQJOHD5O6 [INF] Request finished in 24.7224ms 204  (15c52c40)
2017-09-10T16:05:59.2838403+03:00 0HL7MQJOHD5O7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:05:59.3068563+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:05:59.3073565+03:00 0HL7MQJOHD5O7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:05:59.3073565+03:00 0HL7MQJOHD5O7 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:05:59.3438805+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:05:59.3613919+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:05:59.3754011+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:05:59.3904115+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:05:59.4034197+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:05:59.4104247+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:05:59.4224327+03:00 0HL7MQJOHD5O7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:05:59.4224327+03:00 0HL7MQJOHD5O7 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:05:59.4444465+03:00 0HL7MQJOHD5O7 [INF] Request finished in 140.6351ms 200 application/json (15c52c40)
2017-09-10T16:06:03.9854719+03:00 0HL7MQJOHD5O8 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:06:03.9884747+03:00 0HL7MQJOHD5O8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:06:03.9884747+03:00 0HL7MQJOHD5O8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:06:04.0134900+03:00 0HL7MQJOHD5O8 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:06:04.0144911+03:00 0HL7MQJOHD5O8 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:06:04.0154914+03:00 0HL7MQJOHD5O8 [INF] Request finished in 29.7431ms 200 application/json (15c52c40)
2017-09-10T16:06:30.8401251+03:00 0HL7MQJOHD5O9 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:06:30.8426266+03:00 0HL7MQJOHD5O9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:06:30.8426266+03:00 0HL7MQJOHD5O9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:06:30.8656418+03:00 0HL7MQJOHD5O9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:06:30.8656418+03:00 0HL7MQJOHD5O9 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:06:30.8666425+03:00 0HL7MQJOHD5O9 [INF] Request finished in 27.1173ms 200 application/json (15c52c40)
2017-09-10T16:06:33.6093395+03:00 0HL7MQJOHD5OA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:06:33.6123415+03:00 0HL7MQJOHD5OA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:06:33.6123415+03:00 0HL7MQJOHD5OA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:06:33.6378626+03:00 0HL7MQJOHD5OA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:06:33.6378626+03:00 0HL7MQJOHD5OA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:06:33.6383635+03:00 0HL7MQJOHD5OA [INF] Request finished in 31.1354ms 200 application/json (15c52c40)
2017-09-10T16:07:28.8415276+03:00 0HL7MQJOHD5OB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.204092614158837281505048848832&state=15050488488320.49638252329650623   (e5be5b71)
2017-09-10T16:07:28.8465317+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:28.8465317+03:00 0HL7MQJOHD5OB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:07:28.8475312+03:00 0HL7MQJOHD5OB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:07:28.8475312+03:00 0HL7MQJOHD5OB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:07:28.8485319+03:00 0HL7MQJOHD5OB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:07:28.8485319+03:00 0HL7MQJOHD5OB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:07:28.8485319+03:00 0HL7MQJOHD5OB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050488488320.49638252329650623\",
  \"Nonce\": \"N0.204092614158837281505048848832\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.204092614158837281505048848832\",
    \"state\": \"15050488488320.49638252329650623\"
  }
}" (9a175e33)
2017-09-10T16:07:28.8525341+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:07:28.8655435+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:07:28.8725482+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:07:28.8745491+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:07:28.8780552+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:07:28.8840595+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:07:28.8870619+03:00 0HL7MQJOHD5OB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:07:28.9125838+03:00 0HL7MQJOHD5OB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050488488320.49638252329650623\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:07:28.9135848+03:00 0HL7MQJOHD5OB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:07:28.9145851+03:00 0HL7MQJOHD5OB [INF] Request finished in 75.1377ms 302  (15c52c40)
2017-09-10T16:07:33.6672524+03:00 0HL7MQJOHD5OC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:07:33.6702536+03:00 0HL7MQJOHD5OC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:33.6707546+03:00 0HL7MQJOHD5OC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:07:33.6712547+03:00 0HL7MQJOHD5OC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:07:33.6712547+03:00 0HL7MQJOHD5OC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:07:33.6722558+03:00 0HL7MQJOHD5OC [INF] Request finished in 5.2946ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:07:33.7433099+03:00 0HL7MQJOHD5OD [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:07:33.7593174+03:00 0HL7MQJOHD5OD [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:33.7593174+03:00 0HL7MQJOHD5OD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:07:33.7923440+03:00 0HL7MQJOHD5OD [INF] Request finished in 19.0639ms 200 application/json (15c52c40)
2017-09-10T16:07:34.0640241+03:00 0HL7MQJOHD5OE [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:07:34.1165579+03:00 0HL7MQJOHD5OE [INF] Request finished in 147.5442ms 204  (15c52c40)
2017-09-10T16:07:34.1260648+03:00 0HL7MQJOHD5OF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:07:34.1305680+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:34.1305680+03:00 0HL7MQJOHD5OF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:07:34.1305680+03:00 0HL7MQJOHD5OF [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:07:34.1587602+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:07:34.1977865+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:07:34.2012890+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:07:34.2303082+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:07:34.2418152+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:07:34.2678329+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:07:34.3118620+03:00 0HL7MQJOHD5OF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:07:34.3123626+03:00 0HL7MQJOHD5OF [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:07:34.3578925+03:00 0HL7MQJOHD5OF [INF] Request finished in 195.5622ms 200 application/json (15c52c40)
2017-09-10T16:07:34.7461497+03:00 0HL7MQJOHD5OG [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:07:34.7491520+03:00 0HL7MQJOHD5OG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:34.7496522+03:00 0HL7MQJOHD5OG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:07:34.7796717+03:00 0HL7MQJOHD5OG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:07:34.7801722+03:00 0HL7MQJOHD5OG [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:07:34.7811725+03:00 0HL7MQJOHD5OG [INF] Request finished in 35.5426ms 200 application/json (15c52c40)
2017-09-10T16:07:38.6184110+03:00 0HL7MQJOHD5OH [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:07:38.6214166+03:00 0HL7MQJOHD5OH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:07:38.6214166+03:00 0HL7MQJOHD5OH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:07:38.6455619+03:00 0HL7MQJOHD5OH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:07:38.6465626+03:00 0HL7MQJOHD5OH [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:07:38.6475637+03:00 0HL7MQJOHD5OH [INF] Request finished in 29.1613ms 200 application/json (15c52c40)
2017-09-10T16:08:38.0078176+03:00 0HL7MQJOHD5OI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61210685821793721505048917998&state=15050489179980.05227446939800218   (e5be5b71)
2017-09-10T16:08:38.0128218+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:38.0138208+03:00 0HL7MQJOHD5OI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:08:38.0148231+03:00 0HL7MQJOHD5OI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:38.0148231+03:00 0HL7MQJOHD5OI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:08:38.0148231+03:00 0HL7MQJOHD5OI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:38.0158218+03:00 0HL7MQJOHD5OI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:38.0158218+03:00 0HL7MQJOHD5OI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050489179980.05227446939800218\",
  \"Nonce\": \"N0.61210685821793721505048917998\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61210685821793721505048917998\",
    \"state\": \"15050489179980.05227446939800218\"
  }
}" (9a175e33)
2017-09-10T16:08:38.0198252+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:08:38.0318367+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:38.0343386+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:08:38.0393443+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:08:38.0423439+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:08:38.0503527+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:38.0523544+03:00 0HL7MQJOHD5OI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:08:38.0733684+03:00 0HL7MQJOHD5OI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050489179980.05227446939800218\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:08:38.0733684+03:00 0HL7MQJOHD5OI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:38.0753697+03:00 0HL7MQJOHD5OI [INF] Request finished in 69.1637ms 302  (15c52c40)
2017-09-10T16:08:47.0037976+03:00 0HL7MQJOHD5OJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.125068569010923231505048926985&state=15050489269850.7724368016553791   (e5be5b71)
2017-09-10T16:08:47.1889206+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:48.0474893+03:00 0HL7MQJOHD5OJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:08:48.6859125+03:00 0HL7MQJOHD5OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:48.6859125+03:00 0HL7MQJOHD5OJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:08:49.0296396+03:00 0HL7MQJOHD5OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:49.1842422+03:00 0HL7MQJOHD5OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:49.1842422+03:00 0HL7MQJOHD5OJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050489269850.7724368016553791\",
  \"Nonce\": \"N0.125068569010923231505048926985\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.125068569010923231505048926985\",
    \"state\": \"15050489269850.7724368016553791\"
  }
}" (9a175e33)
2017-09-10T16:08:49.5699975+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:08:49.6195305+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:49.6235324+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:08:49.6665613+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:08:49.6685626+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:08:49.6710644+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:49.7421111+03:00 0HL7MQJOHD5OJ [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:08:49.7711303+03:00 0HL7MQJOHD5OJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050489269850.7724368016553791\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:08:49.7811373+03:00 0HL7MQJOHD5OJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:49.8231652+03:00 0HL7MQJOHD5OJ [INF] Request finished in 2786.5465ms 302  (15c52c40)
2017-09-10T16:08:57.2293075+03:00 0HL7MQJOHD5OK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:08:57.2323087+03:00 0HL7MQJOHD5OK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:57.2328089+03:00 0HL7MQJOHD5OK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:08:57.2333090+03:00 0HL7MQJOHD5OK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:08:57.2333090+03:00 0HL7MQJOHD5OK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:08:57.2343105+03:00 0HL7MQJOHD5OK [INF] Request finished in 7.1033ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:08:57.3183653+03:00 0HL7MQJOHD5OL [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:08:57.3233698+03:00 0HL7MQJOHD5OL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:57.3233698+03:00 0HL7MQJOHD5OL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:08:57.3248695+03:00 0HL7MQJOHD5OL [INF] Request finished in 8.9814ms 200 application/json (15c52c40)
2017-09-10T16:08:57.5760362+03:00 0HL7MQJOHD5OM [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:08:57.6245689+03:00 0HL7MQJOHD5OM [INF] Request finished in 45.7991ms 204  (15c52c40)
2017-09-10T16:08:57.6655953+03:00 0HL7MQJOHD5ON [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:08:57.6726000+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:57.6726000+03:00 0HL7MQJOHD5ON [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:08:57.6726000+03:00 0HL7MQJOHD5ON [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:08:57.7071230+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:08:57.8071897+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:57.8367087+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:08:57.8632264+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:08:57.8677296+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:08:57.9017529+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:08:57.9047537+03:00 0HL7MQJOHD5ON [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:08:57.9052543+03:00 0HL7MQJOHD5ON [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:08:57.9092569+03:00 0HL7MQJOHD5ON [INF] Request finished in 268.4014ms 200 application/json (15c52c40)
2017-09-10T16:08:59.4103884+03:00 0HL7MQJOHD5OO [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:08:59.4138909+03:00 0HL7MQJOHD5OO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:08:59.4138909+03:00 0HL7MQJOHD5OO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:08:59.4379065+03:00 0HL7MQJOHD5OO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:08:59.4384074+03:00 0HL7MQJOHD5OO [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:08:59.4389075+03:00 0HL7MQJOHD5OO [INF] Request finished in 61.0392ms 200 application/json (15c52c40)
2017-09-10T16:09:04.4897526+03:00 0HL7MQJOHD5OP [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:09:04.4927546+03:00 0HL7MQJOHD5OP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:09:04.4927546+03:00 0HL7MQJOHD5OP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:09:04.5157695+03:00 0HL7MQJOHD5OP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:09:04.5167709+03:00 0HL7MQJOHD5OP [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:09:04.5267771+03:00 0HL7MQJOHD5OP [INF] Request finished in 27.8373ms 200 application/json (15c52c40)
2017-09-10T16:09:06.1163298+03:00 0HL7MQJOHD5OQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:09:06.1183319+03:00 0HL7MQJOHD5OQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:09:06.1188316+03:00 0HL7MQJOHD5OQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:09:06.1518531+03:00 0HL7MQJOHD5OQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:09:06.1523540+03:00 0HL7MQJOHD5OQ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:09:06.1528541+03:00 0HL7MQJOHD5OQ [INF] Request finished in 37.1559ms 200 application/json (15c52c40)
2017-09-10T16:09:09.2954354+03:00 0HL7MQJOHD5OR [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:09:09.2979372+03:00 0HL7MQJOHD5OR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:09:09.2984370+03:00 0HL7MQJOHD5OR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:09:09.3229534+03:00 0HL7MQJOHD5OR [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:09:09.3239545+03:00 0HL7MQJOHD5OR [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:09:09.3244546+03:00 0HL7MQJOHD5OR [INF] Request finished in 29.9736ms 200 application/json (15c52c40)
2017-09-10T16:09:10.4537023+03:00 0HL7MQJOHD5OS [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:09:10.4572052+03:00 0HL7MQJOHD5OS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:09:10.4572052+03:00 0HL7MQJOHD5OS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:09:10.5212473+03:00 0HL7MQJOHD5OS [INF] Executed DbCommand (24ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:09:10.5222479+03:00 0HL7MQJOHD5OS [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:09:10.5232486+03:00 0HL7MQJOHD5OS [INF] Request finished in 69.3867ms 200 application/json (15c52c40)
2017-09-10T16:09:38.4199376+03:00 0HL7MQJOHD5OT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95171940934978141505048978403&state=15050489784030.42141012593243765   (e5be5b71)
2017-09-10T16:09:38.4239390+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:09:38.4239390+03:00 0HL7MQJOHD5OT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:09:38.4249401+03:00 0HL7MQJOHD5OT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:09:38.4249401+03:00 0HL7MQJOHD5OT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:09:38.4269414+03:00 0HL7MQJOHD5OT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:09:38.4289435+03:00 0HL7MQJOHD5OT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:09:38.4289435+03:00 0HL7MQJOHD5OT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050489784030.42141012593243765\",
  \"Nonce\": \"N0.95171940934978141505048978403\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95171940934978141505048978403\",
    \"state\": \"15050489784030.42141012593243765\"
  }
}" (9a175e33)
2017-09-10T16:09:38.5130051+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (69ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:09:38.5715449+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:09:38.6085698+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:09:38.8982619+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (39ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:09:38.9107699+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:09:38.9502967+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:09:39.0003291+03:00 0HL7MQJOHD5OT [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:09:39.0348517+03:00 0HL7MQJOHD5OT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050489784030.42141012593243765\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:09:39.0368531+03:00 0HL7MQJOHD5OT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:09:39.1519293+03:00 0HL7MQJOHD5OT [INF] Request finished in 626.225ms 302  (15c52c40)
2017-09-10T16:12:46.3685595+03:00 0HL7MQJOHD5OU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:12:46.3725626+03:00 0HL7MQJOHD5OU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:46.3725626+03:00 0HL7MQJOHD5OU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:12:46.3735629+03:00 0HL7MQJOHD5OU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:46.3735629+03:00 0HL7MQJOHD5OU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:12:46.3785666+03:00 0HL7MQJOHD5OU [INF] Request finished in 6.3245ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:12:49.7136465+03:00 0HL7MQJOHD5OV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.73311083616623841505049169703&state=15050491697030.19163890569019681   (e5be5b71)
2017-09-10T16:12:49.7471685+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:49.7476686+03:00 0HL7MQJOHD5OV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:12:49.7481695+03:00 0HL7MQJOHD5OV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:49.7481695+03:00 0HL7MQJOHD5OV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:12:49.7486705+03:00 0HL7MQJOHD5OV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:49.7496703+03:00 0HL7MQJOHD5OV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:49.7496703+03:00 0HL7MQJOHD5OV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050491697030.19163890569019681\",
  \"Nonce\": \"N0.73311083616623841505049169703\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.73311083616623841505049169703\",
    \"state\": \"15050491697030.19163890569019681\"
  }
}" (9a175e33)
2017-09-10T16:12:49.7831931+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:12:49.8307240+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:12:49.8332255+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:12:49.8637463+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:12:49.8757538+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:12:49.8842593+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:12:49.8912639+03:00 0HL7MQJOHD5OV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:12:49.9167810+03:00 0HL7MQJOHD5OV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050491697030.19163890569019681\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:12:49.9272878+03:00 0HL7MQJOHD5OV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:49.9282892+03:00 0HL7MQJOHD5OV [INF] Request finished in 214.6909ms 302  (15c52c40)
2017-09-10T16:12:53.0669724+03:00 0HL7MQJOHD5P0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:12:53.0789804+03:00 0HL7MQJOHD5P0 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:53.0819827+03:00 0HL7MQJOHD5P0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:12:53.0829834+03:00 0HL7MQJOHD5P0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:12:53.0829834+03:00 0HL7MQJOHD5P0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:12:53.0839837+03:00 0HL7MQJOHD5P0 [INF] Request finished in 21.0474ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:12:53.1860623+03:00 0HL7MQJOHD5P1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:12:53.2030724+03:00 0HL7MQJOHD5P1 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:53.2030724+03:00 0HL7MQJOHD5P1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:12:53.2861310+03:00 0HL7MQJOHD5P1 [INF] Request finished in 40.0194ms 200 application/json (15c52c40)
2017-09-10T16:12:53.4642497+03:00 0HL7MQJOHD5P2 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:12:53.6298596+03:00 0HL7MQJOHD5P2 [INF] Request finished in 113.5272ms 204  (15c52c40)
2017-09-10T16:12:53.6608802+03:00 0HL7MQJOHD5P3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:12:53.6653826+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:53.6658827+03:00 0HL7MQJOHD5P3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:12:53.6658827+03:00 0HL7MQJOHD5P3 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:12:53.7089116+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:12:53.8535068+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:12:53.8835266+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:12:53.8860281+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:12:54.0981702+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:12:54.1882283+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:12:54.2087420+03:00 0HL7MQJOHD5P3 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:12:54.2087420+03:00 0HL7MQJOHD5P3 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:12:54.3113098+03:00 0HL7MQJOHD5P3 [INF] Request finished in 578.7805ms 200 application/json (15c52c40)
2017-09-10T16:12:57.0066694+03:00 0HL7MQJOHD5P4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:12:57.0091704+03:00 0HL7MQJOHD5P4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:12:57.0091704+03:00 0HL7MQJOHD5P4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:12:57.0782162+03:00 0HL7MQJOHD5P4 [INF] Executed DbCommand (48ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:12:57.0787167+03:00 0HL7MQJOHD5P4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:12:57.0792172+03:00 0HL7MQJOHD5P4 [INF] Request finished in 73.0831ms 200 application/json (15c52c40)
2017-09-10T16:21:50.1156559+03:00 0HL7MQJOHD5P5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.6601824979091061505049710103&state=15050497101030.0075939111003184845   (e5be5b71)
2017-09-10T16:21:50.3893915+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:21:50.3963953+03:00 0HL7MQJOHD5P5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:21:50.4003984+03:00 0HL7MQJOHD5P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:21:50.4003984+03:00 0HL7MQJOHD5P5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:21:50.4034000+03:00 0HL7MQJOHD5P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:21:50.4039001+03:00 0HL7MQJOHD5P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:21:50.4044006+03:00 0HL7MQJOHD5P5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050497101030.0075939111003184845\",
  \"Nonce\": \"N0.6601824979091061505049710103\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.6601824979091061505049710103\",
    \"state\": \"15050497101030.0075939111003184845\"
  }
}" (9a175e33)
2017-09-10T16:21:50.4528959+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (45ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:21:50.4659037+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:21:50.4719085+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:21:50.4754102+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:21:50.4794156+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:21:50.4814150+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:21:50.4869196+03:00 0HL7MQJOHD5P5 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:21:50.5154367+03:00 0HL7MQJOHD5P5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050497101030.0075939111003184845\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:21:50.5159368+03:00 0HL7MQJOHD5P5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:21:50.5174396+03:00 0HL7MQJOHD5P5 [INF] Request finished in 402.1476ms 302  (15c52c40)
2017-09-10T16:21:58.0868072+03:00 0HL7MQJOHD5P6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:21:58.0893083+03:00 0HL7MQJOHD5P6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:21:58.0898092+03:00 0HL7MQJOHD5P6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:21:58.0903094+03:00 0HL7MQJOHD5P6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:21:58.0903094+03:00 0HL7MQJOHD5P6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:21:58.0928112+03:00 0HL7MQJOHD5P6 [INF] Request finished in 4.4281ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:21:58.1753858+03:00 0HL7MQJOHD5P7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:21:58.1848923+03:00 0HL7MQJOHD5P7 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:21:58.1853929+03:00 0HL7MQJOHD5P7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:21:58.2249188+03:00 0HL7MQJOHD5P7 [INF] Request finished in 21.0833ms 200 application/json (15c52c40)
2017-09-10T16:21:58.3134777+03:00 0HL7MQJOHD5P8 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:21:58.3154790+03:00 0HL7MQJOHD5P8 [INF] Request finished in 1.2169ms 204  (15c52c40)
2017-09-10T16:21:58.3575069+03:00 0HL7MQJOHD5P9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:21:58.3630103+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:21:58.3635108+03:00 0HL7MQJOHD5P9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:21:58.3635108+03:00 0HL7MQJOHD5P9 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:21:58.3980339+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:21:58.4855941+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:21:58.5076067+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:21:58.5171128+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:21:58.5576394+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:21:58.5961647+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:21:58.6577053+03:00 0HL7MQJOHD5P9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:21:58.6582058+03:00 0HL7MQJOHD5P9 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:21:58.7067382+03:00 0HL7MQJOHD5P9 [INF] Request finished in 317.6154ms 200 application/json (15c52c40)
2017-09-10T16:22:38.2053777+03:00 0HL7MQJOHD5PA [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:22:38.2148842+03:00 0HL7MQJOHD5PA [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:22:38.2153847+03:00 0HL7MQJOHD5PA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:22:38.2414019+03:00 0HL7MQJOHD5PA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:22:38.2419021+03:00 0HL7MQJOHD5PA [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:22:38.2424022+03:00 0HL7MQJOHD5PA [INF] Request finished in 149.1476ms 200 application/json (15c52c40)
2017-09-10T16:22:41.0352698+03:00 0HL7MQJOHD5PB [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:22:41.0387723+03:00 0HL7MQJOHD5PB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:22:41.0392732+03:00 0HL7MQJOHD5PB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:22:41.0667900+03:00 0HL7MQJOHD5PB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:22:41.0672910+03:00 0HL7MQJOHD5PB [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:22:41.0677919+03:00 0HL7MQJOHD5PB [INF] Request finished in 35.8967ms 200 application/json (15c52c40)
2017-09-10T16:22:57.8642583+03:00 0HL7MQJOHD5PC [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:22:57.8672603+03:00 0HL7MQJOHD5PC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:22:57.8672603+03:00 0HL7MQJOHD5PC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:22:57.8892772+03:00 0HL7MQJOHD5PC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:22:57.8897758+03:00 0HL7MQJOHD5PC [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:22:57.8907792+03:00 0HL7MQJOHD5PC [INF] Request finished in 26.5011ms 200 application/json (15c52c40)
2017-09-10T16:23:18.2491404+03:00 0HL7MQJOHD5PD [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:23:18.2536432+03:00 0HL7MQJOHD5PD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:23:18.2536432+03:00 0HL7MQJOHD5PD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:23:18.2891665+03:00 0HL7MQJOHD5PD [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:23:18.2896674+03:00 0HL7MQJOHD5PD [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:23:18.2936705+03:00 0HL7MQJOHD5PD [INF] Request finished in 43.3541ms 200 application/json (15c52c40)
2017-09-10T16:23:21.1890872+03:00 0HL7MQJOHD5PE [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:23:21.1955909+03:00 0HL7MQJOHD5PE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:23:21.1955909+03:00 0HL7MQJOHD5PE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:23:21.2406212+03:00 0HL7MQJOHD5PE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:23:21.2406212+03:00 0HL7MQJOHD5PE [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:23:21.2421223+03:00 0HL7MQJOHD5PE [INF] Request finished in 54.0247ms 200 application/json (15c52c40)
2017-09-10T16:23:33.8282711+03:00 0HL7MQJOHD5PF [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:23:33.8307726+03:00 0HL7MQJOHD5PF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:23:33.8307726+03:00 0HL7MQJOHD5PF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:23:33.8542887+03:00 0HL7MQJOHD5PF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:23:33.8547889+03:00 0HL7MQJOHD5PF [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:23:33.8552890+03:00 0HL7MQJOHD5PF [INF] Request finished in 27.006ms 200 application/json (15c52c40)
2017-09-10T16:26:53.6061564+03:00 0HL7MQJOHD5PG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58460356863011451505050013572&state=15050500135720.6833980968746027   (e5be5b71)
2017-09-10T16:26:53.6096561+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:26:53.6101574+03:00 0HL7MQJOHD5PG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:26:53.6106583+03:00 0HL7MQJOHD5PG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:53.6106583+03:00 0HL7MQJOHD5PG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:26:53.6111577+03:00 0HL7MQJOHD5PG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:53.6116590+03:00 0HL7MQJOHD5PG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:53.6121584+03:00 0HL7MQJOHD5PG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050500135720.6833980968746027\",
  \"Nonce\": \"N0.58460356863011451505050013572\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58460356863011451505050013572\",
    \"state\": \"15050500135720.6833980968746027\"
  }
}" (9a175e33)
2017-09-10T16:26:53.6156617+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:26:53.6251682+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:26:53.6266686+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:26:53.6286691+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:26:53.6301699+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:26:53.6326753+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:26:53.6346727+03:00 0HL7MQJOHD5PG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:26:53.6501835+03:00 0HL7MQJOHD5PG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050500135720.6833980968746027\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:26:53.6506849+03:00 0HL7MQJOHD5PG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:53.6521853+03:00 0HL7MQJOHD5PG [INF] Request finished in 45.9152ms 302  (15c52c40)
2017-09-10T16:26:57.6169754+03:00 0HL7MQJOHD5PH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51630632262460141505050017583&state=15050500175830.9363334027626853   (e5be5b71)
2017-09-10T16:26:57.6199789+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:26:57.6204787+03:00 0HL7MQJOHD5PH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:26:57.6209788+03:00 0HL7MQJOHD5PH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:57.6209788+03:00 0HL7MQJOHD5PH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:26:57.6214785+03:00 0HL7MQJOHD5PH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:57.6224827+03:00 0HL7MQJOHD5PH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:57.6224827+03:00 0HL7MQJOHD5PH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050500175830.9363334027626853\",
  \"Nonce\": \"N0.51630632262460141505050017583\",
  \"SessionId\": \"637cef6c3eedbc1ad3acc1e2b3c27bef\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51630632262460141505050017583\",
    \"state\": \"15050500175830.9363334027626853\"
  }
}" (9a175e33)
2017-09-10T16:26:57.6264826+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:26:57.6379897+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:26:57.6389899+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:26:57.6404911+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:26:57.6414914+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:26:57.6434927+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:26:57.6454940+03:00 0HL7MQJOHD5PH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:26:57.6620052+03:00 0HL7MQJOHD5PH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050500175830.9363334027626853\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:26:57.6625053+03:00 0HL7MQJOHD5PH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:26:57.6630058+03:00 0HL7MQJOHD5PH [INF] Request finished in 46.3253ms 302  (15c52c40)
2017-09-10T16:27:02.0831835+03:00 0HL7MQJOHD5PI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:27:02.0866861+03:00 0HL7MQJOHD5PI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:02.0866861+03:00 0HL7MQJOHD5PI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:27:02.0876863+03:00 0HL7MQJOHD5PI [INF] Request finished in 4.71ms 200 application/json (15c52c40)
2017-09-10T16:27:29.2003854+03:00 0HL7MQJOHD5PJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:27:29.2033890+03:00 0HL7MQJOHD5PJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:29.2033890+03:00 0HL7MQJOHD5PJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:27:29.2394030+03:00 0HL7MQJOHD5PJ [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:27:29.2399039+03:00 0HL7MQJOHD5PJ [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:27:29.2404044+03:00 0HL7MQJOHD5PJ [INF] Request finished in 40.8033ms 200 application/json (15c52c40)
2017-09-10T16:27:34.6450590+03:00 0HL7MQJOHD5PK [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:27:34.6480614+03:00 0HL7MQJOHD5PK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:34.6485620+03:00 0HL7MQJOHD5PK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:27:34.6815838+03:00 0HL7MQJOHD5PK [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:27:34.6820832+03:00 0HL7MQJOHD5PK [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:27:34.6830846+03:00 0HL7MQJOHD5PK [INF] Request finished in 38.3808ms 200 application/json (15c52c40)
2017-09-10T16:27:41.5090431+03:00 0HL7MQJOHD5PL [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:27:41.5120451+03:00 0HL7MQJOHD5PL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:41.5120451+03:00 0HL7MQJOHD5PL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:27:41.5365627+03:00 0HL7MQJOHD5PL [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:27:41.5375622+03:00 0HL7MQJOHD5PL [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:27:41.5380639+03:00 0HL7MQJOHD5PL [INF] Request finished in 29.1707ms 200 application/json (15c52c40)
2017-09-10T16:27:45.8088914+03:00 0HL7MQJOHD5PM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:27:45.8158957+03:00 0HL7MQJOHD5PM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:45.8168967+03:00 0HL7MQJOHD5PM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:27:45.8173969+03:00 0HL7MQJOHD5PM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:45.8173969+03:00 0HL7MQJOHD5PM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:27:45.8178970+03:00 0HL7MQJOHD5PM [INF] Request finished in 238.811ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:27:46.3907770+03:00 0HL7MQJOHD5PN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUwNTAwMTcsImV4cCI6MTUwNTA1MDMxNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjUxNjMwNjMyMjYyNDYwMTQxNTA1MDUwMDE3NTgzIiwiaWF0IjoxNTA1MDUwMDE3LCJhdF9oYXNoIjoiY2Ezb3JPNmNPUzhUUjVueDE4cnFRQSIsInNpZCI6IjYzN2NlZjZjM2VlZGJjMWFkM2FjYzFlMmIzYzI3YmVmIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDQ2MDcyLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.HxfKygaacMGDOifMtPgL3H9o8O5aTQR2Mr2ZsRue9NVSs-AZult5Dzv-RP1gnqxP80cum3T0RaPsdmGvlCAYfEGJE0C2b3uNSqqJN3-VONDgFojzFHvfn8RygTZ23eCEKsZN9qycEED8k4W4BdlLpV835vzX2EPzTlhf4MmuKff4BUCW_7yIklgFoppo4anxmTNwxJgu_tKttfMsGcJyhPj_W0NVXTyhta4PlW45DQUQCLOGOA8RLTMPdk6p1gmlQSpaXjdBRoSgCMCnhZtMVIDtfmL_BArdTWN50cP8Rb4QbOoefzDrh6MQuVKSYBVKARBAH3meEsrR4aTPf7klhQ&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-10T16:27:46.3942787+03:00 0HL7MQJOHD5PN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:46.3947789+03:00 0HL7MQJOHD5PN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:27:46.3952794+03:00 0HL7MQJOHD5PN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.3957803+03:00 0HL7MQJOHD5PN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-10T16:27:46.3967802+03:00 0HL7MQJOHD5PN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4082880+03:00 0HL7MQJOHD5PN [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:27:46.4087885+03:00 0HL7MQJOHD5PN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4092887+03:00 0HL7MQJOHD5PN [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUwNTAwMTcsImV4cCI6MTUwNTA1MDMxNywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjUxNjMwNjMyMjYyNDYwMTQxNTA1MDUwMDE3NTgzIiwiaWF0IjoxNTA1MDUwMDE3LCJhdF9oYXNoIjoiY2Ezb3JPNmNPUzhUUjVueDE4cnFRQSIsInNpZCI6IjYzN2NlZjZjM2VlZGJjMWFkM2FjYzFlMmIzYzI3YmVmIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDQ2MDcyLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.HxfKygaacMGDOifMtPgL3H9o8O5aTQR2Mr2ZsRue9NVSs-AZult5Dzv-RP1gnqxP80cum3T0RaPsdmGvlCAYfEGJE0C2b3uNSqqJN3-VONDgFojzFHvfn8RygTZ23eCEKsZN9qycEED8k4W4BdlLpV835vzX2EPzTlhf4MmuKff4BUCW_7yIklgFoppo4anxmTNwxJgu_tKttfMsGcJyhPj_W0NVXTyhta4PlW45DQUQCLOGOA8RLTMPdk6p1gmlQSpaXjdBRoSgCMCnhZtMVIDtfmL_BArdTWN50cP8Rb4QbOoefzDrh6MQuVKSYBVKARBAH3meEsrR4aTPf7klhQ\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-10T16:27:46.4102893+03:00 0HL7MQJOHD5PN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4107895+03:00 0HL7MQJOHD5PN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4112896+03:00 0HL7MQJOHD5PN [INF] Request finished in 390.0168ms 302  (15c52c40)
2017-09-10T16:27:46.4443123+03:00 0HL7MQJOHD5PO [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=965081141b5528764d432a1c198261b5   (e5be5b71)
2017-09-10T16:27:46.4483149+03:00 0HL7MQJOHD5PO [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:46.4488151+03:00 0HL7MQJOHD5PO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:27:46.4498161+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4543213+03:00 0HL7MQJOHD5PO [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["965081141b5528764d432a1c198261b5"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T16:27:46.4558197+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4568204+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4573205+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-10T16:27:46.4588213+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-10T16:27:46.4593226+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-10T16:27:46.4598224+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.4603225+03:00 0HL7MQJOHD5PO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:46.5058528+03:00 0HL7MQJOHD5PO [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-10T16:27:46.5834040+03:00 0HL7MQJOHD5PO [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 58.066ms (afa2e885)
2017-09-10T16:27:46.5999151+03:00 0HL7MQJOHD5PO [INF] Request finished in 167.578ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T16:27:46.6584541+03:00 0HL7MQJOHD5PP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=637cef6c3eedbc1ad3acc1e2b3c27bef&logoutId=965081141b5528764d432a1c198261b5   (e5be5b71)
2017-09-10T16:27:46.6684607+03:00 0HL7MQJOHD5PP [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:46.6684607+03:00 0HL7MQJOHD5PP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-10T16:27:46.6689609+03:00 0HL7MQJOHD5PP [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-10T16:27:46.6759655+03:00 0HL7MQJOHD5PP [INF] Request finished in 70.7407ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:27:47.7811977+03:00 0HL7MQJOHD5PQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-10T16:27:47.7836992+03:00 0HL7MQJOHD5PQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:47.7846995+03:00 0HL7MQJOHD5PQ [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-10T16:27:47.7857001+03:00 0HL7MQJOHD5PQ [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-10T16:27:47.8047131+03:00 0HL7MQJOHD5PQ [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 12.2996ms (afa2e885)
2017-09-10T16:27:47.8277284+03:00 0HL7MQJOHD5PQ [INF] Request finished in 24.4978ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T16:27:53.3505022+03:00 0HL7MQJOHD5PR [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 271 (e5be5b71)
2017-09-10T16:27:53.3550058+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:53.3565062+03:00 0HL7MQJOHD5PR [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T16:27:53.3805213+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-10T16:27:53.4030372+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:27:53.4090404+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:27:53.4140445+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:27:53.4165471+03:00 0HL7MQJOHD5PR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:27:53.4175482+03:00 0HL7MQJOHD5PR [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T16:27:53.4180468+03:00 0HL7MQJOHD5PR [INF] User logged in. (fdce0db4)
2017-09-10T16:27:53.4185477+03:00 0HL7MQJOHD5PR [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-10T16:27:53.4190478+03:00 0HL7MQJOHD5PR [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 67.8978ms (afa2e885)
2017-09-10T16:27:53.4280534+03:00 0HL7MQJOHD5PR [INF] Request finished in 71.591ms 302  (15c52c40)
2017-09-10T16:27:53.4295554+03:00 0HL7MQJOHD5PS [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-10T16:27:53.4330567+03:00 0HL7MQJOHD5PS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:53.4335572+03:00 0HL7MQJOHD5PS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:27:53.4340574+03:00 0HL7MQJOHD5PS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:53.4350584+03:00 0HL7MQJOHD5PS [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-10T16:27:53.4355589+03:00 0HL7MQJOHD5PS [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-10T16:27:53.4425628+03:00 0HL7MQJOHD5PS [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 3.4148ms (afa2e885)
2017-09-10T16:27:53.4435642+03:00 0HL7MQJOHD5PS [INF] Request finished in 14.0894ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T16:27:54.9280469+03:00 0HL7MQJOHD5PT [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-10T16:27:54.9310489+03:00 0HL7MQJOHD5PT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:27:54.9315490+03:00 0HL7MQJOHD5PT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:27:54.9320495+03:00 0HL7MQJOHD5PT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:27:54.9330502+03:00 0HL7MQJOHD5PT [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-10T16:27:54.9335503+03:00 0HL7MQJOHD5PT [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-10T16:27:54.9425563+03:00 0HL7MQJOHD5PT [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 1.9267ms (afa2e885)
2017-09-10T16:27:54.9455583+03:00 0HL7MQJOHD5PT [INF] Request finished in 18.377ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T16:28:01.4308541+03:00 0HL7MQJOHD5PU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:28:01.4348571+03:00 0HL7MQJOHD5PU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:01.4368580+03:00 0HL7MQJOHD5PU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:28:01.4383588+03:00 0HL7MQJOHD5PU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:01.4383588+03:00 0HL7MQJOHD5PU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:28:01.4423619+03:00 0HL7MQJOHD5PU [INF] Request finished in 40.6723ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:28:04.0657775+03:00 0HL7MQJOHD5PV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.351402645780433341505050084058&state=15050500840580.022884121572499305   (e5be5b71)
2017-09-10T16:28:04.0707809+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:04.0717819+03:00 0HL7MQJOHD5PV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:28:04.0722816+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:04.0727818+03:00 0HL7MQJOHD5PV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:28:04.0727818+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:04.0737828+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:04.0742826+03:00 0HL7MQJOHD5PV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050500840580.022884121572499305\",
  \"Nonce\": \"N0.351402645780433341505050084058\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.351402645780433341505050084058\",
    \"state\": \"15050500840580.022884121572499305\"
  }
}" (9a175e33)
2017-09-10T16:28:04.0822922+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:28:04.0983024+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:28:04.1003034+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:28:04.1013048+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:28:04.1033054+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:28:04.1083110+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:28:04.1123113+03:00 0HL7MQJOHD5PV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:28:04.1383293+03:00 0HL7MQJOHD5PV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050500840580.022884121572499305\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:28:04.1443329+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:04.1453332+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:04.1513376+03:00 0HL7MQJOHD5PV [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T16:28:04.1628485+03:00 0HL7MQJOHD5PV [INF] Request finished in 87.5068ms 302  (15c52c40)
2017-09-10T16:28:06.3943486+03:00 0HL7MQJOHD5Q0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T16:28:06.4128611+03:00 0HL7MQJOHD5Q0 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:06.4138617+03:00 0HL7MQJOHD5Q0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:28:06.4143623+03:00 0HL7MQJOHD5Q0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:28:06.4143623+03:00 0HL7MQJOHD5Q0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T16:28:06.4163640+03:00 0HL7MQJOHD5Q0 [INF] Request finished in 21.8136ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T16:28:06.4393784+03:00 0HL7MQJOHD5Q1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:28:06.4799055+03:00 0HL7MQJOHD5Q1 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:06.4804056+03:00 0HL7MQJOHD5Q1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:28:06.4999191+03:00 0HL7MQJOHD5Q1 [INF] Request finished in 65.5499ms 200 application/json (15c52c40)
2017-09-10T16:28:06.7235667+03:00 0HL7MQJOHD5Q2 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T16:28:06.7901105+03:00 0HL7MQJOHD5Q2 [INF] Request finished in 61.1916ms 204  (15c52c40)
2017-09-10T16:28:06.8021189+03:00 0HL7MQJOHD5Q3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T16:28:06.8066217+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:06.8066217+03:00 0HL7MQJOHD5Q3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T16:28:06.8066217+03:00 0HL7MQJOHD5Q3 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T16:28:06.8571549+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:28:06.8606575+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:28:06.8631593+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:28:06.8741666+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:28:06.8786698+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:28:06.8806711+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:28:06.8831726+03:00 0HL7MQJOHD5Q3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:28:06.8831726+03:00 0HL7MQJOHD5Q3 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T16:28:06.8846734+03:00 0HL7MQJOHD5Q3 [INF] Request finished in 92.824ms 200 application/json (15c52c40)
2017-09-10T16:28:10.8427999+03:00 0HL7MQJOHD5Q4 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:28:10.8458027+03:00 0HL7MQJOHD5Q4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:28:10.8458027+03:00 0HL7MQJOHD5Q4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:28:10.8688171+03:00 0HL7MQJOHD5Q4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:28:10.8688171+03:00 0HL7MQJOHD5Q4 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:28:10.8698182+03:00 0HL7MQJOHD5Q4 [INF] Request finished in 27.0403ms 200 application/json (15c52c40)
2017-09-10T16:29:28.0379066+03:00 0HL7MQJOHD5Q5 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T16:29:28.0419097+03:00 0HL7MQJOHD5Q5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:29:28.0419097+03:00 0HL7MQJOHD5Q5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T16:29:28.0639242+03:00 0HL7MQJOHD5Q5 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:29:28.0639242+03:00 0HL7MQJOHD5Q5 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T16:29:28.0649241+03:00 0HL7MQJOHD5Q5 [INF] Request finished in 26.7881ms 200 application/json (15c52c40)
2017-09-10T16:33:06.6252811+03:00 0HL7MQJOHD5Q6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72143065198880781505050386571&state=15050503865710.21086528993483977   (e5be5b71)
2017-09-10T16:33:06.6292841+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:33:06.6292841+03:00 0HL7MQJOHD5Q6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:33:06.6302844+03:00 0HL7MQJOHD5Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:33:06.6302844+03:00 0HL7MQJOHD5Q6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:33:06.6302844+03:00 0HL7MQJOHD5Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:33:06.6312846+03:00 0HL7MQJOHD5Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:33:06.6312846+03:00 0HL7MQJOHD5Q6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050503865710.21086528993483977\",
  \"Nonce\": \"N0.72143065198880781505050386571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72143065198880781505050386571\",
    \"state\": \"15050503865710.21086528993483977\"
  }
}" (9a175e33)
2017-09-10T16:33:06.6367924+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:33:06.6523029+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:33:06.6578099+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:33:06.6618125+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:33:06.6648145+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:33:06.6668151+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:33:06.6728206+03:00 0HL7MQJOHD5Q6 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:33:06.6858277+03:00 0HL7MQJOHD5Q6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050503865710.21086528993483977\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:33:06.6858277+03:00 0HL7MQJOHD5Q6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:33:06.6878302+03:00 0HL7MQJOHD5Q6 [INF] Request finished in 62.8329ms 302  (15c52c40)
2017-09-10T16:33:10.7794696+03:00 0HL7MQJOHD5Q7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:33:10.7824712+03:00 0HL7MQJOHD5Q7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:33:10.7824712+03:00 0HL7MQJOHD5Q7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:33:10.7834722+03:00 0HL7MQJOHD5Q7 [INF] Request finished in 4.5454ms 200 application/json (15c52c40)
2017-09-10T16:38:08.6065341+03:00 0HL7MQJOHD5Q8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51185298137268181505050688569&state=15050506885690.6207968802944233   (e5be5b71)
2017-09-10T16:38:08.6105376+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:38:08.6115374+03:00 0HL7MQJOHD5Q8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:38:08.6115374+03:00 0HL7MQJOHD5Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:08.6125381+03:00 0HL7MQJOHD5Q8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:38:08.6125381+03:00 0HL7MQJOHD5Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:08.6135392+03:00 0HL7MQJOHD5Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:08.6135392+03:00 0HL7MQJOHD5Q8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050506885690.6207968802944233\",
  \"Nonce\": \"N0.51185298137268181505050688569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51185298137268181505050688569\",
    \"state\": \"15050506885690.6207968802944233\"
  }
}" (9a175e33)
2017-09-10T16:38:08.6195423+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:38:08.6335524+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:38:08.6375543+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:38:08.6405563+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:38:08.6445601+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:38:08.6465606+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:38:08.6495622+03:00 0HL7MQJOHD5Q8 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:38:08.6693331+03:00 0HL7MQJOHD5Q8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050506885690.6207968802944233\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:38:08.6713376+03:00 0HL7MQJOHD5Q8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:08.6733365+03:00 0HL7MQJOHD5Q8 [INF] Request finished in 65.5747ms 302  (15c52c40)
2017-09-10T16:38:11.8695095+03:00 0HL7MQJOHD5Q9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62379616136096061505050691786&state=15050506917860.7408469006190297   (e5be5b71)
2017-09-10T16:38:11.8730104+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:38:11.8745116+03:00 0HL7MQJOHD5Q9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:38:11.8750117+03:00 0HL7MQJOHD5Q9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:11.8750117+03:00 0HL7MQJOHD5Q9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:38:11.8755123+03:00 0HL7MQJOHD5Q9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:11.8765125+03:00 0HL7MQJOHD5Q9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:11.8765125+03:00 0HL7MQJOHD5Q9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050506917860.7408469006190297\",
  \"Nonce\": \"N0.62379616136096061505050691786\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62379616136096061505050691786\",
    \"state\": \"15050506917860.7408469006190297\"
  }
}" (9a175e33)
2017-09-10T16:38:11.8810169+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:38:11.8995286+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:38:11.9020296+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:38:11.9075339+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:38:11.9135390+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:38:11.9165394+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:38:11.9190409+03:00 0HL7MQJOHD5Q9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:38:11.9460588+03:00 0HL7MQJOHD5Q9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050506917860.7408469006190297\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:38:11.9470595+03:00 0HL7MQJOHD5Q9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:38:11.9475600+03:00 0HL7MQJOHD5Q9 [INF] Request finished in 79.0831ms 302  (15c52c40)
2017-09-10T16:38:15.9098348+03:00 0HL7MQJOHD5QA [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T16:38:15.9128364+03:00 0HL7MQJOHD5QA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:38:15.9128364+03:00 0HL7MQJOHD5QA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T16:38:15.9138371+03:00 0HL7MQJOHD5QA [INF] Request finished in 4.3109ms 200 application/json (15c52c40)
2017-09-10T16:43:12.5994620+03:00 0HL7MQJOHD5QB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.126789093061751461505050992569&state=15050509925690.3023379833144193   (e5be5b71)
2017-09-10T16:43:13.0107960+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:13.0117970+03:00 0HL7MQJOHD5QB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:13.0117970+03:00 0HL7MQJOHD5QB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:13.0117970+03:00 0HL7MQJOHD5QB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:13.0127977+03:00 0HL7MQJOHD5QB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:13.0127977+03:00 0HL7MQJOHD5QB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:13.0137983+03:00 0HL7MQJOHD5QB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050509925690.3023379833144193\",
  \"Nonce\": \"N0.126789093061751461505050992569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.126789093061751461505050992569\",
    \"state\": \"15050509925690.3023379833144193\"
  }
}" (9a175e33)
2017-09-10T16:43:13.0448197+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:13.0578275+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:13.0618309+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:13.0648321+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:13.0688356+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:13.0728426+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:13.0773458+03:00 0HL7MQJOHD5QB [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:13.0958689+03:00 0HL7MQJOHD5QB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050509925690.3023379833144193\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:13.0968695+03:00 0HL7MQJOHD5QB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:13.0978706+03:00 0HL7MQJOHD5QB [INF] Request finished in 498.6407ms 302  (15c52c40)
2017-09-10T16:43:15.6168680+03:00 0HL7MQJOHD5QC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69335327825315131505050995578&state=15050509955780.17661866952981797   (e5be5b71)
2017-09-10T16:43:15.6193698+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:15.6203717+03:00 0HL7MQJOHD5QC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:15.6203717+03:00 0HL7MQJOHD5QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:15.6208710+03:00 0HL7MQJOHD5QC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:15.6213712+03:00 0HL7MQJOHD5QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:15.6218717+03:00 0HL7MQJOHD5QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:15.6218717+03:00 0HL7MQJOHD5QC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050509955780.17661866952981797\",
  \"Nonce\": \"N0.69335327825315131505050995578\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69335327825315131505050995578\",
    \"state\": \"15050509955780.17661866952981797\"
  }
}" (9a175e33)
2017-09-10T16:43:15.6258739+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:15.6373822+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:15.6398832+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:15.6423851+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:15.6443864+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:15.6463873+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:15.6483891+03:00 0HL7MQJOHD5QC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:15.6804103+03:00 0HL7MQJOHD5QC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050509955780.17661866952981797\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:15.6814109+03:00 0HL7MQJOHD5QC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:15.6819115+03:00 0HL7MQJOHD5QC [INF] Request finished in 66.0105ms 302  (15c52c40)
2017-09-10T16:43:18.6238055+03:00 0HL7MQJOHD5QD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79645041403939221505050998581&state=15050509985810.3577011530731098   (e5be5b71)
2017-09-10T16:43:18.6268071+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:18.6273076+03:00 0HL7MQJOHD5QD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:18.6278078+03:00 0HL7MQJOHD5QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:18.6278078+03:00 0HL7MQJOHD5QD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:18.6283083+03:00 0HL7MQJOHD5QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:18.6288092+03:00 0HL7MQJOHD5QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:18.6293094+03:00 0HL7MQJOHD5QD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050509985810.3577011530731098\",
  \"Nonce\": \"N0.79645041403939221505050998581\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79645041403939221505050998581\",
    \"state\": \"15050509985810.3577011530731098\"
  }
}" (9a175e33)
2017-09-10T16:43:18.6328111+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:18.6473205+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:18.6498227+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:18.6518237+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:18.6553270+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:18.6598290+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:18.6618303+03:00 0HL7MQJOHD5QD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:18.6873482+03:00 0HL7MQJOHD5QD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050509985810.3577011530731098\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:18.6883485+03:00 0HL7MQJOHD5QD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:18.6893495+03:00 0HL7MQJOHD5QD [INF] Request finished in 65.9691ms 302  (15c52c40)
2017-09-10T16:43:22.6005309+03:00 0HL7MQJOHD5QE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66399250579793571505051002567&state=15050510025670.8865351016940357   (e5be5b71)
2017-09-10T16:43:22.6035369+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:22.6040338+03:00 0HL7MQJOHD5QE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:22.6045340+03:00 0HL7MQJOHD5QE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:22.6045340+03:00 0HL7MQJOHD5QE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:22.6050345+03:00 0HL7MQJOHD5QE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:22.6060348+03:00 0HL7MQJOHD5QE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:22.6060348+03:00 0HL7MQJOHD5QE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510025670.8865351016940357\",
  \"Nonce\": \"N0.66399250579793571505051002567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66399250579793571505051002567\",
    \"state\": \"15050510025670.8865351016940357\"
  }
}" (9a175e33)
2017-09-10T16:43:22.6100378+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:22.6235466+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:22.6255483+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:22.6280497+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:22.6300515+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:22.6320524+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:22.6350544+03:00 0HL7MQJOHD5QE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:22.6585702+03:00 0HL7MQJOHD5QE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510025670.8865351016940357\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:22.6590707+03:00 0HL7MQJOHD5QE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:22.6600714+03:00 0HL7MQJOHD5QE [INF] Request finished in 60.0559ms 302  (15c52c40)
2017-09-10T16:43:25.6065870+03:00 0HL7MQJOHD5QF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0202915318036989151505051005569&state=15050510055690.920478726870622   (e5be5b71)
2017-09-10T16:43:25.6095890+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:25.6100895+03:00 0HL7MQJOHD5QF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:25.6105897+03:00 0HL7MQJOHD5QF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:25.6110902+03:00 0HL7MQJOHD5QF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:25.6115907+03:00 0HL7MQJOHD5QF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:25.6120909+03:00 0HL7MQJOHD5QF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:25.6125914+03:00 0HL7MQJOHD5QF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510055690.920478726870622\",
  \"Nonce\": \"N0.0202915318036989151505051005569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0202915318036989151505051005569\",
    \"state\": \"15050510055690.920478726870622\"
  }
}" (9a175e33)
2017-09-10T16:43:25.6160935+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:25.6321037+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:25.6341050+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:25.6361068+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:25.6386094+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:25.6411097+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:25.6436115+03:00 0HL7MQJOHD5QF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:25.6661266+03:00 0HL7MQJOHD5QF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510055690.920478726870622\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:25.6671273+03:00 0HL7MQJOHD5QF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:25.6676274+03:00 0HL7MQJOHD5QF [INF] Request finished in 61.7943ms 302  (15c52c40)
2017-09-10T16:43:28.6217920+03:00 0HL7MQJOHD5QG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.462248139772681871505051008572&state=15050510085720.4019274512175248   (e5be5b71)
2017-09-10T16:43:28.6242914+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:28.6247932+03:00 0HL7MQJOHD5QG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:28.6252921+03:00 0HL7MQJOHD5QG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:28.6252921+03:00 0HL7MQJOHD5QG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:28.6257922+03:00 0HL7MQJOHD5QG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:28.6262936+03:00 0HL7MQJOHD5QG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:28.6267937+03:00 0HL7MQJOHD5QG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510085720.4019274512175248\",
  \"Nonce\": \"N0.462248139772681871505051008572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.462248139772681871505051008572\",
    \"state\": \"15050510085720.4019274512175248\"
  }
}" (9a175e33)
2017-09-10T16:43:28.6297965+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:28.6403024+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:28.6428039+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:28.6448064+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:28.6463076+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:28.6493080+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:28.6518103+03:00 0HL7MQJOHD5QG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:28.6743250+03:00 0HL7MQJOHD5QG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510085720.4019274512175248\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:28.6748255+03:00 0HL7MQJOHD5QG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:28.6753260+03:00 0HL7MQJOHD5QG [INF] Request finished in 54.181ms 302  (15c52c40)
2017-09-10T16:43:32.6159297+03:00 0HL7MQJOHD5QH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55168844775658021505051012570&state=15050510125700.2703653718151775   (e5be5b71)
2017-09-10T16:43:32.6179318+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:32.6189313+03:00 0HL7MQJOHD5QH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:32.6189313+03:00 0HL7MQJOHD5QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:32.6189313+03:00 0HL7MQJOHD5QH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:32.6199327+03:00 0HL7MQJOHD5QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:32.6199327+03:00 0HL7MQJOHD5QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:32.6209330+03:00 0HL7MQJOHD5QH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510125700.2703653718151775\",
  \"Nonce\": \"N0.55168844775658021505051012570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55168844775658021505051012570\",
    \"state\": \"15050510125700.2703653718151775\"
  }
}" (9a175e33)
2017-09-10T16:43:32.6249360+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:32.6349411+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:32.6369432+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:32.6389469+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:32.6419457+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:32.6439459+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:32.6449469+03:00 0HL7MQJOHD5QH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:32.6629600+03:00 0HL7MQJOHD5QH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510125700.2703653718151775\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:32.6639690+03:00 0HL7MQJOHD5QH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:32.6649590+03:00 0HL7MQJOHD5QH [INF] Request finished in 50.191ms 302  (15c52c40)
2017-09-10T16:43:35.6292265+03:00 0HL7MQJOHD5QI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.218223511104092441505051015575&state=15050510155750.41873925537657075   (e5be5b71)
2017-09-10T16:43:35.6312274+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:35.6322285+03:00 0HL7MQJOHD5QI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:35.6322285+03:00 0HL7MQJOHD5QI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:35.6332287+03:00 0HL7MQJOHD5QI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:35.6332287+03:00 0HL7MQJOHD5QI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:35.6342290+03:00 0HL7MQJOHD5QI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:35.6342290+03:00 0HL7MQJOHD5QI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510155750.41873925537657075\",
  \"Nonce\": \"N0.218223511104092441505051015575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.218223511104092441505051015575\",
    \"state\": \"15050510155750.41873925537657075\"
  }
}" (9a175e33)
2017-09-10T16:43:35.6452367+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:35.6642501+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:35.6652503+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:35.6672513+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:35.6702532+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:35.6757654+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:35.6782660+03:00 0HL7MQJOHD5QI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:35.6992800+03:00 0HL7MQJOHD5QI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510155750.41873925537657075\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:35.6997805+03:00 0HL7MQJOHD5QI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:35.7007808+03:00 0HL7MQJOHD5QI [INF] Request finished in 71.4627ms 302  (15c52c40)
2017-09-10T16:43:38.6458951+03:00 0HL7MQJOHD5QJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.131223193494952371505051018579&state=15050510185790.43573239892310167   (e5be5b71)
2017-09-10T16:43:38.6488971+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:38.6498981+03:00 0HL7MQJOHD5QJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:38.6503987+03:00 0HL7MQJOHD5QJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:38.6503987+03:00 0HL7MQJOHD5QJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:38.6508988+03:00 0HL7MQJOHD5QJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:38.6513989+03:00 0HL7MQJOHD5QJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:38.6513989+03:00 0HL7MQJOHD5QJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510185790.43573239892310167\",
  \"Nonce\": \"N0.131223193494952371505051018579\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.131223193494952371505051018579\",
    \"state\": \"15050510185790.43573239892310167\"
  }
}" (9a175e33)
2017-09-10T16:43:38.6659084+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:38.6829196+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:38.6864221+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:38.7019326+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:38.7044349+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:38.7149408+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:38.7184433+03:00 0HL7MQJOHD5QJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:38.7584706+03:00 0HL7MQJOHD5QJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510185790.43573239892310167\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:38.7589704+03:00 0HL7MQJOHD5QJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:38.7599707+03:00 0HL7MQJOHD5QJ [INF] Request finished in 115.1417ms 302  (15c52c40)
2017-09-10T16:43:42.6168794+03:00 0HL7MQJOHD5QK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31060898351818311505051022569&state=15050510225690.6273528645066313   (e5be5b71)
2017-09-10T16:43:42.6198806+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:42.6203812+03:00 0HL7MQJOHD5QK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:42.6208813+03:00 0HL7MQJOHD5QK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:42.6208813+03:00 0HL7MQJOHD5QK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:42.6218847+03:00 0HL7MQJOHD5QK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:42.6228854+03:00 0HL7MQJOHD5QK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:42.6233839+03:00 0HL7MQJOHD5QK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510225690.6273528645066313\",
  \"Nonce\": \"N0.31060898351818311505051022569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31060898351818311505051022569\",
    \"state\": \"15050510225690.6273528645066313\"
  }
}" (9a175e33)
2017-09-10T16:43:42.6288866+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:42.6383939+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:42.6418956+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:42.6438961+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:42.6473991+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:42.6488995+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:42.6509008+03:00 0HL7MQJOHD5QK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:42.6739176+03:00 0HL7MQJOHD5QK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510225690.6273528645066313\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:42.6744173+03:00 0HL7MQJOHD5QK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:42.6754180+03:00 0HL7MQJOHD5QK [INF] Request finished in 58.6483ms 302  (15c52c40)
2017-09-10T16:43:45.6116428+03:00 0HL7MQJOHD5QL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49628750498191821505051025570&state=15050510255700.35467595018319087   (e5be5b71)
2017-09-10T16:43:45.6151446+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:45.6156451+03:00 0HL7MQJOHD5QL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:45.6161448+03:00 0HL7MQJOHD5QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:45.6161448+03:00 0HL7MQJOHD5QL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:45.6166457+03:00 0HL7MQJOHD5QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:45.6176464+03:00 0HL7MQJOHD5QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:45.6176464+03:00 0HL7MQJOHD5QL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510255700.35467595018319087\",
  \"Nonce\": \"N0.49628750498191821505051025570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49628750498191821505051025570\",
    \"state\": \"15050510255700.35467595018319087\"
  }
}" (9a175e33)
2017-09-10T16:43:45.6211489+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:45.6356583+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:45.6371587+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:45.6406636+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:45.6431639+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:45.6476671+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:45.6496680+03:00 0HL7MQJOHD5QL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:45.6741841+03:00 0HL7MQJOHD5QL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510255700.35467595018319087\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:45.6746846+03:00 0HL7MQJOHD5QL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:45.6761858+03:00 0HL7MQJOHD5QL [INF] Request finished in 64.1967ms 302  (15c52c40)
2017-09-10T16:43:48.6196130+03:00 0HL7MQJOHD5QM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.028850327934379471505051028578&state=15050510285780.5786699230037513   (e5be5b71)
2017-09-10T16:43:48.6236176+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:48.6241162+03:00 0HL7MQJOHD5QM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:48.6246163+03:00 0HL7MQJOHD5QM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:48.6246163+03:00 0HL7MQJOHD5QM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:48.6251176+03:00 0HL7MQJOHD5QM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:48.6256174+03:00 0HL7MQJOHD5QM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:48.6261175+03:00 0HL7MQJOHD5QM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510285780.5786699230037513\",
  \"Nonce\": \"N0.028850327934379471505051028578\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.028850327934379471505051028578\",
    \"state\": \"15050510285780.5786699230037513\"
  }
}" (9a175e33)
2017-09-10T16:43:48.6301198+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:48.6471314+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:48.6486322+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:48.6506335+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:48.6531354+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:48.6581383+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:48.6626423+03:00 0HL7MQJOHD5QM [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:48.6846561+03:00 0HL7MQJOHD5QM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510285780.5786699230037513\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:48.6856567+03:00 0HL7MQJOHD5QM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:48.6861569+03:00 0HL7MQJOHD5QM [INF] Request finished in 66.7629ms 302  (15c52c40)
2017-09-10T16:43:52.6127315+03:00 0HL7MQJOHD5QN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.444615148987175471505051032579&state=15050510325790.22451417280275243   (e5be5b71)
2017-09-10T16:43:52.6157323+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:52.6162325+03:00 0HL7MQJOHD5QN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:52.6167334+03:00 0HL7MQJOHD5QN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:52.6167334+03:00 0HL7MQJOHD5QN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:52.6172331+03:00 0HL7MQJOHD5QN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:52.6177336+03:00 0HL7MQJOHD5QN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:52.6177336+03:00 0HL7MQJOHD5QN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510325790.22451417280275243\",
  \"Nonce\": \"N0.444615148987175471505051032579\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.444615148987175471505051032579\",
    \"state\": \"15050510325790.22451417280275243\"
  }
}" (9a175e33)
2017-09-10T16:43:52.6222396+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:52.6422513+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:52.6497552+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:52.6527572+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:52.6627647+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:52.6657659+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:52.6687678+03:00 0HL7MQJOHD5QN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:52.6927834+03:00 0HL7MQJOHD5QN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510325790.22451417280275243\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:52.6932843+03:00 0HL7MQJOHD5QN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:52.6942845+03:00 0HL7MQJOHD5QN [INF] Request finished in 81.894ms 302  (15c52c40)
2017-09-10T16:43:56.6199154+03:00 0HL7MQJOHD5QO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0620529969224579151505051036581&state=15050510365810.3449718335113887   (e5be5b71)
2017-09-10T16:43:56.6234179+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:56.6244185+03:00 0HL7MQJOHD5QO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:56.6249191+03:00 0HL7MQJOHD5QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:56.6254196+03:00 0HL7MQJOHD5QO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:56.6259197+03:00 0HL7MQJOHD5QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:56.6264203+03:00 0HL7MQJOHD5QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:56.6269200+03:00 0HL7MQJOHD5QO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510365810.3449718335113887\",
  \"Nonce\": \"N0.0620529969224579151505051036581\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0620529969224579151505051036581\",
    \"state\": \"15050510365810.3449718335113887\"
  }
}" (9a175e33)
2017-09-10T16:43:56.6324238+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:56.6504354+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:56.6579406+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:56.6639449+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:56.6674467+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:56.6694484+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:56.6739523+03:00 0HL7MQJOHD5QO [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:56.6974669+03:00 0HL7MQJOHD5QO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510365810.3449718335113887\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:56.6979667+03:00 0HL7MQJOHD5QO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:56.6989677+03:00 0HL7MQJOHD5QO [INF] Request finished in 79.1099ms 302  (15c52c40)
2017-09-10T16:43:59.7644517+03:00 0HL7MQJOHD5QP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62811867371581351505051039653&state=15050510396530.9703415405548508   (e5be5b71)
2017-09-10T16:43:59.7684548+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:43:59.7694550+03:00 0HL7MQJOHD5QP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:43:59.7699560+03:00 0HL7MQJOHD5QP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:59.7699560+03:00 0HL7MQJOHD5QP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:43:59.7704553+03:00 0HL7MQJOHD5QP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:59.7714560+03:00 0HL7MQJOHD5QP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:59.7714560+03:00 0HL7MQJOHD5QP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510396530.9703415405548508\",
  \"Nonce\": \"N0.62811867371581351505051039653\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62811867371581351505051039653\",
    \"state\": \"15050510396530.9703415405548508\"
  }
}" (9a175e33)
2017-09-10T16:43:59.7954723+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:43:59.8500090+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:59.8655187+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:43:59.8855319+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:43:59.9330636+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:43:59.9655845+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:43:59.9700877+03:00 0HL7MQJOHD5QP [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:43:59.9961050+03:00 0HL7MQJOHD5QP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510396530.9703415405548508\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:43:59.9981059+03:00 0HL7MQJOHD5QP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:43:59.9996075+03:00 0HL7MQJOHD5QP [INF] Request finished in 243.3903ms 302  (15c52c40)
2017-09-10T16:44:03.6053471+03:00 0HL7MQJOHD5QQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44158887636654121505051043571&state=15050510435710.7599372639419606   (e5be5b71)
2017-09-10T16:44:03.6098476+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:03.6103477+03:00 0HL7MQJOHD5QQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:03.6108478+03:00 0HL7MQJOHD5QQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:03.6108478+03:00 0HL7MQJOHD5QQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:03.6113484+03:00 0HL7MQJOHD5QQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:03.6123498+03:00 0HL7MQJOHD5QQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:03.6123498+03:00 0HL7MQJOHD5QQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510435710.7599372639419606\",
  \"Nonce\": \"N0.44158887636654121505051043571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44158887636654121505051043571\",
    \"state\": \"15050510435710.7599372639419606\"
  }
}" (9a175e33)
2017-09-10T16:44:03.6178521+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:03.6318625+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:03.6368654+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:03.6498741+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:03.6543776+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:03.6613819+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:03.6658851+03:00 0HL7MQJOHD5QQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:03.6909012+03:00 0HL7MQJOHD5QQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510435710.7599372639419606\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:03.6929026+03:00 0HL7MQJOHD5QQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:03.6944042+03:00 0HL7MQJOHD5QQ [INF] Request finished in 88.9287ms 302  (15c52c40)
2017-09-10T16:44:06.6218421+03:00 0HL7MQJOHD5QR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.304403181313300351505051046580&state=15050510465800.7437147109102638   (e5be5b71)
2017-09-10T16:44:06.6278465+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:06.6288475+03:00 0HL7MQJOHD5QR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:06.6293473+03:00 0HL7MQJOHD5QR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:06.6293473+03:00 0HL7MQJOHD5QR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:06.6303475+03:00 0HL7MQJOHD5QR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:06.6313490+03:00 0HL7MQJOHD5QR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:06.6313490+03:00 0HL7MQJOHD5QR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510465800.7437147109102638\",
  \"Nonce\": \"N0.304403181313300351505051046580\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.304403181313300351505051046580\",
    \"state\": \"15050510465800.7437147109102638\"
  }
}" (9a175e33)
2017-09-10T16:44:06.6343506+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:06.6513614+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:06.6533628+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:06.6553649+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:06.6603678+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:06.6638711+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:06.6658712+03:00 0HL7MQJOHD5QR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:06.6923914+03:00 0HL7MQJOHD5QR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510465800.7437147109102638\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:06.6933901+03:00 0HL7MQJOHD5QR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:06.6938902+03:00 0HL7MQJOHD5QR [INF] Request finished in 72.4298ms 302  (15c52c40)
2017-09-10T16:44:10.6191365+03:00 0HL7MQJOHD5QS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51168059206663051505051050575&state=15050510505750.10594649086949004   (e5be5b71)
2017-09-10T16:44:10.6211383+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:10.6216388+03:00 0HL7MQJOHD5QS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:10.6221389+03:00 0HL7MQJOHD5QS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:10.6221389+03:00 0HL7MQJOHD5QS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:10.6226391+03:00 0HL7MQJOHD5QS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:10.6236417+03:00 0HL7MQJOHD5QS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:10.6236417+03:00 0HL7MQJOHD5QS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510505750.10594649086949004\",
  \"Nonce\": \"N0.51168059206663051505051050575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51168059206663051505051050575\",
    \"state\": \"15050510505750.10594649086949004\"
  }
}" (9a175e33)
2017-09-10T16:44:10.6261416+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:10.6386501+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:10.6406518+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:10.6426527+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:10.6446540+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:10.6476564+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:10.6491572+03:00 0HL7MQJOHD5QS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:10.6706713+03:00 0HL7MQJOHD5QS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510505750.10594649086949004\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:10.6711722+03:00 0HL7MQJOHD5QS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:10.6716715+03:00 0HL7MQJOHD5QS [INF] Request finished in 53.0809ms 302  (15c52c40)
2017-09-10T16:44:14.6150384+03:00 0HL7MQJOHD5QT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37293466620237651505051054572&state=15050510545720.34277402186101336   (e5be5b71)
2017-09-10T16:44:14.6225435+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:14.6235442+03:00 0HL7MQJOHD5QT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:14.6240443+03:00 0HL7MQJOHD5QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:14.6245453+03:00 0HL7MQJOHD5QT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:14.6245453+03:00 0HL7MQJOHD5QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:14.6255459+03:00 0HL7MQJOHD5QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:14.6255459+03:00 0HL7MQJOHD5QT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510545720.34277402186101336\",
  \"Nonce\": \"N0.37293466620237651505051054572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37293466620237651505051054572\",
    \"state\": \"15050510545720.34277402186101336\"
  }
}" (9a175e33)
2017-09-10T16:44:14.6295486+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:14.6430573+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:14.6460593+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:14.6490609+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:14.6530636+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:14.6595712+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:14.6620695+03:00 0HL7MQJOHD5QT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:14.6900893+03:00 0HL7MQJOHD5QT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510545720.34277402186101336\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:14.6910891+03:00 0HL7MQJOHD5QT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:14.6925907+03:00 0HL7MQJOHD5QT [INF] Request finished in 77.2539ms 302  (15c52c40)
2017-09-10T16:44:18.5981546+03:00 0HL7MQJOHD5QU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.40532140923593011505051058567&state=15050510585670.8631878803628623   (e5be5b71)
2017-09-10T16:44:18.6011562+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:18.6011562+03:00 0HL7MQJOHD5QU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:18.6021569+03:00 0HL7MQJOHD5QU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:18.6021569+03:00 0HL7MQJOHD5QU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:18.6021569+03:00 0HL7MQJOHD5QU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:18.6031575+03:00 0HL7MQJOHD5QU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:18.6031575+03:00 0HL7MQJOHD5QU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510585670.8631878803628623\",
  \"Nonce\": \"N0.40532140923593011505051058567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.40532140923593011505051058567\",
    \"state\": \"15050510585670.8631878803628623\"
  }
}" (9a175e33)
2017-09-10T16:44:18.6061603+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:18.6191744+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:18.6246783+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:18.6276807+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:18.6301821+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:18.6371919+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:18.6411949+03:00 0HL7MQJOHD5QU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:18.6662111+03:00 0HL7MQJOHD5QU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510585670.8631878803628623\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:18.6672114+03:00 0HL7MQJOHD5QU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:18.6682120+03:00 0HL7MQJOHD5QU [INF] Request finished in 69.8734ms 302  (15c52c40)
2017-09-10T16:44:21.6132802+03:00 0HL7MQJOHD5QV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7253355125322251505051061576&state=15050510615760.6221443115103678   (e5be5b71)
2017-09-10T16:44:21.6162830+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:21.6172829+03:00 0HL7MQJOHD5QV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:21.6172829+03:00 0HL7MQJOHD5QV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:21.6172829+03:00 0HL7MQJOHD5QV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:21.6182839+03:00 0HL7MQJOHD5QV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:21.6182839+03:00 0HL7MQJOHD5QV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:21.6192842+03:00 0HL7MQJOHD5QV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510615760.6221443115103678\",
  \"Nonce\": \"N0.7253355125322251505051061576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7253355125322251505051061576\",
    \"state\": \"15050510615760.6221443115103678\"
  }
}" (9a175e33)
2017-09-10T16:44:21.6232916+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:21.6367999+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:21.6388052+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:21.6428075+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:21.6448096+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:21.6468105+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:21.6498125+03:00 0HL7MQJOHD5QV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:21.6748310+03:00 0HL7MQJOHD5QV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510615760.6221443115103678\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:21.6758305+03:00 0HL7MQJOHD5QV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:21.6768300+03:00 0HL7MQJOHD5QV [INF] Request finished in 63.5659ms 302  (15c52c40)
2017-09-10T16:44:25.6063071+03:00 0HL7MQJOHD5R0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.80349419615107241505051065568&state=15050510655680.4418059914422301   (e5be5b71)
2017-09-10T16:44:25.6093099+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:25.6103102+03:00 0HL7MQJOHD5R0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:25.6103102+03:00 0HL7MQJOHD5R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:25.6113109+03:00 0HL7MQJOHD5R0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:25.6113109+03:00 0HL7MQJOHD5R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:25.6123111+03:00 0HL7MQJOHD5R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:25.6123111+03:00 0HL7MQJOHD5R0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510655680.4418059914422301\",
  \"Nonce\": \"N0.80349419615107241505051065568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.80349419615107241505051065568\",
    \"state\": \"15050510655680.4418059914422301\"
  }
}" (9a175e33)
2017-09-10T16:44:25.6163142+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:25.6338303+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:25.6353307+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:25.6373324+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:25.6388328+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:25.6408357+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:25.6430581+03:00 0HL7MQJOHD5R0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:25.6600698+03:00 0HL7MQJOHD5R0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510655680.4418059914422301\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:25.6600698+03:00 0HL7MQJOHD5R0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:25.6620707+03:00 0HL7MQJOHD5R0 [INF] Request finished in 55.6435ms 302  (15c52c40)
2017-09-10T16:44:29.6080353+03:00 0HL7MQJOHD5R1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.485672940298110371505051069568&state=15050510695680.06420924980409826   (e5be5b71)
2017-09-10T16:44:29.6110373+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:29.6110373+03:00 0HL7MQJOHD5R1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:29.6120380+03:00 0HL7MQJOHD5R1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:29.6120380+03:00 0HL7MQJOHD5R1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:29.6120380+03:00 0HL7MQJOHD5R1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:29.6130386+03:00 0HL7MQJOHD5R1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:29.6130386+03:00 0HL7MQJOHD5R1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510695680.06420924980409826\",
  \"Nonce\": \"N0.485672940298110371505051069568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.485672940298110371505051069568\",
    \"state\": \"15050510695680.06420924980409826\"
  }
}" (9a175e33)
2017-09-10T16:44:29.6190438+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:29.6350575+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:29.6375594+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:29.6445648+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:29.6505724+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:29.6535740+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:29.6775903+03:00 0HL7MQJOHD5R1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:29.7016054+03:00 0HL7MQJOHD5R1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510695680.06420924980409826\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:29.7036071+03:00 0HL7MQJOHD5R1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:29.7056088+03:00 0HL7MQJOHD5R1 [INF] Request finished in 98.2315ms 302  (15c52c40)
2017-09-10T16:44:33.6061256+03:00 0HL7MQJOHD5R2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31190731119887771505051073570&state=15050510735700.8203451092765919   (e5be5b71)
2017-09-10T16:44:33.6091283+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:33.6096277+03:00 0HL7MQJOHD5R2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:33.6101282+03:00 0HL7MQJOHD5R2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:33.6101282+03:00 0HL7MQJOHD5R2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:33.6106287+03:00 0HL7MQJOHD5R2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:33.6111289+03:00 0HL7MQJOHD5R2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:33.6116294+03:00 0HL7MQJOHD5R2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510735700.8203451092765919\",
  \"Nonce\": \"N0.31190731119887771505051073570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31190731119887771505051073570\",
    \"state\": \"15050510735700.8203451092765919\"
  }
}" (9a175e33)
2017-09-10T16:44:33.6141309+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:33.6271407+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:33.6286407+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:33.6306424+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:33.6326433+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:33.6351448+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:33.6371469+03:00 0HL7MQJOHD5R2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:33.6576611+03:00 0HL7MQJOHD5R2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510735700.8203451092765919\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:33.6586606+03:00 0HL7MQJOHD5R2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:33.6591611+03:00 0HL7MQJOHD5R2 [INF] Request finished in 53.7456ms 302  (15c52c40)
2017-09-10T16:44:37.6071381+03:00 0HL7MQJOHD5R3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3902769349859031505051077574&state=15050510775740.5294981526530862   (e5be5b71)
2017-09-10T16:44:37.6106406+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:37.6111407+03:00 0HL7MQJOHD5R3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:37.6116412+03:00 0HL7MQJOHD5R3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:37.6116412+03:00 0HL7MQJOHD5R3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:37.6121414+03:00 0HL7MQJOHD5R3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:37.6131424+03:00 0HL7MQJOHD5R3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:37.6131424+03:00 0HL7MQJOHD5R3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510775740.5294981526530862\",
  \"Nonce\": \"N0.3902769349859031505051077574\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3902769349859031505051077574\",
    \"state\": \"15050510775740.5294981526530862\"
  }
}" (9a175e33)
2017-09-10T16:44:37.6166446+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:37.6311540+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:37.6346573+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:37.6371580+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:37.6391593+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:37.6441634+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:37.6461639+03:00 0HL7MQJOHD5R3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:37.6676803+03:00 0HL7MQJOHD5R3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510775740.5294981526530862\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:37.6686798+03:00 0HL7MQJOHD5R3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:37.6691799+03:00 0HL7MQJOHD5R3 [INF] Request finished in 62.96ms 302  (15c52c40)
2017-09-10T16:44:41.6133213+03:00 0HL7MQJOHD5R4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.168709280122905541505051081568&state=15050510815680.5245041731689057   (e5be5b71)
2017-09-10T16:44:41.6153242+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:41.6158235+03:00 0HL7MQJOHD5R4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:41.6163236+03:00 0HL7MQJOHD5R4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:41.6163236+03:00 0HL7MQJOHD5R4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:41.6168238+03:00 0HL7MQJOHD5R4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:41.6178244+03:00 0HL7MQJOHD5R4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:41.6178244+03:00 0HL7MQJOHD5R4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510815680.5245041731689057\",
  \"Nonce\": \"N0.168709280122905541505051081568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.168709280122905541505051081568\",
    \"state\": \"15050510815680.5245041731689057\"
  }
}" (9a175e33)
2017-09-10T16:44:41.6213270+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:41.6348377+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:41.6368370+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:41.6393393+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:41.6408401+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:41.6438417+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:41.6463431+03:00 0HL7MQJOHD5R4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:41.6683577+03:00 0HL7MQJOHD5R4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510815680.5245041731689057\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:41.6688582+03:00 0HL7MQJOHD5R4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:41.6698597+03:00 0HL7MQJOHD5R4 [INF] Request finished in 56.8171ms 302  (15c52c40)
2017-09-10T16:44:44.6024659+03:00 0HL7MQJOHD5R5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.79360195378642761505051084572&state=15050510845720.6433942453724448   (e5be5b71)
2017-09-10T16:44:44.6054683+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:44.6059689+03:00 0HL7MQJOHD5R5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:44.6064690+03:00 0HL7MQJOHD5R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:44.6064690+03:00 0HL7MQJOHD5R5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:44.6069691+03:00 0HL7MQJOHD5R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:44.6079702+03:00 0HL7MQJOHD5R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:44.6079702+03:00 0HL7MQJOHD5R5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510845720.6433942453724448\",
  \"Nonce\": \"N0.79360195378642761505051084572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.79360195378642761505051084572\",
    \"state\": \"15050510845720.6433942453724448\"
  }
}" (9a175e33)
2017-09-10T16:44:44.6119720+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:44.6239800+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:44.6264842+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:44.6294838+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:44.6309858+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:44.6329860+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:44.6344875+03:00 0HL7MQJOHD5R5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:44.6539995+03:00 0HL7MQJOHD5R5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510845720.6433942453724448\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:44.6550017+03:00 0HL7MQJOHD5R5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:44.6555015+03:00 0HL7MQJOHD5R5 [INF] Request finished in 53.8305ms 302  (15c52c40)
2017-09-10T16:44:48.6150601+03:00 0HL7MQJOHD5R6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.041711990990767721505051088578&state=15050510885780.36324430472873104   (e5be5b71)
2017-09-10T16:44:48.6175619+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:48.6180621+03:00 0HL7MQJOHD5R6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:48.6185630+03:00 0HL7MQJOHD5R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:48.6185630+03:00 0HL7MQJOHD5R6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:48.6190635+03:00 0HL7MQJOHD5R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:48.6195637+03:00 0HL7MQJOHD5R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:48.6195637+03:00 0HL7MQJOHD5R6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510885780.36324430472873104\",
  \"Nonce\": \"N0.041711990990767721505051088578\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.041711990990767721505051088578\",
    \"state\": \"15050510885780.36324430472873104\"
  }
}" (9a175e33)
2017-09-10T16:44:48.6225656+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:48.6355747+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:48.6370747+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:48.6390768+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:48.6410773+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:48.6455829+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:48.6470817+03:00 0HL7MQJOHD5R6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:48.6706034+03:00 0HL7MQJOHD5R6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510885780.36324430472873104\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:48.6721054+03:00 0HL7MQJOHD5R6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:48.6741067+03:00 0HL7MQJOHD5R6 [INF] Request finished in 58.8496ms 302  (15c52c40)
2017-09-10T16:44:52.6023984+03:00 0HL7MQJOHD5R7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.106021736804013941505051092575&state=15050510925750.4730659118245861   (e5be5b71)
2017-09-10T16:44:52.6049003+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:52.6054012+03:00 0HL7MQJOHD5R7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:52.6059010+03:00 0HL7MQJOHD5R7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:52.6059010+03:00 0HL7MQJOHD5R7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:52.6064015+03:00 0HL7MQJOHD5R7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:52.6074018+03:00 0HL7MQJOHD5R7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:52.6074018+03:00 0HL7MQJOHD5R7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510925750.4730659118245861\",
  \"Nonce\": \"N0.106021736804013941505051092575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.106021736804013941505051092575\",
    \"state\": \"15050510925750.4730659118245861\"
  }
}" (9a175e33)
2017-09-10T16:44:52.6114048+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:52.6239133+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:52.6269145+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:52.6294163+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:52.6314181+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:52.6339195+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:52.6374212+03:00 0HL7MQJOHD5R7 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:52.6559337+03:00 0HL7MQJOHD5R7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510925750.4730659118245861\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:52.6569348+03:00 0HL7MQJOHD5R7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:52.6579350+03:00 0HL7MQJOHD5R7 [INF] Request finished in 55.6818ms 302  (15c52c40)
2017-09-10T16:44:56.6033363+03:00 0HL7MQJOHD5R8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64343843410075571505051096571&state=15050510965710.3263553585475174   (e5be5b71)
2017-09-10T16:44:56.6063383+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:56.6068389+03:00 0HL7MQJOHD5R8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:56.6073394+03:00 0HL7MQJOHD5R8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:56.6073394+03:00 0HL7MQJOHD5R8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:56.6083393+03:00 0HL7MQJOHD5R8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:56.6088398+03:00 0HL7MQJOHD5R8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:56.6093403+03:00 0HL7MQJOHD5R8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510965710.3263553585475174\",
  \"Nonce\": \"N0.64343843410075571505051096571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64343843410075571505051096571\",
    \"state\": \"15050510965710.3263553585475174\"
  }
}" (9a175e33)
2017-09-10T16:44:56.6128424+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:56.6268517+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:56.6283525+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:56.6308556+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:56.6323571+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:56.6338564+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:56.6358577+03:00 0HL7MQJOHD5R8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:56.6548699+03:00 0HL7MQJOHD5R8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510965710.3263553585475174\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:56.6558725+03:00 0HL7MQJOHD5R8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:56.6568720+03:00 0HL7MQJOHD5R8 [INF] Request finished in 53.6517ms 302  (15c52c40)
2017-09-10T16:44:59.6161531+03:00 0HL7MQJOHD5R9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89549216483608851505051099582&state=15050510995820.8522601648572294   (e5be5b71)
2017-09-10T16:44:59.6191551+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:44:59.6196552+03:00 0HL7MQJOHD5R9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:44:59.6196552+03:00 0HL7MQJOHD5R9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:59.6201558+03:00 0HL7MQJOHD5R9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:44:59.6206559+03:00 0HL7MQJOHD5R9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:59.6211564+03:00 0HL7MQJOHD5R9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:59.6211564+03:00 0HL7MQJOHD5R9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050510995820.8522601648572294\",
  \"Nonce\": \"N0.89549216483608851505051099582\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89549216483608851505051099582\",
    \"state\": \"15050510995820.8522601648572294\"
  }
}" (9a175e33)
2017-09-10T16:44:59.6241584+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:44:59.6386682+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:59.6406692+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:44:59.6426725+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:44:59.6451723+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:44:59.6476742+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:44:59.6496751+03:00 0HL7MQJOHD5R9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:44:59.6721902+03:00 0HL7MQJOHD5R9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050510995820.8522601648572294\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:44:59.6726908+03:00 0HL7MQJOHD5R9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:44:59.6736922+03:00 0HL7MQJOHD5R9 [INF] Request finished in 57.4984ms 302  (15c52c40)
2017-09-10T16:45:03.6175639+03:00 0HL7MQJOHD5RA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.133828378684392571505051103582&state=15050511035820.3436114877054841   (e5be5b71)
2017-09-10T16:45:03.6205659+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:03.6210660+03:00 0HL7MQJOHD5RA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:03.6215666+03:00 0HL7MQJOHD5RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:03.6215666+03:00 0HL7MQJOHD5RA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:03.6220671+03:00 0HL7MQJOHD5RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:03.6225668+03:00 0HL7MQJOHD5RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:03.6230678+03:00 0HL7MQJOHD5RA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511035820.3436114877054841\",
  \"Nonce\": \"N0.133828378684392571505051103582\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.133828378684392571505051103582\",
    \"state\": \"15050511035820.3436114877054841\"
  }
}" (9a175e33)
2017-09-10T16:45:03.6290717+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:03.6475838+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:03.6525871+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:03.6595917+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:03.6645947+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:03.6705990+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:03.6761045+03:00 0HL7MQJOHD5RA [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:03.6976173+03:00 0HL7MQJOHD5RA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511035820.3436114877054841\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:03.6981175+03:00 0HL7MQJOHD5RA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:03.6986176+03:00 0HL7MQJOHD5RA [INF] Request finished in 82.0906ms 302  (15c52c40)
2017-09-10T16:45:07.6054111+03:00 0HL7MQJOHD5RB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.183051467530077621505051107576&state=15050511075760.8053113247324399   (e5be5b71)
2017-09-10T16:45:07.6079133+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:07.6089132+03:00 0HL7MQJOHD5RB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:07.6094133+03:00 0HL7MQJOHD5RB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:07.6094133+03:00 0HL7MQJOHD5RB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:07.6099154+03:00 0HL7MQJOHD5RB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:07.6104148+03:00 0HL7MQJOHD5RB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:07.6109149+03:00 0HL7MQJOHD5RB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511075760.8053113247324399\",
  \"Nonce\": \"N0.183051467530077621505051107576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.183051467530077621505051107576\",
    \"state\": \"15050511075760.8053113247324399\"
  }
}" (9a175e33)
2017-09-10T16:45:07.6169189+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:07.6329295+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:07.6369318+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:07.6399338+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:07.6459385+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:07.6479387+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:07.6519421+03:00 0HL7MQJOHD5RB [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:07.6754571+03:00 0HL7MQJOHD5RB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511075760.8053113247324399\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:07.6764609+03:00 0HL7MQJOHD5RB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:07.6769591+03:00 0HL7MQJOHD5RB [INF] Request finished in 72.3789ms 302  (15c52c40)
2017-09-10T16:45:11.6069924+03:00 0HL7MQJOHD5RC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.52122184141279651505051111570&state=15050511115700.7144306899157282   (e5be5b71)
2017-09-10T16:45:11.6099948+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:11.6109951+03:00 0HL7MQJOHD5RC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:11.6114952+03:00 0HL7MQJOHD5RC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:11.6114952+03:00 0HL7MQJOHD5RC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:11.6119957+03:00 0HL7MQJOHD5RC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:11.6124959+03:00 0HL7MQJOHD5RC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:11.6129964+03:00 0HL7MQJOHD5RC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511115700.7144306899157282\",
  \"Nonce\": \"N0.52122184141279651505051111570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.52122184141279651505051111570\",
    \"state\": \"15050511115700.7144306899157282\"
  }
}" (9a175e33)
2017-09-10T16:45:11.6164989+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:11.6290066+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:11.6305078+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:11.6320090+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:11.6340099+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:11.6360112+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:11.6375128+03:00 0HL7MQJOHD5RC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:11.6710344+03:00 0HL7MQJOHD5RC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511115700.7144306899157282\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:11.6715346+03:00 0HL7MQJOHD5RC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:11.6720351+03:00 0HL7MQJOHD5RC [INF] Request finished in 65.169ms 302  (15c52c40)
2017-09-10T16:45:15.6042892+03:00 0HL7MQJOHD5RD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.170026062369780681505051115571&state=15050511155710.022720141299244156   (e5be5b71)
2017-09-10T16:45:15.6067915+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:15.6072916+03:00 0HL7MQJOHD5RD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:15.6077921+03:00 0HL7MQJOHD5RD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:15.6082923+03:00 0HL7MQJOHD5RD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:15.6087924+03:00 0HL7MQJOHD5RD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:15.6092929+03:00 0HL7MQJOHD5RD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:15.6092929+03:00 0HL7MQJOHD5RD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511155710.022720141299244156\",
  \"Nonce\": \"N0.170026062369780681505051115571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.170026062369780681505051115571\",
    \"state\": \"15050511155710.022720141299244156\"
  }
}" (9a175e33)
2017-09-10T16:45:15.6127963+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:15.6288061+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:15.6308074+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:15.6328083+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:15.6348108+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:15.6373135+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:15.6388135+03:00 0HL7MQJOHD5RD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:15.6563237+03:00 0HL7MQJOHD5RD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511155710.022720141299244156\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:15.6568242+03:00 0HL7MQJOHD5RD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:15.6578253+03:00 0HL7MQJOHD5RD [INF] Request finished in 54.0823ms 302  (15c52c40)
2017-09-10T16:45:19.6031820+03:00 0HL7MQJOHD5RE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85265171628718381505051119572&state=15050511195720.7184256155116078   (e5be5b71)
2017-09-10T16:45:19.6061848+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:19.6061848+03:00 0HL7MQJOHD5RE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:19.6071854+03:00 0HL7MQJOHD5RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:19.6071854+03:00 0HL7MQJOHD5RE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:19.6071854+03:00 0HL7MQJOHD5RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:19.6081857+03:00 0HL7MQJOHD5RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:19.6081857+03:00 0HL7MQJOHD5RE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511195720.7184256155116078\",
  \"Nonce\": \"N0.85265171628718381505051119572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85265171628718381505051119572\",
    \"state\": \"15050511195720.7184256155116078\"
  }
}" (9a175e33)
2017-09-10T16:45:19.6111877+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:19.6241963+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:19.6271983+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:19.6291996+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:19.6312006+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:19.6332023+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:19.6352036+03:00 0HL7MQJOHD5RE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:19.6522145+03:00 0HL7MQJOHD5RE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511195720.7184256155116078\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:19.6532155+03:00 0HL7MQJOHD5RE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:19.6562175+03:00 0HL7MQJOHD5RE [INF] Request finished in 52.0099ms 302  (15c52c40)
2017-09-10T16:45:23.6016658+03:00 0HL7MQJOHD5RF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85191130336479561505051123569&state=15050511235690.10146053972390567   (e5be5b71)
2017-09-10T16:45:23.6036667+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:23.6041673+03:00 0HL7MQJOHD5RF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:23.6046670+03:00 0HL7MQJOHD5RF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:23.6046670+03:00 0HL7MQJOHD5RF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:23.6051679+03:00 0HL7MQJOHD5RF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:23.6063249+03:00 0HL7MQJOHD5RF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:23.6063249+03:00 0HL7MQJOHD5RF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511235690.10146053972390567\",
  \"Nonce\": \"N0.85191130336479561505051123569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85191130336479561505051123569\",
    \"state\": \"15050511235690.10146053972390567\"
  }
}" (9a175e33)
2017-09-10T16:45:23.6103272+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:23.6203338+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:23.6233385+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:23.6253367+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:23.6293398+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:23.6313423+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:23.6323429+03:00 0HL7MQJOHD5RF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:23.6513543+03:00 0HL7MQJOHD5RF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511235690.10146053972390567\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:23.6513543+03:00 0HL7MQJOHD5RF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:23.6523550+03:00 0HL7MQJOHD5RF [INF] Request finished in 51.6993ms 302  (15c52c40)
2017-09-10T16:45:27.6051873+03:00 0HL7MQJOHD5RG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32753170224126181505051127568&state=15050511275680.991749374621846   (e5be5b71)
2017-09-10T16:45:27.6076887+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:27.6081893+03:00 0HL7MQJOHD5RG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:27.6086890+03:00 0HL7MQJOHD5RG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:27.6086890+03:00 0HL7MQJOHD5RG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:27.6091895+03:00 0HL7MQJOHD5RG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:27.6096908+03:00 0HL7MQJOHD5RG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:27.6101914+03:00 0HL7MQJOHD5RG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511275680.991749374621846\",
  \"Nonce\": \"N0.32753170224126181505051127568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32753170224126181505051127568\",
    \"state\": \"15050511275680.991749374621846\"
  }
}" (9a175e33)
2017-09-10T16:45:27.6141005+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:27.6251074+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:27.6271087+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:27.6291100+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:27.6321116+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:27.6341137+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:27.6361151+03:00 0HL7MQJOHD5RG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:27.6541266+03:00 0HL7MQJOHD5RG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511275680.991749374621846\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:27.6551272+03:00 0HL7MQJOHD5RG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:27.6561283+03:00 0HL7MQJOHD5RG [INF] Request finished in 51.4644ms 302  (15c52c40)
2017-09-10T16:45:30.6037706+03:00 0HL7MQJOHD5RH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.196846541064888751505051130576&state=15050511305760.2867147969584798   (e5be5b71)
2017-09-10T16:45:30.6062716+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:30.6067725+03:00 0HL7MQJOHD5RH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:30.6072739+03:00 0HL7MQJOHD5RH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:30.6072739+03:00 0HL7MQJOHD5RH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:30.6077732+03:00 0HL7MQJOHD5RH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:30.6082741+03:00 0HL7MQJOHD5RH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:30.6087743+03:00 0HL7MQJOHD5RH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511305760.2867147969584798\",
  \"Nonce\": \"N0.196846541064888751505051130576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.196846541064888751505051130576\",
    \"state\": \"15050511305760.2867147969584798\"
  }
}" (9a175e33)
2017-09-10T16:45:30.6132774+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:30.6262912+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:30.6282905+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:30.6312929+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:30.6332939+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:30.6352952+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:30.6372977+03:00 0HL7MQJOHD5RH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:30.6533071+03:00 0HL7MQJOHD5RH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511305760.2867147969584798\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:30.6543078+03:00 0HL7MQJOHD5RH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:30.6553084+03:00 0HL7MQJOHD5RH [INF] Request finished in 52.3553ms 302  (15c52c40)
2017-09-10T16:45:34.5927467+03:00 0HL7MQJOHD5RI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29699293912543691505051134571&state=15050511345710.9627996830250751   (e5be5b71)
2017-09-10T16:45:34.5957514+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:34.5967489+03:00 0HL7MQJOHD5RI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:34.5967489+03:00 0HL7MQJOHD5RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:34.5977500+03:00 0HL7MQJOHD5RI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:34.5977500+03:00 0HL7MQJOHD5RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:34.5987518+03:00 0HL7MQJOHD5RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:34.5987518+03:00 0HL7MQJOHD5RI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511345710.9627996830250751\",
  \"Nonce\": \"N0.29699293912543691505051134571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29699293912543691505051134571\",
    \"state\": \"15050511345710.9627996830250751\"
  }
}" (9a175e33)
2017-09-10T16:45:34.6017526+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:34.6107630+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:34.6122638+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:34.6132644+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:34.6147660+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:34.6167669+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:34.6182693+03:00 0HL7MQJOHD5RI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:34.6318108+03:00 0HL7MQJOHD5RI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511345710.9627996830250751\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:34.6328119+03:00 0HL7MQJOHD5RI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:34.6328119+03:00 0HL7MQJOHD5RI [INF] Request finished in 40.8274ms 302  (15c52c40)
2017-09-10T16:45:38.6364636+03:00 0HL7MQJOHD5RJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64565971451141981505051138577&state=15050511385770.7160989082880791   (e5be5b71)
2017-09-10T16:45:38.6394656+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:38.6404663+03:00 0HL7MQJOHD5RJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:38.6404663+03:00 0HL7MQJOHD5RJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:38.6404663+03:00 0HL7MQJOHD5RJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:38.6414669+03:00 0HL7MQJOHD5RJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:38.6414669+03:00 0HL7MQJOHD5RJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:38.6424676+03:00 0HL7MQJOHD5RJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511385770.7160989082880791\",
  \"Nonce\": \"N0.64565971451141981505051138577\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64565971451141981505051138577\",
    \"state\": \"15050511385770.7160989082880791\"
  }
}" (9a175e33)
2017-09-10T16:45:38.6484712+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:38.6744884+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:38.6754895+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:38.6774904+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:38.6814930+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:38.6844958+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:38.6854957+03:00 0HL7MQJOHD5RJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:38.7035076+03:00 0HL7MQJOHD5RJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511385770.7160989082880791\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:38.7055105+03:00 0HL7MQJOHD5RJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:38.7065104+03:00 0HL7MQJOHD5RJ [INF] Request finished in 69.444ms 302  (15c52c40)
2017-09-10T16:45:42.6178106+03:00 0HL7MQJOHD5RK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.32188376717459731505051142570&state=15050511425700.44490191883483443   (e5be5b71)
2017-09-10T16:45:42.6208122+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:42.6213127+03:00 0HL7MQJOHD5RK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:42.6213127+03:00 0HL7MQJOHD5RK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:42.6218145+03:00 0HL7MQJOHD5RK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:42.6223134+03:00 0HL7MQJOHD5RK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:42.6228135+03:00 0HL7MQJOHD5RK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:42.6228135+03:00 0HL7MQJOHD5RK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511425700.44490191883483443\",
  \"Nonce\": \"N0.32188376717459731505051142570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.32188376717459731505051142570\",
    \"state\": \"15050511425700.44490191883483443\"
  }
}" (9a175e33)
2017-09-10T16:45:42.6273167+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:42.6373233+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:42.6388241+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:42.6408259+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:42.6423263+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:42.6438275+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:42.6463293+03:00 0HL7MQJOHD5RK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:42.6653415+03:00 0HL7MQJOHD5RK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511425700.44490191883483443\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:42.6658420+03:00 0HL7MQJOHD5RK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:42.6668427+03:00 0HL7MQJOHD5RK [INF] Request finished in 49.203ms 302  (15c52c40)
2017-09-10T16:45:46.6211126+03:00 0HL7MQJOHD5RL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.022828622067451621505051146578&state=15050511465780.5541974288176013   (e5be5b71)
2017-09-10T16:45:46.6231151+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:46.6236153+03:00 0HL7MQJOHD5RL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:46.6241146+03:00 0HL7MQJOHD5RL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:46.6241146+03:00 0HL7MQJOHD5RL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:46.6246151+03:00 0HL7MQJOHD5RL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:46.6251160+03:00 0HL7MQJOHD5RL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:46.6251160+03:00 0HL7MQJOHD5RL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511465780.5541974288176013\",
  \"Nonce\": \"N0.022828622067451621505051146578\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.022828622067451621505051146578\",
    \"state\": \"15050511465780.5541974288176013\"
  }
}" (9a175e33)
2017-09-10T16:45:46.6286186+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:46.6395714+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:46.6409174+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:46.6424214+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:46.6444223+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:46.6464237+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:46.6484238+03:00 0HL7MQJOHD5RL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:46.6644340+03:00 0HL7MQJOHD5RL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511465780.5541974288176013\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:46.6654370+03:00 0HL7MQJOHD5RL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:46.6659360+03:00 0HL7MQJOHD5RL [INF] Request finished in 45.3041ms 302  (15c52c40)
2017-09-10T16:45:50.6202169+03:00 0HL7MQJOHD5RM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0468198609628158741505051150574&state=15050511505740.22582962894177072   (e5be5b71)
2017-09-10T16:45:50.6222183+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:50.6227184+03:00 0HL7MQJOHD5RM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:50.6227184+03:00 0HL7MQJOHD5RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:50.6232185+03:00 0HL7MQJOHD5RM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:50.6232185+03:00 0HL7MQJOHD5RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:50.6237191+03:00 0HL7MQJOHD5RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:50.6237191+03:00 0HL7MQJOHD5RM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511505740.22582962894177072\",
  \"Nonce\": \"N0.0468198609628158741505051150574\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0468198609628158741505051150574\",
    \"state\": \"15050511505740.22582962894177072\"
  }
}" (9a175e33)
2017-09-10T16:45:50.6267222+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:50.6372286+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:50.6397301+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:50.6417330+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:50.6432322+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:50.6467355+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:50.6492362+03:00 0HL7MQJOHD5RM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:50.6777560+03:00 0HL7MQJOHD5RM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511505740.22582962894177072\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:50.6787571+03:00 0HL7MQJOHD5RM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:50.6817579+03:00 0HL7MQJOHD5RM [INF] Request finished in 59.9063ms 302  (15c52c40)
2017-09-10T16:45:54.6113697+03:00 0HL7MQJOHD5RN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.190233111492787541505051154570&state=15050511545700.6211252911398228   (e5be5b71)
2017-09-10T16:45:54.6143728+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:54.6153731+03:00 0HL7MQJOHD5RN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:54.6153731+03:00 0HL7MQJOHD5RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:54.6153731+03:00 0HL7MQJOHD5RN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:54.6163714+03:00 0HL7MQJOHD5RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:54.6163714+03:00 0HL7MQJOHD5RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:54.6173725+03:00 0HL7MQJOHD5RN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511545700.6211252911398228\",
  \"Nonce\": \"N0.190233111492787541505051154570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.190233111492787541505051154570\",
    \"state\": \"15050511545700.6211252911398228\"
  }
}" (9a175e33)
2017-09-10T16:45:54.6233768+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:54.6323840+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:54.6343861+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:54.6366882+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:54.6377951+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:54.6387973+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:54.6407990+03:00 0HL7MQJOHD5RN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:54.6548083+03:00 0HL7MQJOHD5RN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511545700.6211252911398228\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:54.6558086+03:00 0HL7MQJOHD5RN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:54.6558086+03:00 0HL7MQJOHD5RN [INF] Request finished in 45.1462ms 302  (15c52c40)
2017-09-10T16:45:58.6197981+03:00 0HL7MQJOHD5RO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9246619312062071505051158571&state=15050511585710.603857429386367   (e5be5b71)
2017-09-10T16:45:58.6218018+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:45:58.6223008+03:00 0HL7MQJOHD5RO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:45:58.6228009+03:00 0HL7MQJOHD5RO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:58.6233014+03:00 0HL7MQJOHD5RO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:45:58.6238028+03:00 0HL7MQJOHD5RO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:58.6243025+03:00 0HL7MQJOHD5RO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:58.6243025+03:00 0HL7MQJOHD5RO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511585710.603857429386367\",
  \"Nonce\": \"N0.9246619312062071505051158571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9246619312062071505051158571\",
    \"state\": \"15050511585710.603857429386367\"
  }
}" (9a175e33)
2017-09-10T16:45:58.6268043+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:45:58.6363097+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:58.6383106+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:45:58.6398126+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:45:58.6418135+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:45:58.6483176+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:45:58.6498188+03:00 0HL7MQJOHD5RO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:45:58.6678311+03:00 0HL7MQJOHD5RO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511585710.603857429386367\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:45:58.6683309+03:00 0HL7MQJOHD5RO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:45:58.6688314+03:00 0HL7MQJOHD5RO [INF] Request finished in 49.6541ms 302  (15c52c40)
2017-09-10T16:46:02.6253051+03:00 0HL7MQJOHD5RP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7631734682939951505051162576&state=15050511625760.9475679076273493   (e5be5b71)
2017-09-10T16:46:02.6278070+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:02.6283075+03:00 0HL7MQJOHD5RP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:02.6283075+03:00 0HL7MQJOHD5RP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:02.6288076+03:00 0HL7MQJOHD5RP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:02.6293086+03:00 0HL7MQJOHD5RP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:02.6303155+03:00 0HL7MQJOHD5RP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:02.6308094+03:00 0HL7MQJOHD5RP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511625760.9475679076273493\",
  \"Nonce\": \"N0.7631734682939951505051162576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7631734682939951505051162576\",
    \"state\": \"15050511625760.9475679076273493\"
  }
}" (9a175e33)
2017-09-10T16:46:02.6343115+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:02.6443181+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:02.6463198+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:02.6493214+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:02.6513228+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:02.6528232+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:02.6543240+03:00 0HL7MQJOHD5RP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:02.6723355+03:00 0HL7MQJOHD5RP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511625760.9475679076273493\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:02.6728368+03:00 0HL7MQJOHD5RP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:02.6738379+03:00 0HL7MQJOHD5RP [INF] Request finished in 48.6235ms 302  (15c52c40)
2017-09-10T16:46:06.6137136+03:00 0HL7MQJOHD5RQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.180270075583043751505051166570&state=15050511665700.1745746047711596   (e5be5b71)
2017-09-10T16:46:06.6162139+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:06.6167156+03:00 0HL7MQJOHD5RQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:06.6172150+03:00 0HL7MQJOHD5RQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:06.6172150+03:00 0HL7MQJOHD5RQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:06.6177151+03:00 0HL7MQJOHD5RQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:06.6182156+03:00 0HL7MQJOHD5RQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:06.6187162+03:00 0HL7MQJOHD5RQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511665700.1745746047711596\",
  \"Nonce\": \"N0.180270075583043751505051166570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.180270075583043751505051166570\",
    \"state\": \"15050511665700.1745746047711596\"
  }
}" (9a175e33)
2017-09-10T16:46:06.6237191+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:06.6402302+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:06.6437323+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:06.6472356+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:06.6512375+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:06.6567413+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:06.6612437+03:00 0HL7MQJOHD5RQ [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:06.6797566+03:00 0HL7MQJOHD5RQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511665700.1745746047711596\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:06.6807572+03:00 0HL7MQJOHD5RQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:06.6832595+03:00 0HL7MQJOHD5RQ [INF] Request finished in 68.409ms 302  (15c52c40)
2017-09-10T16:46:09.6355829+03:00 0HL7MQJOHD5RR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85521397293503451505051169582&state=15050511695820.533517971479371   (e5be5b71)
2017-09-10T16:46:09.6380856+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:09.6385853+03:00 0HL7MQJOHD5RR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:09.6390855+03:00 0HL7MQJOHD5RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:09.6390855+03:00 0HL7MQJOHD5RR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:09.6395856+03:00 0HL7MQJOHD5RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:09.6400857+03:00 0HL7MQJOHD5RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:09.6400857+03:00 0HL7MQJOHD5RR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511695820.533517971479371\",
  \"Nonce\": \"N0.85521397293503451505051169582\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85521397293503451505051169582\",
    \"state\": \"15050511695820.533517971479371\"
  }
}" (9a175e33)
2017-09-10T16:46:09.6455896+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:09.6656024+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:09.6701056+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:09.6746088+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:09.6781109+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:09.6846166+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:09.6881175+03:00 0HL7MQJOHD5RR [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:09.7071305+03:00 0HL7MQJOHD5RR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511695820.533517971479371\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:09.7076307+03:00 0HL7MQJOHD5RR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:09.7101325+03:00 0HL7MQJOHD5RR [INF] Request finished in 73.6025ms 302  (15c52c40)
2017-09-10T16:46:13.6022319+03:00 0HL7MQJOHD5RS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.357342637623831505051173570&state=15050511735700.7079326354964546   (e5be5b71)
2017-09-10T16:46:13.6042332+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:13.6047337+03:00 0HL7MQJOHD5RS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:13.6052342+03:00 0HL7MQJOHD5RS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:13.6052342+03:00 0HL7MQJOHD5RS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:13.6062349+03:00 0HL7MQJOHD5RS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:13.6067350+03:00 0HL7MQJOHD5RS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:13.6067350+03:00 0HL7MQJOHD5RS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511735700.7079326354964546\",
  \"Nonce\": \"N0.357342637623831505051173570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.357342637623831505051173570\",
    \"state\": \"15050511735700.7079326354964546\"
  }
}" (9a175e33)
2017-09-10T16:46:13.6117380+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:13.6267479+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:13.6322537+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:13.6357558+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:13.6402566+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:13.6422584+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:13.6457605+03:00 0HL7MQJOHD5RS [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:13.6667752+03:00 0HL7MQJOHD5RS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511735700.7079326354964546\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:13.6672753+03:00 0HL7MQJOHD5RS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:13.6687765+03:00 0HL7MQJOHD5RS [INF] Request finished in 66.3958ms 302  (15c52c40)
2017-09-10T16:46:17.6137314+03:00 0HL7MQJOHD5RT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.046546558396022511505051177573&state=15050511775740.1327748651813907   (e5be5b71)
2017-09-10T16:46:17.6167334+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:17.6172339+03:00 0HL7MQJOHD5RT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:17.6177344+03:00 0HL7MQJOHD5RT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:17.6182346+03:00 0HL7MQJOHD5RT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:17.6187347+03:00 0HL7MQJOHD5RT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:17.6192348+03:00 0HL7MQJOHD5RT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:17.6192348+03:00 0HL7MQJOHD5RT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511775740.1327748651813907\",
  \"Nonce\": \"N0.046546558396022511505051177573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.046546558396022511505051177573\",
    \"state\": \"15050511775740.1327748651813907\"
  }
}" (9a175e33)
2017-09-10T16:46:17.6232379+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:17.6367470+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:17.6392489+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:17.6412506+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:17.6432507+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:17.6457526+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:17.6497564+03:00 0HL7MQJOHD5RT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:17.6712693+03:00 0HL7MQJOHD5RT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511775740.1327748651813907\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:17.6722708+03:00 0HL7MQJOHD5RT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:17.6727709+03:00 0HL7MQJOHD5RT [INF] Request finished in 59.6402ms 302  (15c52c40)
2017-09-10T16:46:20.6124220+03:00 0HL7MQJOHD5RU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.034376737824133531505051180582&state=15050511805820.17986377669162867   (e5be5b71)
2017-09-10T16:46:20.6149235+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:20.6154236+03:00 0HL7MQJOHD5RU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:20.6159250+03:00 0HL7MQJOHD5RU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:20.6159250+03:00 0HL7MQJOHD5RU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:20.6164239+03:00 0HL7MQJOHD5RU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:20.6169248+03:00 0HL7MQJOHD5RU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:20.6174250+03:00 0HL7MQJOHD5RU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511805820.17986377669162867\",
  \"Nonce\": \"N0.034376737824133531505051180582\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.034376737824133531505051180582\",
    \"state\": \"15050511805820.17986377669162867\"
  }
}" (9a175e33)
2017-09-10T16:46:20.6204277+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:20.6299338+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:20.6319352+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:20.6344370+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:20.6359374+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:20.6389394+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:20.6404410+03:00 0HL7MQJOHD5RU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:20.6629573+03:00 0HL7MQJOHD5RU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511805820.17986377669162867\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:20.6639556+03:00 0HL7MQJOHD5RU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:20.6644561+03:00 0HL7MQJOHD5RU [INF] Request finished in 52.7449ms 302  (15c52c40)
2017-09-10T16:46:24.6115564+03:00 0HL7MQJOHD5RV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.144380328550441471505051184576&state=15050511845760.5009776863835775   (e5be5b71)
2017-09-10T16:46:24.6135581+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:24.6145603+03:00 0HL7MQJOHD5RV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:24.6155610+03:00 0HL7MQJOHD5RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:24.6155610+03:00 0HL7MQJOHD5RV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:24.6155610+03:00 0HL7MQJOHD5RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:24.6165597+03:00 0HL7MQJOHD5RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:24.6165597+03:00 0HL7MQJOHD5RV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511845760.5009776863835775\",
  \"Nonce\": \"N0.144380328550441471505051184576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.144380328550441471505051184576\",
    \"state\": \"15050511845760.5009776863835775\"
  }
}" (9a175e33)
2017-09-10T16:46:24.6195621+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:24.6325707+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:24.6345720+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:24.6365741+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:24.6385747+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:24.6415763+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:24.6455793+03:00 0HL7MQJOHD5RV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:24.6692822+03:00 0HL7MQJOHD5RV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511845760.5009776863835775\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:24.6692822+03:00 0HL7MQJOHD5RV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:24.6702832+03:00 0HL7MQJOHD5RV [INF] Request finished in 59.3691ms 302  (15c52c40)
2017-09-10T16:46:28.6802184+03:00 0HL7MQJOHD5S0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.261377701224096541505051188583&state=15050511885830.16913801313289856   (e5be5b71)
2017-09-10T16:46:28.6857219+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:28.6862224+03:00 0HL7MQJOHD5S0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:28.6867225+03:00 0HL7MQJOHD5S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:28.6867225+03:00 0HL7MQJOHD5S0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:28.6872227+03:00 0HL7MQJOHD5S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:28.6877236+03:00 0HL7MQJOHD5S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:28.6877236+03:00 0HL7MQJOHD5S0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511885830.16913801313289856\",
  \"Nonce\": \"N0.261377701224096541505051188583\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.261377701224096541505051188583\",
    \"state\": \"15050511885830.16913801313289856\"
  }
}" (9a175e33)
2017-09-10T16:46:28.6912249+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:28.7112382+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:28.7132399+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:28.7207451+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:28.7232473+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:28.7262489+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:28.7422603+03:00 0HL7MQJOHD5S0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:28.7712783+03:00 0HL7MQJOHD5S0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511885830.16913801313289856\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:28.7722798+03:00 0HL7MQJOHD5S0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:28.7732801+03:00 0HL7MQJOHD5S0 [INF] Request finished in 93.527ms 302  (15c52c40)
2017-09-10T16:46:32.6022607+03:00 0HL7MQJOHD5S1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.182089670547676441505051192571&state=15050511925710.9823300723049577   (e5be5b71)
2017-09-10T16:46:32.6057628+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:32.6062641+03:00 0HL7MQJOHD5S1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:32.6067631+03:00 0HL7MQJOHD5S1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:32.6067631+03:00 0HL7MQJOHD5S1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:32.6072632+03:00 0HL7MQJOHD5S1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:32.6077637+03:00 0HL7MQJOHD5S1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:32.6077637+03:00 0HL7MQJOHD5S1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511925710.9823300723049577\",
  \"Nonce\": \"N0.182089670547676441505051192571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.182089670547676441505051192571\",
    \"state\": \"15050511925710.9823300723049577\"
  }
}" (9a175e33)
2017-09-10T16:46:32.6107685+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:32.6252755+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:32.6272768+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:32.6297783+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:32.6322837+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:32.6347836+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:32.6377840+03:00 0HL7MQJOHD5S1 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:32.6542947+03:00 0HL7MQJOHD5S1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511925710.9823300723049577\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:32.6552962+03:00 0HL7MQJOHD5S1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:32.6562961+03:00 0HL7MQJOHD5S1 [INF] Request finished in 54.2434ms 302  (15c52c40)
2017-09-10T16:46:36.6159064+03:00 0HL7MQJOHD5S2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.263298219780253361505051196570&state=15050511965700.2011803446343341   (e5be5b71)
2017-09-10T16:46:36.6189084+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:36.6194101+03:00 0HL7MQJOHD5S2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:36.6199087+03:00 0HL7MQJOHD5S2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:36.6199087+03:00 0HL7MQJOHD5S2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:36.6204096+03:00 0HL7MQJOHD5S2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:36.6209097+03:00 0HL7MQJOHD5S2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:36.6214098+03:00 0HL7MQJOHD5S2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050511965700.2011803446343341\",
  \"Nonce\": \"N0.263298219780253361505051196570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.263298219780253361505051196570\",
    \"state\": \"15050511965700.2011803446343341\"
  }
}" (9a175e33)
2017-09-10T16:46:36.6249124+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:36.6339191+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:36.6359200+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:36.6379210+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:36.6404228+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:36.6429247+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:36.6444263+03:00 0HL7MQJOHD5S2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:36.6669398+03:00 0HL7MQJOHD5S2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050511965700.2011803446343341\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:36.6674399+03:00 0HL7MQJOHD5S2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:36.6679409+03:00 0HL7MQJOHD5S2 [INF] Request finished in 53.3426ms 302  (15c52c40)
2017-09-10T16:46:40.6119203+03:00 0HL7MQJOHD5S3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.156737467028158721505051200569&state=15050512005690.3828312521182131   (e5be5b71)
2017-09-10T16:46:40.6169240+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:40.6174242+03:00 0HL7MQJOHD5S3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:40.6179243+03:00 0HL7MQJOHD5S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:40.6179243+03:00 0HL7MQJOHD5S3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:40.6184248+03:00 0HL7MQJOHD5S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:40.6189250+03:00 0HL7MQJOHD5S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:40.6189250+03:00 0HL7MQJOHD5S3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512005690.3828312521182131\",
  \"Nonce\": \"N0.156737467028158721505051200569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.156737467028158721505051200569\",
    \"state\": \"15050512005690.3828312521182131\"
  }
}" (9a175e33)
2017-09-10T16:46:40.6239283+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:40.6379380+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:40.6394388+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:40.6464430+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:40.6519476+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:40.6539482+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:40.6564500+03:00 0HL7MQJOHD5S3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:40.6789639+03:00 0HL7MQJOHD5S3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512005690.3828312521182131\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:40.6794653+03:00 0HL7MQJOHD5S3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:40.6799650+03:00 0HL7MQJOHD5S3 [INF] Request finished in 68.7034ms 302  (15c52c40)
2017-09-10T16:46:44.6021525+03:00 0HL7MQJOHD5S4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.173231103610013811505051204569&state=15050512045690.7560839599618994   (e5be5b71)
2017-09-10T16:46:44.6046536+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:44.6051557+03:00 0HL7MQJOHD5S4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:44.6056546+03:00 0HL7MQJOHD5S4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:44.6056546+03:00 0HL7MQJOHD5S4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:44.6061552+03:00 0HL7MQJOHD5S4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:44.6066553+03:00 0HL7MQJOHD5S4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:44.6066553+03:00 0HL7MQJOHD5S4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512045690.7560839599618994\",
  \"Nonce\": \"N0.173231103610013811505051204569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.173231103610013811505051204569\",
    \"state\": \"15050512045690.7560839599618994\"
  }
}" (9a175e33)
2017-09-10T16:46:44.6091568+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:44.6211651+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:44.6231660+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:44.6256687+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:44.6271687+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:44.6301711+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:44.6326733+03:00 0HL7MQJOHD5S4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:44.6511850+03:00 0HL7MQJOHD5S4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512045690.7560839599618994\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:44.6516851+03:00 0HL7MQJOHD5S4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:44.6521857+03:00 0HL7MQJOHD5S4 [INF] Request finished in 50.5431ms 302  (15c52c40)
2017-09-10T16:46:47.6217237+03:00 0HL7MQJOHD5S5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69303791399901171505051207585&state=15050512075850.01330376247169518   (e5be5b71)
2017-09-10T16:46:47.6247257+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:47.6252258+03:00 0HL7MQJOHD5S5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:47.6252258+03:00 0HL7MQJOHD5S5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:47.6257259+03:00 0HL7MQJOHD5S5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:47.6262264+03:00 0HL7MQJOHD5S5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:47.6267266+03:00 0HL7MQJOHD5S5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:47.6267266+03:00 0HL7MQJOHD5S5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512075850.01330376247169518\",
  \"Nonce\": \"N0.69303791399901171505051207585\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69303791399901171505051207585\",
    \"state\": \"15050512075850.01330376247169518\"
  }
}" (9a175e33)
2017-09-10T16:46:47.6297290+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:47.6422367+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:47.6442384+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:47.6457392+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:47.6487420+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:47.6522437+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:47.6542450+03:00 0HL7MQJOHD5S5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:47.6777608+03:00 0HL7MQJOHD5S5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512075850.01330376247169518\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:47.6787630+03:00 0HL7MQJOHD5S5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:47.6797617+03:00 0HL7MQJOHD5S5 [INF] Request finished in 58.0108ms 302  (15c52c40)
2017-09-10T16:46:51.6193671+03:00 0HL7MQJOHD5S6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.95605544159071141505051211577&state=15050512115770.5991086533804832   (e5be5b71)
2017-09-10T16:46:51.6228696+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:51.6238699+03:00 0HL7MQJOHD5S6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:51.6243700+03:00 0HL7MQJOHD5S6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:51.6243700+03:00 0HL7MQJOHD5S6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:51.6253711+03:00 0HL7MQJOHD5S6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:51.6258720+03:00 0HL7MQJOHD5S6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:51.6258720+03:00 0HL7MQJOHD5S6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512115770.5991086533804832\",
  \"Nonce\": \"N0.95605544159071141505051211577\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.95605544159071141505051211577\",
    \"state\": \"15050512115770.5991086533804832\"
  }
}" (9a175e33)
2017-09-10T16:46:51.6293733+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:51.6418826+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:51.6433834+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:51.6453839+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:51.6493870+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:51.6538897+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:51.6563916+03:00 0HL7MQJOHD5S6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:51.6809072+03:00 0HL7MQJOHD5S6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512115770.5991086533804832\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:51.6814082+03:00 0HL7MQJOHD5S6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:51.6849103+03:00 0HL7MQJOHD5S6 [INF] Request finished in 63.7072ms 302  (15c52c40)
2017-09-10T16:46:55.6063790+03:00 0HL7MQJOHD5S7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47347261801348361505051215577&state=15050512155770.6913867271736527   (e5be5b71)
2017-09-10T16:46:55.6088808+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:55.6098815+03:00 0HL7MQJOHD5S7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:55.6103816+03:00 0HL7MQJOHD5S7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:55.6103816+03:00 0HL7MQJOHD5S7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:55.6108822+03:00 0HL7MQJOHD5S7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:55.6113827+03:00 0HL7MQJOHD5S7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:55.6118832+03:00 0HL7MQJOHD5S7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512155770.6913867271736527\",
  \"Nonce\": \"N0.47347261801348361505051215577\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47347261801348361505051215577\",
    \"state\": \"15050512155770.6913867271736527\"
  }
}" (9a175e33)
2017-09-10T16:46:55.6158855+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:55.6283936+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:55.6303949+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:55.6333977+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:55.6353982+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:55.6379008+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:55.6399022+03:00 0HL7MQJOHD5S7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:55.6584131+03:00 0HL7MQJOHD5S7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512155770.6913867271736527\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:55.6594149+03:00 0HL7MQJOHD5S7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:55.6604152+03:00 0HL7MQJOHD5S7 [INF] Request finished in 54.3397ms 302  (15c52c40)
2017-09-10T16:46:59.6090719+03:00 0HL7MQJOHD5S8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0382873898998232761505051219576&state=15050512195760.4519333742518614   (e5be5b71)
2017-09-10T16:46:59.6110748+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:46:59.6115737+03:00 0HL7MQJOHD5S8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:46:59.6120739+03:00 0HL7MQJOHD5S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:59.6125744+03:00 0HL7MQJOHD5S8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:46:59.6130745+03:00 0HL7MQJOHD5S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:59.6135751+03:00 0HL7MQJOHD5S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:59.6135751+03:00 0HL7MQJOHD5S8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512195760.4519333742518614\",
  \"Nonce\": \"N0.0382873898998232761505051219576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0382873898998232761505051219576\",
    \"state\": \"15050512195760.4519333742518614\"
  }
}" (9a175e33)
2017-09-10T16:46:59.6170772+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:46:59.6290855+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:59.6310873+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:46:59.6330886+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:46:59.6350891+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:46:59.6365899+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:46:59.6385920+03:00 0HL7MQJOHD5S8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:46:59.6591054+03:00 0HL7MQJOHD5S8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512195760.4519333742518614\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:46:59.6596060+03:00 0HL7MQJOHD5S8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:46:59.6606074+03:00 0HL7MQJOHD5S8 [INF] Request finished in 51.8659ms 302  (15c52c40)
2017-09-10T16:47:03.6023542+03:00 0HL7MQJOHD5S9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55139588424174771505051223570&state=15050512235700.43263762146193385   (e5be5b71)
2017-09-10T16:47:03.6053558+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:03.6058564+03:00 0HL7MQJOHD5S9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:03.6068574+03:00 0HL7MQJOHD5S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:03.6068574+03:00 0HL7MQJOHD5S9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:03.6073571+03:00 0HL7MQJOHD5S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:03.6083574+03:00 0HL7MQJOHD5S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:03.6083574+03:00 0HL7MQJOHD5S9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512235700.43263762146193385\",
  \"Nonce\": \"N0.55139588424174771505051223570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55139588424174771505051223570\",
    \"state\": \"15050512235700.43263762146193385\"
  }
}" (9a175e33)
2017-09-10T16:47:03.6123605+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:03.6243684+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:03.6263693+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:03.6283707+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:03.6303728+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:03.6333744+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:03.6353757+03:00 0HL7MQJOHD5S9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:03.6578908+03:00 0HL7MQJOHD5S9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512235700.43263762146193385\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:03.6588911+03:00 0HL7MQJOHD5S9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:03.6598921+03:00 0HL7MQJOHD5S9 [INF] Request finished in 57.7222ms 302  (15c52c40)
2017-09-10T16:47:07.6033190+03:00 0HL7MQJOHD5SA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.39674190882028371505051227571&state=15050512275710.23386714400812325   (e5be5b71)
2017-09-10T16:47:07.6053191+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:07.6063194+03:00 0HL7MQJOHD5SA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:07.6063194+03:00 0HL7MQJOHD5SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:07.6073200+03:00 0HL7MQJOHD5SA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:07.6073200+03:00 0HL7MQJOHD5SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:07.6083227+03:00 0HL7MQJOHD5SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:07.6083227+03:00 0HL7MQJOHD5SA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512275710.23386714400812325\",
  \"Nonce\": \"N0.39674190882028371505051227571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.39674190882028371505051227571\",
    \"state\": \"15050512275710.23386714400812325\"
  }
}" (9a175e33)
2017-09-10T16:47:07.6103228+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:07.6273341+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:07.6293358+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:07.6313363+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:07.6333381+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:07.6363397+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:07.6383422+03:00 0HL7MQJOHD5SA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:07.6533513+03:00 0HL7MQJOHD5SA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512275710.23386714400812325\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:07.6543516+03:00 0HL7MQJOHD5SA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:07.6558563+03:00 0HL7MQJOHD5SA [INF] Request finished in 52.1915ms 302  (15c52c40)
2017-09-10T16:47:11.5999305+03:00 0HL7MQJOHD5SB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.074781687130622611505051231570&state=15050512315700.1567143877604662   (e5be5b71)
2017-09-10T16:47:11.6029333+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:11.6029333+03:00 0HL7MQJOHD5SB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:11.6039332+03:00 0HL7MQJOHD5SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:11.6039332+03:00 0HL7MQJOHD5SB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:11.6039332+03:00 0HL7MQJOHD5SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:11.6049338+03:00 0HL7MQJOHD5SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:11.6049338+03:00 0HL7MQJOHD5SB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512315700.1567143877604662\",
  \"Nonce\": \"N0.074781687130622611505051231570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.074781687130622611505051231570\",
    \"state\": \"15050512315700.1567143877604662\"
  }
}" (9a175e33)
2017-09-10T16:47:11.6089361+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:11.6219451+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:11.6239464+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:11.6259486+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:11.6279487+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:11.6299504+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:11.6319517+03:00 0HL7MQJOHD5SB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:11.6529661+03:00 0HL7MQJOHD5SB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512315700.1567143877604662\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:11.6539663+03:00 0HL7MQJOHD5SB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:11.6549670+03:00 0HL7MQJOHD5SB [INF] Request finished in 55.4082ms 302  (15c52c40)
2017-09-10T16:47:14.6326753+03:00 0HL7MQJOHD5SC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68852122325998511505051234594&state=15050512345940.038028417872209674   (e5be5b71)
2017-09-10T16:47:14.6356777+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:14.6366783+03:00 0HL7MQJOHD5SC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:14.6366783+03:00 0HL7MQJOHD5SC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:14.6366783+03:00 0HL7MQJOHD5SC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:14.6376786+03:00 0HL7MQJOHD5SC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:14.6376786+03:00 0HL7MQJOHD5SC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:14.6386797+03:00 0HL7MQJOHD5SC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512345940.038028417872209674\",
  \"Nonce\": \"N0.68852122325998511505051234594\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68852122325998511505051234594\",
    \"state\": \"15050512345940.038028417872209674\"
  }
}" (9a175e33)
2017-09-10T16:47:14.6446884+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:14.6647103+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:14.6727164+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:14.6767179+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:14.6807209+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:14.6827226+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:14.6877256+03:00 0HL7MQJOHD5SC [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:14.7087391+03:00 0HL7MQJOHD5SC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512345940.038028417872209674\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:14.7097394+03:00 0HL7MQJOHD5SC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:14.7097394+03:00 0HL7MQJOHD5SC [INF] Request finished in 77.5689ms 302  (15c52c40)
2017-09-10T16:47:18.6138332+03:00 0HL7MQJOHD5SD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.248874172614337091505051238577&state=15050512385770.7567288186374832   (e5be5b71)
2017-09-10T16:47:18.6168372+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:18.6178363+03:00 0HL7MQJOHD5SD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:18.6188369+03:00 0HL7MQJOHD5SD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:18.6188369+03:00 0HL7MQJOHD5SD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:18.6198396+03:00 0HL7MQJOHD5SD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:18.6198396+03:00 0HL7MQJOHD5SD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:18.6208379+03:00 0HL7MQJOHD5SD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512385770.7567288186374832\",
  \"Nonce\": \"N0.248874172614337091505051238577\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.248874172614337091505051238577\",
    \"state\": \"15050512385770.7567288186374832\"
  }
}" (9a175e33)
2017-09-10T16:47:18.6258416+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:18.6378495+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:18.6418534+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:18.6449631+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:18.6469688+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:18.6519705+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:18.6569738+03:00 0HL7MQJOHD5SD [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:18.6729840+03:00 0HL7MQJOHD5SD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512385770.7567288186374832\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:18.6739863+03:00 0HL7MQJOHD5SD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:18.6744908+03:00 0HL7MQJOHD5SD [INF] Request finished in 60.9618ms 302  (15c52c40)
2017-09-10T16:47:22.6236989+03:00 0HL7MQJOHD5SE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3379476860035061505051242575&state=15050512425750.5092570697671894   (e5be5b71)
2017-09-10T16:47:22.6277020+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:22.6287026+03:00 0HL7MQJOHD5SE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:22.6287026+03:00 0HL7MQJOHD5SE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:22.6287026+03:00 0HL7MQJOHD5SE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:22.6297041+03:00 0HL7MQJOHD5SE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:22.6307044+03:00 0HL7MQJOHD5SE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:22.6317066+03:00 0HL7MQJOHD5SE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512425750.5092570697671894\",
  \"Nonce\": \"N0.3379476860035061505051242575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3379476860035061505051242575\",
    \"state\": \"15050512425750.5092570697671894\"
  }
}" (9a175e33)
2017-09-10T16:47:22.6367072+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:22.6517179+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:22.6527174+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:22.6557198+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:22.6587237+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:22.6607242+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:22.6627248+03:00 0HL7MQJOHD5SE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:22.6777335+03:00 0HL7MQJOHD5SE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512425750.5092570697671894\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:22.6782514+03:00 0HL7MQJOHD5SE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:22.6782514+03:00 0HL7MQJOHD5SE [INF] Request finished in 55.6747ms 302  (15c52c40)
2017-09-10T16:47:26.6225337+03:00 0HL7MQJOHD5SF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70492833706873031505051246581&state=15050512465810.23921167531039345   (e5be5b71)
2017-09-10T16:47:26.6255357+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:26.6265363+03:00 0HL7MQJOHD5SF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:26.6265363+03:00 0HL7MQJOHD5SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:26.6265363+03:00 0HL7MQJOHD5SF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:26.6275370+03:00 0HL7MQJOHD5SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:26.6285396+03:00 0HL7MQJOHD5SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:26.6285396+03:00 0HL7MQJOHD5SF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512465810.23921167531039345\",
  \"Nonce\": \"N0.70492833706873031505051246581\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70492833706873031505051246581\",
    \"state\": \"15050512465810.23921167531039345\"
  }
}" (9a175e33)
2017-09-10T16:47:26.6335429+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:26.6435480+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:26.6455497+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:26.6475510+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:26.6505562+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:26.6525547+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:26.6555559+03:00 0HL7MQJOHD5SF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:26.6715657+03:00 0HL7MQJOHD5SF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512465810.23921167531039345\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:26.6725664+03:00 0HL7MQJOHD5SF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:26.6725664+03:00 0HL7MQJOHD5SF [INF] Request finished in 50.6264ms 302  (15c52c40)
2017-09-10T16:47:30.6259450+03:00 0HL7MQJOHD5SG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31309530407931141505051250569&state=15050512505690.5327264854348899   (e5be5b71)
2017-09-10T16:47:30.6289482+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:30.6289482+03:00 0HL7MQJOHD5SG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:30.6299473+03:00 0HL7MQJOHD5SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:30.6299473+03:00 0HL7MQJOHD5SG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:30.6299473+03:00 0HL7MQJOHD5SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:30.6309475+03:00 0HL7MQJOHD5SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:30.6309475+03:00 0HL7MQJOHD5SG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512505690.5327264854348899\",
  \"Nonce\": \"N0.31309530407931141505051250569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31309530407931141505051250569\",
    \"state\": \"15050512505690.5327264854348899\"
  }
}" (9a175e33)
2017-09-10T16:47:30.6359524+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:30.6479596+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:30.6499625+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:30.6519622+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:30.6549638+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:30.6589665+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:30.6609682+03:00 0HL7MQJOHD5SG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:30.6789793+03:00 0HL7MQJOHD5SG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512505690.5327264854348899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:30.6799800+03:00 0HL7MQJOHD5SG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:30.6799800+03:00 0HL7MQJOHD5SG [INF] Request finished in 57.8047ms 302  (15c52c40)
2017-09-10T16:47:34.6075474+03:00 0HL7MQJOHD5SH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77711456525136451505051254571&state=15050512545710.4137551531924317   (e5be5b71)
2017-09-10T16:47:34.6100493+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:34.6105526+03:00 0HL7MQJOHD5SH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:34.6110499+03:00 0HL7MQJOHD5SH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:34.6110499+03:00 0HL7MQJOHD5SH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:34.6115501+03:00 0HL7MQJOHD5SH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:34.6120506+03:00 0HL7MQJOHD5SH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:34.6120506+03:00 0HL7MQJOHD5SH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512545710.4137551531924317\",
  \"Nonce\": \"N0.77711456525136451505051254571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77711456525136451505051254571\",
    \"state\": \"15050512545710.4137551531924317\"
  }
}" (9a175e33)
2017-09-10T16:47:34.6150526+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:34.6270621+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:34.6290623+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:34.6310632+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:34.6330649+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:34.6370676+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:34.6390685+03:00 0HL7MQJOHD5SH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:34.6610835+03:00 0HL7MQJOHD5SH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512545710.4137551531924317\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:34.6625850+03:00 0HL7MQJOHD5SH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:34.6630844+03:00 0HL7MQJOHD5SH [INF] Request finished in 56.1397ms 302  (15c52c40)
2017-09-10T16:47:38.6073571+03:00 0HL7MQJOHD5SI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97004678210844091505051258569&state=15050512585690.8427831255201961   (e5be5b71)
2017-09-10T16:47:38.6098594+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:38.6108589+03:00 0HL7MQJOHD5SI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:38.6108589+03:00 0HL7MQJOHD5SI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:38.6113598+03:00 0HL7MQJOHD5SI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:38.6118591+03:00 0HL7MQJOHD5SI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:38.6123597+03:00 0HL7MQJOHD5SI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:38.6123597+03:00 0HL7MQJOHD5SI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512585690.8427831255201961\",
  \"Nonce\": \"N0.97004678210844091505051258569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97004678210844091505051258569\",
    \"state\": \"15050512585690.8427831255201961\"
  }
}" (9a175e33)
2017-09-10T16:47:38.6153621+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:38.6273700+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:38.6288716+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:38.6308725+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:38.6323729+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:38.6343750+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:38.6373766+03:00 0HL7MQJOHD5SI [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:38.6528867+03:00 0HL7MQJOHD5SI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512585690.8427831255201961\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:38.6533876+03:00 0HL7MQJOHD5SI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:38.6553886+03:00 0HL7MQJOHD5SI [INF] Request finished in 47.6473ms 302  (15c52c40)
2017-09-10T16:47:41.6093676+03:00 0HL7MQJOHD5SJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.242455616312673651505051261577&state=15050512615770.10000983568501054   (e5be5b71)
2017-09-10T16:47:41.6118682+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:41.6123695+03:00 0HL7MQJOHD5SJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:41.6128697+03:00 0HL7MQJOHD5SJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:41.6128697+03:00 0HL7MQJOHD5SJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:41.6133698+03:00 0HL7MQJOHD5SJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:41.6138703+03:00 0HL7MQJOHD5SJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:41.6138703+03:00 0HL7MQJOHD5SJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512615770.10000983568501054\",
  \"Nonce\": \"N0.242455616312673651505051261577\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.242455616312673651505051261577\",
    \"state\": \"15050512615770.10000983568501054\"
  }
}" (9a175e33)
2017-09-10T16:47:41.6168715+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:41.6268782+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:41.6288799+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:41.6308812+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:41.6318815+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:41.6333823+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:41.6353848+03:00 0HL7MQJOHD5SJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:41.6483926+03:00 0HL7MQJOHD5SJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512615770.10000983568501054\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:41.6488935+03:00 0HL7MQJOHD5SJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:41.6493933+03:00 0HL7MQJOHD5SJ [INF] Request finished in 40.33ms 302  (15c52c40)
2017-09-10T16:47:45.6124493+03:00 0HL7MQJOHD5SK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.085389327441071751505051265574&state=15050512655740.7297809426886988   (e5be5b71)
2017-09-10T16:47:45.6149511+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:45.6154513+03:00 0HL7MQJOHD5SK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:45.6159522+03:00 0HL7MQJOHD5SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:45.6164523+03:00 0HL7MQJOHD5SK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:45.6169544+03:00 0HL7MQJOHD5SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:45.6174554+03:00 0HL7MQJOHD5SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:45.6179535+03:00 0HL7MQJOHD5SK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512655740.7297809426886988\",
  \"Nonce\": \"N0.085389327441071751505051265574\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.085389327441071751505051265574\",
    \"state\": \"15050512655740.7297809426886988\"
  }
}" (9a175e33)
2017-09-10T16:47:45.6214580+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:45.6309621+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:45.6332311+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:45.6347327+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:45.6367332+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:45.6402345+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:45.6417365+03:00 0HL7MQJOHD5SK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:45.6547459+03:00 0HL7MQJOHD5SK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512655740.7297809426886988\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:45.6552461+03:00 0HL7MQJOHD5SK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:45.6557466+03:00 0HL7MQJOHD5SK [INF] Request finished in 43.9517ms 302  (15c52c40)
2017-09-10T16:47:49.6192222+03:00 0HL7MQJOHD5SL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66107714004482831505051269581&state=15050512695810.2596434567794679   (e5be5b71)
2017-09-10T16:47:49.6217229+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:49.6222246+03:00 0HL7MQJOHD5SL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:49.6222246+03:00 0HL7MQJOHD5SL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:49.6227247+03:00 0HL7MQJOHD5SL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:49.6227247+03:00 0HL7MQJOHD5SL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:49.6232253+03:00 0HL7MQJOHD5SL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:49.6237258+03:00 0HL7MQJOHD5SL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512695810.2596434567794679\",
  \"Nonce\": \"N0.66107714004482831505051269581\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66107714004482831505051269581\",
    \"state\": \"15050512695810.2596434567794679\"
  }
}" (9a175e33)
2017-09-10T16:47:49.6267270+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:49.6357329+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:49.6377347+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:49.6402014+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:49.6417053+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:49.6432065+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:49.6447081+03:00 0HL7MQJOHD5SL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:49.6627185+03:00 0HL7MQJOHD5SL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512695810.2596434567794679\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:49.6637203+03:00 0HL7MQJOHD5SL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:49.6642197+03:00 0HL7MQJOHD5SL [INF] Request finished in 45.3412ms 302  (15c52c40)
2017-09-10T16:47:53.6216743+03:00 0HL7MQJOHD5SM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77252964043993581505051273580&state=15050512735800.1806385422396255   (e5be5b71)
2017-09-10T16:47:53.6246779+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:53.6251780+03:00 0HL7MQJOHD5SM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:53.6256774+03:00 0HL7MQJOHD5SM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:53.6256774+03:00 0HL7MQJOHD5SM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:53.6266792+03:00 0HL7MQJOHD5SM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:53.6271797+03:00 0HL7MQJOHD5SM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:53.6271797+03:00 0HL7MQJOHD5SM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512735800.1806385422396255\",
  \"Nonce\": \"N0.77252964043993581505051273580\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77252964043993581505051273580\",
    \"state\": \"15050512735800.1806385422396255\"
  }
}" (9a175e33)
2017-09-10T16:47:53.6316813+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:53.6496956+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:53.6511937+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:53.6546966+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:53.6561986+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:53.6592010+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:53.6602012+03:00 0HL7MQJOHD5SM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:53.6762106+03:00 0HL7MQJOHD5SM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512735800.1806385422396255\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:53.6767112+03:00 0HL7MQJOHD5SM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:53.6772129+03:00 0HL7MQJOHD5SM [INF] Request finished in 56.2633ms 302  (15c52c40)
2017-09-10T16:47:57.5944800+03:00 0HL7MQJOHD5SN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.47752333733112451505051277570&state=15050512775700.16033493238322083   (e5be5b71)
2017-09-10T16:47:57.5974828+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:47:57.5979829+03:00 0HL7MQJOHD5SN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:47:57.5984834+03:00 0HL7MQJOHD5SN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:57.5984834+03:00 0HL7MQJOHD5SN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:47:57.5989832+03:00 0HL7MQJOHD5SN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:57.5994837+03:00 0HL7MQJOHD5SN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:57.5994837+03:00 0HL7MQJOHD5SN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512775700.16033493238322083\",
  \"Nonce\": \"N0.47752333733112451505051277570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.47752333733112451505051277570\",
    \"state\": \"15050512775700.16033493238322083\"
  }
}" (9a175e33)
2017-09-10T16:47:57.6034867+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:47:57.6149949+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:57.6164953+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:47:57.6189976+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:47:57.6219984+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:47:57.6240001+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:47:57.6255017+03:00 0HL7MQJOHD5SN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:47:57.6455150+03:00 0HL7MQJOHD5SN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512775700.16033493238322083\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:47:57.6460147+03:00 0HL7MQJOHD5SN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:47:57.6470154+03:00 0HL7MQJOHD5SN [INF] Request finished in 52.8239ms 302  (15c52c40)
2017-09-10T16:48:00.6029783+03:00 0HL7MQJOHD5SO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85930455589873781505051280573&state=15050512805730.9135703475126666   (e5be5b71)
2017-09-10T16:48:00.6054806+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:00.6059811+03:00 0HL7MQJOHD5SO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:00.6064812+03:00 0HL7MQJOHD5SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:00.6064812+03:00 0HL7MQJOHD5SO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:00.6069814+03:00 0HL7MQJOHD5SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:00.6074819+03:00 0HL7MQJOHD5SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:00.6079828+03:00 0HL7MQJOHD5SO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512805730.9135703475126666\",
  \"Nonce\": \"N0.85930455589873781505051280573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85930455589873781505051280573\",
    \"state\": \"15050512805730.9135703475126666\"
  }
}" (9a175e33)
2017-09-10T16:48:00.6119843+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:00.6279949+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:00.6339989+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:00.6370020+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:00.6400032+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:00.6435053+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:00.6465097+03:00 0HL7MQJOHD5SO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:00.6660201+03:00 0HL7MQJOHD5SO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512805730.9135703475126666\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:00.6670211+03:00 0HL7MQJOHD5SO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:00.6680218+03:00 0HL7MQJOHD5SO [INF] Request finished in 65.4982ms 302  (15c52c40)
2017-09-10T16:48:04.5985379+03:00 0HL7MQJOHD5SP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63121557687872111505051284576&state=15050512845760.48763497805296363   (e5be5b71)
2017-09-10T16:48:04.6010397+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:04.6015407+03:00 0HL7MQJOHD5SP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:04.6025405+03:00 0HL7MQJOHD5SP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:04.6025405+03:00 0HL7MQJOHD5SP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:04.6030407+03:00 0HL7MQJOHD5SP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:04.6040413+03:00 0HL7MQJOHD5SP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:04.6040413+03:00 0HL7MQJOHD5SP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512845760.48763497805296363\",
  \"Nonce\": \"N0.63121557687872111505051284576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63121557687872111505051284576\",
    \"state\": \"15050512845760.48763497805296363\"
  }
}" (9a175e33)
2017-09-10T16:48:04.6075439+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:04.6195522+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:04.6215531+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:04.6255562+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:04.6270566+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:04.6295584+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:04.6310596+03:00 0HL7MQJOHD5SP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:04.6490708+03:00 0HL7MQJOHD5SP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512845760.48763497805296363\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:04.6495717+03:00 0HL7MQJOHD5SP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:04.6500718+03:00 0HL7MQJOHD5SP [INF] Request finished in 52.2942ms 302  (15c52c40)
2017-09-10T16:48:08.5977938+03:00 0HL7MQJOHD5SQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.023378948159424431505051288569&state=15050512885690.028151692485652635   (e5be5b71)
2017-09-10T16:48:08.6007950+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:08.6012951+03:00 0HL7MQJOHD5SQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:08.6017957+03:00 0HL7MQJOHD5SQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:08.6017957+03:00 0HL7MQJOHD5SQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:08.6022962+03:00 0HL7MQJOHD5SQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:08.6027967+03:00 0HL7MQJOHD5SQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:08.6032969+03:00 0HL7MQJOHD5SQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512885690.028151692485652635\",
  \"Nonce\": \"N0.023378948159424431505051288569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.023378948159424431505051288569\",
    \"state\": \"15050512885690.028151692485652635\"
  }
}" (9a175e33)
2017-09-10T16:48:08.6062989+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:08.6178063+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:08.6213088+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:08.6248109+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:08.6263117+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:08.6283134+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:08.6298142+03:00 0HL7MQJOHD5SQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:08.6468255+03:00 0HL7MQJOHD5SQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512885690.028151692485652635\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:08.6473256+03:00 0HL7MQJOHD5SQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:08.6483267+03:00 0HL7MQJOHD5SQ [INF] Request finished in 50.5127ms 302  (15c52c40)
2017-09-10T16:48:12.6110551+03:00 0HL7MQJOHD5SR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.132721410899857781505051292578&state=15050512925780.6801560110478815   (e5be5b71)
2017-09-10T16:48:12.6140582+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:12.6145572+03:00 0HL7MQJOHD5SR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:12.6150573+03:00 0HL7MQJOHD5SR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:12.6150573+03:00 0HL7MQJOHD5SR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:12.6155594+03:00 0HL7MQJOHD5SR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:12.6160584+03:00 0HL7MQJOHD5SR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:12.6160584+03:00 0HL7MQJOHD5SR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512925780.6801560110478815\",
  \"Nonce\": \"N0.132721410899857781505051292578\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.132721410899857781505051292578\",
    \"state\": \"15050512925780.6801560110478815\"
  }
}" (9a175e33)
2017-09-10T16:48:12.6190615+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:12.6281769+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:12.6301667+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:12.6321696+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:12.6331691+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:12.6351700+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:12.6391723+03:00 0HL7MQJOHD5SR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:12.6521809+03:00 0HL7MQJOHD5SR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512925780.6801560110478815\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:12.6531824+03:00 0HL7MQJOHD5SR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:12.6551833+03:00 0HL7MQJOHD5SR [INF] Request finished in 43.3865ms 302  (15c52c40)
2017-09-10T16:48:16.6234720+03:00 0HL7MQJOHD5SS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75862351323324641505051296568&state=15050512965680.4756780767243436   (e5be5b71)
2017-09-10T16:48:16.6264708+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:16.6269741+03:00 0HL7MQJOHD5SS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:16.6274703+03:00 0HL7MQJOHD5SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:16.6279704+03:00 0HL7MQJOHD5SS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:16.6284717+03:00 0HL7MQJOHD5SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:16.6284717+03:00 0HL7MQJOHD5SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:16.6295012+03:00 0HL7MQJOHD5SS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512965680.4756780767243436\",
  \"Nonce\": \"N0.75862351323324641505051296568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75862351323324641505051296568\",
    \"state\": \"15050512965680.4756780767243436\"
  }
}" (9a175e33)
2017-09-10T16:48:16.6335019+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:16.6475112+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:16.6485118+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:16.6515134+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:16.6535155+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:16.6555165+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:16.6575190+03:00 0HL7MQJOHD5SS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:16.6735276+03:00 0HL7MQJOHD5SS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512965680.4756780767243436\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:16.6735276+03:00 0HL7MQJOHD5SS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:16.6745302+03:00 0HL7MQJOHD5SS [INF] Request finished in 52.2334ms 302  (15c52c40)
2017-09-10T16:48:19.6040978+03:00 0HL7MQJOHD5ST [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.471366077473501341505051299575&state=15050512995750.5051420358426764   (e5be5b71)
2017-09-10T16:48:19.6131041+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:19.6141052+03:00 0HL7MQJOHD5ST [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:19.6141052+03:00 0HL7MQJOHD5ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:19.6141052+03:00 0HL7MQJOHD5ST [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:19.6151055+03:00 0HL7MQJOHD5ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:19.6151055+03:00 0HL7MQJOHD5ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:19.6151055+03:00 0HL7MQJOHD5ST [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050512995750.5051420358426764\",
  \"Nonce\": \"N0.471366077473501341505051299575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.471366077473501341505051299575\",
    \"state\": \"15050512995750.5051420358426764\"
  }
}" (9a175e33)
2017-09-10T16:48:19.6216139+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:19.6381330+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:19.6421344+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:19.6451372+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:19.6491395+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:19.6511412+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:19.6561441+03:00 0HL7MQJOHD5ST [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:19.6781583+03:00 0HL7MQJOHD5ST [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050512995750.5051420358426764\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:19.6791593+03:00 0HL7MQJOHD5ST [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:19.6801620+03:00 0HL7MQJOHD5ST [INF] Request finished in 76.0772ms 302  (15c52c40)
2017-09-10T16:48:23.6000880+03:00 0HL7MQJOHD5SU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59723358804590961505051303570&state=15050513035700.28736473083924174   (e5be5b71)
2017-09-10T16:48:23.6030892+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:23.6030892+03:00 0HL7MQJOHD5SU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:23.6030892+03:00 0HL7MQJOHD5SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:23.6040899+03:00 0HL7MQJOHD5SU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:23.6040899+03:00 0HL7MQJOHD5SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:23.6050913+03:00 0HL7MQJOHD5SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:23.6050913+03:00 0HL7MQJOHD5SU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513035700.28736473083924174\",
  \"Nonce\": \"N0.59723358804590961505051303570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59723358804590961505051303570\",
    \"state\": \"15050513035700.28736473083924174\"
  }
}" (9a175e33)
2017-09-10T16:48:23.6100951+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:23.6246128+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:23.6276147+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:23.6311188+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:23.6341200+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:23.6371244+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:23.6411278+03:00 0HL7MQJOHD5SU [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:23.6581379+03:00 0HL7MQJOHD5SU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513035700.28736473083924174\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:23.6591390+03:00 0HL7MQJOHD5SU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:23.6601404+03:00 0HL7MQJOHD5SU [INF] Request finished in 59.628ms 302  (15c52c40)
2017-09-10T16:48:27.5966992+03:00 0HL7MQJOHD5SV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.69442630029624741505051307569&state=15050513075690.2785886859128399   (e5be5b71)
2017-09-10T16:48:27.5987013+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:27.5997012+03:00 0HL7MQJOHD5SV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:27.5997012+03:00 0HL7MQJOHD5SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:27.5997012+03:00 0HL7MQJOHD5SV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:27.6007011+03:00 0HL7MQJOHD5SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:27.6007011+03:00 0HL7MQJOHD5SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:27.6007011+03:00 0HL7MQJOHD5SV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513075690.2785886859128399\",
  \"Nonce\": \"N0.69442630029624741505051307569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.69442630029624741505051307569\",
    \"state\": \"15050513075690.2785886859128399\"
  }
}" (9a175e33)
2017-09-10T16:48:27.6037038+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:27.6147107+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:27.6167125+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:27.6197164+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:27.6227180+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:27.6252214+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:27.6267222+03:00 0HL7MQJOHD5SV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:27.6427376+03:00 0HL7MQJOHD5SV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513075690.2785886859128399\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:27.6437382+03:00 0HL7MQJOHD5SV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:27.6447385+03:00 0HL7MQJOHD5SV [INF] Request finished in 48.4912ms 302  (15c52c40)
2017-09-10T16:48:30.6071385+03:00 0HL7MQJOHD5T0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.385419880786038061505051310572&state=15050513105720.26929054540706887   (e5be5b71)
2017-09-10T16:48:30.6091386+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:30.6101393+03:00 0HL7MQJOHD5T0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:30.6101393+03:00 0HL7MQJOHD5T0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:30.6101393+03:00 0HL7MQJOHD5T0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:30.6111399+03:00 0HL7MQJOHD5T0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:30.6111399+03:00 0HL7MQJOHD5T0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:30.6121410+03:00 0HL7MQJOHD5T0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513105720.26929054540706887\",
  \"Nonce\": \"N0.385419880786038061505051310572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.385419880786038061505051310572\",
    \"state\": \"15050513105720.26929054540706887\"
  }
}" (9a175e33)
2017-09-10T16:48:30.6161440+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:30.6271513+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:30.6291586+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:30.6311607+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:30.6331612+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:30.6346628+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:30.6366637+03:00 0HL7MQJOHD5T0 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:30.6556787+03:00 0HL7MQJOHD5T0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513105720.26929054540706887\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:30.6566790+03:00 0HL7MQJOHD5T0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:30.6576804+03:00 0HL7MQJOHD5T0 [INF] Request finished in 50.5893ms 302  (15c52c40)
2017-09-10T16:48:34.5988987+03:00 0HL7MQJOHD5T1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53094090319686391505051314571&state=15050513145710.5546284099582932   (e5be5b71)
2017-09-10T16:48:34.6019007+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:34.6019007+03:00 0HL7MQJOHD5T1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:34.6029009+03:00 0HL7MQJOHD5T1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:34.6029009+03:00 0HL7MQJOHD5T1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:34.6029009+03:00 0HL7MQJOHD5T1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:34.6039020+03:00 0HL7MQJOHD5T1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:34.6039020+03:00 0HL7MQJOHD5T1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513145710.5546284099582932\",
  \"Nonce\": \"N0.53094090319686391505051314571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53094090319686391505051314571\",
    \"state\": \"15050513145710.5546284099582932\"
  }
}" (9a175e33)
2017-09-10T16:48:34.6069032+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:34.6189115+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:34.6219135+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:34.6239153+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:34.6259166+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:34.6279179+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:34.6299216+03:00 0HL7MQJOHD5T1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:34.6509406+03:00 0HL7MQJOHD5T1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513145710.5546284099582932\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:34.6509406+03:00 0HL7MQJOHD5T1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:34.6519417+03:00 0HL7MQJOHD5T1 [INF] Request finished in 53.189ms 302  (15c52c40)
2017-09-10T16:48:38.6058153+03:00 0HL7MQJOHD5T2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.472899622220726461505051318568&state=15050513185680.19220789982037578   (e5be5b71)
2017-09-10T16:48:38.6078170+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:38.6088169+03:00 0HL7MQJOHD5T2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:38.6088169+03:00 0HL7MQJOHD5T2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:38.6088169+03:00 0HL7MQJOHD5T2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:38.6098191+03:00 0HL7MQJOHD5T2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:38.6098191+03:00 0HL7MQJOHD5T2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:38.6098191+03:00 0HL7MQJOHD5T2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513185680.19220789982037578\",
  \"Nonce\": \"N0.472899622220726461505051318568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.472899622220726461505051318568\",
    \"state\": \"15050513185680.19220789982037578\"
  }
}" (9a175e33)
2017-09-10T16:48:38.6128211+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:38.6238268+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:38.6258286+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:38.6278291+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:38.6288301+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:38.6308331+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:38.6338331+03:00 0HL7MQJOHD5T2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:38.6503501+03:00 0HL7MQJOHD5T2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513185680.19220789982037578\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:38.6508510+03:00 0HL7MQJOHD5T2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:38.6518521+03:00 0HL7MQJOHD5T2 [INF] Request finished in 46.3581ms 302  (15c52c40)
2017-09-10T16:48:42.5973324+03:00 0HL7MQJOHD5T3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93525485346616821505051322568&state=15050513225680.9937851138474161   (e5be5b71)
2017-09-10T16:48:42.6003347+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:42.6003347+03:00 0HL7MQJOHD5T3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:42.6013346+03:00 0HL7MQJOHD5T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:42.6013346+03:00 0HL7MQJOHD5T3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:42.6013346+03:00 0HL7MQJOHD5T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:42.6023353+03:00 0HL7MQJOHD5T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:42.6023353+03:00 0HL7MQJOHD5T3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513225680.9937851138474161\",
  \"Nonce\": \"N0.93525485346616821505051322568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93525485346616821505051322568\",
    \"state\": \"15050513225680.9937851138474161\"
  }
}" (9a175e33)
2017-09-10T16:48:42.6053377+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:42.6163446+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:42.6183459+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:42.6213502+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:42.6243491+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:42.6263512+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:42.6283521+03:00 0HL7MQJOHD5T3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:42.6473647+03:00 0HL7MQJOHD5T3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513225680.9937851138474161\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:42.6473647+03:00 0HL7MQJOHD5T3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:42.6488714+03:00 0HL7MQJOHD5T3 [INF] Request finished in 51.1774ms 302  (15c52c40)
2017-09-10T16:48:46.6046828+03:00 0HL7MQJOHD5T4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5989550718490361505051326567&state=15050513265670.6993198491429065   (e5be5b71)
2017-09-10T16:48:46.6066853+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:46.6076844+03:00 0HL7MQJOHD5T4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:46.6076844+03:00 0HL7MQJOHD5T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:46.6076844+03:00 0HL7MQJOHD5T4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:46.6086847+03:00 0HL7MQJOHD5T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:46.6086847+03:00 0HL7MQJOHD5T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:46.6086847+03:00 0HL7MQJOHD5T4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513265670.6993198491429065\",
  \"Nonce\": \"N0.5989550718490361505051326567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5989550718490361505051326567\",
    \"state\": \"15050513265670.6993198491429065\"
  }
}" (9a175e33)
2017-09-10T16:48:46.6116878+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:46.6236981+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:46.6256975+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:46.6276980+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:46.6296994+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:46.6317007+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:46.6337016+03:00 0HL7MQJOHD5T4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:46.6487123+03:00 0HL7MQJOHD5T4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513265670.6993198491429065\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:46.6497126+03:00 0HL7MQJOHD5T4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:46.6497126+03:00 0HL7MQJOHD5T4 [INF] Request finished in 45.8129ms 302  (15c52c40)
2017-09-10T16:48:49.5963996+03:00 0HL7MQJOHD5T5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.138114454529340681505051329573&state=15050513295730.040287042794290295   (e5be5b71)
2017-09-10T16:48:49.5994016+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:49.5994016+03:00 0HL7MQJOHD5T5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:49.6004026+03:00 0HL7MQJOHD5T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:49.6004026+03:00 0HL7MQJOHD5T5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:49.6004026+03:00 0HL7MQJOHD5T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:49.6014025+03:00 0HL7MQJOHD5T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:49.6014025+03:00 0HL7MQJOHD5T5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513295730.040287042794290295\",
  \"Nonce\": \"N0.138114454529340681505051329573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.138114454529340681505051329573\",
    \"state\": \"15050513295730.040287042794290295\"
  }
}" (9a175e33)
2017-09-10T16:48:49.6044041+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:49.6164121+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:49.6174131+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:49.6204147+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:49.6234218+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:49.6254204+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:49.6264191+03:00 0HL7MQJOHD5T5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:49.6434303+03:00 0HL7MQJOHD5T5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513295730.040287042794290295\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:49.6444302+03:00 0HL7MQJOHD5T5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:49.6454325+03:00 0HL7MQJOHD5T5 [INF] Request finished in 48.6503ms 302  (15c52c40)
2017-09-10T16:48:53.5972396+03:00 0HL7MQJOHD5T6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.9360419557932281505051333571&state=15050513335710.3795565972329702   (e5be5b71)
2017-09-10T16:48:53.6002416+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:53.6002416+03:00 0HL7MQJOHD5T6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:53.6002416+03:00 0HL7MQJOHD5T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:53.6012419+03:00 0HL7MQJOHD5T6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:53.6012419+03:00 0HL7MQJOHD5T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:53.6012419+03:00 0HL7MQJOHD5T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:53.6012419+03:00 0HL7MQJOHD5T6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513335710.3795565972329702\",
  \"Nonce\": \"N0.9360419557932281505051333571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.9360419557932281505051333571\",
    \"state\": \"15050513335710.3795565972329702\"
  }
}" (9a175e33)
2017-09-10T16:48:53.6052441+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:53.6162510+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:53.6172525+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:53.6202564+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:53.6222562+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:53.6252574+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:53.6272587+03:00 0HL7MQJOHD5T6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:53.6442696+03:00 0HL7MQJOHD5T6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513335710.3795565972329702\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:53.6442696+03:00 0HL7MQJOHD5T6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:53.6452706+03:00 0HL7MQJOHD5T6 [INF] Request finished in 48.3037ms 302  (15c52c40)
2017-09-10T16:48:57.5980129+03:00 0HL7MQJOHD5T7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.330995186150029541505051337568&state=15050513375680.6369548011120574   (e5be5b71)
2017-09-10T16:48:57.6000134+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:48:57.6010141+03:00 0HL7MQJOHD5T7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:48:57.6010141+03:00 0HL7MQJOHD5T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:57.6010141+03:00 0HL7MQJOHD5T7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:48:57.6010141+03:00 0HL7MQJOHD5T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:57.6020151+03:00 0HL7MQJOHD5T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:57.6020151+03:00 0HL7MQJOHD5T7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513375680.6369548011120574\",
  \"Nonce\": \"N0.330995186150029541505051337568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.330995186150029541505051337568\",
    \"state\": \"15050513375680.6369548011120574\"
  }
}" (9a175e33)
2017-09-10T16:48:57.6050171+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:48:57.6150234+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:57.6170251+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:48:57.6200271+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:48:57.6230322+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:48:57.6250304+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:48:57.6270317+03:00 0HL7MQJOHD5T7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:48:57.6450436+03:00 0HL7MQJOHD5T7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513375680.6369548011120574\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:48:57.6460443+03:00 0HL7MQJOHD5T7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:48:57.6470446+03:00 0HL7MQJOHD5T7 [INF] Request finished in 49.2523ms 302  (15c52c40)
2017-09-10T16:49:01.6033746+03:00 0HL7MQJOHD5T8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57297581071806271505051341569&state=15050513415690.6755351747767031   (e5be5b71)
2017-09-10T16:49:01.6063766+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:01.6063766+03:00 0HL7MQJOHD5T8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:01.6073769+03:00 0HL7MQJOHD5T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:01.6073769+03:00 0HL7MQJOHD5T8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:01.6073769+03:00 0HL7MQJOHD5T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:01.6083772+03:00 0HL7MQJOHD5T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:01.6083772+03:00 0HL7MQJOHD5T8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513415690.6755351747767031\",
  \"Nonce\": \"N0.57297581071806271505051341569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57297581071806271505051341569\",
    \"state\": \"15050513415690.6755351747767031\"
  }
}" (9a175e33)
2017-09-10T16:49:01.6113795+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:01.6243901+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:01.6283912+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:01.6293923+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:01.6313940+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:01.6333949+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:01.6353958+03:00 0HL7MQJOHD5T8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:01.6534086+03:00 0HL7MQJOHD5T8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513415690.6755351747767031\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:01.6544076+03:00 0HL7MQJOHD5T8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:01.6574104+03:00 0HL7MQJOHD5T8 [INF] Request finished in 52.8022ms 302  (15c52c40)
2017-09-10T16:49:05.6153549+03:00 0HL7MQJOHD5T9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.26869932994874061505051345567&state=15050513455670.873389322284879   (e5be5b71)
2017-09-10T16:49:05.6173559+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:05.6183565+03:00 0HL7MQJOHD5T9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:05.6183565+03:00 0HL7MQJOHD5T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:05.6183565+03:00 0HL7MQJOHD5T9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:05.6193572+03:00 0HL7MQJOHD5T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:05.6193572+03:00 0HL7MQJOHD5T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:05.6193572+03:00 0HL7MQJOHD5T9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513455670.873389322284879\",
  \"Nonce\": \"N0.26869932994874061505051345567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.26869932994874061505051345567\",
    \"state\": \"15050513455670.873389322284879\"
  }
}" (9a175e33)
2017-09-10T16:49:05.6223592+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:05.6343679+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:05.6353690+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:05.6373695+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:05.6393713+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:05.6413730+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:05.6443738+03:00 0HL7MQJOHD5T9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:05.6623861+03:00 0HL7MQJOHD5T9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513455670.873389322284879\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:05.6623861+03:00 0HL7MQJOHD5T9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:05.6633872+03:00 0HL7MQJOHD5T9 [INF] Request finished in 48.3322ms 302  (15c52c40)
2017-09-10T16:49:09.6065558+03:00 0HL7MQJOHD5TA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.29712370761940731505051349568&state=15050513495680.5965311125459276   (e5be5b71)
2017-09-10T16:49:09.6085575+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:09.6095582+03:00 0HL7MQJOHD5TA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:09.6095582+03:00 0HL7MQJOHD5TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:09.6105593+03:00 0HL7MQJOHD5TA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:09.6105593+03:00 0HL7MQJOHD5TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:09.6115595+03:00 0HL7MQJOHD5TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:09.6115595+03:00 0HL7MQJOHD5TA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513495680.5965311125459276\",
  \"Nonce\": \"N0.29712370761940731505051349568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.29712370761940731505051349568\",
    \"state\": \"15050513495680.5965311125459276\"
  }
}" (9a175e33)
2017-09-10T16:49:09.6155618+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:09.6275705+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:09.6295711+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:09.6315724+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:09.6335741+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:09.6355754+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:09.6375760+03:00 0HL7MQJOHD5TA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:09.6585907+03:00 0HL7MQJOHD5TA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513495680.5965311125459276\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:09.6595910+03:00 0HL7MQJOHD5TA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:09.6605924+03:00 0HL7MQJOHD5TA [INF] Request finished in 53.9473ms 302  (15c52c40)
2017-09-10T16:49:12.5964596+03:00 0HL7MQJOHD5TB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.158374052131606821505051352573&state=15050513525730.45583258790943093   (e5be5b71)
2017-09-10T16:49:12.5984633+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:12.5994616+03:00 0HL7MQJOHD5TB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:12.6004630+03:00 0HL7MQJOHD5TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:12.6004630+03:00 0HL7MQJOHD5TB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:12.6004630+03:00 0HL7MQJOHD5TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:12.6014629+03:00 0HL7MQJOHD5TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:12.6014629+03:00 0HL7MQJOHD5TB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513525730.45583258790943093\",
  \"Nonce\": \"N0.158374052131606821505051352573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.158374052131606821505051352573\",
    \"state\": \"15050513525730.45583258790943093\"
  }
}" (9a175e33)
2017-09-10T16:49:12.6064658+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:12.6184781+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:12.6209796+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:12.6239824+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:12.6259825+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:12.6274845+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:12.6290082+03:00 0HL7MQJOHD5TB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:12.6470201+03:00 0HL7MQJOHD5TB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513525730.45583258790943093\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:12.6470201+03:00 0HL7MQJOHD5TB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:12.6480208+03:00 0HL7MQJOHD5TB [INF] Request finished in 51.7905ms 302  (15c52c40)
2017-09-10T16:49:16.5992772+03:00 0HL7MQJOHD5TC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.90991677328847811505051356572&state=15050513565720.5411559259734293   (e5be5b71)
2017-09-10T16:49:16.6022788+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:16.6022788+03:00 0HL7MQJOHD5TC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:16.6032795+03:00 0HL7MQJOHD5TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:16.6032795+03:00 0HL7MQJOHD5TC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:16.6032795+03:00 0HL7MQJOHD5TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:16.6042809+03:00 0HL7MQJOHD5TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:16.6042809+03:00 0HL7MQJOHD5TC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513565720.5411559259734293\",
  \"Nonce\": \"N0.90991677328847811505051356572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.90991677328847811505051356572\",
    \"state\": \"15050513565720.5411559259734293\"
  }
}" (9a175e33)
2017-09-10T16:49:16.6072821+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:16.6202963+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:16.6232983+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:16.6252996+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:16.6268000+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:16.6288013+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:16.6303025+03:00 0HL7MQJOHD5TC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:16.6493195+03:00 0HL7MQJOHD5TC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513565720.5411559259734293\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:16.6503201+03:00 0HL7MQJOHD5TC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:16.6503201+03:00 0HL7MQJOHD5TC [INF] Request finished in 51.4131ms 302  (15c52c40)
2017-09-10T16:49:20.6143053+03:00 0HL7MQJOHD5TD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.77565287222424881505051360575&state=15050513605750.1022203118993037   (e5be5b71)
2017-09-10T16:49:20.6173077+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:20.6183080+03:00 0HL7MQJOHD5TD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:20.6183080+03:00 0HL7MQJOHD5TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:20.6183080+03:00 0HL7MQJOHD5TD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:20.6193087+03:00 0HL7MQJOHD5TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:20.6203141+03:00 0HL7MQJOHD5TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:20.6203141+03:00 0HL7MQJOHD5TD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513605750.1022203118993037\",
  \"Nonce\": \"N0.77565287222424881505051360575\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.77565287222424881505051360575\",
    \"state\": \"15050513605750.1022203118993037\"
  }
}" (9a175e33)
2017-09-10T16:49:20.6323220+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:20.6453350+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:20.6473367+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:20.6493384+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:20.6503387+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:20.6533407+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:20.6573437+03:00 0HL7MQJOHD5TD [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:20.6793575+03:00 0HL7MQJOHD5TD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513605750.1022203118993037\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:20.6793575+03:00 0HL7MQJOHD5TD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:20.6803582+03:00 0HL7MQJOHD5TD [INF] Request finished in 66.0563ms 302  (15c52c40)
2017-09-10T16:49:24.6196947+03:00 0HL7MQJOHD5TE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61700812238541821505051364579&state=15050513645790.20841906198657223   (e5be5b71)
2017-09-10T16:49:24.6226971+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:24.6226971+03:00 0HL7MQJOHD5TE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:24.6236974+03:00 0HL7MQJOHD5TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:24.6236974+03:00 0HL7MQJOHD5TE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:24.6236974+03:00 0HL7MQJOHD5TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:24.6246976+03:00 0HL7MQJOHD5TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:24.6246976+03:00 0HL7MQJOHD5TE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513645790.20841906198657223\",
  \"Nonce\": \"N0.61700812238541821505051364579\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61700812238541821505051364579\",
    \"state\": \"15050513645790.20841906198657223\"
  }
}" (9a175e33)
2017-09-10T16:49:24.6352103+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:24.6567307+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:24.6637357+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:24.6677380+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:24.6757464+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:24.6827487+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:24.6867510+03:00 0HL7MQJOHD5TE [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:24.7077641+03:00 0HL7MQJOHD5TE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513645790.20841906198657223\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:24.7087659+03:00 0HL7MQJOHD5TE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:24.7087659+03:00 0HL7MQJOHD5TE [INF] Request finished in 90.1784ms 302  (15c52c40)
2017-09-10T16:49:28.5996195+03:00 0HL7MQJOHD5TF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.12376266898742961505051368572&state=15050513685720.9455772589530991   (e5be5b71)
2017-09-10T16:49:28.6036229+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:28.6036229+03:00 0HL7MQJOHD5TF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:28.6046220+03:00 0HL7MQJOHD5TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:28.6046220+03:00 0HL7MQJOHD5TF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:28.6046220+03:00 0HL7MQJOHD5TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:28.6056231+03:00 0HL7MQJOHD5TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:28.6056231+03:00 0HL7MQJOHD5TF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513685720.9455772589530991\",
  \"Nonce\": \"N0.12376266898742961505051368572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.12376266898742961505051368572\",
    \"state\": \"15050513685720.9455772589530991\"
  }
}" (9a175e33)
2017-09-10T16:49:28.6106272+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:28.6266370+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:28.6301430+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:28.6341453+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:28.6381491+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:28.6406518+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:28.6451530+03:00 0HL7MQJOHD5TF [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:28.6643961+03:00 0HL7MQJOHD5TF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513685720.9455772589530991\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:28.6643961+03:00 0HL7MQJOHD5TF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:28.6653964+03:00 0HL7MQJOHD5TF [INF] Request finished in 66.0094ms 302  (15c52c40)
2017-09-10T16:49:32.6065183+03:00 0HL7MQJOHD5TG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94985188710515931505051372571&state=15050513725710.8956087688779899   (e5be5b71)
2017-09-10T16:49:32.6105214+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:32.6105214+03:00 0HL7MQJOHD5TG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:32.6115216+03:00 0HL7MQJOHD5TG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:32.6115216+03:00 0HL7MQJOHD5TG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:32.6115216+03:00 0HL7MQJOHD5TG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:32.6125227+03:00 0HL7MQJOHD5TG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:32.6125227+03:00 0HL7MQJOHD5TG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513725710.8956087688779899\",
  \"Nonce\": \"N0.94985188710515931505051372571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94985188710515931505051372571\",
    \"state\": \"15050513725710.8956087688779899\"
  }
}" (9a175e33)
2017-09-10T16:49:32.6145240+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:32.6285333+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:32.6305358+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:32.6325360+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:32.6345373+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:32.6365386+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:32.6415478+03:00 0HL7MQJOHD5TG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:32.6670681+03:00 0HL7MQJOHD5TG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513725710.8956087688779899\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:32.6690694+03:00 0HL7MQJOHD5TG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:32.6700701+03:00 0HL7MQJOHD5TG [INF] Request finished in 63.8347ms 302  (15c52c40)
2017-09-10T16:49:36.6004571+03:00 0HL7MQJOHD5TH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.082517875333369961505051376572&state=15050513765720.01920047832218308   (e5be5b71)
2017-09-10T16:49:36.6024588+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:36.6034587+03:00 0HL7MQJOHD5TH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:36.6034587+03:00 0HL7MQJOHD5TH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:36.6034587+03:00 0HL7MQJOHD5TH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:36.6044586+03:00 0HL7MQJOHD5TH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:36.6044586+03:00 0HL7MQJOHD5TH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:36.6044586+03:00 0HL7MQJOHD5TH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513765720.01920047832218308\",
  \"Nonce\": \"N0.082517875333369961505051376572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.082517875333369961505051376572\",
    \"state\": \"15050513765720.01920047832218308\"
  }
}" (9a175e33)
2017-09-10T16:49:36.6074610+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:36.6184683+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:36.6214734+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:36.6234724+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:36.6274742+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:36.6294751+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:36.6304766+03:00 0HL7MQJOHD5TH [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:36.6484913+03:00 0HL7MQJOHD5TH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513765720.01920047832218308\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:36.6489918+03:00 0HL7MQJOHD5TH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:36.6494924+03:00 0HL7MQJOHD5TH [INF] Request finished in 49.6245ms 302  (15c52c40)
2017-09-10T16:49:40.6377145+03:00 0HL7MQJOHD5TI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.36762888162951391505051380595&state=15050513805950.46183715301694583   (e5be5b71)
2017-09-10T16:49:40.6407165+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:40.6417176+03:00 0HL7MQJOHD5TI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:40.6417176+03:00 0HL7MQJOHD5TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:40.6417176+03:00 0HL7MQJOHD5TI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:40.6427178+03:00 0HL7MQJOHD5TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:40.6427178+03:00 0HL7MQJOHD5TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:40.6427178+03:00 0HL7MQJOHD5TI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513805950.46183715301694583\",
  \"Nonce\": \"N0.36762888162951391505051380595\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.36762888162951391505051380595\",
    \"state\": \"15050513805950.46183715301694583\"
  }
}" (9a175e33)
2017-09-10T16:49:40.6487226+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:40.6647372+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:40.6702406+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:40.6722423+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:40.6752443+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:40.6782459+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:40.6802476+03:00 0HL7MQJOHD5TI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:40.7022622+03:00 0HL7MQJOHD5TI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513805950.46183715301694583\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:40.7037626+03:00 0HL7MQJOHD5TI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:40.7057647+03:00 0HL7MQJOHD5TI [INF] Request finished in 66.5241ms 302  (15c52c40)
2017-09-10T16:49:44.6042959+03:00 0HL7MQJOHD5TJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.97386227512177781505051384572&state=15050513845720.021269740719992436   (e5be5b71)
2017-09-10T16:49:44.6063004+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:44.6072979+03:00 0HL7MQJOHD5TJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:44.6072979+03:00 0HL7MQJOHD5TJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:44.6072979+03:00 0HL7MQJOHD5TJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:44.6082990+03:00 0HL7MQJOHD5TJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:44.6092993+03:00 0HL7MQJOHD5TJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:44.6092993+03:00 0HL7MQJOHD5TJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513845720.021269740719992436\",
  \"Nonce\": \"N0.97386227512177781505051384572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.97386227512177781505051384572\",
    \"state\": \"15050513845720.021269740719992436\"
  }
}" (9a175e33)
2017-09-10T16:49:44.6133023+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:44.6253103+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:44.6273120+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:44.6293141+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:44.6303132+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:44.6323145+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:44.6343162+03:00 0HL7MQJOHD5TJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:44.6508321+03:00 0HL7MQJOHD5TJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513845720.021269740719992436\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:44.6513318+03:00 0HL7MQJOHD5TJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:44.6518328+03:00 0HL7MQJOHD5TJ [INF] Request finished in 48.0914ms 302  (15c52c40)
2017-09-10T16:49:48.6119705+03:00 0HL7MQJOHD5TK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.87924072983076941505051388573&state=15050513885730.13373893015959593   (e5be5b71)
2017-09-10T16:49:48.6149736+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:48.6149736+03:00 0HL7MQJOHD5TK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:48.6159727+03:00 0HL7MQJOHD5TK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:48.6159727+03:00 0HL7MQJOHD5TK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:48.6159727+03:00 0HL7MQJOHD5TK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:48.6169734+03:00 0HL7MQJOHD5TK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:48.6169734+03:00 0HL7MQJOHD5TK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513885730.13373893015959593\",
  \"Nonce\": \"N0.87924072983076941505051388573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.87924072983076941505051388573\",
    \"state\": \"15050513885730.13373893015959593\"
  }
}" (9a175e33)
2017-09-10T16:49:48.6199758+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:48.6309831+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:48.6329860+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:48.6339850+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:48.6359875+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:48.6379553+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:48.6399689+03:00 0HL7MQJOHD5TK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:48.6584881+03:00 0HL7MQJOHD5TK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513885730.13373893015959593\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:48.6594871+03:00 0HL7MQJOHD5TK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:48.6599877+03:00 0HL7MQJOHD5TK [INF] Request finished in 47.8056ms 302  (15c52c40)
2017-09-10T16:49:52.6231021+03:00 0HL7MQJOHD5TL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.44244388637725751505051392576&state=15050513925760.7485168805078541   (e5be5b71)
2017-09-10T16:49:52.6261033+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:52.6271051+03:00 0HL7MQJOHD5TL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:52.6271051+03:00 0HL7MQJOHD5TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:52.6281062+03:00 0HL7MQJOHD5TL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:52.6281062+03:00 0HL7MQJOHD5TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:52.6291065+03:00 0HL7MQJOHD5TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:52.6291065+03:00 0HL7MQJOHD5TL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513925760.7485168805078541\",
  \"Nonce\": \"N0.44244388637725751505051392576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.44244388637725751505051392576\",
    \"state\": \"15050513925760.7485168805078541\"
  }
}" (9a175e33)
2017-09-10T16:49:52.6341098+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:52.6471168+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:52.6481187+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:52.6501196+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:52.6511199+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:52.6531224+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:52.6541222+03:00 0HL7MQJOHD5TL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:52.6681343+03:00 0HL7MQJOHD5TL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513925760.7485168805078541\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:52.6686348+03:00 0HL7MQJOHD5TL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:52.6691346+03:00 0HL7MQJOHD5TL [INF] Request finished in 46.3691ms 302  (15c52c40)
2017-09-10T16:49:56.6010074+03:00 0HL7MQJOHD5TM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.66749294047967281505051396569&state=15050513965690.31484072050894385   (e5be5b71)
2017-09-10T16:49:56.6040090+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:49:56.6040090+03:00 0HL7MQJOHD5TM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:49:56.6050092+03:00 0HL7MQJOHD5TM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:56.6050092+03:00 0HL7MQJOHD5TM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:49:56.6050092+03:00 0HL7MQJOHD5TM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:56.6060103+03:00 0HL7MQJOHD5TM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:56.6060103+03:00 0HL7MQJOHD5TM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050513965690.31484072050894385\",
  \"Nonce\": \"N0.66749294047967281505051396569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.66749294047967281505051396569\",
    \"state\": \"15050513965690.31484072050894385\"
  }
}" (9a175e33)
2017-09-10T16:49:56.6090119+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:49:56.6210238+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:56.6220213+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:49:56.6240222+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:49:56.6270254+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:49:56.6300266+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:49:56.6320275+03:00 0HL7MQJOHD5TM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:49:56.6480385+03:00 0HL7MQJOHD5TM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050513965690.31484072050894385\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:49:56.6480385+03:00 0HL7MQJOHD5TM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:49:56.6490388+03:00 0HL7MQJOHD5TM [INF] Request finished in 48.0337ms 302  (15c52c40)
2017-09-10T16:50:00.5969720+03:00 0HL7MQJOHD5TN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.165719460525922461505051400569&state=15050514005690.3516229987220889   (e5be5b71)
2017-09-10T16:50:00.5999759+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:00.6019753+03:00 0HL7MQJOHD5TN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:00.6029759+03:00 0HL7MQJOHD5TN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:00.6029759+03:00 0HL7MQJOHD5TN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:00.6039766+03:00 0HL7MQJOHD5TN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:00.6039766+03:00 0HL7MQJOHD5TN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:00.6039766+03:00 0HL7MQJOHD5TN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514005690.3516229987220889\",
  \"Nonce\": \"N0.165719460525922461505051400569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.165719460525922461505051400569\",
    \"state\": \"15050514005690.3516229987220889\"
  }
}" (9a175e33)
2017-09-10T16:50:00.6079793+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:00.6209902+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:00.6219889+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:00.6239922+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:00.6269950+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:00.6289932+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:00.6309945+03:00 0HL7MQJOHD5TN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:00.6470059+03:00 0HL7MQJOHD5TN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514005690.3516229987220889\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:00.6470059+03:00 0HL7MQJOHD5TN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:00.6480066+03:00 0HL7MQJOHD5TN [INF] Request finished in 51.3835ms 302  (15c52c40)
2017-09-10T16:50:04.6096379+03:00 0HL7MQJOHD5TO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.080280648647889091505051404567&state=15050514045670.07234822620771864   (e5be5b71)
2017-09-10T16:50:04.6136422+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:04.6146409+03:00 0HL7MQJOHD5TO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:04.6146409+03:00 0HL7MQJOHD5TO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:04.6146409+03:00 0HL7MQJOHD5TO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:04.6156443+03:00 0HL7MQJOHD5TO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:04.6156443+03:00 0HL7MQJOHD5TO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:04.6156443+03:00 0HL7MQJOHD5TO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514045670.07234822620771864\",
  \"Nonce\": \"N0.080280648647889091505051404567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.080280648647889091505051404567\",
    \"state\": \"15050514045670.07234822620771864\"
  }
}" (9a175e33)
2017-09-10T16:50:04.6186435+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:04.6306609+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:04.6316521+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:04.6336546+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:04.6346549+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:04.6366570+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:04.6383686+03:00 0HL7MQJOHD5TO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:04.6503809+03:00 0HL7MQJOHD5TO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514045670.07234822620771864\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:04.6513792+03:00 0HL7MQJOHD5TO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:04.6513792+03:00 0HL7MQJOHD5TO [INF] Request finished in 43.2625ms 302  (15c52c40)
2017-09-10T16:50:08.6159818+03:00 0HL7MQJOHD5TP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.198476275097328571505051408568&state=15050514085680.713611991146067   (e5be5b71)
2017-09-10T16:50:08.6189822+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:08.6189822+03:00 0HL7MQJOHD5TP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:08.6199829+03:00 0HL7MQJOHD5TP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:08.6199829+03:00 0HL7MQJOHD5TP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:08.6209839+03:00 0HL7MQJOHD5TP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:08.6219842+03:00 0HL7MQJOHD5TP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:08.6219842+03:00 0HL7MQJOHD5TP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514085680.713611991146067\",
  \"Nonce\": \"N0.198476275097328571505051408568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.198476275097328571505051408568\",
    \"state\": \"15050514085680.713611991146067\"
  }
}" (9a175e33)
2017-09-10T16:50:08.6279890+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:08.6377797+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:08.6387835+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:08.6397838+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:08.6417847+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:08.6447859+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:08.6467884+03:00 0HL7MQJOHD5TP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:08.6627982+03:00 0HL7MQJOHD5TP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514085680.713611991146067\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:08.6627982+03:00 0HL7MQJOHD5TP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:08.6637989+03:00 0HL7MQJOHD5TP [INF] Request finished in 48.2449ms 302  (15c52c40)
2017-09-10T16:50:12.5946695+03:00 0HL7MQJOHD5TQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.294389071301145441505051412570&state=15050514125700.6462841093540743   (e5be5b71)
2017-09-10T16:50:12.5976710+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:12.5981716+03:00 0HL7MQJOHD5TQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:12.5986717+03:00 0HL7MQJOHD5TQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:12.5986717+03:00 0HL7MQJOHD5TQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:12.5991734+03:00 0HL7MQJOHD5TQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:12.5996724+03:00 0HL7MQJOHD5TQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:12.5996724+03:00 0HL7MQJOHD5TQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514125700.6462841093540743\",
  \"Nonce\": \"N0.294389071301145441505051412570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.294389071301145441505051412570\",
    \"state\": \"15050514125700.6462841093540743\"
  }
}" (9a175e33)
2017-09-10T16:50:12.6046761+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:12.6141873+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:12.6161882+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:12.6171897+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:12.6191910+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:12.6221930+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:12.6241939+03:00 0HL7MQJOHD5TQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:12.6392039+03:00 0HL7MQJOHD5TQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514125700.6462841093540743\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:12.6402041+03:00 0HL7MQJOHD5TQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:12.6412052+03:00 0HL7MQJOHD5TQ [INF] Request finished in 46.8187ms 302  (15c52c40)
2017-09-10T16:50:16.6097954+03:00 0HL7MQJOHD5TR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.99330608856535971505051416568&state=15050514165680.19682325946531032   (e5be5b71)
2017-09-10T16:50:16.6133011+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:16.6133011+03:00 0HL7MQJOHD5TR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:16.6143022+03:00 0HL7MQJOHD5TR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:16.6143022+03:00 0HL7MQJOHD5TR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:16.6153024+03:00 0HL7MQJOHD5TR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:16.6163047+03:00 0HL7MQJOHD5TR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:16.6163047+03:00 0HL7MQJOHD5TR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514165680.19682325946531032\",
  \"Nonce\": \"N0.99330608856535971505051416568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.99330608856535971505051416568\",
    \"state\": \"15050514165680.19682325946531032\"
  }
}" (9a175e33)
2017-09-10T16:50:16.6193071+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:16.6293117+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:16.6303132+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:16.6323141+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:16.6343166+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:16.6353169+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:16.6373178+03:00 0HL7MQJOHD5TR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:16.6493270+03:00 0HL7MQJOHD5TR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514165680.19682325946531032\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:16.6503256+03:00 0HL7MQJOHD5TR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:16.6513263+03:00 0HL7MQJOHD5TR [INF] Request finished in 42.0061ms 302  (15c52c40)
2017-09-10T16:50:20.6145359+03:00 0HL7MQJOHD5TS [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.74320412718173711505051420569&state=15050514205690.36650450966086234   (e5be5b71)
2017-09-10T16:50:20.6170417+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:20.6170417+03:00 0HL7MQJOHD5TS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:20.6180419+03:00 0HL7MQJOHD5TS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:20.6180419+03:00 0HL7MQJOHD5TS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:20.6180419+03:00 0HL7MQJOHD5TS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:20.6190430+03:00 0HL7MQJOHD5TS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:20.6190430+03:00 0HL7MQJOHD5TS [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514205690.36650450966086234\",
  \"Nonce\": \"N0.74320412718173711505051420569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.74320412718173711505051420569\",
    \"state\": \"15050514205690.36650450966086234\"
  }
}" (9a175e33)
2017-09-10T16:50:20.6220450+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:20.6340537+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:20.6360543+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:20.6390559+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:20.6410576+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:20.6440592+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:20.6460609+03:00 0HL7MQJOHD5TS [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:20.6670744+03:00 0HL7MQJOHD5TS [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514205690.36650450966086234\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:20.6680755+03:00 0HL7MQJOHD5TS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:20.6690761+03:00 0HL7MQJOHD5TS [INF] Request finished in 54.8734ms 302  (15c52c40)
2017-09-10T16:50:24.6146160+03:00 0HL7MQJOHD5TT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.489908613969464831505051424568&state=15050514245680.20632564229731254   (e5be5b71)
2017-09-10T16:50:24.6171179+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:24.6176172+03:00 0HL7MQJOHD5TT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:24.6181158+03:00 0HL7MQJOHD5TT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:24.6181158+03:00 0HL7MQJOHD5TT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:24.6186179+03:00 0HL7MQJOHD5TT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:24.6196185+03:00 0HL7MQJOHD5TT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:24.6196185+03:00 0HL7MQJOHD5TT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514245680.20632564229731254\",
  \"Nonce\": \"N0.489908613969464831505051424568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.489908613969464831505051424568\",
    \"state\": \"15050514245680.20632564229731254\"
  }
}" (9a175e33)
2017-09-10T16:50:24.6221243+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:24.6321333+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:24.6351333+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:24.6371343+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:24.6381341+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:24.6391348+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:24.6411361+03:00 0HL7MQJOHD5TT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:24.6561476+03:00 0HL7MQJOHD5TT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514245680.20632564229731254\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:24.6571471+03:00 0HL7MQJOHD5TT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:24.6571471+03:00 0HL7MQJOHD5TT [INF] Request finished in 43.752ms 302  (15c52c40)
2017-09-10T16:50:28.6268809+03:00 0HL7MQJOHD5TU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.85622148229503051505051428568&state=15050514285680.3625556343334251   (e5be5b71)
2017-09-10T16:50:28.6318835+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:28.6328841+03:00 0HL7MQJOHD5TU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:28.6338844+03:00 0HL7MQJOHD5TU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:28.6338844+03:00 0HL7MQJOHD5TU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:28.6358865+03:00 0HL7MQJOHD5TU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:28.6368868+03:00 0HL7MQJOHD5TU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:28.6378882+03:00 0HL7MQJOHD5TU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514285680.3625556343334251\",
  \"Nonce\": \"N0.85622148229503051505051428568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.85622148229503051505051428568\",
    \"state\": \"15050514285680.3625556343334251\"
  }
}" (9a175e33)
2017-09-10T16:50:28.6458904+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:28.6568961+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:28.6588982+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:28.6608987+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:28.6629008+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:28.6659024+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:28.6669055+03:00 0HL7MQJOHD5TU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:28.6819126+03:00 0HL7MQJOHD5TU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514285680.3625556343334251\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:28.6829157+03:00 0HL7MQJOHD5TU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:28.6829157+03:00 0HL7MQJOHD5TU [INF] Request finished in 58.3806ms 302  (15c52c40)
2017-09-10T16:50:32.6033663+03:00 0HL7MQJOHD5TV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.077403704031939081505051432571&state=15050514325710.2950853673796361   (e5be5b71)
2017-09-10T16:50:32.6063691+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:32.6063691+03:00 0HL7MQJOHD5TV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:32.6073694+03:00 0HL7MQJOHD5TV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:32.6073694+03:00 0HL7MQJOHD5TV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:32.6073694+03:00 0HL7MQJOHD5TV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:32.6083697+03:00 0HL7MQJOHD5TV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:32.6083697+03:00 0HL7MQJOHD5TV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514325710.2950853673796361\",
  \"Nonce\": \"N0.077403704031939081505051432571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.077403704031939081505051432571\",
    \"state\": \"15050514325710.2950853673796361\"
  }
}" (9a175e33)
2017-09-10T16:50:32.6133734+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:32.6258854+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:32.6293879+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:32.6324270+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:32.6354290+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:32.6364308+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:32.6384314+03:00 0HL7MQJOHD5TV [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:32.6514400+03:00 0HL7MQJOHD5TV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514325710.2950853673796361\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:32.6524411+03:00 0HL7MQJOHD5TV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:32.6534413+03:00 0HL7MQJOHD5TV [INF] Request finished in 50.6256ms 302  (15c52c40)
2017-09-10T16:50:36.6134689+03:00 0HL7MQJOHD5U0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.181219821720427281505051436569&state=15050514365690.3162500172738534   (e5be5b71)
2017-09-10T16:50:36.6154710+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:36.6164709+03:00 0HL7MQJOHD5U0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:36.6174711+03:00 0HL7MQJOHD5U0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:36.6174711+03:00 0HL7MQJOHD5U0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:36.6174711+03:00 0HL7MQJOHD5U0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:36.6184718+03:00 0HL7MQJOHD5U0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:36.6184718+03:00 0HL7MQJOHD5U0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514365690.3162500172738534\",
  \"Nonce\": \"N0.181219821720427281505051436569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.181219821720427281505051436569\",
    \"state\": \"15050514365690.3162500172738534\"
  }
}" (9a175e33)
2017-09-10T16:50:36.6264815+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:36.6379901+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:36.6409909+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:36.6449975+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:36.6470000+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:36.6490005+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:36.6530020+03:00 0HL7MQJOHD5U0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:36.6680119+03:00 0HL7MQJOHD5U0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514365690.3162500172738534\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:36.6680119+03:00 0HL7MQJOHD5U0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:36.6690134+03:00 0HL7MQJOHD5U0 [INF] Request finished in 56.3548ms 302  (15c52c40)
2017-09-10T16:50:40.6398576+03:00 0HL7MQJOHD5U1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62369078292233681505051440567&state=15050514405670.9125616163899228   (e5be5b71)
2017-09-10T16:50:40.6453685+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:40.6463684+03:00 0HL7MQJOHD5U1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:40.6463684+03:00 0HL7MQJOHD5U1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:40.6463684+03:00 0HL7MQJOHD5U1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:40.6483693+03:00 0HL7MQJOHD5U1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:40.6503710+03:00 0HL7MQJOHD5U1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:40.6503710+03:00 0HL7MQJOHD5U1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514405670.9125616163899228\",
  \"Nonce\": \"N0.62369078292233681505051440567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62369078292233681505051440567\",
    \"state\": \"15050514405670.9125616163899228\"
  }
}" (9a175e33)
2017-09-10T16:50:40.6553740+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:40.6693844+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:40.6713850+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:40.6733867+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:40.6773889+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:40.6803913+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:40.6823926+03:00 0HL7MQJOHD5U1 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:40.7294258+03:00 0HL7MQJOHD5U1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514405670.9125616163899228\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:40.7299267+03:00 0HL7MQJOHD5U1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:40.7309270+03:00 0HL7MQJOHD5U1 [INF] Request finished in 92.4438ms 302  (15c52c40)
2017-09-10T16:50:44.5956441+03:00 0HL7MQJOHD5U2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.25923445719239081505051444568&state=15050514445680.408334664615146   (e5be5b71)
2017-09-10T16:50:44.5976450+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:44.5986457+03:00 0HL7MQJOHD5U2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:44.5986457+03:00 0HL7MQJOHD5U2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:44.5996459+03:00 0HL7MQJOHD5U2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:44.5996459+03:00 0HL7MQJOHD5U2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:44.6006474+03:00 0HL7MQJOHD5U2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:44.6006474+03:00 0HL7MQJOHD5U2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514445680.408334664615146\",
  \"Nonce\": \"N0.25923445719239081505051444568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.25923445719239081505051444568\",
    \"state\": \"15050514445680.408334664615146\"
  }
}" (9a175e33)
2017-09-10T16:50:44.6036498+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:44.6146563+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:44.6166576+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:44.6186593+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:44.6206606+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:44.6216613+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:44.6246629+03:00 0HL7MQJOHD5U2 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:44.6396768+03:00 0HL7MQJOHD5U2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514445680.408334664615146\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:44.6401773+03:00 0HL7MQJOHD5U2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:44.6411780+03:00 0HL7MQJOHD5U2 [INF] Request finished in 45.0258ms 302  (15c52c40)
2017-09-10T16:50:48.6070149+03:00 0HL7MQJOHD5U3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61235470039735881505051448567&state=15050514485670.41774239726235995   (e5be5b71)
2017-09-10T16:50:48.6100173+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:48.6110176+03:00 0HL7MQJOHD5U3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:48.6110176+03:00 0HL7MQJOHD5U3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:48.6110176+03:00 0HL7MQJOHD5U3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:48.6120182+03:00 0HL7MQJOHD5U3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:48.6120182+03:00 0HL7MQJOHD5U3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:48.6120182+03:00 0HL7MQJOHD5U3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514485670.41774239726235995\",
  \"Nonce\": \"N0.61235470039735881505051448567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61235470039735881505051448567\",
    \"state\": \"15050514485670.41774239726235995\"
  }
}" (9a175e33)
2017-09-10T16:50:48.6160213+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:48.6270282+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:48.6290326+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:48.6310316+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:48.6330321+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:48.6350350+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:48.6370340+03:00 0HL7MQJOHD5U3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:48.6500454+03:00 0HL7MQJOHD5U3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514485670.41774239726235995\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:48.6505467+03:00 0HL7MQJOHD5U3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:48.6510456+03:00 0HL7MQJOHD5U3 [INF] Request finished in 44.3113ms 302  (15c52c40)
2017-09-10T16:50:52.6222392+03:00 0HL7MQJOHD5U4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.00358627099823151505051452571&state=15050514525710.4426157678053326   (e5be5b71)
2017-09-10T16:50:52.6252428+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:52.6262414+03:00 0HL7MQJOHD5U4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:52.6262414+03:00 0HL7MQJOHD5U4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:52.6262414+03:00 0HL7MQJOHD5U4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:52.6272421+03:00 0HL7MQJOHD5U4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:52.6282424+03:00 0HL7MQJOHD5U4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:52.6282424+03:00 0HL7MQJOHD5U4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514525710.4426157678053326\",
  \"Nonce\": \"N0.00358627099823151505051452571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.00358627099823151505051452571\",
    \"state\": \"15050514525710.4426157678053326\"
  }
}" (9a175e33)
2017-09-10T16:50:52.6322450+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:52.6428394+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:52.6438417+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:52.6458450+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:52.6473466+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:52.6503481+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:52.6518497+03:00 0HL7MQJOHD5U4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:52.6663627+03:00 0HL7MQJOHD5U4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514525710.4426157678053326\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:52.6663627+03:00 0HL7MQJOHD5U4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:52.6673673+03:00 0HL7MQJOHD5U4 [INF] Request finished in 45.3112ms 302  (15c52c40)
2017-09-10T16:50:56.6185954+03:00 0HL7MQJOHD5U5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.278923664653485841505051456571&state=15050514565710.20867861624969963   (e5be5b71)
2017-09-10T16:50:56.6205963+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:50:56.6215973+03:00 0HL7MQJOHD5U5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:50:56.6215973+03:00 0HL7MQJOHD5U5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:56.6225980+03:00 0HL7MQJOHD5U5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:50:56.6225980+03:00 0HL7MQJOHD5U5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:56.6235983+03:00 0HL7MQJOHD5U5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:56.6235983+03:00 0HL7MQJOHD5U5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514565710.20867861624969963\",
  \"Nonce\": \"N0.278923664653485841505051456571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.278923664653485841505051456571\",
    \"state\": \"15050514565710.20867861624969963\"
  }
}" (9a175e33)
2017-09-10T16:50:56.6266003+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:50:56.6376072+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:56.6386094+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:50:56.6406095+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:50:56.6416106+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:50:56.6446122+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:50:56.6466139+03:00 0HL7MQJOHD5U5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:50:56.6631286+03:00 0HL7MQJOHD5U5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514565710.20867861624969963\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:50:56.6636287+03:00 0HL7MQJOHD5U5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:50:56.6646294+03:00 0HL7MQJOHD5U5 [INF] Request finished in 45.8398ms 302  (15c52c40)
2017-09-10T16:51:00.6109410+03:00 0HL7MQJOHD5U6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.92040622025676951505051460569&state=15050514605690.45074126082718324   (e5be5b71)
2017-09-10T16:51:00.6139457+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:00.6149432+03:00 0HL7MQJOHD5U6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:00.6149432+03:00 0HL7MQJOHD5U6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:00.6149432+03:00 0HL7MQJOHD5U6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:00.6159439+03:00 0HL7MQJOHD5U6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:00.6169469+03:00 0HL7MQJOHD5U6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:00.6169469+03:00 0HL7MQJOHD5U6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514605690.45074126082718324\",
  \"Nonce\": \"N0.92040622025676951505051460569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.92040622025676951505051460569\",
    \"state\": \"15050514605690.45074126082718324\"
  }
}" (9a175e33)
2017-09-10T16:51:00.6209484+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:00.6309546+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:00.6329564+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:00.6339562+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:00.6349577+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:00.6369590+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:00.6389595+03:00 0HL7MQJOHD5U6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:00.6529688+03:00 0HL7MQJOHD5U6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514605690.45074126082718324\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:00.6529688+03:00 0HL7MQJOHD5U6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:00.6539711+03:00 0HL7MQJOHD5U6 [INF] Request finished in 43.7094ms 302  (15c52c40)
2017-09-10T16:51:04.6034117+03:00 0HL7MQJOHD5U7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54485536171109741505051464570&state=15050514645700.2542070412831101   (e5be5b71)
2017-09-10T16:51:04.6064145+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:04.6074152+03:00 0HL7MQJOHD5U7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:04.6074152+03:00 0HL7MQJOHD5U7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:04.6084154+03:00 0HL7MQJOHD5U7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:04.6084154+03:00 0HL7MQJOHD5U7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:04.6094177+03:00 0HL7MQJOHD5U7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:04.6094177+03:00 0HL7MQJOHD5U7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514645700.2542070412831101\",
  \"Nonce\": \"N0.54485536171109741505051464570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54485536171109741505051464570\",
    \"state\": \"15050514645700.2542070412831101\"
  }
}" (9a175e33)
2017-09-10T16:51:04.6134184+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:04.6244257+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:04.6254263+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:04.6274280+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:04.6294294+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:04.6324310+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:04.6344323+03:00 0HL7MQJOHD5U7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:04.6464410+03:00 0HL7MQJOHD5U7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514645700.2542070412831101\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:04.6475052+03:00 0HL7MQJOHD5U7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:04.6475052+03:00 0HL7MQJOHD5U7 [INF] Request finished in 44.4578ms 302  (15c52c40)
2017-09-10T16:51:08.5969218+03:00 0HL7MQJOHD5U8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.966783133349891505051468567&state=15050514685670.5626032627647692   (e5be5b71)
2017-09-10T16:51:08.5999222+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:08.6009229+03:00 0HL7MQJOHD5U8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:08.6009229+03:00 0HL7MQJOHD5U8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:08.6009229+03:00 0HL7MQJOHD5U8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:08.6019232+03:00 0HL7MQJOHD5U8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:08.6019232+03:00 0HL7MQJOHD5U8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:08.6019232+03:00 0HL7MQJOHD5U8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514685670.5626032627647692\",
  \"Nonce\": \"N0.966783133349891505051468567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.966783133349891505051468567\",
    \"state\": \"15050514685670.5626032627647692\"
  }
}" (9a175e33)
2017-09-10T16:51:08.6059258+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:08.6149326+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:08.6169335+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:08.6189352+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:08.6209409+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:08.6239374+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:08.6259391+03:00 0HL7MQJOHD5U8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:08.6419497+03:00 0HL7MQJOHD5U8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514685670.5626032627647692\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:08.6429503+03:00 0HL7MQJOHD5U8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:08.6429503+03:00 0HL7MQJOHD5U8 [INF] Request finished in 47.1618ms 302  (15c52c40)
2017-09-10T16:51:11.6051687+03:00 0HL7MQJOHD5U9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.50247215875478271505051471571&state=15050514715710.8946899213636827   (e5be5b71)
2017-09-10T16:51:11.6071693+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:11.6081703+03:00 0HL7MQJOHD5U9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:11.6081703+03:00 0HL7MQJOHD5U9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:11.6081703+03:00 0HL7MQJOHD5U9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:11.6091706+03:00 0HL7MQJOHD5U9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:11.6101712+03:00 0HL7MQJOHD5U9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:11.6101712+03:00 0HL7MQJOHD5U9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514715710.8946899213636827\",
  \"Nonce\": \"N0.50247215875478271505051471571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.50247215875478271505051471571\",
    \"state\": \"15050514715710.8946899213636827\"
  }
}" (9a175e33)
2017-09-10T16:51:11.6151753+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:11.6271833+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:11.6291846+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:11.6321862+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:11.6331869+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:11.6351886+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:11.6371895+03:00 0HL7MQJOHD5U9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:11.6552007+03:00 0HL7MQJOHD5U9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514715710.8946899213636827\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:11.6562013+03:00 0HL7MQJOHD5U9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:11.6562013+03:00 0HL7MQJOHD5U9 [INF] Request finished in 52.336ms 302  (15c52c40)
2017-09-10T16:51:15.6005459+03:00 0HL7MQJOHD5UA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0182278904934827231505051475567&state=15050514755670.6438912789726448   (e5be5b71)
2017-09-10T16:51:15.6035475+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:15.6035475+03:00 0HL7MQJOHD5UA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:15.6045478+03:00 0HL7MQJOHD5UA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:15.6045478+03:00 0HL7MQJOHD5UA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:15.6045478+03:00 0HL7MQJOHD5UA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:15.6055485+03:00 0HL7MQJOHD5UA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:15.6055485+03:00 0HL7MQJOHD5UA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514755670.6438912789726448\",
  \"Nonce\": \"N0.0182278904934827231505051475567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0182278904934827231505051475567\",
    \"state\": \"15050514755670.6438912789726448\"
  }
}" (9a175e33)
2017-09-10T16:51:15.6085504+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:15.6165561+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:15.6185575+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:15.6225609+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:15.6245610+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:15.6255621+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:15.6265632+03:00 0HL7MQJOHD5UA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:15.6455742+03:00 0HL7MQJOHD5UA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514755670.6438912789726448\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:15.6455742+03:00 0HL7MQJOHD5UA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:15.6465764+03:00 0HL7MQJOHD5UA [INF] Request finished in 46.2365ms 302  (15c52c40)
2017-09-10T16:51:19.6042525+03:00 0HL7MQJOHD5UB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.63153231224194181505051479568&state=15050514795680.677025385548085   (e5be5b71)
2017-09-10T16:51:19.6092558+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:19.6092558+03:00 0HL7MQJOHD5UB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:19.6092558+03:00 0HL7MQJOHD5UB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:19.6102561+03:00 0HL7MQJOHD5UB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:19.6102561+03:00 0HL7MQJOHD5UB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:19.6112568+03:00 0HL7MQJOHD5UB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:19.6112568+03:00 0HL7MQJOHD5UB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514795680.677025385548085\",
  \"Nonce\": \"N0.63153231224194181505051479568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.63153231224194181505051479568\",
    \"state\": \"15050514795680.677025385548085\"
  }
}" (9a175e33)
2017-09-10T16:51:19.6142599+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:19.6262675+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:19.6272682+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:19.6312704+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:19.6332714+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:19.6352743+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:19.6372744+03:00 0HL7MQJOHD5UB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:19.6512833+03:00 0HL7MQJOHD5UB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514795680.677025385548085\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:19.6522836+03:00 0HL7MQJOHD5UB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:19.6522836+03:00 0HL7MQJOHD5UB [INF] Request finished in 50.8091ms 302  (15c52c40)
2017-09-10T16:51:23.5896373+03:00 0HL7MQJOHD5UC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.127039084556984431505051483567&state=15050514835670.5599870847411457   (e5be5b71)
2017-09-10T16:51:23.5921396+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:23.5926393+03:00 0HL7MQJOHD5UC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:23.5931398+03:00 0HL7MQJOHD5UC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:23.5931398+03:00 0HL7MQJOHD5UC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:23.5936404+03:00 0HL7MQJOHD5UC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:23.5941413+03:00 0HL7MQJOHD5UC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:23.5941413+03:00 0HL7MQJOHD5UC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514835670.5599870847411457\",
  \"Nonce\": \"N0.127039084556984431505051483567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.127039084556984431505051483567\",
    \"state\": \"15050514835670.5599870847411457\"
  }
}" (9a175e33)
2017-09-10T16:51:23.5971425+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:23.6071519+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:23.6091536+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:23.6111561+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:23.6131574+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:23.6151576+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:23.6171601+03:00 0HL7MQJOHD5UC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:23.6341721+03:00 0HL7MQJOHD5UC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514835670.5599870847411457\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:23.6341721+03:00 0HL7MQJOHD5UC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:23.6351704+03:00 0HL7MQJOHD5UC [INF] Request finished in 45.5607ms 302  (15c52c40)
2017-09-10T16:51:26.6001757+03:00 0HL7MQJOHD5UD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.75990525488180421505051486573&state=15050514865730.096353661628237   (e5be5b71)
2017-09-10T16:51:26.6026771+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:26.6031773+03:00 0HL7MQJOHD5UD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:26.6031773+03:00 0HL7MQJOHD5UD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:26.6031773+03:00 0HL7MQJOHD5UD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:26.6031773+03:00 0HL7MQJOHD5UD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:26.6045036+03:00 0HL7MQJOHD5UD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:26.6045036+03:00 0HL7MQJOHD5UD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514865730.096353661628237\",
  \"Nonce\": \"N0.75990525488180421505051486573\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.75990525488180421505051486573\",
    \"state\": \"15050514865730.096353661628237\"
  }
}" (9a175e33)
2017-09-10T16:51:26.6075056+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:26.6195139+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:26.6225151+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:26.6245168+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:26.6265193+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:26.6285199+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:26.6315234+03:00 0HL7MQJOHD5UD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:26.6475317+03:00 0HL7MQJOHD5UD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514865730.096353661628237\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:26.6485320+03:00 0HL7MQJOHD5UD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:26.6495330+03:00 0HL7MQJOHD5UD [INF] Request finished in 49.3991ms 302  (15c52c40)
2017-09-10T16:51:30.6046232+03:00 0HL7MQJOHD5UE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.434143749599150031505051490572&state=15050514905720.5128421713785909   (e5be5b71)
2017-09-10T16:51:30.6071239+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:30.6076244+03:00 0HL7MQJOHD5UE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:30.6081249+03:00 0HL7MQJOHD5UE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:30.6081249+03:00 0HL7MQJOHD5UE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:30.6086250+03:00 0HL7MQJOHD5UE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:30.6091260+03:00 0HL7MQJOHD5UE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:30.6091260+03:00 0HL7MQJOHD5UE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514905720.5128421713785909\",
  \"Nonce\": \"N0.434143749599150031505051490572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.434143749599150031505051490572\",
    \"state\": \"15050514905720.5128421713785909\"
  }
}" (9a175e33)
2017-09-10T16:51:30.6121339+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:30.6251413+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:30.6281437+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:30.6311481+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:30.6341477+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:30.6361490+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:30.6381503+03:00 0HL7MQJOHD5UE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:30.6561623+03:00 0HL7MQJOHD5UE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514905720.5128421713785909\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:30.6571625+03:00 0HL7MQJOHD5UE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:30.6591646+03:00 0HL7MQJOHD5UE [INF] Request finished in 53.8565ms 302  (15c52c40)
2017-09-10T16:51:34.6014771+03:00 0HL7MQJOHD5UF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.33426102889005361505051494571&state=15050514945710.6094528152226026   (e5be5b71)
2017-09-10T16:51:34.6039786+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:34.6044787+03:00 0HL7MQJOHD5UF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:34.6049792+03:00 0HL7MQJOHD5UF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:34.6049792+03:00 0HL7MQJOHD5UF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:34.6054802+03:00 0HL7MQJOHD5UF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:34.6059799+03:00 0HL7MQJOHD5UF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:34.6059799+03:00 0HL7MQJOHD5UF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514945710.6094528152226026\",
  \"Nonce\": \"N0.33426102889005361505051494571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.33426102889005361505051494571\",
    \"state\": \"15050514945710.6094528152226026\"
  }
}" (9a175e33)
2017-09-10T16:51:34.6109836+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:34.6254974+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:34.6294996+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:34.6335023+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:34.6375049+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:34.6395059+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:34.6435089+03:00 0HL7MQJOHD5UF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:34.6615200+03:00 0HL7MQJOHD5UF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514945710.6094528152226026\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:34.6625211+03:00 0HL7MQJOHD5UF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:34.6645224+03:00 0HL7MQJOHD5UF [INF] Request finished in 62.281ms 302  (15c52c40)
2017-09-10T16:51:38.6663781+03:00 0HL7MQJOHD5UG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.260870454643950871505051498582&state=15050514985820.14329212775748257   (e5be5b71)
2017-09-10T16:51:38.6693805+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:38.6703815+03:00 0HL7MQJOHD5UG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:38.6703815+03:00 0HL7MQJOHD5UG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:38.6713810+03:00 0HL7MQJOHD5UG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:38.6713810+03:00 0HL7MQJOHD5UG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:38.6723817+03:00 0HL7MQJOHD5UG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:38.6723817+03:00 0HL7MQJOHD5UG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050514985820.14329212775748257\",
  \"Nonce\": \"N0.260870454643950871505051498582\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.260870454643950871505051498582\",
    \"state\": \"15050514985820.14329212775748257\"
  }
}" (9a175e33)
2017-09-10T16:51:38.6793867+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:38.6963980+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:38.7014056+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:38.7074100+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:38.7124125+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:38.7214193+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:38.7259225+03:00 0HL7MQJOHD5UG [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:38.7479366+03:00 0HL7MQJOHD5UG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050514985820.14329212775748257\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:38.7489373+03:00 0HL7MQJOHD5UG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:38.7499376+03:00 0HL7MQJOHD5UG [INF] Request finished in 82.7135ms 302  (15c52c40)
2017-09-10T16:51:42.6098815+03:00 0HL7MQJOHD5UH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0239183737308463761505051502572&state=15050515025720.3481337395860815   (e5be5b71)
2017-09-10T16:51:42.6123838+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:42.6128835+03:00 0HL7MQJOHD5UH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:42.6133836+03:00 0HL7MQJOHD5UH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:42.6133836+03:00 0HL7MQJOHD5UH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:42.6138842+03:00 0HL7MQJOHD5UH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:42.6143843+03:00 0HL7MQJOHD5UH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:42.6148848+03:00 0HL7MQJOHD5UH [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515025720.3481337395860815\",
  \"Nonce\": \"N0.0239183737308463761505051502572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0239183737308463761505051502572\",
    \"state\": \"15050515025720.3481337395860815\"
  }
}" (9a175e33)
2017-09-10T16:51:42.6198877+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:42.6348989+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:42.6389003+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:42.6424028+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:42.6459058+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:42.6484076+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:42.6519093+03:00 0HL7MQJOHD5UH [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:42.6734230+03:00 0HL7MQJOHD5UH [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515025720.3481337395860815\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:42.6739235+03:00 0HL7MQJOHD5UH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:42.6744244+03:00 0HL7MQJOHD5UH [INF] Request finished in 65.1318ms 302  (15c52c40)
2017-09-10T16:51:46.6060821+03:00 0HL7MQJOHD5UI [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55784502841103661505051506567&state=15050515065670.28743229022424677   (e5be5b71)
2017-09-10T16:51:46.6085852+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:46.6090845+03:00 0HL7MQJOHD5UI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:46.6095843+03:00 0HL7MQJOHD5UI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:46.6095843+03:00 0HL7MQJOHD5UI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:46.6100852+03:00 0HL7MQJOHD5UI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:46.6105849+03:00 0HL7MQJOHD5UI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:46.6105849+03:00 0HL7MQJOHD5UI [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515065670.28743229022424677\",
  \"Nonce\": \"N0.55784502841103661505051506567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55784502841103661505051506567\",
    \"state\": \"15050515065670.28743229022424677\"
  }
}" (9a175e33)
2017-09-10T16:51:46.6135869+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:46.6245946+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:46.6270961+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:46.6290978+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:46.6310987+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:46.6346008+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:46.6361020+03:00 0HL7MQJOHD5UI [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:46.6521130+03:00 0HL7MQJOHD5UI [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515065670.28743229022424677\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:46.6531137+03:00 0HL7MQJOHD5UI [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:46.6536138+03:00 0HL7MQJOHD5UI [INF] Request finished in 48.0756ms 302  (15c52c40)
2017-09-10T16:51:49.6237384+03:00 0HL7MQJOHD5UJ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.37707176970219971505051509572&state=15050515095720.28706073940223953   (e5be5b71)
2017-09-10T16:51:49.6262411+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:49.6262411+03:00 0HL7MQJOHD5UJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:49.6267416+03:00 0HL7MQJOHD5UJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:49.6267416+03:00 0HL7MQJOHD5UJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:49.6272417+03:00 0HL7MQJOHD5UJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:49.6277422+03:00 0HL7MQJOHD5UJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:49.6277422+03:00 0HL7MQJOHD5UJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515095720.28706073940223953\",
  \"Nonce\": \"N0.37707176970219971505051509572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.37707176970219971505051509572\",
    \"state\": \"15050515095720.28706073940223953\"
  }
}" (9a175e33)
2017-09-10T16:51:49.6302425+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:49.6397494+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:49.6422517+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:49.6437521+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:49.6447531+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:49.6462535+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:49.6482552+03:00 0HL7MQJOHD5UJ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:49.6702698+03:00 0HL7MQJOHD5UJ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515095720.28706073940223953\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:49.6707700+03:00 0HL7MQJOHD5UJ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:49.6712713+03:00 0HL7MQJOHD5UJ [INF] Request finished in 47.6876ms 302  (15c52c40)
2017-09-10T16:51:53.6043927+03:00 0HL7MQJOHD5UK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.89528154040871181505051513571&state=15050515135710.908057414319638   (e5be5b71)
2017-09-10T16:51:53.6063940+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:53.6068941+03:00 0HL7MQJOHD5UK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:53.6073943+03:00 0HL7MQJOHD5UK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:53.6073943+03:00 0HL7MQJOHD5UK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:53.6078948+03:00 0HL7MQJOHD5UK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:53.6088954+03:00 0HL7MQJOHD5UK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:53.6088954+03:00 0HL7MQJOHD5UK [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515135710.908057414319638\",
  \"Nonce\": \"N0.89528154040871181505051513571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.89528154040871181505051513571\",
    \"state\": \"15050515135710.908057414319638\"
  }
}" (9a175e33)
2017-09-10T16:51:53.6118974+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:53.6244055+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:53.6259071+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:53.6279088+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:53.6294088+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:53.6309096+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:53.6339132+03:00 0HL7MQJOHD5UK [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:53.6544254+03:00 0HL7MQJOHD5UK [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515135710.908057414319638\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:53.6554265+03:00 0HL7MQJOHD5UK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:53.6564275+03:00 0HL7MQJOHD5UK [INF] Request finished in 52.1998ms 302  (15c52c40)
2017-09-10T16:51:57.6025090+03:00 0HL7MQJOHD5UL [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.94024393720645351505051517567&state=15050515175670.17035336863119155   (e5be5b71)
2017-09-10T16:51:57.6050112+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:51:57.6060115+03:00 0HL7MQJOHD5UL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:51:57.6060115+03:00 0HL7MQJOHD5UL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:57.6065128+03:00 0HL7MQJOHD5UL [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:51:57.6070121+03:00 0HL7MQJOHD5UL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:57.6075123+03:00 0HL7MQJOHD5UL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:57.6080128+03:00 0HL7MQJOHD5UL [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515175670.17035336863119155\",
  \"Nonce\": \"N0.94024393720645351505051517567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.94024393720645351505051517567\",
    \"state\": \"15050515175670.17035336863119155\"
  }
}" (9a175e33)
2017-09-10T16:51:57.6120155+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:51:57.6250276+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:57.6270290+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:51:57.6290267+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:51:57.6305275+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:51:57.6340300+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:51:57.6360310+03:00 0HL7MQJOHD5UL [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:51:57.6510413+03:00 0HL7MQJOHD5UL [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515175670.17035336863119155\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:51:57.6520420+03:00 0HL7MQJOHD5UL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:51:57.6525425+03:00 0HL7MQJOHD5UL [INF] Request finished in 50.7219ms 302  (15c52c40)
2017-09-10T16:52:01.6124907+03:00 0HL7MQJOHD5UM [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.463539869271623051505051521567&state=15050515215670.6374725794435738   (e5be5b71)
2017-09-10T16:52:01.6159952+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:01.6169935+03:00 0HL7MQJOHD5UM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:01.6174940+03:00 0HL7MQJOHD5UM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:01.6179946+03:00 0HL7MQJOHD5UM [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:01.6184943+03:00 0HL7MQJOHD5UM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:01.6189952+03:00 0HL7MQJOHD5UM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:01.6189952+03:00 0HL7MQJOHD5UM [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515215670.6374725794435738\",
  \"Nonce\": \"N0.463539869271623051505051521567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.463539869271623051505051521567\",
    \"state\": \"15050515215670.6374725794435738\"
  }
}" (9a175e33)
2017-09-10T16:52:01.6229979+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:01.6435117+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:01.6455126+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:01.6475151+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:01.6510164+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:01.6535175+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:01.6560194+03:00 0HL7MQJOHD5UM [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:01.6795347+03:00 0HL7MQJOHD5UM [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515215670.6374725794435738\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:01.6800361+03:00 0HL7MQJOHD5UM [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:01.6810363+03:00 0HL7MQJOHD5UM [INF] Request finished in 68.5088ms 302  (15c52c40)
2017-09-10T16:52:05.5932527+03:00 0HL7MQJOHD5UN [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.35706775479396781505051525567&state=15050515255670.04669855984419202   (e5be5b71)
2017-09-10T16:52:05.5962555+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:05.5972550+03:00 0HL7MQJOHD5UN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:05.5972550+03:00 0HL7MQJOHD5UN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:05.5972550+03:00 0HL7MQJOHD5UN [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:05.5982553+03:00 0HL7MQJOHD5UN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:05.5992603+03:00 0HL7MQJOHD5UN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:05.6002582+03:00 0HL7MQJOHD5UN [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515255670.04669855984419202\",
  \"Nonce\": \"N0.35706775479396781505051525567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.35706775479396781505051525567\",
    \"state\": \"15050515255670.04669855984419202\"
  }
}" (9a175e33)
2017-09-10T16:52:05.6052603+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:05.6172686+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:05.6202702+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:05.6222720+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:05.6242729+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:05.6262742+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:05.6272757+03:00 0HL7MQJOHD5UN [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:05.6457905+03:00 0HL7MQJOHD5UN [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515255670.04669855984419202\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:05.6462906+03:00 0HL7MQJOHD5UN [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:05.6467912+03:00 0HL7MQJOHD5UN [INF] Request finished in 53.5664ms 302  (15c52c40)
2017-09-10T16:52:09.5929429+03:00 0HL7MQJOHD5UO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8552539019091761505051529567&state=15050515295670.3598075426092253   (e5be5b71)
2017-09-10T16:52:09.5959449+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:09.5959449+03:00 0HL7MQJOHD5UO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:09.5969451+03:00 0HL7MQJOHD5UO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:09.5969451+03:00 0HL7MQJOHD5UO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:09.5969451+03:00 0HL7MQJOHD5UO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:09.5979462+03:00 0HL7MQJOHD5UO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:09.5979462+03:00 0HL7MQJOHD5UO [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515295670.3598075426092253\",
  \"Nonce\": \"N0.8552539019091761505051529567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8552539019091761505051529567\",
    \"state\": \"15050515295670.3598075426092253\"
  }
}" (9a175e33)
2017-09-10T16:52:09.6019484+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:09.6139568+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:09.6159589+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:09.6189617+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:09.6219617+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:09.6239630+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:09.6249637+03:00 0HL7MQJOHD5UO [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:09.6449765+03:00 0HL7MQJOHD5UO [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515295670.3598075426092253\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:09.6459776+03:00 0HL7MQJOHD5UO [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:09.6459776+03:00 0HL7MQJOHD5UO [INF] Request finished in 53.9055ms 302  (15c52c40)
2017-09-10T16:52:13.5924143+03:00 0HL7MQJOHD5UP [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.70608141556949721505051533568&state=15050515335680.11317035549408594   (e5be5b71)
2017-09-10T16:52:13.5954163+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:13.5954163+03:00 0HL7MQJOHD5UP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:13.5964158+03:00 0HL7MQJOHD5UP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:13.5964158+03:00 0HL7MQJOHD5UP [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:13.5974164+03:00 0HL7MQJOHD5UP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:13.5974164+03:00 0HL7MQJOHD5UP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:13.5974164+03:00 0HL7MQJOHD5UP [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515335680.11317035549408594\",
  \"Nonce\": \"N0.70608141556949721505051533568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.70608141556949721505051533568\",
    \"state\": \"15050515335680.11317035549408594\"
  }
}" (9a175e33)
2017-09-10T16:52:13.6004184+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:13.6114257+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:13.6134270+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:13.6164294+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:13.6184319+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:13.6214316+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:13.6224334+03:00 0HL7MQJOHD5UP [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:13.6384432+03:00 0HL7MQJOHD5UP [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515335680.11317035549408594\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:13.6384432+03:00 0HL7MQJOHD5UP [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:13.6394443+03:00 0HL7MQJOHD5UP [INF] Request finished in 47.2482ms 302  (15c52c40)
2017-09-10T16:52:17.5984964+03:00 0HL7MQJOHD5UQ [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.58742607289329011505051537568&state=15050515375680.4802224353773048   (e5be5b71)
2017-09-10T16:52:17.6004986+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:17.6014988+03:00 0HL7MQJOHD5UQ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:17.6014988+03:00 0HL7MQJOHD5UQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:17.6024995+03:00 0HL7MQJOHD5UQ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:17.6024995+03:00 0HL7MQJOHD5UQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:17.6035005+03:00 0HL7MQJOHD5UQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:17.6035005+03:00 0HL7MQJOHD5UQ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515375680.4802224353773048\",
  \"Nonce\": \"N0.58742607289329011505051537568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.58742607289329011505051537568\",
    \"state\": \"15050515375680.4802224353773048\"
  }
}" (9a175e33)
2017-09-10T16:52:17.6075028+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:17.6215113+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:17.6235126+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:17.6245133+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:17.6265150+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:17.6285167+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:17.6305177+03:00 0HL7MQJOHD5UQ [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:17.6495310+03:00 0HL7MQJOHD5UQ [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515375680.4802224353773048\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:17.6505305+03:00 0HL7MQJOHD5UQ [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:17.6515316+03:00 0HL7MQJOHD5UQ [INF] Request finished in 53.354ms 302  (15c52c40)
2017-09-10T16:52:21.5952177+03:00 0HL7MQJOHD5UR [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54588345694212451505051541567&state=15050515415670.11139584153590043   (e5be5b71)
2017-09-10T16:52:21.5982193+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:21.5982193+03:00 0HL7MQJOHD5UR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:21.5992200+03:00 0HL7MQJOHD5UR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:21.5992200+03:00 0HL7MQJOHD5UR [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:21.5992200+03:00 0HL7MQJOHD5UR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:21.6002226+03:00 0HL7MQJOHD5UR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:21.6002226+03:00 0HL7MQJOHD5UR [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515415670.11139584153590043\",
  \"Nonce\": \"N0.54588345694212451505051541567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54588345694212451505051541567\",
    \"state\": \"15050515415670.11139584153590043\"
  }
}" (9a175e33)
2017-09-10T16:52:21.6032227+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:21.6152310+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:21.6182326+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:21.6192344+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:21.6212354+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:21.6242374+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:21.6262387+03:00 0HL7MQJOHD5UR [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:21.6422485+03:00 0HL7MQJOHD5UR [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515415670.11139584153590043\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:21.6432500+03:00 0HL7MQJOHD5UR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:21.6432500+03:00 0HL7MQJOHD5UR [INF] Request finished in 48.888ms 302  (15c52c40)
2017-09-10T16:52:25.5947508+03:00 0HL7MQJOHD5US [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.54147600876966311505051545567&state=15050515455670.6550149485938659   (e5be5b71)
2017-09-10T16:52:25.5967517+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:25.5977528+03:00 0HL7MQJOHD5US [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:25.5977528+03:00 0HL7MQJOHD5US [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:25.5977528+03:00 0HL7MQJOHD5US [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:25.5987534+03:00 0HL7MQJOHD5US [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:25.5987534+03:00 0HL7MQJOHD5US [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:25.5997537+03:00 0HL7MQJOHD5US [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515455670.6550149485938659\",
  \"Nonce\": \"N0.54147600876966311505051545567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.54147600876966311505051545567\",
    \"state\": \"15050515455670.6550149485938659\"
  }
}" (9a175e33)
2017-09-10T16:52:25.6017562+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:25.6107622+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:25.6137630+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:25.6167665+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:25.6187667+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:25.6207684+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:25.6237692+03:00 0HL7MQJOHD5US [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:25.6387795+03:00 0HL7MQJOHD5US [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515455670.6550149485938659\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:25.6387795+03:00 0HL7MQJOHD5US [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:25.6397802+03:00 0HL7MQJOHD5US [INF] Request finished in 45.0582ms 302  (15c52c40)
2017-09-10T16:52:29.6272615+03:00 0HL7MQJOHD5UT [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.088850493896997841505051549567&state=15050515495670.5122048257959615   (e5be5b71)
2017-09-10T16:52:29.6332654+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:29.6342665+03:00 0HL7MQJOHD5UT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:29.6352668+03:00 0HL7MQJOHD5UT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:29.6362674+03:00 0HL7MQJOHD5UT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:29.6362674+03:00 0HL7MQJOHD5UT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:29.6372673+03:00 0HL7MQJOHD5UT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:29.6372673+03:00 0HL7MQJOHD5UT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515495670.5122048257959615\",
  \"Nonce\": \"N0.088850493896997841505051549567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.088850493896997841505051549567\",
    \"state\": \"15050515495670.5122048257959615\"
  }
}" (9a175e33)
2017-09-10T16:52:29.6402693+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:29.6502771+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:29.6522764+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:29.6551316+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:29.6561346+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:29.6581352+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:29.6601381+03:00 0HL7MQJOHD5UT [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:29.6741462+03:00 0HL7MQJOHD5UT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515495670.5122048257959615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:29.6751468+03:00 0HL7MQJOHD5UT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:29.6751468+03:00 0HL7MQJOHD5UT [INF] Request finished in 49.9486ms 302  (15c52c40)
2017-09-10T16:52:33.6068318+03:00 0HL7MQJOHD5UU [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.30567560034431241505051553567&state=15050515535670.27607113215600254   (e5be5b71)
2017-09-10T16:52:33.6098326+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:33.6108372+03:00 0HL7MQJOHD5UU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:33.6108372+03:00 0HL7MQJOHD5UU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:33.6108372+03:00 0HL7MQJOHD5UU [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:33.6118339+03:00 0HL7MQJOHD5UU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:33.6128377+03:00 0HL7MQJOHD5UU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:33.6128377+03:00 0HL7MQJOHD5UU [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515535670.27607113215600254\",
  \"Nonce\": \"N0.30567560034431241505051553567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.30567560034431241505051553567\",
    \"state\": \"15050515535670.27607113215600254\"
  }
}" (9a175e33)
2017-09-10T16:52:33.6168372+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:33.6258439+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:33.6278461+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:33.6303250+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:33.6312507+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:33.6322545+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:33.6352553+03:00 0HL7MQJOHD5UU [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:33.6482651+03:00 0HL7MQJOHD5UU [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515535670.27607113215600254\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:33.6492658+03:00 0HL7MQJOHD5UU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:33.6502656+03:00 0HL7MQJOHD5UU [INF] Request finished in 43.5373ms 302  (15c52c40)
2017-09-10T16:52:37.6219609+03:00 0HL7MQJOHD5UV [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5736588918424771505051557567&state=15050515575670.6679521338145102   (e5be5b71)
2017-09-10T16:52:37.6269642+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:37.6299662+03:00 0HL7MQJOHD5UV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:37.6309669+03:00 0HL7MQJOHD5UV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:37.6319683+03:00 0HL7MQJOHD5UV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:37.6329714+03:00 0HL7MQJOHD5UV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:37.6359769+03:00 0HL7MQJOHD5UV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:37.6369720+03:00 0HL7MQJOHD5UV [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515575670.6679521338145102\",
  \"Nonce\": \"N0.5736588918424771505051557567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5736588918424771505051557567\",
    \"state\": \"15050515575670.6679521338145102\"
  }
}" (9a175e33)
2017-09-10T16:52:37.6429756+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:37.6559838+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:37.6569837+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:37.6589850+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:37.6609871+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:37.6629873+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:37.6639879+03:00 0HL7MQJOHD5UV [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:37.6759959+03:00 0HL7MQJOHD5UV [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515575670.6679521338145102\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:37.6769966+03:00 0HL7MQJOHD5UV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:37.6769966+03:00 0HL7MQJOHD5UV [INF] Request finished in 57.6772ms 302  (15c52c40)
2017-09-10T16:52:40.6996400+03:00 0HL7MQJOHD5V0 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.300007649646808041505051560576&state=15050515605760.050613898074246766   (e5be5b71)
2017-09-10T16:52:40.7036426+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:40.7041431+03:00 0HL7MQJOHD5V0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:40.7041431+03:00 0HL7MQJOHD5V0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:40.7046433+03:00 0HL7MQJOHD5V0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:40.7051438+03:00 0HL7MQJOHD5V0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:40.7056439+03:00 0HL7MQJOHD5V0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:40.7056439+03:00 0HL7MQJOHD5V0 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515605760.050613898074246766\",
  \"Nonce\": \"N0.300007649646808041505051560576\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.300007649646808041505051560576\",
    \"state\": \"15050515605760.050613898074246766\"
  }
}" (9a175e33)
2017-09-10T16:52:40.7106469+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:40.7251567+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:40.7286596+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:40.7316612+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:40.7386658+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:40.7401666+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:40.7426689+03:00 0HL7MQJOHD5V0 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:40.7616807+03:00 0HL7MQJOHD5V0 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515605760.050613898074246766\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:40.7621816+03:00 0HL7MQJOHD5V0 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:40.7626817+03:00 0HL7MQJOHD5V0 [INF] Request finished in 63.7195ms 302  (15c52c40)
2017-09-10T16:52:44.5933581+03:00 0HL7MQJOHD5V1 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72543002020120981505051564569&state=15050515645690.3422894342989151   (e5be5b71)
2017-09-10T16:52:44.5963609+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:44.5963609+03:00 0HL7MQJOHD5V1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:44.5973612+03:00 0HL7MQJOHD5V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:44.5973612+03:00 0HL7MQJOHD5V1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:44.5973612+03:00 0HL7MQJOHD5V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:44.5983622+03:00 0HL7MQJOHD5V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:44.5983622+03:00 0HL7MQJOHD5V1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515645690.3422894342989151\",
  \"Nonce\": \"N0.72543002020120981505051564569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72543002020120981505051564569\",
    \"state\": \"15050515645690.3422894342989151\"
  }
}" (9a175e33)
2017-09-10T16:52:44.6063675+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:44.6223813+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:44.6258838+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:44.6368951+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:44.6469021+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:44.6509039+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:44.6539067+03:00 0HL7MQJOHD5V1 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:44.6769220+03:00 0HL7MQJOHD5V1 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515645690.3422894342989151\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:44.6779226+03:00 0HL7MQJOHD5V1 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:44.6799243+03:00 0HL7MQJOHD5V1 [INF] Request finished in 85.8091ms 302  (15c52c40)
2017-09-10T16:52:48.5971342+03:00 0HL7MQJOHD5V2 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.031385408625696611505051568568&state=15050515685680.301901027936327   (e5be5b71)
2017-09-10T16:52:48.5991359+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:48.6001358+03:00 0HL7MQJOHD5V2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:48.6001358+03:00 0HL7MQJOHD5V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:48.6001358+03:00 0HL7MQJOHD5V2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:48.6011365+03:00 0HL7MQJOHD5V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:48.6021371+03:00 0HL7MQJOHD5V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:48.6021371+03:00 0HL7MQJOHD5V2 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515685680.301901027936327\",
  \"Nonce\": \"N0.031385408625696611505051568568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.031385408625696611505051568568\",
    \"state\": \"15050515685680.301901027936327\"
  }
}" (9a175e33)
2017-09-10T16:52:48.6071404+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:48.6221559+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:48.6251579+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:48.6291598+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:48.6331624+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:48.6351633+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:48.6391987+03:00 0HL7MQJOHD5V2 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:48.6552105+03:00 0HL7MQJOHD5V2 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515685680.301901027936327\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:48.6562112+03:00 0HL7MQJOHD5V2 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:48.6582125+03:00 0HL7MQJOHD5V2 [INF] Request finished in 60.6658ms 302  (15c52c40)
2017-09-10T16:52:52.6010382+03:00 0HL7MQJOHD5V3 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.114861014896206591505051572567&state=15050515725670.9188395615425615   (e5be5b71)
2017-09-10T16:52:52.6040402+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:52.6040402+03:00 0HL7MQJOHD5V3 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:52.6040402+03:00 0HL7MQJOHD5V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:52.6050408+03:00 0HL7MQJOHD5V3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:52.6050408+03:00 0HL7MQJOHD5V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:52.6060419+03:00 0HL7MQJOHD5V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:52.6060419+03:00 0HL7MQJOHD5V3 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515725670.9188395615425615\",
  \"Nonce\": \"N0.114861014896206591505051572567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.114861014896206591505051572567\",
    \"state\": \"15050515725670.9188395615425615\"
  }
}" (9a175e33)
2017-09-10T16:52:52.6090439+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:52.6200512+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:52.6210518+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:52.6230531+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:52.6250545+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:52.6265596+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:52.6290611+03:00 0HL7MQJOHD5V3 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:52.6460759+03:00 0HL7MQJOHD5V3 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515725670.9188395615425615\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:52.6470769+03:00 0HL7MQJOHD5V3 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:52.6470769+03:00 0HL7MQJOHD5V3 [INF] Request finished in 47.2877ms 302  (15c52c40)
2017-09-10T16:52:56.6217035+03:00 0HL7MQJOHD5V4 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.3133287920809741505051576567&state=15050515765670.7652823484745275   (e5be5b71)
2017-09-10T16:52:56.6267076+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:56.6277071+03:00 0HL7MQJOHD5V4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:56.6297116+03:00 0HL7MQJOHD5V4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:56.6297116+03:00 0HL7MQJOHD5V4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:56.6307103+03:00 0HL7MQJOHD5V4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:56.6327167+03:00 0HL7MQJOHD5V4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:56.6332177+03:00 0HL7MQJOHD5V4 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515765670.7652823484745275\",
  \"Nonce\": \"N0.3133287920809741505051576567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.3133287920809741505051576567\",
    \"state\": \"15050515765670.7652823484745275\"
  }
}" (9a175e33)
2017-09-10T16:52:56.6392220+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:56.6522350+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:56.6542351+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:56.6582374+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:56.6612390+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:56.6632407+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:56.6652420+03:00 0HL7MQJOHD5V4 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:56.6782499+03:00 0HL7MQJOHD5V4 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515765670.7652823484745275\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:56.6782499+03:00 0HL7MQJOHD5V4 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:56.6792509+03:00 0HL7MQJOHD5V4 [INF] Request finished in 59.6872ms 302  (15c52c40)
2017-09-10T16:52:59.6072348+03:00 0HL7MQJOHD5V5 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.334892526095442961505051579572&state=15050515795720.6780589951929863   (e5be5b71)
2017-09-10T16:52:59.6102368+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:52:59.6112378+03:00 0HL7MQJOHD5V5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:52:59.6112378+03:00 0HL7MQJOHD5V5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:59.6112378+03:00 0HL7MQJOHD5V5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:52:59.6122381+03:00 0HL7MQJOHD5V5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:59.6122381+03:00 0HL7MQJOHD5V5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:59.6122381+03:00 0HL7MQJOHD5V5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515795720.6780589951929863\",
  \"Nonce\": \"N0.334892526095442961505051579572\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.334892526095442961505051579572\",
    \"state\": \"15050515795720.6780589951929863\"
  }
}" (9a175e33)
2017-09-10T16:52:59.6152417+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:52:59.6282491+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:59.6302512+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:52:59.6322517+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:52:59.6342543+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:52:59.6382609+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:52:59.6397613+03:00 0HL7MQJOHD5V5 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:52:59.6567749+03:00 0HL7MQJOHD5V5 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515795720.6780589951929863\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:52:59.6577759+03:00 0HL7MQJOHD5V5 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:52:59.6577759+03:00 0HL7MQJOHD5V5 [INF] Request finished in 51.0847ms 302  (15c52c40)
2017-09-10T16:53:03.5973099+03:00 0HL7MQJOHD5V6 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.51512401392342721505051583570&state=15050515835700.3717930782501999   (e5be5b71)
2017-09-10T16:53:03.6003130+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:03.6003130+03:00 0HL7MQJOHD5V6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:03.6003130+03:00 0HL7MQJOHD5V6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:03.6013117+03:00 0HL7MQJOHD5V6 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:03.6013117+03:00 0HL7MQJOHD5V6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:03.6013117+03:00 0HL7MQJOHD5V6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:03.6023124+03:00 0HL7MQJOHD5V6 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515835700.3717930782501999\",
  \"Nonce\": \"N0.51512401392342721505051583570\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.51512401392342721505051583570\",
    \"state\": \"15050515835700.3717930782501999\"
  }
}" (9a175e33)
2017-09-10T16:53:03.6043153+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:03.6153214+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:03.6183258+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:03.6203255+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:03.6223276+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:03.6243274+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:03.6263287+03:00 0HL7MQJOHD5V6 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:03.6438440+03:00 0HL7MQJOHD5V6 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515835700.3717930782501999\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:03.6448447+03:00 0HL7MQJOHD5V6 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:03.6453452+03:00 0HL7MQJOHD5V6 [INF] Request finished in 47.727ms 302  (15c52c40)
2017-09-10T16:53:07.5968283+03:00 0HL7MQJOHD5V7 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0615745488686481051505051587569&state=15050515875690.0598077018585037   (e5be5b71)
2017-09-10T16:53:07.5998299+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:07.5998299+03:00 0HL7MQJOHD5V7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:07.6008305+03:00 0HL7MQJOHD5V7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:07.6008305+03:00 0HL7MQJOHD5V7 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:07.6008305+03:00 0HL7MQJOHD5V7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:07.6018312+03:00 0HL7MQJOHD5V7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:07.6018312+03:00 0HL7MQJOHD5V7 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515875690.0598077018585037\",
  \"Nonce\": \"N0.0615745488686481051505051587569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0615745488686481051505051587569\",
    \"state\": \"15050515875690.0598077018585037\"
  }
}" (9a175e33)
2017-09-10T16:53:07.6048340+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:07.6178422+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:07.6198435+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:07.6218448+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:07.6238466+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:07.6268486+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:07.6288487+03:00 0HL7MQJOHD5V7 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:07.6473659+03:00 0HL7MQJOHD5V7 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515875690.0598077018585037\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:07.6478668+03:00 0HL7MQJOHD5V7 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:07.6488675+03:00 0HL7MQJOHD5V7 [INF] Request finished in 52.021ms 302  (15c52c40)
2017-09-10T16:53:11.5961667+03:00 0HL7MQJOHD5V8 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.010557531304931091505051591567&state=15050515915670.8208454980042854   (e5be5b71)
2017-09-10T16:53:11.5991687+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:11.5991687+03:00 0HL7MQJOHD5V8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:11.6001693+03:00 0HL7MQJOHD5V8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:11.6001693+03:00 0HL7MQJOHD5V8 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:11.6001693+03:00 0HL7MQJOHD5V8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:11.6011700+03:00 0HL7MQJOHD5V8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:11.6011700+03:00 0HL7MQJOHD5V8 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515915670.8208454980042854\",
  \"Nonce\": \"N0.010557531304931091505051591567\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.010557531304931091505051591567\",
    \"state\": \"15050515915670.8208454980042854\"
  }
}" (9a175e33)
2017-09-10T16:53:11.6041728+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:11.6171806+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:11.6201834+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:11.6221843+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:11.6241853+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:11.6261870+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:11.6291886+03:00 0HL7MQJOHD5V8 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:11.6462046+03:00 0HL7MQJOHD5V8 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515915670.8208454980042854\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:11.6467051+03:00 0HL7MQJOHD5V8 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:11.6472052+03:00 0HL7MQJOHD5V8 [INF] Request finished in 50.9749ms 302  (15c52c40)
2017-09-10T16:53:15.6156396+03:00 0HL7MQJOHD5V9 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76433157183709731505051595568&state=15050515955680.6320869087381042   (e5be5b71)
2017-09-10T16:53:15.6176413+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:15.6186419+03:00 0HL7MQJOHD5V9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:15.6186419+03:00 0HL7MQJOHD5V9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:15.6196422+03:00 0HL7MQJOHD5V9 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:15.6196422+03:00 0HL7MQJOHD5V9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:15.6206429+03:00 0HL7MQJOHD5V9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:15.6206429+03:00 0HL7MQJOHD5V9 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515955680.6320869087381042\",
  \"Nonce\": \"N0.76433157183709731505051595568\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76433157183709731505051595568\",
    \"state\": \"15050515955680.6320869087381042\"
  }
}" (9a175e33)
2017-09-10T16:53:15.6246459+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:15.6366570+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:15.6406561+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:15.6426578+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:15.6446596+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:15.6466609+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:15.6491667+03:00 0HL7MQJOHD5V9 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:15.6701861+03:00 0HL7MQJOHD5V9 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515955680.6320869087381042\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:15.6701861+03:00 0HL7MQJOHD5V9 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:15.6711856+03:00 0HL7MQJOHD5V9 [INF] Request finished in 56.1804ms 302  (15c52c40)
2017-09-10T16:53:19.6387740+03:00 0HL7MQJOHD5VA [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.59767845470666251505051599571&state=15050515995710.7777154960328545   (e5be5b71)
2017-09-10T16:53:19.6437769+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:19.6447780+03:00 0HL7MQJOHD5VA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:19.6457783+03:00 0HL7MQJOHD5VA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:19.6457783+03:00 0HL7MQJOHD5VA [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:19.6457783+03:00 0HL7MQJOHD5VA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:19.6467793+03:00 0HL7MQJOHD5VA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:19.6467793+03:00 0HL7MQJOHD5VA [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050515995710.7777154960328545\",
  \"Nonce\": \"N0.59767845470666251505051599571\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.59767845470666251505051599571\",
    \"state\": \"15050515995710.7777154960328545\"
  }
}" (9a175e33)
2017-09-10T16:53:19.6507820+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:19.6647916+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:19.6667922+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:19.6707984+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:19.6737984+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:19.6757977+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:19.6777999+03:00 0HL7MQJOHD5VA [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:19.7068230+03:00 0HL7MQJOHD5VA [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050515995710.7777154960328545\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:19.7078245+03:00 0HL7MQJOHD5VA [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:19.7083238+03:00 0HL7MQJOHD5VA [INF] Request finished in 72.2206ms 302  (15c52c40)
2017-09-10T16:53:23.6167306+03:00 0HL7MQJOHD5VB [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.62886112406438311505051603569&state=15050516035690.7253038442263922   (e5be5b71)
2017-09-10T16:53:23.6197326+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:23.6207329+03:00 0HL7MQJOHD5VB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:23.6207329+03:00 0HL7MQJOHD5VB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:23.6207329+03:00 0HL7MQJOHD5VB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:23.6217343+03:00 0HL7MQJOHD5VB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:23.6217343+03:00 0HL7MQJOHD5VB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:23.6227346+03:00 0HL7MQJOHD5VB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516035690.7253038442263922\",
  \"Nonce\": \"N0.62886112406438311505051603569\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.62886112406438311505051603569\",
    \"state\": \"15050516035690.7253038442263922\"
  }
}" (9a175e33)
2017-09-10T16:53:23.6267372+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:23.6397459+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:23.6427475+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:23.6447492+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:23.6467517+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:23.6507535+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:23.6547566+03:00 0HL7MQJOHD5VB [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:23.6767700+03:00 0HL7MQJOHD5VB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516035690.7253038442263922\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:23.6777710+03:00 0HL7MQJOHD5VB [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:23.6787717+03:00 0HL7MQJOHD5VB [INF] Request finished in 61.7485ms 302  (15c52c40)
2017-09-10T16:53:27.3286459+03:00 0HL7MQJOHD5VC [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.72169105889797751505051607290&state=15050516072900.29652670699976524   (e5be5b71)
2017-09-10T16:53:27.3316479+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:27.3316479+03:00 0HL7MQJOHD5VC [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:27.3326486+03:00 0HL7MQJOHD5VC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:27.3326486+03:00 0HL7MQJOHD5VC [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:27.3326486+03:00 0HL7MQJOHD5VC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:27.3336496+03:00 0HL7MQJOHD5VC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:27.3336496+03:00 0HL7MQJOHD5VC [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516072900.29652670699976524\",
  \"Nonce\": \"N0.72169105889797751505051607290\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.72169105889797751505051607290\",
    \"state\": \"15050516072900.29652670699976524\"
  }
}" (9a175e33)
2017-09-10T16:53:27.3496606+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:27.3676726+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:27.3756771+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:27.3786791+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:27.3816810+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:27.3896864+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:27.4016986+03:00 0HL7MQJOHD5VC [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:27.4357216+03:00 0HL7MQJOHD5VC [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516072900.29652670699976524\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:27.4372232+03:00 0HL7MQJOHD5VC [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:27.4422261+03:00 0HL7MQJOHD5VC [INF] Request finished in 110.0618ms 302  (15c52c40)
2017-09-10T16:53:30.3241743+03:00 0HL7MQJOHD5VD [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98256160631409231505051610293&state=15050516102930.038958769348395705   (e5be5b71)
2017-09-10T16:53:30.3271759+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:30.3271759+03:00 0HL7MQJOHD5VD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:30.3281766+03:00 0HL7MQJOHD5VD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:30.3281766+03:00 0HL7MQJOHD5VD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:30.3281766+03:00 0HL7MQJOHD5VD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:30.3291772+03:00 0HL7MQJOHD5VD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:30.3291772+03:00 0HL7MQJOHD5VD [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516102930.038958769348395705\",
  \"Nonce\": \"N0.98256160631409231505051610293\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98256160631409231505051610293\",
    \"state\": \"15050516102930.038958769348395705\"
  }
}" (9a175e33)
2017-09-10T16:53:30.3321796+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:30.3441876+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:30.3461889+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:30.3481902+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:30.3501912+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:30.3531931+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:30.3551945+03:00 0HL7MQJOHD5VD [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:30.3742075+03:00 0HL7MQJOHD5VD [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516102930.038958769348395705\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:30.3742075+03:00 0HL7MQJOHD5VD [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:30.3752077+03:00 0HL7MQJOHD5VD [INF] Request finished in 51.3436ms 302  (15c52c40)
2017-09-10T16:53:33.3232116+03:00 0HL7MQJOHD5VE [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.93546284838564441505051613295&state=15050516132950.24702177045486184   (e5be5b71)
2017-09-10T16:53:33.3262135+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:33.3272138+03:00 0HL7MQJOHD5VE [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:33.3272138+03:00 0HL7MQJOHD5VE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:33.3272138+03:00 0HL7MQJOHD5VE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:33.3282145+03:00 0HL7MQJOHD5VE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:33.3282145+03:00 0HL7MQJOHD5VE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:33.3282145+03:00 0HL7MQJOHD5VE [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516132950.24702177045486184\",
  \"Nonce\": \"N0.93546284838564441505051613295\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.93546284838564441505051613295\",
    \"state\": \"15050516132950.24702177045486184\"
  }
}" (9a175e33)
2017-09-10T16:53:33.3332182+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:33.3452257+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:33.3482277+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:33.3492292+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:33.3512297+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:33.3542321+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:33.3562334+03:00 0HL7MQJOHD5VE [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:33.3752452+03:00 0HL7MQJOHD5VE [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516132950.24702177045486184\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:33.3752452+03:00 0HL7MQJOHD5VE [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:33.3762463+03:00 0HL7MQJOHD5VE [INF] Request finished in 53.234ms 302  (15c52c40)
2017-09-10T16:53:36.3466902+03:00 0HL7MQJOHD5VF [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0238556614438629741505051616296&state=15050516162960.25547426539659   (e5be5b71)
2017-09-10T16:53:36.3596996+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:36.3606995+03:00 0HL7MQJOHD5VF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:36.3617006+03:00 0HL7MQJOHD5VF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:36.3617006+03:00 0HL7MQJOHD5VF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:36.3617006+03:00 0HL7MQJOHD5VF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:36.3627008+03:00 0HL7MQJOHD5VF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:36.3627008+03:00 0HL7MQJOHD5VF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516162960.25547426539659\",
  \"Nonce\": \"N0.0238556614438629741505051616296\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0238556614438629741505051616296\",
    \"state\": \"15050516162960.25547426539659\"
  }
}" (9a175e33)
2017-09-10T16:53:36.3657032+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:36.3797129+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:36.3817138+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:36.3837155+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:36.3957231+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:36.4032326+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:36.4057352+03:00 0HL7MQJOHD5VF [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:36.4282484+03:00 0HL7MQJOHD5VF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516162960.25547426539659\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:36.4287493+03:00 0HL7MQJOHD5VF [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:36.4292494+03:00 0HL7MQJOHD5VF [INF] Request finished in 93.1915ms 302  (15c52c40)
2017-09-10T16:53:39.4167942+03:00 0HL7MQJOHD5VG [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.7409694797004581505051619299&state=15050516192990.881102044449839   (e5be5b71)
2017-09-10T16:53:39.4268013+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T16:53:39.4273010+03:00 0HL7MQJOHD5VG [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T16:53:39.4278011+03:00 0HL7MQJOHD5VG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:39.4278011+03:00 0HL7MQJOHD5VG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T16:53:39.4303022+03:00 0HL7MQJOHD5VG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:39.4308027+03:00 0HL7MQJOHD5VG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:39.4313033+03:00 0HL7MQJOHD5VG [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050516192990.881102044449839\",
  \"Nonce\": \"N0.7409694797004581505051619299\",
  \"SessionId\": \"386749ea8f2ad3ae36b4e741ce67370f\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.7409694797004581505051619299\",
    \"state\": \"15050516192990.881102044449839\"
  }
}" (9a175e33)
2017-09-10T16:53:39.4648257+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T16:53:39.4793359+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:39.4818369+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T16:53:39.4853391+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T16:53:39.4883418+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T16:53:39.4913434+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T16:53:39.4933448+03:00 0HL7MQJOHD5VG [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T16:53:39.5198625+03:00 0HL7MQJOHD5VG [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050516192990.881102044449839\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T16:53:39.5208632+03:00 0HL7MQJOHD5VG [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T16:53:39.5223648+03:00 0HL7MQJOHD5VG [INF] Request finished in 170.261ms 302  (15c52c40)
2017-09-10T22:21:45.4880234+03:00 0HL7MQJOHD5VH [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T22:21:45.9171854+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:45.9897340+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (61ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:21:46.0177518+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:21:46.0497738+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:21:46.0557778+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:21:46.0602798+03:00 0HL7MQJOHD5VH [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:21:46.0612812+03:00 0HL7MQJOHD5VH [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:46.0617806+03:00 0HL7MQJOHD5VH [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:46.0617806+03:00 0HL7MQJOHD5VH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T22:21:46.0632817+03:00 0HL7MQJOHD5VH [INF] Request finished in 578.1482ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T22:21:49.6856115+03:00 0HL7MQJOHD5VI [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   (e5be5b71)
2017-09-10T22:21:49.6891132+03:00 0HL7MQJOHD5VI [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:49.6891132+03:00 0HL7MQJOHD5VI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-09-10T22:21:49.6906148+03:00 0HL7MQJOHD5VI [INF] Request finished in 5.6506ms 200 application/json (15c52c40)
2017-09-10T22:21:50.0238363+03:00 0HL7MQJOHD5VJ [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:21:50.0268375+03:00 0HL7MQJOHD5VJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:50.0268375+03:00 0HL7MQJOHD5VJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:21:50.0293389+03:00 0HL7MQJOHD5VJ [ERR] Invalid reference token.
"{
  \"ValidateLifetime\": true,
  \"AccessTokenType\": \"Reference\",
  \"TokenHandle\": \"c8cc79970de490d61b7a87c5911cd0cae17ae38539f709a056ed3687485fc2a4\"
}" (c9724191)
2017-09-10T22:21:50.0298391+03:00 0HL7MQJOHD5VJ [INF] Success token introspection. Token status: "inactive", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:21:50.0303392+03:00 0HL7MQJOHD5VJ [INF] Request finished in 20.7427ms 200 application/json (15c52c40)
2017-09-10T22:21:53.0925260+03:00 0HL7MQJOHD5VK [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUwNTA2OTEsImV4cCI6MTUwNTA1MDk5MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjYyMzc5NjE2MTM2MDk2MDYxNTA1MDUwNjkxNzg2IiwiaWF0IjoxNTA1MDUwNjkxLCJhdF9oYXNoIjoia2htQmZWMk0tM281WHY5aEwtMEFQQSIsInNpZCI6IjM4Njc0OWVhOGYyYWQzYWUzNmI0ZTc0MWNlNjczNzBmIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDUwMDczLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.lnn4U4BWrgRdPe9noQUmM25UPAr1VgpnK2RFKti2-pwtkBrHdT1EYwP1YRDCs_gohWRuY1UrPBF6z1hivKoJeVkWyI462XBRN5ChgnivbPdElovZluG2KdujybslG2euJrBFe-EoiaJQZykVWhw8EIX_N7C6wjm_YfOaAs_7DQo9kodajLdLMIPZ5U5KHhQOF74wH7U-jYtQMHATSWtFPj1AGb-OLJXwplhq5WdN9wnvRLygUE8ZYdybJAevBPABk8HgB_UcYXmJSjafCGBlY3xwr1T9r6S7lkjGNltJCvSxkP1xp9axWmumUxSQDTNWOZ3DVGuBpj8YkX1NwrGwsA&post_logout_redirect_uri=http://localhost:65271/unauthorized   (e5be5b71)
2017-09-10T22:21:53.0950274+03:00 0HL7MQJOHD5VK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:53.0955272+03:00 0HL7MQJOHD5VK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:53.0960281+03:00 0HL7MQJOHD5VK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.0965282+03:00 0HL7MQJOHD5VK [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-09-10T22:21:53.0970288+03:00 0HL7MQJOHD5VK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1085362+03:00 0HL7MQJOHD5VK [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:21:53.1095384+03:00 0HL7MQJOHD5VK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1095384+03:00 0HL7MQJOHD5VK [INF] End session request validation success
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"PostLogOutUri\": \"http://localhost:65271/unauthorized\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM0ZGZmZTQ5OTRmMjZhNzZmNDEyNDFmOTVlNDVkMjM2IiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MDUwNTA2OTEsImV4cCI6MTUwNTA1MDk5MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiZnNvLkFuZ3VsYXJDbGllbnQiLCJub25jZSI6Ik4wLjYyMzc5NjE2MTM2MDk2MDYxNTA1MDUwNjkxNzg2IiwiaWF0IjoxNTA1MDUwNjkxLCJhdF9oYXNoIjoia2htQmZWMk0tM281WHY5aEwtMEFQQSIsInNpZCI6IjM4Njc0OWVhOGYyYWQzYWUzNmI0ZTc0MWNlNjczNzBmIiwic3ViIjoiM2M3Y2NhNjQtMDBjZC00OWNjLTk0MDctMzEyOGVhZTgzMDk4IiwiYXV0aF90aW1lIjoxNTA1MDUwMDczLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.lnn4U4BWrgRdPe9noQUmM25UPAr1VgpnK2RFKti2-pwtkBrHdT1EYwP1YRDCs_gohWRuY1UrPBF6z1hivKoJeVkWyI462XBRN5ChgnivbPdElovZluG2KdujybslG2euJrBFe-EoiaJQZykVWhw8EIX_N7C6wjm_YfOaAs_7DQo9kodajLdLMIPZ5U5KHhQOF74wH7U-jYtQMHATSWtFPj1AGb-OLJXwplhq5WdN9wnvRLygUE8ZYdybJAevBPABk8HgB_UcYXmJSjafCGBlY3xwr1T9r6S7lkjGNltJCvSxkP1xp9axWmumUxSQDTNWOZ3DVGuBpj8YkX1NwrGwsA\",
    \"post_logout_redirect_uri\": \"http://localhost:65271/unauthorized\"
  }
}" (8a893fca)
2017-09-10T22:21:53.1110380+03:00 0HL7MQJOHD5VK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1115382+03:00 0HL7MQJOHD5VK [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1120387+03:00 0HL7MQJOHD5VK [INF] Request finished in 23.3448ms 302  (15c52c40)
2017-09-10T22:21:53.1180431+03:00 0HL7MQJOHD5VL [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=bb798514c37eb66f3d6d4494d72f5dfd   (e5be5b71)
2017-09-10T22:21:53.1240474+03:00 0HL7MQJOHD5VL [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:53.1245468+03:00 0HL7MQJOHD5VL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:53.1250469+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1275500+03:00 0HL7MQJOHD5VL [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" with arguments (["bb798514c37eb66f3d6d4494d72f5dfd"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T22:21:53.1285494+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1285494+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1295505+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-09-10T22:21:53.1295505+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-09-10T22:21:53.1300502+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-09-10T22:21:53.1305508+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1315518+03:00 0HL7MQJOHD5VL [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:53.1360546+03:00 0HL7MQJOHD5VL [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-09-10T22:21:53.1400576+03:00 0HL7MQJOHD5VL [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Logout (fso.IdentityProvider)" in 12.9324ms (afa2e885)
2017-09-10T22:21:53.1410579+03:00 0HL7MQJOHD5VL [INF] Request finished in 25.3789ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T22:21:53.2586368+03:00 0HL7MQJOHD5VM [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.min.css?v=G7OG5flN0NdPJ13sNYOv3Hwkc-gAxRfBTYgtu6Sl0yk   (e5be5b71)
2017-09-10T22:21:53.2601384+03:00 0HL7MQJOHD5VM [INF] Sending file. Request path: '"/css/site.min.css"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\css\site.min.css"' (27b0a520)
2017-09-10T22:21:53.2831520+03:00 0HL7MQJOHD5VN [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.min.js?v=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU   (e5be5b71)
2017-09-10T22:21:53.2836522+03:00 0HL7MQJOHD5VM [INF] Request finished in 4.2288ms 200 text/css (15c52c40)
2017-09-10T22:21:53.2881553+03:00 0HL7MQJOHD5VN [INF] Sending file. Request path: '"/js/site.min.js"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\js\site.min.js"' (27b0a520)
2017-09-10T22:21:53.2911573+03:00 0HL7MQJOHD5VN [INF] Request finished in 28.4898ms 200 application/javascript (15c52c40)
2017-09-10T22:21:53.6604023+03:00 0HL7MQJOHD5VO [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?sid=386749ea8f2ad3ae36b4e741ce67370f&logoutId=bb798514c37eb66f3d6d4494d72f5dfd   (e5be5b71)
2017-09-10T22:21:53.6644045+03:00 0HL7MQJOHD5VO [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:53.6644045+03:00 0HL7MQJOHD5VO [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-09-10T22:21:53.6649059+03:00 0HL7MQJOHD5VO [INF] Successful signout callback. Client logout iframe urls: [] (76941251)
2017-09-10T22:21:53.6719101+03:00 0HL7MQJOHD5VO [INF] Request finished in 7.6914ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T22:21:54.4539290+03:00 0HL7MQJOHD5VP [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   (e5be5b71)
2017-09-10T22:21:54.4574296+03:00 0HL7MQJOHD5VP [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:54.4584302+03:00 0HL7MQJOHD5VP [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-09-10T22:21:54.4594313+03:00 0HL7MQJOHD5VP [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-09-10T22:21:54.4629334+03:00 0HL7MQJOHD5VP [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 6.9924ms (afa2e885)
2017-09-10T22:21:54.4644350+03:00 0HL7MQJOHD5VP [INF] Request finished in 10.3109ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T22:21:58.8450216+03:00 0HL7MQJOHD5VQ [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 252 (e5be5b71)
2017-09-10T22:21:58.8515261+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:58.8520262+03:00 0HL7MQJOHD5VQ [INF] Executing action method "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" with arguments (["fso.IdentityProvider.Models.AccountViewModels.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-09-10T22:21:58.8585311+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[BirthDate], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[Locale], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[Name], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[PictureUrl], [u].[ProfilePageUrl], [u].[RegisterTime], [u].[SecurityStamp], [u].[Status], [u].[Surname], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 (6438bdd5)
2017-09-10T22:21:58.8780431+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:21:58.8895509+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:21:58.8925533+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:21:58.8945546+03:00 0HL7MQJOHD5VQ [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:21:58.8955549+03:00 0HL7MQJOHD5VQ [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T22:21:58.8955549+03:00 0HL7MQJOHD5VQ [INF] User logged in. (fdce0db4)
2017-09-10T22:21:58.8965571+03:00 0HL7MQJOHD5VQ [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2017-09-10T22:21:58.8975558+03:00 0HL7MQJOHD5VQ [INF] Executed action "IdentityServerWithAspNetIdentity.Controllers.AccountController.Login (fso.IdentityProvider)" in 51.3069ms (afa2e885)
2017-09-10T22:21:58.8980567+03:00 0HL7MQJOHD5VQ [INF] Request finished in 54.3247ms 302  (15c52c40)
2017-09-10T22:21:58.9135668+03:00 0HL7MQJOHD5VR [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (e5be5b71)
2017-09-10T22:21:58.9185705+03:00 0HL7MQJOHD5VR [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:58.9210724+03:00 0HL7MQJOHD5VR [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:58.9215721+03:00 0HL7MQJOHD5VR [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:58.9225732+03:00 0HL7MQJOHD5VR [INF] Executing action method "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-09-10T22:21:58.9235746+03:00 0HL7MQJOHD5VR [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-09-10T22:21:58.9265754+03:00 0HL7MQJOHD5VR [INF] Executed action "fso.IdentityProvider.Controllers.HomeController.Index (fso.IdentityProvider)" in 3.2305ms (afa2e885)
2017-09-10T22:21:58.9310786+03:00 0HL7MQJOHD5VR [INF] Request finished in 17.4739ms 200 text/html; charset=utf-8 (15c52c40)
2017-09-10T22:21:58.9610985+03:00 0HL7MQJOHD5VS [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg   (e5be5b71)
2017-09-10T22:21:58.9641009+03:00 0HL7MQJOHD5VS [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:58.9646010+03:00 0HL7MQJOHD5VS [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:58.9651007+03:00 0HL7MQJOHD5VS [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:58.9661018+03:00 0HL7MQJOHD5VS [INF] Sending file. Request path: '"/images/banner1.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner1.svg"' (27b0a520)
2017-09-10T22:21:58.9756083+03:00 0HL7MQJOHD5VS [INF] Request finished in 26.8106ms 200 image/svg+xml (15c52c40)
2017-09-10T22:21:58.9866156+03:00 0HL7MQJOHD5VT [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg   (e5be5b71)
2017-09-10T22:21:58.9911184+03:00 0HL7MQJOHD5VU [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg   (e5be5b71)
2017-09-10T22:21:58.9976225+03:00 0HL7MQJOHD5VV [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg   (e5be5b71)
2017-09-10T22:21:58.9976225+03:00 0HL7MQJOHD5VT [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:58.9981234+03:00 0HL7MQJOHD5VT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:58.9986239+03:00 0HL7MQJOHD5VT [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:58.9996238+03:00 0HL7MQJOHD5VT [INF] Sending file. Request path: '"/images/banner2.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner2.svg"' (27b0a520)
2017-09-10T22:21:59.0016259+03:00 0HL7MQJOHD5VV [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:59.0021261+03:00 0HL7MQJOHD5VU [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:21:59.0026258+03:00 0HL7MQJOHD5VV [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:59.0031271+03:00 0HL7MQJOHD5VV [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:59.0066284+03:00 0HL7MQJOHD5VU [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:21:59.0141336+03:00 0HL7MQJOHD5VV [INF] Sending file. Request path: '"/images/banner4.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner4.svg"' (27b0a520)
2017-09-10T22:21:59.0151347+03:00 0HL7MQJOHD5VU [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:21:59.0156344+03:00 0HL7MQJOHD5VU [INF] Sending file. Request path: '"/images/banner3.svg"'. Physical path: '"C:\Users\okana\Documents\Visual Studio 2017\Projects\fso.Web\fso.IdentityProvider\wwwroot\images\banner3.svg"' (27b0a520)
2017-09-10T22:21:59.0166355+03:00 0HL7MQJOHD5VT [INF] Request finished in 22.8735ms 200 image/svg+xml (15c52c40)
2017-09-10T22:21:59.0566620+03:00 0HL7MQJOHD5VV [INF] Request finished in 64.4821ms 200 image/svg+xml (15c52c40)
2017-09-10T22:21:59.0591634+03:00 0HL7MQJOHD5VU [INF] Request finished in 64.6826ms 200 image/svg+xml (15c52c40)
2017-09-10T22:22:06.5116746+03:00 0HL7MQJOHD600 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T22:22:06.5141772+03:00 0HL7MQJOHD600 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:06.5146778+03:00 0HL7MQJOHD600 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:22:06.5151771+03:00 0HL7MQJOHD600 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:06.5156780+03:00 0HL7MQJOHD600 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T22:22:06.5161786+03:00 0HL7MQJOHD600 [INF] Request finished in 4.4806ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T22:22:07.8908425+03:00 0HL7MQJOHD601 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.27021891739901441505071327887&state=15050713278870.5839557507602506   (e5be5b71)
2017-09-10T22:22:07.8928442+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:07.8933447+03:00 0HL7MQJOHD601 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:22:07.8938441+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:07.8943446+03:00 0HL7MQJOHD601 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:22:07.8948455+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:07.8958462+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:07.8958462+03:00 0HL7MQJOHD601 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050713278870.5839557507602506\",
  \"Nonce\": \"N0.27021891739901441505071327887\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.27021891739901441505071327887\",
    \"state\": \"15050713278870.5839557507602506\"
  }
}" (9a175e33)
2017-09-10T22:22:07.9003486+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:07.9158591+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:22:07.9178608+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:22:07.9193612+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:22:07.9223636+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:22:07.9263662+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:22:07.9293690+03:00 0HL7MQJOHD601 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:22:07.9488813+03:00 0HL7MQJOHD601 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050713278870.5839557507602506\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:22:07.9493815+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:07.9498816+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:07.9503829+03:00 0HL7MQJOHD601 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-09-10T22:22:07.9518833+03:00 0HL7MQJOHD601 [INF] Request finished in 60.8817ms 302  (15c52c40)
2017-09-10T22:22:09.6440040+03:00 0HL7MQJOHD602 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   (e5be5b71)
2017-09-10T22:22:09.6470060+03:00 0HL7MQJOHD602 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:09.6475070+03:00 0HL7MQJOHD602 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:22:09.6480071+03:00 0HL7MQJOHD602 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:22:09.6485072+03:00 0HL7MQJOHD602 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession" (f7642de5)
2017-09-10T22:22:09.6490074+03:00 0HL7MQJOHD602 [INF] Request finished in 5.0921ms 200 text/html; charset=UTF-8 (15c52c40)
2017-09-10T22:22:09.6610153+03:00 0HL7MQJOHD603 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:22:09.6645178+03:00 0HL7MQJOHD603 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:09.6645178+03:00 0HL7MQJOHD603 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:22:09.6685205+03:00 0HL7MQJOHD603 [INF] Request finished in 5.6427ms 200 application/json (15c52c40)
2017-09-10T22:22:09.7600813+03:00 0HL7MQJOHD604 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T22:22:09.7615829+03:00 0HL7MQJOHD604 [INF] Request finished in 1.065ms 204  (15c52c40)
2017-09-10T22:22:09.7810948+03:00 0HL7MQJOHD605 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T22:22:09.7896011+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:09.7901012+03:00 0HL7MQJOHD605 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T22:22:09.7901012+03:00 0HL7MQJOHD605 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T22:22:09.8621485+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:09.8656507+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:22:09.8701538+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:22:09.8736560+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:22:09.8776586+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:22:09.8806606+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:22:09.8826623+03:00 0HL7MQJOHD605 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:22:09.8826623+03:00 0HL7MQJOHD605 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T22:22:09.9316952+03:00 0HL7MQJOHD605 [INF] Request finished in 105.3601ms 200 application/json (15c52c40)
2017-09-10T22:22:11.7101709+03:00 0HL7MQJOHD606 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:11.7131729+03:00 0HL7MQJOHD606 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:11.7131729+03:00 0HL7MQJOHD606 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:11.7351875+03:00 0HL7MQJOHD606 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:11.7356880+03:00 0HL7MQJOHD606 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:11.7361878+03:00 0HL7MQJOHD606 [INF] Request finished in 26.5935ms 200 application/json (15c52c40)
2017-09-10T22:22:17.9198250+03:00 0HL7MQJOHD607 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:17.9223272+03:00 0HL7MQJOHD607 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:17.9223272+03:00 0HL7MQJOHD607 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:17.9383390+03:00 0HL7MQJOHD607 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:17.9393385+03:00 0HL7MQJOHD607 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:17.9398386+03:00 0HL7MQJOHD607 [INF] Request finished in 20.1012ms 200 application/json (15c52c40)
2017-09-10T22:22:20.3898614+03:00 0HL7MQJOHD608 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:20.3923628+03:00 0HL7MQJOHD608 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:20.3928634+03:00 0HL7MQJOHD608 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:20.4133763+03:00 0HL7MQJOHD608 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:20.4138781+03:00 0HL7MQJOHD608 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:20.4143774+03:00 0HL7MQJOHD608 [INF] Request finished in 24.6727ms 200 application/json (15c52c40)
2017-09-10T22:22:21.3850203+03:00 0HL7MQJOHD609 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:21.3870216+03:00 0HL7MQJOHD609 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:21.3875221+03:00 0HL7MQJOHD609 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:21.4110371+03:00 0HL7MQJOHD609 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:21.4115377+03:00 0HL7MQJOHD609 [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:21.4120382+03:00 0HL7MQJOHD609 [INF] Request finished in 33.357ms 200 application/json (15c52c40)
2017-09-10T22:22:22.5512945+03:00 0HL7MQJOHD60A [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:22.5537940+03:00 0HL7MQJOHD60A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:22.5537940+03:00 0HL7MQJOHD60A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:22.5738073+03:00 0HL7MQJOHD60A [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:22.5743078+03:00 0HL7MQJOHD60A [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:22.5748083+03:00 0HL7MQJOHD60A [INF] Request finished in 24.6999ms 200 application/json (15c52c40)
2017-09-10T22:22:23.2821135+03:00 0HL7MQJOHD60B [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:22:23.2846145+03:00 0HL7MQJOHD60B [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:22:23.2851147+03:00 0HL7MQJOHD60B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:22:23.3051283+03:00 0HL7MQJOHD60B [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:22:23.3056285+03:00 0HL7MQJOHD60B [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:22:23.3066299+03:00 0HL7MQJOHD60B [INF] Request finished in 24.608ms 200 application/json (15c52c40)
2017-09-10T22:23:48.7236750+03:00 0HL7MQJOHD60C [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:23:48.7271771+03:00 0HL7MQJOHD60C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:23:48.7271771+03:00 0HL7MQJOHD60C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:23:48.7471903+03:00 0HL7MQJOHD60C [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:23:48.7476913+03:00 0HL7MQJOHD60C [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:23:48.7486915+03:00 0HL7MQJOHD60C [INF] Request finished in 25.8111ms 200 application/json (15c52c40)
2017-09-10T22:27:09.9646492+03:00 0HL7MQJOHD60D [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.31931762545479381505071629930&state=15050716299300.007118857242023546   (e5be5b71)
2017-09-10T22:27:10.3025996+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:27:10.3030986+03:00 0HL7MQJOHD60D [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:27:10.3035995+03:00 0HL7MQJOHD60D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:10.3041000+03:00 0HL7MQJOHD60D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:27:10.3046002+03:00 0HL7MQJOHD60D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:10.3051007+03:00 0HL7MQJOHD60D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:10.3056008+03:00 0HL7MQJOHD60D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050716299300.007118857242023546\",
  \"Nonce\": \"N0.31931762545479381505071629930\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.31931762545479381505071629930\",
    \"state\": \"15050716299300.007118857242023546\"
  }
}" (9a175e33)
2017-09-10T22:27:10.3588519+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (51ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:27:10.3713600+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:27:10.3768642+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:27:10.3808657+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:27:10.3838684+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:27:10.3873710+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:27:10.3918733+03:00 0HL7MQJOHD60D [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:27:10.4123931+03:00 0HL7MQJOHD60D [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050716299300.007118857242023546\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:27:10.4136017+03:00 0HL7MQJOHD60D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:10.4146028+03:00 0HL7MQJOHD60D [INF] Request finished in 450.4675ms 302  (15c52c40)
2017-09-10T22:27:12.9974685+03:00 0HL7MQJOHD60E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.184454982965667871505071632932&state=15050716329320.9168236559547265   (e5be5b71)
2017-09-10T22:27:13.0024707+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:27:13.0029716+03:00 0HL7MQJOHD60E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:27:13.0039722+03:00 0HL7MQJOHD60E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:13.0039722+03:00 0HL7MQJOHD60E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:27:13.0049729+03:00 0HL7MQJOHD60E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:13.0059732+03:00 0HL7MQJOHD60E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:13.0064741+03:00 0HL7MQJOHD60E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050716329320.9168236559547265\",
  \"Nonce\": \"N0.184454982965667871505071632932\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.184454982965667871505071632932\",
    \"state\": \"15050716329320.9168236559547265\"
  }
}" (9a175e33)
2017-09-10T22:27:13.0089752+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:27:13.0249858+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:27:13.0269875+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:27:13.0289884+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:27:13.0314907+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:27:13.0374950+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:27:13.0414985+03:00 0HL7MQJOHD60E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:27:13.0690161+03:00 0HL7MQJOHD60E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050716329320.9168236559547265\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:27:13.0785222+03:00 0HL7MQJOHD60E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:27:13.0985351+03:00 0HL7MQJOHD60E [INF] Request finished in 108.3932ms 302  (15c52c40)
2017-09-10T22:27:16.5177994+03:00 0HL7MQJOHD60F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:27:16.5218024+03:00 0HL7MQJOHD60F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:27:16.5223025+03:00 0HL7MQJOHD60F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:27:16.5258051+03:00 0HL7MQJOHD60F [INF] Request finished in 7.7258ms 200 application/json (15c52c40)
2017-09-10T22:27:48.0096391+03:00 0HL7MQJOHD60G [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T22:27:48.0126399+03:00 0HL7MQJOHD60G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:27:48.0126399+03:00 0HL7MQJOHD60G [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T22:27:48.0306530+03:00 0HL7MQJOHD60G [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:27:48.0311532+03:00 0HL7MQJOHD60G [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T22:27:48.0316533+03:00 0HL7MQJOHD60G [INF] Request finished in 22.4835ms 200 application/json (15c52c40)
2017-09-10T22:32:14.9618682+03:00 0HL7MQJOHD60H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.98283991796821321505071934919&state=15050719349190.7848236471130774   (e5be5b71)
2017-09-10T22:32:15.1844752+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:32:15.1849750+03:00 0HL7MQJOHD60H [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:32:15.1854755+03:00 0HL7MQJOHD60H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:32:15.1854755+03:00 0HL7MQJOHD60H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:32:15.1859748+03:00 0HL7MQJOHD60H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:32:15.1863447+03:00 0HL7MQJOHD60H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:32:15.1863447+03:00 0HL7MQJOHD60H [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050719349190.7848236471130774\",
  \"Nonce\": \"N0.98283991796821321505071934919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.98283991796821321505071934919\",
    \"state\": \"15050719349190.7848236471130774\"
  }
}" (9a175e33)
2017-09-10T22:32:15.2415241+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (51ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:32:15.2535332+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:32:15.2575358+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:32:15.2615381+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:32:15.2645393+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:32:15.2685435+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:32:15.2725458+03:00 0HL7MQJOHD60H [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:32:15.2855611+03:00 0HL7MQJOHD60H [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050719349190.7848236471130774\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:32:15.2870627+03:00 0HL7MQJOHD60H [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:32:15.2875617+03:00 0HL7MQJOHD60H [INF] Request finished in 326.3502ms 302  (15c52c40)
2017-09-10T22:32:21.5503842+03:00 0HL7MQJOHD60I [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:32:21.5533851+03:00 0HL7MQJOHD60I [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:32:21.5533851+03:00 0HL7MQJOHD60I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:32:21.5543865+03:00 0HL7MQJOHD60I [INF] Request finished in 3.8234ms 200 application/json (15c52c40)
2017-09-10T22:37:15.9525773+03:00 0HL7MQJOHD60J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.085927522469028131505072235920&state=15050722359200.20826983852356706   (e5be5b71)
2017-09-10T22:37:16.1558622+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:37:16.1578623+03:00 0HL7MQJOHD60J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:37:16.1578623+03:00 0HL7MQJOHD60J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:16.1588654+03:00 0HL7MQJOHD60J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:37:16.1598645+03:00 0HL7MQJOHD60J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:16.1608655+03:00 0HL7MQJOHD60J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:16.1608655+03:00 0HL7MQJOHD60J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050722359200.20826983852356706\",
  \"Nonce\": \"N0.085927522469028131505072235920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.085927522469028131505072235920\",
    \"state\": \"15050722359200.20826983852356706\"
  }
}" (9a175e33)
2017-09-10T22:37:16.2088969+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (41ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:37:16.2369329+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:37:16.2409323+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:37:16.2449366+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:37:16.2479413+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:37:16.2509413+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:37:16.2549432+03:00 0HL7MQJOHD60J [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:37:16.2799590+03:00 0HL7MQJOHD60J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050722359200.20826983852356706\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:37:16.2809593+03:00 0HL7MQJOHD60J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:16.2809593+03:00 0HL7MQJOHD60J [INF] Request finished in 330.0063ms 302  (15c52c40)
2017-09-10T22:37:19.1465381+03:00 0HL7MQJOHD60K [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.53779918417379681505072239091&state=15050722390910.682448673447581   (e5be5b71)
2017-09-10T22:37:19.1490395+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:37:19.1495397+03:00 0HL7MQJOHD60K [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:37:19.1500402+03:00 0HL7MQJOHD60K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:19.1505407+03:00 0HL7MQJOHD60K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:37:19.1510413+03:00 0HL7MQJOHD60K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:19.1515418+03:00 0HL7MQJOHD60K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:19.1520419+03:00 0HL7MQJOHD60K [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050722390910.682448673447581\",
  \"Nonce\": \"N0.53779918417379681505072239091\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.53779918417379681505072239091\",
    \"state\": \"15050722390910.682448673447581\"
  }
}" (9a175e33)
2017-09-10T22:37:19.1565447+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:37:19.1735568+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:37:19.1755573+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:37:19.1780591+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:37:19.1805606+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:37:19.1850634+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:37:19.1875676+03:00 0HL7MQJOHD60K [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:37:19.2105805+03:00 0HL7MQJOHD60K [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050722390910.682448673447581\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:37:19.2115812+03:00 0HL7MQJOHD60K [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:37:19.2130827+03:00 0HL7MQJOHD60K [INF] Request finished in 66.5703ms 302  (15c52c40)
2017-09-10T22:37:21.2990312+03:00 0HL7MQJOHD60L [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:37:21.3010329+03:00 0HL7MQJOHD60L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:37:21.3010329+03:00 0HL7MQJOHD60L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:37:21.3020332+03:00 0HL7MQJOHD60L [INF] Request finished in 3.8439ms 200 application/json (15c52c40)
2017-09-10T22:42:21.9747253+03:00 0HL7MQJOHD60M [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.04872083552689511505072541919&state=15050725419190.08011785003886396   (e5be5b71)
2017-09-10T22:42:25.9544850+03:00 0HL7MQJOHD60N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.232655132825882351505072545919&state=15050725459190.5584241636375309   (e5be5b71)
2017-09-10T22:42:28.1255924+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (482ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:42:28.1260914+03:00 0HL7MQJOHD60M [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:42:28.1265935+03:00 0HL7MQJOHD60M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1265935+03:00 0HL7MQJOHD60M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:42:28.1270936+03:00 0HL7MQJOHD60M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1275946+03:00 0HL7MQJOHD60M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1280947+03:00 0HL7MQJOHD60M [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050725419190.08011785003886396\",
  \"Nonce\": \"N0.04872083552689511505072541919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.04872083552689511505072541919\",
    \"state\": \"15050725419190.08011785003886396\"
  }
}" (9a175e33)
2017-09-10T22:42:28.1856993+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (539ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:42:28.1867004+03:00 0HL7MQJOHD60N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:42:28.1867004+03:00 0HL7MQJOHD60N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1867004+03:00 0HL7MQJOHD60N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:42:28.1877014+03:00 0HL7MQJOHD60N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1887021+03:00 0HL7MQJOHD60N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:28.1887021+03:00 0HL7MQJOHD60N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050725459190.5584241636375309\",
  \"Nonce\": \"N0.232655132825882351505072545919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.232655132825882351505072545919\",
    \"state\": \"15050725459190.5584241636375309\"
  }
}" (9a175e33)
2017-09-10T22:42:29.9457996+03:00 0HL7MQJOHD60O [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68101504664879031505072549919&state=15050725499190.0345909222985068   (e5be5b71)
2017-09-10T22:42:29.9568065+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:42:29.9578072+03:00 0HL7MQJOHD60O [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:42:29.9578072+03:00 0HL7MQJOHD60O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:29.9588082+03:00 0HL7MQJOHD60O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:42:29.9588082+03:00 0HL7MQJOHD60O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:29.9598089+03:00 0HL7MQJOHD60O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:29.9598089+03:00 0HL7MQJOHD60O [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050725499190.0345909222985068\",
  \"Nonce\": \"N0.68101504664879031505072549919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68101504664879031505072549919\",
    \"state\": \"15050725499190.0345909222985068\"
  }
}" (9a175e33)
2017-09-10T22:42:30.5092043+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (2,376ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:42:30.5152091+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (543ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:42:30.5217199+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (2,315ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:42:31.0472107+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (514ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.0482114+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (525ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.0492125+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (511ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.0522145+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:42:31.0542158+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:42:31.0562163+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:42:31.0572170+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:42:31.0632210+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:42:31.0662229+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:42:31.0672240+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.0682251+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.0722285+03:00 0HL7MQJOHD60O [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:42:31.0922402+03:00 0HL7MQJOHD60O [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050725499190.0345909222985068\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:42:31.0932408+03:00 0HL7MQJOHD60O [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:31.0942415+03:00 0HL7MQJOHD60O [INF] Request finished in 1147.9804ms 302  (15c52c40)
2017-09-10T22:42:31.1552227+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:42:31.1572233+03:00 0HL7MQJOHD60N [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:42:31.1572233+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:42:31.1592246+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:42:31.1622266+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:31.1652282+03:00 0HL7MQJOHD60M [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:42:31.1782364+03:00 0HL7MQJOHD60N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050725459190.5584241636375309\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:42:31.1792374+03:00 0HL7MQJOHD60N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:31.1802385+03:00 0HL7MQJOHD60N [INF] Request finished in 5225.9958ms 302  (15c52c40)
2017-09-10T22:42:31.1872435+03:00 0HL7MQJOHD60M [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050725419190.08011785003886396\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:42:31.1882430+03:00 0HL7MQJOHD60M [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:31.1892456+03:00 0HL7MQJOHD60M [INF] Request finished in 9215.0718ms 302  (15c52c40)
2017-09-10T22:42:33.7652331+03:00 0HL7MQJOHD60P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.235057718711055631505072553681&state=15050725536810.6003689051344758   (e5be5b71)
2017-09-10T22:42:33.7682354+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:42:33.7692357+03:00 0HL7MQJOHD60P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:42:33.7697362+03:00 0HL7MQJOHD60P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:33.7697362+03:00 0HL7MQJOHD60P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:42:33.7707369+03:00 0HL7MQJOHD60P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:33.7717380+03:00 0HL7MQJOHD60P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:33.7722385+03:00 0HL7MQJOHD60P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050725536810.6003689051344758\",
  \"Nonce\": \"N0.235057718711055631505072553681\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.235057718711055631505072553681\",
    \"state\": \"15050725536810.6003689051344758\"
  }
}" (9a175e33)
2017-09-10T22:42:33.7767409+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:42:33.7942527+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:33.7962536+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:42:33.7982549+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:42:33.8007572+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:42:33.8122642+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:42:33.8147661+03:00 0HL7MQJOHD60P [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:42:33.8397826+03:00 0HL7MQJOHD60P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050725536810.6003689051344758\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:42:33.8407829+03:00 0HL7MQJOHD60P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:42:33.8412834+03:00 0HL7MQJOHD60P [INF] Request finished in 76.7012ms 302  (15c52c40)
2017-09-10T22:42:36.7977808+03:00 0HL7MQJOHD60Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:42:36.8007824+03:00 0HL7MQJOHD60Q [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:42:36.8007824+03:00 0HL7MQJOHD60Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:42:36.8017890+03:00 0HL7MQJOHD60Q [INF] Request finished in 4.5718ms 200 application/json (15c52c40)
2017-09-10T22:47:33.9428967+03:00 0HL7MQJOHD60R [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.88860124734211411505072853919&state=15050728539190.7298194566493206   (e5be5b71)
2017-09-10T22:47:34.7668590+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:47:34.7678600+03:00 0HL7MQJOHD60R [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:47:34.7688603+03:00 0HL7MQJOHD60R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:34.7688603+03:00 0HL7MQJOHD60R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:47:34.7708612+03:00 0HL7MQJOHD60R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:34.7718639+03:00 0HL7MQJOHD60R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:34.7718639+03:00 0HL7MQJOHD60R [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050728539190.7298194566493206\",
  \"Nonce\": \"N0.88860124734211411505072853919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.88860124734211411505072853919\",
    \"state\": \"15050728539190.7298194566493206\"
  }
}" (9a175e33)
2017-09-10T22:47:35.0686147+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (291ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:47:35.1301667+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:47:35.1341701+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:47:35.1391726+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:47:35.1431753+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:47:35.1461777+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:47:35.1511830+03:00 0HL7MQJOHD60R [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:47:35.1711962+03:00 0HL7MQJOHD60R [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050728539190.7298194566493206\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:47:35.1721953+03:00 0HL7MQJOHD60R [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:35.1721953+03:00 0HL7MQJOHD60R [INF] Request finished in 1230.5199ms 302  (15c52c40)
2017-09-10T22:47:37.3748396+03:00 0HL7MQJOHD60S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.0249613324034168031505072857301&state=15050728573010.22031652335419794   (e5be5b71)
2017-09-10T22:47:37.3778412+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:47:37.3788418+03:00 0HL7MQJOHD60S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:47:37.3788418+03:00 0HL7MQJOHD60S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:37.3793451+03:00 0HL7MQJOHD60S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:47:37.3798457+03:00 0HL7MQJOHD60S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:37.3803458+03:00 0HL7MQJOHD60S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:37.3808463+03:00 0HL7MQJOHD60S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050728573010.22031652335419794\",
  \"Nonce\": \"N0.0249613324034168031505072857301\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.0249613324034168031505072857301\",
    \"state\": \"15050728573010.22031652335419794\"
  }
}" (9a175e33)
2017-09-10T22:47:37.3848490+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:47:37.3988622+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:47:37.4008631+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:47:37.4028652+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:47:37.4048666+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:47:37.4078682+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:47:37.4098699+03:00 0HL7MQJOHD60S [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:47:37.4348857+03:00 0HL7MQJOHD60S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050728573010.22031652335419794\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:47:37.4358863+03:00 0HL7MQJOHD60S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:47:37.4378880+03:00 0HL7MQJOHD60S [INF] Request finished in 62.538ms 302  (15c52c40)
2017-09-10T22:47:40.4165919+03:00 0HL7MQJOHD60T [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:47:40.4200940+03:00 0HL7MQJOHD60T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:47:40.4200940+03:00 0HL7MQJOHD60T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:47:40.4215980+03:00 0HL7MQJOHD60T [INF] Request finished in 4.5059ms 200 application/json (15c52c40)
2017-09-10T22:52:39.9608202+03:00 0HL7MQJOHD60U [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.24425279310028691505073159922&state=15050731599220.32707073465606107   (e5be5b71)
2017-09-10T22:52:40.5903839+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:52:40.8947583+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (299ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:52:40.9497134+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:52:40.9617198+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:52:40.9787354+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:52:40.9877362+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:52:40.9887373+03:00 0HL7MQJOHD60U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:52:40.9897376+03:00 0HL7MQJOHD60U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:40.9897376+03:00 0HL7MQJOHD60U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:52:40.9907382+03:00 0HL7MQJOHD60U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:40.9917385+03:00 0HL7MQJOHD60U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:40.9917385+03:00 0HL7MQJOHD60U [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050731599220.32707073465606107\",
  \"Nonce\": \"N0.24425279310028691505073159922\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.24425279310028691505073159922\",
    \"state\": \"15050731599220.32707073465606107\"
  }
}" (9a175e33)
2017-09-10T22:52:41.0017455+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:52:41.0037472+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:52:41.0057482+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:52:41.0077499+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:52:41.0097508+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:52:41.0117522+03:00 0HL7MQJOHD60U [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:52:41.0277635+03:00 0HL7MQJOHD60U [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050731599220.32707073465606107\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:52:41.0282676+03:00 0HL7MQJOHD60U [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:41.0292675+03:00 0HL7MQJOHD60U [INF] Request finished in 1068.6888ms 302  (15c52c40)
2017-09-10T22:52:43.3186379+03:00 0HL7MQJOHD60V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.67714355565177041505073163126&state=15050731631260.9005704614760361   (e5be5b71)
2017-09-10T22:52:43.3221404+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:52:43.3226405+03:00 0HL7MQJOHD60V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:52:43.3231406+03:00 0HL7MQJOHD60V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:43.3231406+03:00 0HL7MQJOHD60V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:52:43.3236412+03:00 0HL7MQJOHD60V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:43.3246418+03:00 0HL7MQJOHD60V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:43.3246418+03:00 0HL7MQJOHD60V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050731631260.9005704614760361\",
  \"Nonce\": \"N0.67714355565177041505073163126\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.67714355565177041505073163126\",
    \"state\": \"15050731631260.9005704614760361\"
  }
}" (9a175e33)
2017-09-10T22:52:43.3286445+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:52:43.3416531+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:52:43.3441546+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:52:43.3461559+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:52:43.3481576+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:52:43.3511592+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:52:43.3531605+03:00 0HL7MQJOHD60V [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:52:43.3776774+03:00 0HL7MQJOHD60V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050731631260.9005704614760361\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:52:43.3781771+03:00 0HL7MQJOHD60V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:52:43.3791785+03:00 0HL7MQJOHD60V [INF] Request finished in 60.8387ms 302  (15c52c40)
2017-09-10T22:52:46.7267733+03:00 0HL7MQJOHD610 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:52:46.7297753+03:00 0HL7MQJOHD610 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:52:46.7297753+03:00 0HL7MQJOHD610 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:52:46.7307755+03:00 0HL7MQJOHD610 [INF] Request finished in 4.2375ms 200 application/json (15c52c40)
2017-09-10T22:57:44.9530395+03:00 0HL7MQJOHD611 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.076096639289513491505073464920&state=15050734649200.19129727927648132   (e5be5b71)
2017-09-10T22:57:44.9565400+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:57:44.9570402+03:00 0HL7MQJOHD611 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:57:44.9575407+03:00 0HL7MQJOHD611 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:44.9575407+03:00 0HL7MQJOHD611 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:57:44.9585418+03:00 0HL7MQJOHD611 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:44.9590423+03:00 0HL7MQJOHD611 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:44.9595428+03:00 0HL7MQJOHD611 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050734649200.19129727927648132\",
  \"Nonce\": \"N0.076096639289513491505073464920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.076096639289513491505073464920\",
    \"state\": \"15050734649200.19129727927648132\"
  }
}" (9a175e33)
2017-09-10T22:57:44.9675473+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:57:44.9840589+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:44.9875602+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:57:44.9905626+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:57:44.9970671+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:57:44.9990684+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:45.0025701+03:00 0HL7MQJOHD611 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:57:45.0215827+03:00 0HL7MQJOHD611 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050734649200.19129727927648132\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:57:45.0220837+03:00 0HL7MQJOHD611 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:45.0225838+03:00 0HL7MQJOHD611 [INF] Request finished in 70.1727ms 302  (15c52c40)
2017-09-10T22:57:50.7967411+03:00 0HL7MQJOHD612 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:57:50.7997431+03:00 0HL7MQJOHD612 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:57:50.7997431+03:00 0HL7MQJOHD612 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:57:50.8097501+03:00 0HL7MQJOHD612 [INF] Request finished in 3.9162ms 200 application/json (15c52c40)
2017-09-10T22:57:51.2165189+03:00 0HL7MQJOHD613 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.485312058813028861505073470983&state=15050734709830.20428205388793508   (e5be5b71)
2017-09-10T22:57:51.2190200+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:57:51.2195209+03:00 0HL7MQJOHD613 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T22:57:51.2200211+03:00 0HL7MQJOHD613 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:51.2200211+03:00 0HL7MQJOHD613 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T22:57:51.2205216+03:00 0HL7MQJOHD613 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:51.2215226+03:00 0HL7MQJOHD613 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:51.2215226+03:00 0HL7MQJOHD613 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050734709830.20428205388793508\",
  \"Nonce\": \"N0.485312058813028861505073470983\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.485312058813028861505073470983\",
    \"state\": \"15050734709830.20428205388793508\"
  }
}" (9a175e33)
2017-09-10T22:57:51.2280268+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:57:51.2485401+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:51.2505411+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:57:51.2525424+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:57:51.2545441+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:57:51.2575457+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:51.2610482+03:00 0HL7MQJOHD613 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:57:51.2850645+03:00 0HL7MQJOHD613 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050734709830.20428205388793508\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T22:57:51.2860652+03:00 0HL7MQJOHD613 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T22:57:51.2870659+03:00 0HL7MQJOHD613 [INF] Request finished in 70.8915ms 302  (15c52c40)
2017-09-10T22:57:56.6115924+03:00 0HL7MQJOHD614 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T22:57:56.6140943+03:00 0HL7MQJOHD614 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:57:56.6140943+03:00 0HL7MQJOHD614 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T22:57:56.6150946+03:00 0HL7MQJOHD614 [INF] Request finished in 4.6709ms 200 application/json (15c52c40)
2017-09-10T22:57:57.6838028+03:00 0HL7MQJOHD615 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T22:57:57.6848035+03:00 0HL7MQJOHD615 [INF] Request finished in 1.1017ms 204  (15c52c40)
2017-09-10T22:57:57.7908733+03:00 0HL7MQJOHD616 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T22:57:57.7948764+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T22:57:57.7948764+03:00 0HL7MQJOHD616 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T22:57:57.7948764+03:00 0HL7MQJOHD616 [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T22:57:57.8208932+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T22:57:57.8319005+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:57.8354026+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T22:57:57.8384050+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T22:57:57.8434107+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T22:57:57.8499124+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T22:57:57.8549161+03:00 0HL7MQJOHD616 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T22:57:57.8549161+03:00 0HL7MQJOHD616 [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T22:57:57.8574172+03:00 0HL7MQJOHD616 [INF] Request finished in 65.3233ms 200 application/json (15c52c40)
2017-09-10T23:02:51.9483417+03:00 0HL7MQJOHD617 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.96817937555976831505073771919&state=15050737719190.606634271232001   (e5be5b71)
2017-09-10T23:02:51.9518423+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:02:51.9523428+03:00 0HL7MQJOHD617 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:02:51.9528433+03:00 0HL7MQJOHD617 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:51.9528433+03:00 0HL7MQJOHD617 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:02:51.9533450+03:00 0HL7MQJOHD617 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:51.9543441+03:00 0HL7MQJOHD617 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:51.9543441+03:00 0HL7MQJOHD617 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050737719190.606634271232001\",
  \"Nonce\": \"N0.96817937555976831505073771919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.96817937555976831505073771919\",
    \"state\": \"15050737719190.606634271232001\"
  }
}" (9a175e33)
2017-09-10T23:02:51.9618497+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:02:51.9813620+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:51.9848645+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:02:51.9878665+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:02:51.9918700+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:02:51.9968741+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:52.0008759+03:00 0HL7MQJOHD617 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:02:52.0248938+03:00 0HL7MQJOHD617 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050737719190.606634271232001\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:02:52.0263926+03:00 0HL7MQJOHD617 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:52.0278938+03:00 0HL7MQJOHD617 [INF] Request finished in 79.2742ms 302  (15c52c40)
2017-09-10T23:02:53.0368473+03:00 0HL7MQJOHD618 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.84775857611107151505073772919&state=15050737729190.8576687874999911   (e5be5b71)
2017-09-10T23:02:53.0403498+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:02:53.0413508+03:00 0HL7MQJOHD618 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:02:53.0423515+03:00 0HL7MQJOHD618 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:53.0428532+03:00 0HL7MQJOHD618 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:02:53.0458532+03:00 0HL7MQJOHD618 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:53.0493558+03:00 0HL7MQJOHD618 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:53.0493558+03:00 0HL7MQJOHD618 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050737729190.8576687874999911\",
  \"Nonce\": \"N0.84775857611107151505073772919\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.84775857611107151505073772919\",
    \"state\": \"15050737729190.8576687874999911\"
  }
}" (9a175e33)
2017-09-10T23:02:53.0563604+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:02:53.0823776+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:53.0868808+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:02:53.0988892+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:02:53.1073942+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:02:53.1189016+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:53.1209033+03:00 0HL7MQJOHD618 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:02:53.1644324+03:00 0HL7MQJOHD618 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050737729190.8576687874999911\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:02:53.1679341+03:00 0HL7MQJOHD618 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:53.1694357+03:00 0HL7MQJOHD618 [INF] Request finished in 132.528ms 302  (15c52c40)
2017-09-10T23:02:56.8233722+03:00 0HL7MQJOHD619 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.670450093630741505073776133&state=15050737761330.02081800041186388   (e5be5b71)
2017-09-10T23:02:56.8278753+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:02:56.8288760+03:00 0HL7MQJOHD619 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:02:56.8298763+03:00 0HL7MQJOHD619 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:56.8298763+03:00 0HL7MQJOHD619 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:02:56.8308769+03:00 0HL7MQJOHD619 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:56.8323777+03:00 0HL7MQJOHD619 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:56.8323777+03:00 0HL7MQJOHD619 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050737761330.02081800041186388\",
  \"Nonce\": \"N0.670450093630741505073776133\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.670450093630741505073776133\",
    \"state\": \"15050737761330.02081800041186388\"
  }
}" (9a175e33)
2017-09-10T23:02:56.8503901+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:02:56.8674029+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:56.8699036+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:02:56.8724050+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:02:56.8814110+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:02:56.8904166+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:02:56.9039257+03:00 0HL7MQJOHD619 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:02:56.9389489+03:00 0HL7MQJOHD619 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050737761330.02081800041186388\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:02:56.9459539+03:00 0HL7MQJOHD619 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:02:56.9519575+03:00 0HL7MQJOHD619 [INF] Request finished in 124.0596ms 302  (15c52c40)
2017-09-10T23:03:01.2332930+03:00 0HL7MQJOHD61A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:03:01.2362950+03:00 0HL7MQJOHD61A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:03:01.2367959+03:00 0HL7MQJOHD61A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:03:01.2382963+03:00 0HL7MQJOHD61A [INF] Request finished in 4.5809ms 200 application/json (15c52c40)
2017-09-10T23:07:57.9819099+03:00 0HL7MQJOHD61B [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.207418458505743031505074077921&state=15050740779210.5292270489297011   (e5be5b71)
2017-09-10T23:07:58.2159462+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:07:58.2164467+03:00 0HL7MQJOHD61B [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:07:58.2169472+03:00 0HL7MQJOHD61B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:07:58.2169472+03:00 0HL7MQJOHD61B [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:07:58.2174478+03:00 0HL7MQJOHD61B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:07:58.2179483+03:00 0HL7MQJOHD61B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:07:58.2179483+03:00 0HL7MQJOHD61B [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050740779210.5292270489297011\",
  \"Nonce\": \"N0.207418458505743031505074077921\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.207418458505743031505074077921\",
    \"state\": \"15050740779210.5292270489297011\"
  }
}" (9a175e33)
2017-09-10T23:07:58.2762840+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (53ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:07:58.2942971+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:07:58.2977984+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:07:58.3013013+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:07:58.3053040+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:07:58.3068044+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:07:58.3153110+03:00 0HL7MQJOHD61B [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:07:58.3328216+03:00 0HL7MQJOHD61B [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050740779210.5292270489297011\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:07:58.3333214+03:00 0HL7MQJOHD61B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:07:58.3343224+03:00 0HL7MQJOHD61B [INF] Request finished in 352.5838ms 302  (15c52c40)
2017-09-10T23:08:01.1616925+03:00 0HL7MQJOHD61C [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.5617164014032671505074081068&state=15050740810680.2867190542093412   (e5be5b71)
2017-09-10T23:08:01.1661953+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:08:01.1676973+03:00 0HL7MQJOHD61C [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:08:01.1691981+03:00 0HL7MQJOHD61C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:01.1691981+03:00 0HL7MQJOHD61C [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:08:01.1696982+03:00 0HL7MQJOHD61C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:01.1701983+03:00 0HL7MQJOHD61C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:01.1706985+03:00 0HL7MQJOHD61C [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050740810680.2867190542093412\",
  \"Nonce\": \"N0.5617164014032671505074081068\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.5617164014032671505074081068\",
    \"state\": \"15050740810680.2867190542093412\"
  }
}" (9a175e33)
2017-09-10T23:08:01.1772030+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:08:01.1947148+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:01.2022195+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:08:01.2047210+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:08:01.2067219+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:08:01.2137270+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:01.2157287+03:00 0HL7MQJOHD61C [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:08:01.2462495+03:00 0HL7MQJOHD61C [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050740810680.2867190542093412\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:08:01.2472494+03:00 0HL7MQJOHD61C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:01.2482500+03:00 0HL7MQJOHD61C [INF] Request finished in 90.1441ms 302  (15c52c40)
2017-09-10T23:08:05.8733571+03:00 0HL7MQJOHD61D [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:08:05.8783608+03:00 0HL7MQJOHD61D [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:08:05.8783608+03:00 0HL7MQJOHD61D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:08:05.8798620+03:00 0HL7MQJOHD61D [INF] Request finished in 6.8566ms 200 application/json (15c52c40)
2017-09-10T23:08:06.4027077+03:00 0HL7MQJOHD61E [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.55935560044122011505074086174&state=15050740861740.0311415497554981   (e5be5b71)
2017-09-10T23:08:06.4052100+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:08:06.4062103+03:00 0HL7MQJOHD61E [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:08:06.4067104+03:00 0HL7MQJOHD61E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:06.4067104+03:00 0HL7MQJOHD61E [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:08:06.4072109+03:00 0HL7MQJOHD61E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:06.4082120+03:00 0HL7MQJOHD61E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:06.4107146+03:00 0HL7MQJOHD61E [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050740861740.0311415497554981\",
  \"Nonce\": \"N0.55935560044122011505074086174\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.55935560044122011505074086174\",
    \"state\": \"15050740861740.0311415497554981\"
  }
}" (9a175e33)
2017-09-10T23:08:06.4147157+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:08:06.4302262+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:06.4317270+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:08:06.4337283+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:08:06.4357296+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:08:06.4377309+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:06.4402328+03:00 0HL7MQJOHD61E [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:08:06.4667509+03:00 0HL7MQJOHD61E [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050740861740.0311415497554981\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:08:06.4677508+03:00 0HL7MQJOHD61E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:08:06.4697525+03:00 0HL7MQJOHD61E [INF] Request finished in 66.5971ms 302  (15c52c40)
2017-09-10T23:08:10.2572615+03:00 0HL7MQJOHD61F [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:08:10.2612649+03:00 0HL7MQJOHD61F [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:08:10.2612649+03:00 0HL7MQJOHD61F [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:08:10.2627650+03:00 0HL7MQJOHD61F [INF] Request finished in 5.0289ms 200 application/json (15c52c40)
2017-09-10T23:08:10.4548918+03:00 0HL7MQJOHD61G [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   (e5be5b71)
2017-09-10T23:08:10.4553923+03:00 0HL7MQJOHD61G [INF] Request finished in 0.9832ms 204  (15c52c40)
2017-09-10T23:08:10.5204350+03:00 0HL7MQJOHD61H [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo application/json  (e5be5b71)
2017-09-10T23:08:10.5239371+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:08:10.5239371+03:00 0HL7MQJOHD61H [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo" (f7642de5)
2017-09-10T23:08:10.5239371+03:00 0HL7MQJOHD61H [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-09-10T23:08:10.5499544+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:08:10.5519565+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:10.5529564+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:08:10.5549581+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:08:10.5564593+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:08:10.5604623+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:08:10.5639637+03:00 0HL7MQJOHD61H [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:08:10.5639637+03:00 0HL7MQJOHD61H [INF] Profile service returned to the following claim types: "sub name preferred_username given_name role role email" (a9217bec)
2017-09-10T23:08:10.5649655+03:00 0HL7MQJOHD61H [INF] Request finished in 44.4602ms 200 application/json (15c52c40)
2017-09-10T23:13:07.9637468+03:00 0HL7MQJOHD61I [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.48542617388697451505074387932&state=15050743879320.5778527107868354   (e5be5b71)
2017-09-10T23:13:08.3729835+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:13:08.3734833+03:00 0HL7MQJOHD61I [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:13:08.3734833+03:00 0HL7MQJOHD61I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:08.3739834+03:00 0HL7MQJOHD61I [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:13:08.3744843+03:00 0HL7MQJOHD61I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:08.3749844+03:00 0HL7MQJOHD61I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:08.3754850+03:00 0HL7MQJOHD61I [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050743879320.5778527107868354\",
  \"Nonce\": \"N0.48542617388697451505074387932\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.48542617388697451505074387932\",
    \"state\": \"15050743879320.5778527107868354\"
  }
}" (9a175e33)
2017-09-10T23:13:08.4265188+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (47ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:13:08.4465320+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:13:08.4505343+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:13:08.4565387+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:13:08.4645444+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:13:08.4665449+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:13:08.4705475+03:00 0HL7MQJOHD61I [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:13:08.4920624+03:00 0HL7MQJOHD61I [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050743879320.5778527107868354\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:13:08.4930634+03:00 0HL7MQJOHD61I [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:08.4945638+03:00 0HL7MQJOHD61I [INF] Request finished in 530.5288ms 302  (15c52c40)
2017-09-10T23:13:11.1612701+03:00 0HL7MQJOHD61J [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.8518354655504651505074391025&state=15050743910250.5529186412781695   (e5be5b71)
2017-09-10T23:13:11.1642729+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:13:11.1662738+03:00 0HL7MQJOHD61J [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:13:11.1662738+03:00 0HL7MQJOHD61J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:11.1672745+03:00 0HL7MQJOHD61J [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:13:11.1682752+03:00 0HL7MQJOHD61J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:11.1702761+03:00 0HL7MQJOHD61J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:11.1702761+03:00 0HL7MQJOHD61J [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050743910250.5529186412781695\",
  \"Nonce\": \"N0.8518354655504651505074391025\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.8518354655504651505074391025\",
    \"state\": \"15050743910250.5529186412781695\"
  }
}" (9a175e33)
2017-09-10T23:13:11.1752798+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:13:11.1892887+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:13:11.1972944+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:13:11.2012966+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:13:11.2053001+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:13:11.2103026+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:13:11.2133046+03:00 0HL7MQJOHD61J [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:13:11.2383287+03:00 0HL7MQJOHD61J [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050743910250.5529186412781695\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:13:11.2393289+03:00 0HL7MQJOHD61J [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:13:11.2403296+03:00 0HL7MQJOHD61J [INF] Request finished in 80.0968ms 302  (15c52c40)
2017-09-10T23:13:15.0545442+03:00 0HL7MQJOHD61K [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:13:15.0575458+03:00 0HL7MQJOHD61K [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:13:15.0575458+03:00 0HL7MQJOHD61K [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:13:15.0600477+03:00 0HL7MQJOHD61K [INF] Request finished in 4.32ms 200 application/json (15c52c40)
2017-09-10T23:18:13.9810782+03:00 0HL7MQJOHD61L [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.935638278977471505074693920&state=15050746939200.36704516401816445   (e5be5b71)
2017-09-10T23:18:13.9835800+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:18:13.9840810+03:00 0HL7MQJOHD61L [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:18:13.9845807+03:00 0HL7MQJOHD61L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:18:13.9845807+03:00 0HL7MQJOHD61L [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:18:13.9850812+03:00 0HL7MQJOHD61L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:18:13.9855826+03:00 0HL7MQJOHD61L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:18:13.9860823+03:00 0HL7MQJOHD61L [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050746939200.36704516401816445\",
  \"Nonce\": \"N0.935638278977471505074693920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.935638278977471505074693920\",
    \"state\": \"15050746939200.36704516401816445\"
  }
}" (9a175e33)
2017-09-10T23:18:13.9925876+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:18:14.0035929+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:18:14.0060948+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:18:14.0095969+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:18:14.0120995+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:18:14.0136003+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:18:14.0181027+03:00 0HL7MQJOHD61L [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:18:14.0361158+03:00 0HL7MQJOHD61L [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050746939200.36704516401816445\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:18:14.0366152+03:00 0HL7MQJOHD61L [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:18:14.0376166+03:00 0HL7MQJOHD61L [INF] Request finished in 56.8538ms 302  (15c52c40)
2017-09-10T23:18:18.3108181+03:00 0HL7MQJOHD61M [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:18:18.3138197+03:00 0HL7MQJOHD61M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:18:18.3138197+03:00 0HL7MQJOHD61M [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:18:18.3148203+03:00 0HL7MQJOHD61M [INF] Request finished in 4.0377ms 200 application/json (15c52c40)
2017-09-10T23:23:17.9635624+03:00 0HL7MQJOHD61N [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.76798396400849111505074997921&state=15050749979210.2268247428409378   (e5be5b71)
2017-09-10T23:23:17.9670650+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:23:17.9730681+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:23:17.9820741+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:23:17.9850883+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:23:17.9885924+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:23:17.9940959+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:23:17.9945972+03:00 0HL7MQJOHD61N [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:23:17.9950969+03:00 0HL7MQJOHD61N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:23:17.9955975+03:00 0HL7MQJOHD61N [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:23:17.9960972+03:00 0HL7MQJOHD61N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:23:17.9965977+03:00 0HL7MQJOHD61N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:23:17.9965977+03:00 0HL7MQJOHD61N [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050749979210.2268247428409378\",
  \"Nonce\": \"N0.76798396400849111505074997921\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.76798396400849111505074997921\",
    \"state\": \"15050749979210.2268247428409378\"
  }
}" (9a175e33)
2017-09-10T23:23:18.0061042+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:23:18.0106082+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:23:18.0121078+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:23:18.0136102+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:23:18.0161109+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:23:18.0211142+03:00 0HL7MQJOHD61N [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:23:18.0461300+03:00 0HL7MQJOHD61N [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050749979210.2268247428409378\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:23:18.0466313+03:00 0HL7MQJOHD61N [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:23:18.0476315+03:00 0HL7MQJOHD61N [INF] Request finished in 84.2277ms 302  (15c52c40)
2017-09-10T23:23:22.8120416+03:00 0HL7MQJOHD61O [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:23:22.8145422+03:00 0HL7MQJOHD61O [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:23:22.8150432+03:00 0HL7MQJOHD61O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:23:22.8160430+03:00 0HL7MQJOHD61O [INF] Request finished in 3.9343ms 200 application/json (15c52c40)
2017-09-10T23:28:21.9804786+03:00 0HL7MQJOHD61P [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.49832200743114941505075301922&state=15050753019220.7680352350250601   (e5be5b71)
2017-09-10T23:28:22.2379817+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:28:22.2384818+03:00 0HL7MQJOHD61P [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:28:22.2389827+03:00 0HL7MQJOHD61P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:22.2389827+03:00 0HL7MQJOHD61P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:28:22.2394829+03:00 0HL7MQJOHD61P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:22.2399834+03:00 0HL7MQJOHD61P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:22.2399834+03:00 0HL7MQJOHD61P [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050753019220.7680352350250601\",
  \"Nonce\": \"N0.49832200743114941505075301922\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.49832200743114941505075301922\",
    \"state\": \"15050753019220.7680352350250601\"
  }
}" (9a175e33)
2017-09-10T23:28:22.2849205+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (39ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:28:22.3064353+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:28:22.3144402+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:28:22.3179423+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:28:22.3219458+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:28:22.3259484+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:28:22.3314519+03:00 0HL7MQJOHD61P [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:28:22.3494638+03:00 0HL7MQJOHD61P [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050753019220.7680352350250601\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:28:22.3499639+03:00 0HL7MQJOHD61P [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:22.3509650+03:00 0HL7MQJOHD61P [INF] Request finished in 370.4789ms 302  (15c52c40)
2017-09-10T23:28:25.1377934+03:00 0HL7MQJOHD61Q [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.4545475638243911505075305017&state=15050753050170.4037582025705675   (e5be5b71)
2017-09-10T23:28:25.1432969+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:28:25.1442971+03:00 0HL7MQJOHD61Q [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:28:25.1442971+03:00 0HL7MQJOHD61Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:25.1447977+03:00 0HL7MQJOHD61Q [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:28:25.1452978+03:00 0HL7MQJOHD61Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:25.1462993+03:00 0HL7MQJOHD61Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:25.1467990+03:00 0HL7MQJOHD61Q [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050753050170.4037582025705675\",
  \"Nonce\": \"N0.4545475638243911505075305017\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.4545475638243911505075305017\",
    \"state\": \"15050753050170.4037582025705675\"
  }
}" (9a175e33)
2017-09-10T23:28:25.1498014+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:28:25.1638103+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:28:25.1663121+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:28:25.1688136+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:28:25.1713150+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:28:25.1738165+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:28:25.1783201+03:00 0HL7MQJOHD61Q [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:28:25.2048374+03:00 0HL7MQJOHD61Q [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050753050170.4037582025705675\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:28:25.2068388+03:00 0HL7MQJOHD61Q [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:28:25.2113427+03:00 0HL7MQJOHD61Q [INF] Request finished in 70.5911ms 302  (15c52c40)
2017-09-10T23:28:28.1798082+03:00 0HL7MQJOHD61R [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:28:28.1828134+03:00 0HL7MQJOHD61R [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:28:28.1828134+03:00 0HL7MQJOHD61R [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:28:28.1838109+03:00 0HL7MQJOHD61R [INF] Request finished in 4.2718ms 200 application/json (15c52c40)
2017-09-10T23:33:26.9669639+03:00 0HL7MQJOHD61S [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.16795917757138381505075606920&state=15050756069200.15066985796825372   (e5be5b71)
2017-09-10T23:33:26.9709673+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:33:26.9719692+03:00 0HL7MQJOHD61S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:33:26.9729699+03:00 0HL7MQJOHD61S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:33:26.9729699+03:00 0HL7MQJOHD61S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:33:26.9739697+03:00 0HL7MQJOHD61S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:33:26.9759726+03:00 0HL7MQJOHD61S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:33:26.9759726+03:00 0HL7MQJOHD61S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050756069200.15066985796825372\",
  \"Nonce\": \"N0.16795917757138381505075606920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.16795917757138381505075606920\",
    \"state\": \"15050756069200.15066985796825372\"
  }
}" (9a175e33)
2017-09-10T23:33:26.9819786+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:33:26.9959883+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:33:27.0000730+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:33:27.0030738+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:33:27.0070765+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:33:27.0170831+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:33:27.0240893+03:00 0HL7MQJOHD61S [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:33:27.0451017+03:00 0HL7MQJOHD61S [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050756069200.15066985796825372\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:33:27.0461023+03:00 0HL7MQJOHD61S [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:33:27.0471030+03:00 0HL7MQJOHD61S [INF] Request finished in 80.531ms 302  (15c52c40)
2017-09-10T23:33:31.4486261+03:00 0HL7MQJOHD61T [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:33:31.4516289+03:00 0HL7MQJOHD61T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:33:31.4516289+03:00 0HL7MQJOHD61T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:33:31.4536298+03:00 0HL7MQJOHD61T [INF] Request finished in 4.0898ms 200 application/json (15c52c40)
2017-09-10T23:34:20.6299336+03:00 0HL7MQJOHD61U [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 145 (e5be5b71)
2017-09-10T23:34:20.6339358+03:00 0HL7MQJOHD61U [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:34:20.6339358+03:00 0HL7MQJOHD61U [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.IntrospectionEndpoint" for "/connect/introspect" (f7642de5)
2017-09-10T23:34:20.6579521+03:00 0HL7MQJOHD61U [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:34:20.6589524+03:00 0HL7MQJOHD61U [INF] Success token introspection. Token status: "active", for API name: "fso.Api" (c4bc8338)
2017-09-10T23:34:20.6599535+03:00 0HL7MQJOHD61U [INF] Request finished in 29.6136ms 200 application/json (15c52c40)
2017-09-10T23:38:27.9656084+03:00 0HL7MQJOHD61V [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.57785487775775551505075907920&state=15050759079200.7097333266872226   (e5be5b71)
2017-09-10T23:38:28.3762954+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:38:28.3772956+03:00 0HL7MQJOHD61V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:38:28.3777954+03:00 0HL7MQJOHD61V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:38:28.3777954+03:00 0HL7MQJOHD61V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:38:28.3787968+03:00 0HL7MQJOHD61V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:38:28.3792966+03:00 0HL7MQJOHD61V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:38:28.3797975+03:00 0HL7MQJOHD61V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050759079200.7097333266872226\",
  \"Nonce\": \"N0.57785487775775551505075907920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.57785487775775551505075907920\",
    \"state\": \"15050759079200.7097333266872226\"
  }
}" (9a175e33)
2017-09-10T23:38:28.4308309+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (47ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:38:28.4473416+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:38:28.4523450+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:38:28.4573487+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:38:28.4633519+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:38:28.4693562+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:38:28.4743595+03:00 0HL7MQJOHD61V [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:38:28.4933721+03:00 0HL7MQJOHD61V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050759079200.7097333266872226\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:38:28.4938727+03:00 0HL7MQJOHD61V [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:38:28.4953735+03:00 0HL7MQJOHD61V [INF] Request finished in 529.9285ms 302  (15c52c40)
2017-09-10T23:38:31.8470691+03:00 0HL7MQJOHD620 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:38:31.8615829+03:00 0HL7MQJOHD620 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:38:31.8615829+03:00 0HL7MQJOHD620 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:38:31.8625839+03:00 0HL7MQJOHD620 [INF] Request finished in 15.7232ms 200 application/json (15c52c40)
2017-09-10T23:43:28.9693623+03:00 0HL7MQJOHD621 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.461531347056879151505076208921&state=15050762089210.09639115127076892   (e5be5b71)
2017-09-10T23:43:29.2755403+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:43:29.2765417+03:00 0HL7MQJOHD621 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:43:29.2770419+03:00 0HL7MQJOHD621 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:29.2775420+03:00 0HL7MQJOHD621 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:43:29.2780425+03:00 0HL7MQJOHD621 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:29.2790432+03:00 0HL7MQJOHD621 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:29.2795437+03:00 0HL7MQJOHD621 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050762089210.09639115127076892\",
  \"Nonce\": \"N0.461531347056879151505076208921\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.461531347056879151505076208921\",
    \"state\": \"15050762089210.09639115127076892\"
  }
}" (9a175e33)
2017-09-10T23:43:29.3635868+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (81ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:43:29.3856013+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:43:29.3891023+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:43:29.3951078+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:43:29.4016116+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:43:29.4051133+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:43:29.4111173+03:00 0HL7MQJOHD621 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:43:29.4391358+03:00 0HL7MQJOHD621 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050762089210.09639115127076892\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:43:29.4401388+03:00 0HL7MQJOHD621 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:29.4426383+03:00 0HL7MQJOHD621 [INF] Request finished in 472.3755ms 302  (15c52c40)
2017-09-10T23:43:33.2466225+03:00 0HL7MQJOHD622 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.68959487085171081505076212930&state=15050762129300.2528352526889175   (e5be5b71)
2017-09-10T23:43:33.2496241+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:43:33.2501246+03:00 0HL7MQJOHD622 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:43:33.2506256+03:00 0HL7MQJOHD622 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:33.2506256+03:00 0HL7MQJOHD622 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:43:33.2511257+03:00 0HL7MQJOHD622 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:33.2521260+03:00 0HL7MQJOHD622 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:33.2521260+03:00 0HL7MQJOHD622 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050762129300.2528352526889175\",
  \"Nonce\": \"N0.68959487085171081505076212930\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.68959487085171081505076212930\",
    \"state\": \"15050762129300.2528352526889175\"
  }
}" (9a175e33)
2017-09-10T23:43:33.2581343+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:43:33.2731403+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:43:33.2781432+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:43:33.2816453+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:43:33.2836470+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:43:33.2886511+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:43:33.2931535+03:00 0HL7MQJOHD622 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:43:33.3196709+03:00 0HL7MQJOHD622 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050762129300.2528352526889175\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:43:33.3201710+03:00 0HL7MQJOHD622 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:43:33.3221727+03:00 0HL7MQJOHD622 [INF] Request finished in 75.0066ms 302  (15c52c40)
2017-09-10T23:43:36.7524443+03:00 0HL7MQJOHD623 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:43:36.7549458+03:00 0HL7MQJOHD623 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:43:36.7549458+03:00 0HL7MQJOHD623 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:43:36.7574480+03:00 0HL7MQJOHD623 [INF] Request finished in 3.7997ms 200 application/json (15c52c40)
2017-09-10T23:48:33.9695854+03:00 0HL7MQJOHD624 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.61157327128935621505076513920&state=15050765139200.1505953040956518   (e5be5b71)
2017-09-10T23:48:34.2337035+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:48:34.2347046+03:00 0HL7MQJOHD624 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:48:34.2352047+03:00 0HL7MQJOHD624 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:34.2352047+03:00 0HL7MQJOHD624 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:48:34.2357056+03:00 0HL7MQJOHD624 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:34.2362050+03:00 0HL7MQJOHD624 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:34.2362050+03:00 0HL7MQJOHD624 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050765139200.1505953040956518\",
  \"Nonce\": \"N0.61157327128935621505076513920\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.61157327128935621505076513920\",
    \"state\": \"15050765139200.1505953040956518\"
  }
}" (9a175e33)
2017-09-10T23:48:34.2980392+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (58ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:48:34.4026059+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:48:34.4056071+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:48:34.4141141+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:48:34.4181179+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:48:34.4211176+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:48:34.4341274+03:00 0HL7MQJOHD624 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:48:34.4636455+03:00 0HL7MQJOHD624 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050765139200.1505953040956518\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:48:34.4681491+03:00 0HL7MQJOHD624 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:34.4691498+03:00 0HL7MQJOHD624 [INF] Request finished in 499.952ms 302  (15c52c40)
2017-09-10T23:48:38.3857963+03:00 0HL7MQJOHD625 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.64324420708277821505076518051&state=15050765180510.9238309532191769   (e5be5b71)
2017-09-10T23:48:38.3887983+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:48:38.3898002+03:00 0HL7MQJOHD625 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:48:38.3913002+03:00 0HL7MQJOHD625 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:38.3913002+03:00 0HL7MQJOHD625 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:48:38.3918007+03:00 0HL7MQJOHD625 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:38.3928014+03:00 0HL7MQJOHD625 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:38.3928014+03:00 0HL7MQJOHD625 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050765180510.9238309532191769\",
  \"Nonce\": \"N0.64324420708277821505076518051\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.64324420708277821505076518051\",
    \"state\": \"15050765180510.9238309532191769\"
  }
}" (9a175e33)
2017-09-10T23:48:38.3968032+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:48:38.4113127+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:48:38.4148152+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:48:38.4173170+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:48:38.4193183+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:48:38.4213197+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:48:38.4293250+03:00 0HL7MQJOHD625 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:48:38.4578445+03:00 0HL7MQJOHD625 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050765180510.9238309532191769\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:48:38.4608457+03:00 0HL7MQJOHD625 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:48:38.4628474+03:00 0HL7MQJOHD625 [INF] Request finished in 76.1028ms 302  (15c52c40)
2017-09-10T23:48:42.2848790+03:00 0HL7MQJOHD626 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:48:42.2878806+03:00 0HL7MQJOHD626 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:48:42.2878806+03:00 0HL7MQJOHD626 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:48:42.2893814+03:00 0HL7MQJOHD626 [INF] Request finished in 4.5ms 200 application/json (15c52c40)
2017-09-10T23:53:40.9702359+03:00 0HL7MQJOHD627 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.434790876189810051505076820922&state=15050768209220.8208169103073688   (e5be5b71)
2017-09-10T23:53:41.2335768+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:53:41.2801050+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (42ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:53:41.2876102+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:53:41.2941147+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:53:41.2991180+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:53:41.3026205+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:53:41.3031207+03:00 0HL7MQJOHD627 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:53:41.3041213+03:00 0HL7MQJOHD627 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:53:41.3041213+03:00 0HL7MQJOHD627 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:53:41.3051216+03:00 0HL7MQJOHD627 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:53:41.3086249+03:00 0HL7MQJOHD627 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:53:41.3091266+03:00 0HL7MQJOHD627 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050768209220.8208169103073688\",
  \"Nonce\": \"N0.434790876189810051505076820922\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.434790876189810051505076820922\",
    \"state\": \"15050768209220.8208169103073688\"
  }
}" (9a175e33)
2017-09-10T23:53:41.3201315+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:53:41.3216327+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:53:41.3266364+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:53:41.3296380+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:53:41.3321395+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:53:41.3361422+03:00 0HL7MQJOHD627 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:53:41.3576578+03:00 0HL7MQJOHD627 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050768209220.8208169103073688\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:53:41.3586581+03:00 0HL7MQJOHD627 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:53:41.3596583+03:00 0HL7MQJOHD627 [INF] Request finished in 389.598ms 302  (15c52c40)
2017-09-10T23:53:47.6016281+03:00 0HL7MQJOHD628 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:53:47.6046300+03:00 0HL7MQJOHD628 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:53:47.6046300+03:00 0HL7MQJOHD628 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:53:47.6051310+03:00 0HL7MQJOHD628 [INF] Request finished in 4.0464ms 200 application/json (15c52c40)
2017-09-10T23:58:43.9565669+03:00 0HL7MQJOHD629 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?response_type=id_token%20token&client_id=fso.AngularClient&redirect_uri=http://localhost:65271&scope=openid%20email%20profile%20fso.Api&nonce=N0.91818958056164331505077123921&state=15050771239210.1046402461150453   (e5be5b71)
2017-09-10T23:58:43.9610701+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:58:43.9620691+03:00 0HL7MQJOHD629 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "Identity.Application". (bdba1d38)
2017-09-10T23:58:43.9625701+03:00 0HL7MQJOHD629 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:58:43.9625701+03:00 0HL7MQJOHD629 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-09-10T23:58:43.9640713+03:00 0HL7MQJOHD629 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:58:43.9645714+03:00 0HL7MQJOHD629 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:58:43.9645714+03:00 0HL7MQJOHD629 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"fso.AngularClient\",
  \"ClientName\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"AllowedRedirectUris\": [
    \"http://localhost:65271\",
    \"http://localhost:65271/auth/firstlogin\"
  ],
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid email profile fso.Api\",
  \"State\": \"15050771239210.1046402461150453\",
  \"Nonce\": \"N0.91818958056164331505077123921\",
  \"SessionId\": \"fccf82d7f42e976f6b4089db3332c03d\",
  \"Raw\": {
    \"response_type\": \"id_token token\",
    \"client_id\": \"fso.AngularClient\",
    \"redirect_uri\": \"http://localhost:65271\",
    \"scope\": \"openid email profile fso.Api\",
    \"nonce\": \"N0.91818958056164331505077123921\",
    \"state\": \"15050771239210.1046402461150453\"
  }
}" (9a175e33)
2017-09-10T23:58:43.9790804+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Active], [e].[BirthDate], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[Locale], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[Name], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[PictureUrl], [e].[ProfilePageUrl], [e].[RegisterTime], [e].[SecurityStamp], [e].[Status], [e].[Surname], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0 (6438bdd5)
2017-09-10T23:58:43.9970927+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:58:44.0015959+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 (6438bdd5)
2017-09-10T23:58:44.0060987+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 (6438bdd5)
2017-09-10T23:58:44.0106019+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 (6438bdd5)
2017-09-10T23:58:44.0141040+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 (6438bdd5)
2017-09-10T23:58:44.0176061+03:00 0HL7MQJOHD629 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0 (6438bdd5)
2017-09-10T23:58:44.0386212+03:00 0HL7MQJOHD629 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"3c7cca64-00cd-49cc-9407-3128eae83098\",
  \"ClientId\": \"fso.AngularClient\",
  \"RedirectUri\": \"http://localhost:65271\",
  \"State\": \"15050771239210.1046402461150453\",
  \"Scope\": \"openid email profile fso.Api\"
}" (5993a9fa)
2017-09-10T23:58:44.0401216+03:00 0HL7MQJOHD629 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-09-10T23:58:44.0416224+03:00 0HL7MQJOHD629 [INF] Request finished in 86.2421ms 302  (15c52c40)
2017-09-10T23:58:48.3517095+03:00 0HL7MQJOHD62A [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-09-10T23:58:48.3572141+03:00 0HL7MQJOHD62A [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory'); (6438bdd5)
2017-09-10T23:58:48.3577127+03:00 0HL7MQJOHD62A [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-09-10T23:58:48.3647177+03:00 0HL7MQJOHD62A [INF] Request finished in 8.4809ms 200 application/json (15c52c40)
